import{u as U,r as t,j as e,S as Q,a as M,Z as we,c as ve,F as ye,f as Ne,T as me,X as ke,L as Ce,b as De,M as Se,m as $,d as Pe,e as Ae,g as Fe,h as Re,A as Me,C as Le,i as He,k as Ve,U as ue,l as ne,_ as ze,p as pe,H as Be,R as Ee,n as I,o as Ze,q as Ie}from"./vendor-HFrAQulW.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const N of c.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&a(N)}).observe(document,{childList:!0,subtree:!0});function m(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=m(n);fetch(n.href,c)}})();const ge="/Oldage--Home-Management/assets/bg-BYohL4km.png",ie=({isDoctor:s})=>{const l=U(),[m,a]=t.useState(!1),[n,c]=t.useState(!0),[N,x]=t.useState(""),[b,d]=t.useState(""),[u,f]=t.useState(!1),h=()=>{n&&(s?(d("New patient: Aashish"),x("Suspected condition: Influenza")):(d("Diagnosis Done"),x("Patient Naga Sai's diagnosis is complete")),a(!0),c(!1),setTimeout(()=>a(!1),5e3))},r=()=>{l("/")};return e.jsxs("div",{className:"relative flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7eef4] px-10 py-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{className:"flex items-center text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",onClick:()=>l("/"),children:[e.jsx("img",{src:ge,alt:"logo",className:"h-7 w-7 mr-2"}),"Saanjh Sahayak"]})}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#0d151c]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})}),e.jsxs("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#e7eef4] text-[#0d151c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5 relative",onClick:h,children:[e.jsx("div",{className:"text-[#0d151c]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})}),n&&e.jsx("div",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]})]}),e.jsx("div",{className:"flex items-center justify-center gap-2",children:e.jsx("div",{className:"text-[#0d151c] font-medium text-sm leading-normal",children:s?"Doctor":"Care taker"})}),e.jsxs("div",{className:"relative",onClick:()=>f(!u),children:[e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/62891830-57f4-4b6d-ab96-97aa59242b87.png")'}}),u&&e.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:"10px"},children:e.jsx("button",{onClick:r,className:"logout-button",style:{backgroundColor:"gray",padding:"5px 10px",borderRadius:"5px"},children:"Logout"})})]})]}),m&&e.jsxs("div",{className:"absolute top-16 right-10 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:N})]})]})};function Oe(){const[s,l]=t.useState(""),m=U(),[a,n]=t.useState({firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),c=d=>{const{name:u,value:f}=d.target;n(h=>({...h,[u]:f}))},N=()=>{s.trim()!==""&&(n(d=>({...d,chronics:[...d.chronics,s.trim()]})),l(""))},x=d=>{n(u=>({...u,chronics:u.chronics.filter((f,h)=>h!==d)}))},b=async d=>{if(d.preventDefault(),console.log("Form submitted:",a),!a.firstName||!a.lastName||!a.dateOfBirth||!a.gender||!a.bloodGroup||!a.phoneNumber){Q.fire({icon:"warning",title:"Incomplete Data",text:"Please fill in all the required fields before submitting!"});return}const u={...a,dateOfBirth:a.dateOfBirth?new Date(a.dateOfBirth).toISOString():null},f=await M.post("https://saanjh-sahayak-backend.vercel.app/en/setPatient",u);console.log(f.data.data),n({firstName:"",lastName:"",dateOfBirth:null,gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),Q.fire({icon:"success",title:"success",text:"Data added successfully!"}),m(-1)};return e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[e.jsx(ie,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center px-4 py-12",children:e.jsx("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-3xl overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:flex-shrink-0 bg-blue-600 md:w-48 flex items-center justify-center",children:e.jsx("svg",{className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{className:"p-8 md:flex-grow",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Add a New Patient"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please enter the patient's details below"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{required:!0,type:"text",name:"firstName",value:a.firstName,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:a.lastName,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Last name"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:a.dateOfBirth,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{name:"gender",value:a.gender,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),e.jsx("input",{type:"text",name:"bloodGroup",value:a.bloodGroup,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Blood group"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:a.phoneNumber,onChange:c,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Chronic Conditions"}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("input",{type:"text",value:s,onChange:d=>l(d.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300",placeholder:"Enter a chronic condition"}),e.jsx("button",{type:"button",onClick:N,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"Add"})]}),e.jsx("div",{className:"mt-2 space-y-2",children:a.chronics.map((d,u)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[e.jsx("span",{children:d}),e.jsx("button",{type:"button",onClick:()=>x(u),className:"text-red-500 hover:text-red-700",children:"Remove"})]},u))})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>m(-1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Patient"})]})]})]})]})})})]})}function fe(...s){return s.filter(Boolean).join(" ")}function $e(s){function l(){s.setEditPatients(!s.editPatients),s.setDeletePatients(!1),console.log("edit d",s.editPatients),console.log("delete d",s.deletePatients)}function m(){s.setDeletePatients(!s.deletePatients),s.setEditPatients(!1),console.log("edit d",s.editPatients),console.log("delete d",s.deletePatients)}const a=U();return e.jsxs(we,{as:"div",className:"relative inline-block text-left",children:[e.jsx("div",{children:e.jsxs(ve,{className:"inline-flex w-full justify-center gap-x-1.5 rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:["Manage patients",e.jsx(ye,{className:"-mr-1 h-5 w-5 text-gray-400","aria-hidden":"true"})]})}),e.jsx(Ne,{transition:!0,className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 transition focus:outline-none data-[closed]:scale-95 data-[closed]:transform data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75 data-[enter]:ease-out data-[leave]:ease-in",children:e.jsxs("div",{className:"py-1",children:[e.jsx(me,{children:({focus:n})=>e.jsx("a",{onClick:()=>a("/form"),className:fe(n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Add Patient"})}),e.jsx(me,{children:({focus:n})=>e.jsx("a",{onClick:l,className:fe(n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Edit Patient"})}),e.jsx(me,{children:({focus:n})=>e.jsx("a",{onClick:m,className:fe(n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:"Remove Patient"})})]})})]})}function Ue(s){const[l,m]=t.useState(!1),[a,n]=t.useState(!1),c=U(),[N,x]=t.useState([]),[b,d]=t.useState([]),[u,f]=t.useState(s.isDoctor),[h,r]=t.useState(!0),[w,P]=t.useState(!0),[v,S]=t.useState(""),A=i=>{const j=new Date,D=new Date(i);let V=j.getFullYear()-D.getFullYear();const G=j.getMonth()-D.getMonth();return(G<0||G===0&&j.getDate()<D.getDate())&&V--,V};async function B(){try{const i=await M.get("https://saanjh-sahayak-backend.vercel.app/en/getpatients");x(i.data),s.setNoofPatients(i.data.length),s.setAverageAge(Math.round(i.data.reduce((j,D)=>j+A(D.DOB),0)/i.data.length)),console.log("Average age:"+i.data.reduce((j,D)=>j+A(D.DOB),0)/i.data.length)}catch(i){console.error("Error fetching patients:",i)}}async function k(){try{const i=await M.get("https://saanjh-sahayak-backend.vercel.app/en/getreports");d(i.data)}catch(i){console.error("Error fetching reports:",i)}}t.useEffect(()=>{B(),k()},[]);const C=i=>{const j=new Date(i),D=String(j.getDate()).padStart(2,"0"),V=String(j.getMonth()+1).padStart(2,"0"),G=j.getFullYear();return`${D}/${V}/${G}`},L=(i,j)=>async()=>{try{const D=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/getpatient/${j}`);c(s.isDoctor?"/doctoranalysis":"/caretakeranalysis",{state:{id:i,pid:j,isDoctor:s.isDoctor,patientData:D.data}})}catch(D){console.error("Error in handlePatient:",D)}},H=i=>new Promise(j=>setTimeout(j,i)),E=i=>async()=>{try{const j=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/getpatient/${i}`);if(l&&!a)c("/edit",{state:{patientData:j.data}});else if(!l&&!a)c("/patient",{state:{id:i}});else{console.log("Deleting patient...");const D=i;try{const V=await M.post("https://saanjh-sahayak-backend.vercel.app/en/removepatient",{patientID:D});Q.fire({icon:"success",title:"Patient Deleted",text:"Patient and related data have been successfully deleted!"}),await H(2e3),c(0),console.log(V.data)}catch(V){console.error("Error removing patient:",V.response?V.response.data:V.message),Q.fire({icon:"error",title:"Error",text:`Failed to remove patient: ${V.response?V.response.data:V.message}`})}}}catch(j){console.error("Error in handleModify:",j),Q.fire({icon:"error",title:"Error",text:`Failed to fetch patient data: ${j.message}`})}},z=N.filter(i=>i.name.toLowerCase().includes(v.toLowerCase()));N.filter(i=>i.name.toLowerCase().includes(v.toLowerCase()));const X=w?b.filter(i=>i.isVerified&&i.patient.toLowerCase().includes(v.toLowerCase())):b.filter(i=>!i.isVerified&&i.patient.toLowerCase().includes(v.toLowerCase()));return e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1 bg-[#f8fafb]",children:[e.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>r(!0),className:`text-lg font-semibold px-4 py-2 focus:outline-none transition-all duration-300 ${h?"text-[#0e141b] border-b-2 border-[#0e141b]":"text-[#4f7396] hover:text-[#0e141b]"}`,children:"Patients"}),e.jsx("button",{onClick:()=>r(!1),className:`text-lg font-semibold px-4 py-2 focus:outline-none transition-all duration-300 ${h?"text-[#4f7396] hover:text-[#0e141b]":"text-[#0e141b] border-b-2 border-[#0e141b]"}`,children:"Reports"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[!h&&e.jsx("button",{onClick:()=>P(!w),className:"px-4 py-2 bg-[#e8edf3] text-[#4f7396] rounded-md transition-all duration-300 hover:bg-[#d1d8e0] focus:outline-none focus:ring-2 focus:ring-[#4f7396] focus:ring-opacity-50",children:w?"Show Unverified":"Show Verified"}),e.jsx("div",{className:`${u?"hidden":"flex"}`,children:e.jsx($e,{editPatients:l,setEditPatients:m,deletePatients:a,setDeletePatients:n})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{placeholder:h?"Search patients":"Search reports",className:"w-full px-4 py-2 pl-10 pr-4 text-[#0e141b] bg-[#e8edf3] border border-[#e8edf3] rounded-xl focus:outline-none focus:ring-2 focus:ring-[#4f7396] focus:border-transparent",value:v,onChange:i=>S(i.target.value)}),e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("svg",{className:"w-5 h-5 text-[#4f7396]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),e.jsx("div",{className:"flex-grow p-4",children:h?z.map((i,j)=>e.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 mb-3 transition-all duration-300 ease-in-out hover:bg-[#e8edf3] cursor-pointer rounded-xl",onClick:E(i._id),children:[e.jsx("div",{className:"bg-[#e8edf3] text-[#4f7396] font-bold rounded-full h-14 w-14 flex items-center justify-center",children:i.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex flex-col justify-center flex-grow",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:i.name}),e.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Age: ",A(i.DOB),", Gender: ",i.gender]})]}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 text-[#4f7396] ${l?"block":"hidden"}`,children:e.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712zM16.708 7.292l-10 10a4.125 4.125 0 0 0-1.088 1.864l-.579 2.314a.75.75 0 0 0 .91.91l2.314-.579a4.125 4.125 0 0 0 1.864-1.088l10-10-3.712-3.712z"})}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-6 h-6 text-[#f54748] ${a?"block":"hidden"}`,children:e.jsx("path",{fillRule:"evenodd",d:"M5.5 5.25a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 0 1.5H18v13a2.75 2.75 0 0 1-2.75 2.75H8.75A2.75 2.75 0 0 1 6 18.75V5.25h-.25a.75.75 0 0 1-.75-.75zm3 3.75a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75zm0 4.5a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75zm0 4.5a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1-.75-.75z",clipRule:"evenodd"})})]},j)):X.map((i,j)=>e.jsxs("div",{className:"flex items-center gap-4 bg-[#f8fafb] px-4 min-h-[72px] py-2 mb-3 transition-all duration-300 ease-in-out hover:bg-[#e8edf3] cursor-pointer rounded-xl",onClick:L(i._id,i.patientId),children:[e.jsx("div",{className:"bg-[#e8edf3] text-[#4f7396] font-bold rounded-full h-14 w-14 flex items-center justify-center",children:"R"}),e.jsxs("div",{className:"flex flex-col justify-center flex-grow",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal line-clamp-1",children:i.specialistReq}),e.jsxs("p",{className:"text-[#4f7396] text-sm font-normal leading-normal line-clamp-2",children:["Patient: ",i.patient,", Date: ",C(i.dateOfReport)]})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${i.isVerified?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:i.isVerified?"Verified":"Unverified"})]},j))})]})}function Te(s){return e.jsxs("div",{className:"layout-content-container flex flex-col w-[360px]",children:[e.jsx("h3",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analytics"}),e.jsxs("div",{className:"flex flex-wrap gap-4 p-4",children:[e.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Total Patients"}),e.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:s.noofPatients}),e.jsx("p",{className:"text-[#078838] text-base font-medium leading-normal",children:s.patientPercentage})]}),e.jsxs("div",{className:"flex min-w-[158px] flex-1 flex-col gap-2 rounded-xl p-6 border border-[#d0dbe6]",children:[e.jsx("p",{className:"text-[#0e141b] text-base font-medium leading-normal",children:"Average Age"}),e.jsx("p",{className:"text-[#0e141b] tracking-light text-2xl font-bold leading-tight",children:s.averageAge}),e.jsx("p",{className:"text-[#e73908] text-base font-medium leading-normal",children:s.agePercentage})]})]})]})}const be=()=>{const[s,l]=t.useState([]),[m,a]=t.useState(""),[n,c]=t.useState(!1),[N,x]=t.useState(!1),b=t.useRef(null),d=()=>{var h;(h=b.current)==null||h.scrollIntoView({behavior:"smooth"})};t.useEffect(d,[s]);const u=async h=>{if(h.preventDefault(),!m.trim())return;const r={text:m,sender:"user"};l(v=>[...v,r]),a(""),c(!0),await new Promise(v=>setTimeout(v,1e3));const w=await M.post("https://saanjh-sahayak-backend.vercel.app/en/chatbot",{input:m});console.log(w.data);let P;P={text:w.data,sender:"bot"},l(v=>[...v,P]),c(!1)},f=()=>{x(!N)};return e.jsx(e.Fragment,{children:N?e.jsxs("div",{className:"fixed bottom-4 right-4 flex flex-col h-[500px] w-[350px] border border-gray-300 rounded-lg overflow-hidden shadow-lg bg-white",children:[e.jsxs("div",{className:"bg-[#e8edf3] text-black p-4 font-bold flex justify-between items-center",children:[e.jsx("span",{children:"Medical Chatbot"}),e.jsx("button",{onClick:f,className:"text-black hover:text-gray-950 focus:outline-none",children:e.jsx(ke,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[s.map((h,r)=>e.jsx("div",{className:`flex ${h.sender==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-[70%] p-3 rounded-lg ${h.sender==="user"?"bg-blue-500 text-white":"bg-gray-200 text-gray-800"}`,children:h.text})},r)),e.jsx("div",{ref:b})]}),e.jsxs("form",{onSubmit:u,className:"p-4 border-t border-gray-300 flex",children:[e.jsx("input",{type:"text",value:m,onChange:h=>a(h.target.value),placeholder:"Type your medical query...",className:"flex-1 p-2 border border-gray-300 rounded-l-md focus:outline-none focus:border-blue-500"}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white p-2 rounded-r-md hover:bg-blue-700 focus:outline-none",disabled:n,children:n?e.jsx(Ce,{className:"animate-spin"}):e.jsx(De,{})})]})]}):e.jsx("button",{onClick:f,className:"fixed bottom-4 right-4 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 focus:outline-none",children:e.jsx(Se,{size:24})})})};function Ge(s){const[l,m]=t.useState(0),[a,n]=t.useState(0),[c,N]=t.useState();return U(),t.useEffect(()=>{N(s.isDoctor),console.log("is doctor",c)},[]),e.jsxs("div",{className:"relative flex size-full min-h-screen flex-col bg-[#f8fafb] group/design-root overflow-x-hidden",style:{fontFamily:'Inter, "Noto Sans", sans-serif'},children:[e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsx(ie,{isDoctor:c}),e.jsxs("div",{className:"gap-1 px-6 flex flex-1 justify-center py-5",children:[e.jsx(Ue,{isDoctor:c,setNoofPatients:m,noofPatients:l,setAverageAge:n}),e.jsx(Te,{noofPatients:l,patientPercentage:"+5%",averageAge:a,agePercentage:"-2%"})]})]}),e.jsx(be,{})]})}const We=()=>{const s=t.useRef(null),l=()=>{s.current.scrollIntoView({behavior:"smooth"})};let m=U();return e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-[#F9FAFA] group/design-root overflow-x-hidden",children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEFF2] px-10 py-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("button",{className:"flex items-center text-[#0d151c] text-lg font-bold leading-tight tracking-[-0.015em]",onClick:()=>m("/"),children:[e.jsx("img",{src:ge,alt:"logo",className:"h-7 w-7 mr-2"}),"Saanjh Sahayak"]})}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsx("div",{className:"flex items-center gap-9",children:e.jsx("a",{className:"text-[#1C1D22] text-sm font-medium leading-normal cursor-pointer",onClick:l,children:"Features"})}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 px-4 bg-[#607AFB] text-[#F9FAFA] text-sm font-bold leading-normal tracking-[0.015em]",onClick:()=>m("/signin"),children:e.jsx("span",{className:"truncate",children:"Login"})})})]})]}),e.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsx("div",{className:"@container",children:e.jsx("div",{className:"@[480px]:p-4",children:e.jsxs("div",{className:"flex min-h-[480px] flex-col gap-6 bg-cover bg-center bg-no-repeat @[480px]:gap-8 @[480px]:rounded-xl items-start justify-end px-4 pb-10 @[480px]:px-10",style:{backgroundImage:'linear-gradient(rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%), url("https://cdn.usegalileo.ai/sdxl10/d0342d60-6ca8-4000-abde-e44f0d824c83.png")'},children:[e.jsxs("div",{className:"flex flex-col gap-2 text-left",children:[e.jsx("h1",{className:"text-white text-4xl font-black leading-tight tracking-[-0.033em] @[480px]:text-5xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em]",children:"Saanjh Sahayak, better care for our elders"}),e.jsx("h2",{className:"text-white text-sm font-normal leading-normal @[480px]:text-base @[480px]:font-normal @[480px]:leading-normal",children:"We are here to provide comprehensive and compassionate care to the elderly in old age homes."})]}),e.jsx("label",{className:"flex flex-col min-w-40 h-14 w-full max-w-[480px] @[480px]:h-16"})]})})}),e.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",ref:s,children:[e.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Caretakers"}),e.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Upload and Monitor Patient Reports"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily upload and monitor patient reports. Our system is designed to handle a variety of formats, ensuring a seamless experience."})]})]}),e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"Notification","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M216,128v80a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V56A16,16,0,0,1,48,40h80a8,8,0,0,1,0,16H48V208H200V128a8,8,0,0,1,16,0Zm16-68a36,36,0,1,1-36-36A36,36,0,0,1,232,60Zm-16,0a20,20,0,1,0-20,20A20,20,0,0,0,216,60Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Receive Alerts and Reminders"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Get instant alerts and reminders for medication, doctor's appointments, and more. Stay on top of your loved one's care."})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-10 px-4 py-10 @container",children:[e.jsx("h1",{className:"text-[#1C1D22] tracking-light text-[32px] font-bold leading-tight @[480px]:text-4xl @[480px]:font-black @[480px]:leading-tight @[480px]:tracking-[-0.033em] max-w-[720px]",children:"For Doctors"}),e.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-0",children:[e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"FirstAid","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M216,88H168V40a16,16,0,0,0-16-16H104A16,16,0,0,0,88,40V88H40a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16H88v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V168h48a16,16,0,0,0,16-16V104A16,16,0,0,0,216,88Zm0,64H160a8,8,0,0,0-8,8v56H104V160a8,8,0,0,0-8-8H40V104H96a8,8,0,0,0,8-8V40h48V96a8,8,0,0,0,8,8h56Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Verify Patient Information"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Quickly and securely verify patient information. Our platform is designed to ensure compliance with privacy and data protection regulations."})]})]}),e.jsxs("div",{className:"flex flex-1 gap-3 rounded-lg border border-[#D5D6DD] bg-[#FFFFFF] p-4 flex-col",children:[e.jsx("div",{className:"text-[#1C1D22]","data-icon":"Translate","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M239.15,212.42l-56-112a8,8,0,0,0-14.31,0l-21.71,43.43A88,88,0,0,1,100,126.93,103.65,103.65,0,0,0,127.69,64H152a8,8,0,0,0,0-16H96V32a8,8,0,0,0-16,0V48H24a8,8,0,0,0,0,16h87.63A87.76,87.76,0,0,1,88,116.35a87.74,87.74,0,0,1-19-31,8,8,0,1,0-15.08,5.34A103.63,103.63,0,0,0,76,127a87.55,87.55,0,0,1-52,17,8,8,0,0,0,0,16,103.46,103.46,0,0,0,64-22.08,104.18,104.18,0,0,0,51.44,21.31l-26.6,53.19a8,8,0,0,0,14.31,7.16L140.94,192h70.11l13.79,27.58A8,8,0,0,0,232,224a8,8,0,0,0,7.15-11.58ZM148.94,176,176,121.89,203.05,176Z"})})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-[#1C1D22] text-base font-bold leading-tight",children:"Analyze with Large Language Model"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Utilize our powerful Large Language Model for in-depth patient analysis. Get insights and recommendations based on the latest medical research."})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 p-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[e.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/fb823941-87a6-47fb-998f-c8224ea8c6db.png")'}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get help from experts"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Our team of geriatricians and nurse practitioners are here to help."})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[e.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/b543c2c9-c73f-4636-8737-59e6d3f7a20e.png")'}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Stay connected"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Easily communicate with our team via video calls, phone calls, or chat."})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 pb-3",children:[e.jsx("div",{className:"w-full bg-center bg-no-repeat aspect-video bg-cover rounded-xl",style:{backgroundImage:'url("https://cdn.usegalileo.ai/sdxl10/8329d0d0-4083-4c19-89c0-de0625991c40.png")'}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[#1C1D22] text-base font-medium leading-normal",children:"Get reminders"}),e.jsx("p",{className:"text-[#3C3F4A] text-sm font-normal leading-normal",children:"Set up medication reminders and get alerts when it's time to take a dose."})]})]})]})]})})]})})},qe=s=>s.isOpen?e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"bg-white rounded-lg shadow-2xl p-8 w-96 max-w-full",children:[e.jsx($.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-20 h-20 mx-auto mb-6",children:e.jsx(Pe,{className:"w-full h-full text-blue-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Processing PDF"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Please wait while we analyze your test report PDF."}),e.jsxs("div",{className:"flex justify-around mb-6",children:[e.jsxs($.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[e.jsx(Ae,{className:"w-8 h-8 text-blue-500 mb-2"}),e.jsx("span",{className:"text-sm",children:"Analyzing"})]}),e.jsxs($.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[e.jsx(Fe,{className:"w-8 h-8 text-yellow-500 mb-2"}),e.jsx("span",{className:"text-sm",children:"Precautions"})]}),e.jsxs($.div,{whileHover:{scale:1.1},className:"flex flex-col items-center",children:[e.jsx(Re,{className:"w-8 h-8 text-green-500 mb-2"}),e.jsx("span",{className:"text-sm",children:"Predictions"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:e.jsx($.div,{className:"bg-blue-600 h-2.5 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:3,repeat:1/0}})})]})}):null,je=s=>{const l=()=>{s.setOpenResult(!1)};return e.jsx(Me,{children:s.openResult&&e.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:e.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-lg shadow-2xl p-8 w-96 max-w-full",children:[e.jsx($.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"w-24 h-24 mx-auto mb-6",children:s.isValid?e.jsx(He,{className:"w-full h-full text-red-500"}):e.jsx(Le,{className:"w-full h-full text-green-500"})}),e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:s.isValid?"Invalid PDF":"Upload Successful!"}),e.jsx("p",{className:"text-gray-600 text-center mb-6",children:s.isValid?"The file you uploaded is not a valid PDF. Please try again with a valid PDF file.":"Your report has been successfully uploaded and processed."}),e.jsx("div",{className:"flex justify-center space-x-4",children:e.jsx($.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-gray-300 text-gray-700 rounded-full shadow-lg hover:bg-gray-400 transition-colors duration-300",onClick:l,children:"Close"})})]})})})};function _e(s){const[l,m]=t.useState(s.id),[a,n]=t.useState();t.useState(""),t.useState(null),t.useState(0),t.useState(null),t.useState(null),t.useState(null);const[c,N]=t.useState(null),[x,b]=t.useState(!1),[d,u]=t.useState(!1),[f,h]=t.useState(null),r=U();async function w(){console.log("patient id is : "+l);const k=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/getpatient/${l}`);console.log(k.data),n(k.data)}async function P(){console.log("hi");const k=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/getdates/${l}`);N(k.data)}t.useEffect(()=>{w(),P()},[l]);const v=k=>{const C=new Date,L=new Date(k);let H=C.getFullYear()-L.getFullYear();const E=C.getMonth()-L.getMonth();return(E<0||E===0&&C.getDate()<L.getDate())&&H--,H},S=()=>{r("/edit",{state:{patientData:a}})},A=async k=>{b(!0);const C=k.target.files[0];if(C){const L=new FileReader;L.onloadend=async()=>{const H=L.result.split(",")[1],E=k.target.value.replace("C:\\fakepath\\","");try{console.log("hi"),(await M.post("https://saanjh-sahayak-backend.vercel.app/en/uploadpdf",{file:H,filename:E,patientId:l,name:a.name})).data.data===!1?(b(!1),h(!0),u(!0)):(b(!1),h(!1),u(!0))}catch(z){console.log("Error uploading details:",z),b(!1),alert("File size too large or other issues.")}},L.readAsDataURL(C)}else console.log("No input file")},B=async k=>{try{s.isDoctor?r("/doctoranalysis",{state:{id:k,pid:l,isDoctor:s.isDoctor,patientData:a}}):r("/caretakeranalysis",{state:{id:k,pid:l,isDoctor:s.isDoctor,patientData:a}})}catch{}};return a&&c&&e.jsxs("div",{className:"px-40 flex flex-1 justify-center py-5",children:[e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsxs("div",{className:"relative flex p-4 @container",children:[e.jsx("div",{className:`absolute top-2 right-2 ${s.isDoctor?"hidden":""}`,children:e.jsx("button",{className:"text-blue-500 hover:text-blue-700",onClick:S,children:e.jsx(Ve,{size:20})})}),e.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-center",children:e.jsxs("div",{className:"flex gap-4 self-start",children:[e.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:e.jsx(ue,{className:"text-gray-500 w-20 h-20"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:a.name}),e.jsxs("p",{className:"text-[#49779c] text-base font-normal leading-normal",children:["Age ",v(a.DOB),", ",a.gender,", Blood type: ",a.bloodGroup]})]})]})})]}),e.jsxs("div",{className:"flex gap-4 bg-slate-50 px-4 py-3",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"User","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"})})}),e.jsxs("div",{className:"flex flex-1 flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal",children:"Patient Information"}),e.jsxs("p",{className:"text-[#49779c] text-sm font-normal leading-normal",children:["Previous test reports: ",a.reportsList.length]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-[#49779c] text-sm font-medium leading-normal mb-2",children:"Known health conditions:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.chronics.map((k,C)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:k},C))})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 px-4 min-h-14 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-10","data-icon":"Phone","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"})})}),e.jsx("p",{className:"text-[#0d151c] text-base font-normal leading-normal flex-1 truncate",children:"Contact Number"})]}),e.jsx("div",{className:"shrink-0",children:e.jsxs("p",{className:"text-[#0d151c] text-base font-normal leading-normal",children:["(+91) ",a.phone]})})]}),e.jsxs("div",{className:"flex justify-between items-center px-4 pb-3 pt-5",children:[e.jsx("h2",{className:"text-[#0d151c] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:"Report History"}),e.jsx("label",{htmlFor:"file-upload",className:`bg-blue-500 text-white px-4 py-2 rounded cursor-pointer ${s.isDoctor?"hidden":""}`,children:"Upload Reports"}),e.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:A})]}),e.jsx("div",{children:c.map((k,C)=>e.jsxs("div",{onClick:()=>{B(k.file)},className:"flex items-center gap-4 bg-slate-50 px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:k.date}),e.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:k.specialistReq})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},C))})]}),x&&e.jsx(qe,{isOpen:x}),d&&e.jsx(je,{openResult:d,setOpenResult:u,isValid:f})]})}function Ye(s){const{state:l}=ne(),{id:m}=l;return e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsx(ie,{patient:!0,isDoctor:s.isDoctor}),e.jsx(_e,{isDoctor:s.isDoctor,id:m})]})})}const Ke=({setIsDoctor:s})=>{const[l,m]=t.useState("Select your role"),a=U(),[n,c]=t.useState(""),[N,x]=t.useState(""),b=u=>{const{name:f,value:h}=u.target;if(f==="email"){const r=h.toLowerCase();c(r)}else f==="password"&&x(h)},d=async()=>{if(n&&N){const u=await M.post("https://saanjh-sahayak-backend.vercel.app/en/login",{email:n,password:N});if(u.data.err){alert("Invaild Email");return}else if(u.data.error){alert("Invaild password");return}else console.log(u.data),m(u.data.id),s(u.data.id==="doctor");l?a("/main"):alert("Please select a role before signing in.")}else{alert("Please Enter Email and password");return}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"flex w-full max-w-4xl h-[80vh] bg-white rounded-xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"w-1/2 p-8 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-6",children:"Welcome to Saanjh Sahayak"}),e.jsx("p",{className:"text-center text-gray-600 mb-8",children:"Please select if you are a doctor or a caretaker."}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("input",{type:"username",className:"login__input custom-input",placeholder:"Email",style:{border:"2px solid #D1D1D4",background:"none",borderRadius:"40px",padding:"10px",paddingLeft:"24px",fontWeight:"700",width:"100%",alignItems:"center",transition:".2s"},name:"email",value:n,onChange:b,required:!0}),e.jsx("input",{type:"password",className:"login__input custom-input",placeholder:"Password",style:{border:"2px solid #D1D1D4",background:"none",borderRadius:"40px",padding:"10px",paddingLeft:"24px",fontWeight:"700",width:"100%",alignItems:"center",transition:".2s"},name:"password",value:N,onChange:b,required:!0,autoComplete:"current-password"}),e.jsx("button",{className:"w-full py-3 rounded-lg transition-all bg-blue-600 hover:bg-blue-700 text-white",onClick:d,children:"Sign in"})]})]}),e.jsxs("div",{className:"w-1/2 bg-gradient-to-br from-blue-400 to-indigo-600 flex flex-col items-center justify-center p-8 relative overflow-hidden",children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-4 z-10",children:"Saanjh Sahayak"}),e.jsx("p",{className:"text-xl text-blue-100 text-center mb-8 z-10",children:"Your Healthcare Companion"}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[e.jsx("div",{className:"absolute w-48 h-48 bg-white opacity-10 rounded-full -top-12 -left-12 animate-pulse"}),e.jsx("div",{className:"absolute w-72 h-72 bg-white opacity-10 rounded-full -bottom-16 -right-16 animate-pulse delay-1000"})]}),e.jsx("svg",{className:"w-32 h-32 text-white animate-float z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})]})]})})},Je=()=>{const[s,l]=t.useState(null),m=a=>{l(a)};return e.jsx("div",{className:"relative flex items-center justify-center min-h-screen bg-slate-50",children:e.jsxs("div",{className:"layout-container flex flex-col max-w-[960px] w-full px-6",children:[e.jsxs("header",{className:"flex items-center justify-between border-b border-solid border-b-[#e7edf3] px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#0e141b]",children:[e.jsx("div",{className:"size-4",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z",fill:"currentColor"})})}),e.jsx("h2",{className:"text-[#0e141b] text-lg font-bold leading-tight tracking-[-0.015em]",children:"HealthCo"})]}),e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to professionals"),children:"For professionals"}),e.jsx("button",{className:"text-[#1980e6] text-sm font-medium leading-normal",onClick:()=>alert("Link to caretakers"),children:"For caretakers"})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[e.jsx("h2",{className:"text-[#0e141b] tracking-light text-[28px] font-bold leading-tight pb-3",children:"Welcome to HealthCo"}),e.jsx("button",{className:"bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg mb-6",onClick:()=>alert("Display user selection"),children:"Select User"}),s===null&&e.jsxs("div",{className:"flex gap-6",children:[e.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>m("doctor"),children:"Doctor"}),e.jsx("button",{className:"flex items-center justify-center bg-[#1980e6] text-slate-50 text-base font-bold leading-normal tracking-[0.015em] py-3 px-8 rounded-lg",onClick:()=>m("caretaker"),children:"Caretaker"})]}),s&&e.jsxs("div",{className:"text-[#0e141b] text-base font-normal leading-normal mt-4",children:["You are signed in as ",e.jsx("strong",{children:s}),"."]})]}),e.jsx("footer",{className:"flex justify-center py-3",children:e.jsx("p",{className:"text-[#4e7397] text-sm font-normal leading-normal",children:"By continuing, you agree to our Terms of Use and Privacy Policy"})})]})})};ze.workerSrc=new URL("/Oldage--Home-Management/assets/pdf.worker.min-DKQKFyKK.js",import.meta.url).toString();function Qe(){const[s,l]=t.useState(""),[m,a]=t.useState(""),[n,c]=t.useState(null);t.useState(null);const N=async x=>{x.preventDefault();const b=new FormData;b.append("title",s),b.append("file",m),console.log(s,m);const d=await M.post("https://saanjh-sahayak-backend.vercel.app/en/uploadpdf",b,{headers:{"Content-Type":"multipart/form-data"}});console.log(d),d.data.status=="ok"&&(alert("Uploaded Successfully!!!"),getPdf())};return e.jsxs("div",{className:"App",children:[e.jsxs("form",{className:"formStyle",onSubmit:N,children:[e.jsx("h4",{children:"Upload Pdf in React"}),e.jsx("br",{}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Title",required:!0,onChange:x=>l(x.target.value)}),e.jsx("br",{}),e.jsx("input",{type:"file",class:"form-control",accept:"application/pdf",required:!0,onChange:x=>a(x.target.files[0])}),e.jsx("br",{}),e.jsx("button",{class:"btn btn-primary",type:"submit",children:"Submit"})]}),e.jsxs("div",{className:"uploaded",children:[e.jsx("h4",{children:"Uploaded PDF:"}),e.jsx("div",{className:"output-div",children:n==null?"":n.map(x=>e.jsxs("div",{className:"inner-div",children:[e.jsxs("h6",{children:["Title: ",x.title]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>showPdf(x.pdf),children:"Show Pdf"})]}))})]})]})}function Xe(){const{state:s}=ne(),{url:l}=s,[m,a]=t.useState(!1),[n,c]=t.useState(null),[N,x]=t.useState(1),b=t.useRef(null),d=t.useRef(null),u=t.useRef(null);t.useEffect(()=>{console.log(l),(async()=>{try{const S=await fetch(l).then(B=>B.arrayBuffer()),A=await pe.getDocument({data:S}).promise;c(A),h(A,1,b.current,1)}catch(S){console.error("Error loading PDF:",S)}})()},[l]),t.useEffect(()=>{const v=()=>{u.current&&m&&n&&f()};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[m,n]);const f=async()=>{if(!n||!u.current)return;const S=(await n.getPage(1)).getViewport({scale:1}),A=u.current.clientWidth,B=u.current.clientHeight,k=A/S.width,C=B/S.height,L=Math.min(k,C)*2;x(L),r(L)},h=async(v,S,A,B)=>{const k=await v.getPage(S),C=k.getViewport({scale:B});A.height=C.height*2,A.width=C.width*2;const L=A.getContext("2d");L.scale(2,2),await k.render({canvasContext:L,viewport:C,renderInteractiveForms:!0,canvasFactory:{create:function(H,E){const z=document.createElement("canvas");return z.width=H*2,z.height=E*2,z},reset:function(H,E,z){H.canvas.width=E*2,H.canvas.height=z*2},destroy:function(H){}}})},r=async v=>{if(!(!n||!d.current)){d.current.innerHTML="";for(let S=1;S<=n.numPages;S++){const A=document.createElement("canvas");A.style.width="100%",A.style.height="auto",A.style.marginBottom="10px",await h(n,S,A,v),d.current.appendChild(A)}}},w=async()=>{a(!0),setTimeout(f,0)},P=()=>{a(!1),d.current&&(d.current.innerHTML="")};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded",children:"View Full PDF"}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{ref:u,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),e.jsx("button",{onClick:P,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),e.jsx("div",{ref:d,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"},children:e.jsx("iframe",{src:l,width:"100%",height:"500px",style:{border:"none"}})})]})})]})}function et(){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"size-6 ",children:[e.jsx("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-8.4 8.4a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32l8.4-8.4Z"}),e.jsx("path",{d:"M5.25 5.25a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3V13.5a.75.75 0 0 0-1.5 0v5.25a1.5 1.5 0 0 1-1.5 1.5H5.25a1.5 1.5 0 0 1-1.5-1.5V8.25a1.5 1.5 0 0 1 1.5-1.5h5.25a.75.75 0 0 0 0-1.5H5.25Z"})]})}function tt(){const s=t.useRef(null),[l,m]=t.useState(0),a=ne(),n=U(),[c,N]=t.useState(null),[x,b]=t.useState(null),[d,u]=t.useState(null),[f,h]=t.useState(null),[r,w]=t.useState(null),[P,v]=t.useState(!1),[S,A]=t.useState([]),[B,k]=t.useState(!1),[C,L]=t.useState(""),[H,E]=t.useState(null),[z,X]=t.useState(null),[i,j]=t.useState(!1),[D,V]=t.useState(null),[G,oe]=t.useState(1),ce=t.useRef(null),W=t.useRef(null),q=t.useRef(null);t.useEffect(()=>{(async()=>{if(z)try{const p=await fetch(z).then(O=>O.arrayBuffer()),R=await pe.getDocument({data:p}).promise;V(R),re(R,1,ce.current,1)}catch(p){console.error("Error loading PDF:",p)}})()},[z]),t.useEffect(()=>{const o=()=>{q.current&&i&&D&&le()};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[i,D]);const le=async()=>{if(!D||!q.current)return;const p=(await D.getPage(1)).getViewport({scale:1}),R=q.current.clientWidth,O=q.current.clientHeight,J=R/p.width,ee=O/p.height,te=Math.min(J,ee)*2;oe(te),de(te)},re=async(o,p,R,O)=>{const J=await o.getPage(p),ee=J.getViewport({scale:O});R.height=ee.height*2,R.width=ee.width*2;const te=R.getContext("2d");te.scale(2,2),await J.render({canvasContext:te,viewport:ee,renderInteractiveForms:!0,canvasFactory:{create:function(se,he){const ae=document.createElement("canvas");return ae.width=se*2,ae.height=he*2,ae},reset:function(se,he,ae){se.canvas.width=he*2,se.canvas.height=ae*2},destroy:function(se){}}})},de=async o=>{if(!(!D||!W.current)){W.current.innerHTML="";for(let p=1;p<=D.numPages;p++){const R=document.createElement("canvas");R.style.width="100%",R.style.height="auto",R.style.marginBottom="10px",await re(D,p,R,o),W.current.appendChild(R)}}};t.useEffect(()=>{if(a.state){const{id:o,pid:p,isDoctor:R,patientData:O}=a.state;N(p),b(o),u(R),h(O)}},[a]),t.useEffect(()=>{(async()=>{if(x&&c)try{await F(),await Z()}catch(p){console.error("Error fetching data:",p)}})()},[x,c]),t.useEffect(()=>{(async()=>{if(r)try{await y()}catch(p){console.error("Error getting URL:",p)}})()},[r]);const xe=async()=>{j(!0),setTimeout(le,0)},g=()=>{j(!1),W.current&&(W.current.innerHTML="")};async function y(){try{const o=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/pdfid/${r.file}`,{responseType:"arraybuffer"}),p=new Uint8Array(o.data),R=new Blob([p],{type:"application/pdf"});let O=window.URL.createObjectURL(R);X(O)}catch(o){console.error("Error fetching report:",o)}}async function F(){try{const o=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/getreport/${x}`);w(o.data),A(o.data.precautions),k(o.data.isVerified),L(o.data.doctorNotes||"")}catch(o){console.error("Error fetching report:",o)}}async function Z(){try{const o=await M.post("https://saanjh-sahayak-backend.vercel.app/en/getprevreports",{patientId:c,reportId:x});E(o.data)}catch(o){console.error("Error fetching dates:",o)}}const T=()=>{v(!P),setTimeout(()=>{var o;(o=textareaRef.current)==null||o.focus()},0)},_=o=>{const p=new Date,R=new Date(o);let O=p.getFullYear()-R.getFullYear();const J=p.getMonth()-R.getMonth();return(J<0||J===0&&p.getDate()<R.getDate())&&O--,O},Y=async()=>{try{k(!0);const o={...r,isVerified:!0},p=await M.post("https://saanjh-sahayak-backend.vercel.app/en/saveprecautions",{reportId:x,precautions:S,doctorNotes:C});w(p.data),console.log(p)}catch(o){console.error("Error verifying report:",o)}},K=o=>{n("/doctoranalysis",{replace:!0,state:{id:o,pid:c,isDoctor:d,patientData:f}}),window.scrollTo(0,0)};return!r||!H||!f?e.jsx("div",{children:"Loading..."}):r&&H&&f&&z&&e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[e.jsx("div",{className:"size-4",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),e.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsxs("div",{className:"flex items-center gap-9",children:[e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),e.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:e.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),e.jsx("div",{className:"flex p-4 @container",children:e.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:e.jsx(ue,{className:"text-gray-500 w-20 h-20"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:f.name}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[f.gender,", Age ",_(f.DOB)]}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",f.bloodGroup]})]})]})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),e.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:f.chronics.map((o,p)=>e.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:e.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:o})},p))}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{ref:q,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),e.jsx("div",{ref:W,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"}})]})}),e.jsxs("div",{onClick:xe,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),e.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),e.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:e.jsx("p",{className:"px-4 pb-2 pt-4",children:r.summary})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),e.jsx("div",{className:"p-4 @container",children:e.jsxs("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:l?`${l+20}px`:"auto"},children:[e.jsx("div",{className:"flex flex-col gap-1 flex-1",children:P&&!r.isVerified?e.jsx("textarea",{defaultValue:S.join(`
`),className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:o=>A(o.target.value.split(`
`))}):e.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:S.map((o,p)=>e.jsx("li",{children:o},p))})}),e.jsx("button",{onClick:T,className:` ${B?"hidden":""}  flex min-w-[60px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-medium leading-normal`,children:P?e.jsx("span",{className:"truncate",children:"Save"}):e.jsx(et,{})})]})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Predictions"}),e.jsx("div",{className:"p-4 @container",children:e.jsx("div",{className:"flex flex-1  items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",children:e.jsx("div",{className:"flex flex-col gap-1 flex-1",children:e.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:r.possibleDiseases.map((o,p)=>e.jsx("li",{children:o},p))})})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),e.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:e.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:r.isVerified?e.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:r.doctorNotes}):e.jsx("textarea",{defaultValue:r.doctorNotes,className:"border border-[#dce0e5] rounded-xl p-2 flex-1",onChange:o=>L(o.target.value)})})}),e.jsx("div",{className:"flex px-4 py-3 justify-end",children:e.jsx("button",{onClick:Y,className:`${r.isVerified?"hidden":""} flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#1b7ada] text-white text-sm font-bold leading-normal tracking-[0.015em]`,children:e.jsx("span",{className:"truncate",children:"verify"})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),e.jsx("div",{children:H.map((o,p)=>e.jsxs("div",{onClick:()=>{K(o.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:o.date}),e.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:o.specialistReq})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},p))})]})})]})})}const st=()=>{const[s,l]=t.useState(""),[m,a]=t.useState(null),[n,c]=t.useState(null),[N,x]=t.useState(null);function b(f){const h=f.target.files[0];if(x(h.size/(1024*1024)),h){const r=new FileReader;r.onloadend=()=>{a(r.result.split(",")[1])},r.readAsDataURL(h);const w=f.target.value.replace("C:\\fakepath\\","");l(w)}else alert("No file selected")}const d=async f=>{f.preventDefault();try{await M.post("https://saanjh-sahayak-backend.vercel.app/en/uploadpdf",{file:m,filename:s}),console.log("Successfully uploaded.")}catch(h){console.log("Error uploading details:",h),alert("File size too large")}},u=async f=>{f.preventDefault();try{console.log("hi");const h=await M.get("https://saanjh-sahayak-backend.vercel.app/en/pdfid/66813196189877e17f54a9e0",{responseType:"arraybuffer"}),r=new Uint8Array(h.data),w=new Blob([r],{type:"application/pdf"});let P=window.URL.createObjectURL(w);c(P)}catch(h){console.log("Error uploading details:",h),alert("File size too large")}};return e.jsxs("div",{children:[e.jsxs("form",{onSubmit:d,children:[e.jsx("input",{type:"file",onChange:b,accept:"application/pdf"}),e.jsx("button",{type:"submit",children:"Upload"})]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{onClick:u,children:"show pdf"}),n&&e.jsx("embed",{src:n,type:"application/pdf",width:"100%",height:"600px"})]})};function at(){const s=t.useRef(null),[l,m]=t.useState(0),a=ne(),n=U(),[c,N]=t.useState(null),[x,b]=t.useState(null),[d,u]=t.useState(null),[f,h]=t.useState(null),[r,w]=t.useState([]);t.useState(!1);const[P,v]=t.useState(null),[S,A]=t.useState(null),[B,k]=t.useState(!1),[C,L]=t.useState(null),[H,E]=t.useState(null),[z,X]=t.useState(1),i=t.useRef(null),j=t.useRef(null),D=t.useRef(null);t.useEffect(()=>{(async()=>{if(S)try{const y=await fetch(S).then(Z=>Z.arrayBuffer()),F=await pe.getDocument({data:y}).promise;L(F),G(F,1,i.current,1)}catch(y){console.error("Error loading PDF:",y)}})()},[S]),t.useEffect(()=>{const g=()=>{D.current&&B&&C&&V()};return window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[B,C]);const V=async()=>{if(!C||!D.current)return;const y=(await C.getPage(1)).getViewport({scale:1}),F=D.current.clientWidth,Z=D.current.clientHeight,T=F/y.width,_=Z/y.height,Y=Math.min(T,_)*2;X(Y),oe(Y)},G=async(g,y,F,Z)=>{const T=await g.getPage(y),_=T.getViewport({scale:Z});F.height=_.height*2,F.width=_.width*2;const Y=F.getContext("2d");Y.scale(2,2),await T.render({canvasContext:Y,viewport:_,renderInteractiveForms:!0,canvasFactory:{create:function(K,o){const p=document.createElement("canvas");return p.width=K*2,p.height=o*2,p},reset:function(K,o,p){K.canvas.width=o*2,K.canvas.height=p*2},destroy:function(K){}}})},oe=async g=>{if(!(!C||!j.current)){j.current.innerHTML="";for(let y=1;y<=C.numPages;y++){const F=document.createElement("canvas");F.style.width="100%",F.style.height="auto",F.style.marginBottom="10px",await G(C,y,F,g),j.current.appendChild(F)}}};t.useEffect(()=>{if(a.state){const{id:g,pid:y,isDoctor:F,patientData:Z}=a.state;N(y),b(g),u(Z),E(F)}},[a]),t.useEffect(()=>{(async()=>{if(x&&c)try{await le(),await re()}catch(y){console.error("Error fetching data:",y)}})()},[x,c]),t.useEffect(()=>{(async()=>{if(f)try{await q()}catch(y){console.error("Error getting URL:",y)}})()},[f]);const ce=async()=>{k(!0),setTimeout(V,0)},W=()=>{k(!1),j.current&&(j.current.innerHTML="")};async function q(){try{const g=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/pdfid/${f.file}`,{responseType:"arraybuffer"}),y=new Uint8Array(g.data),F=new Blob([y],{type:"application/pdf"});let Z=window.URL.createObjectURL(F);A(Z)}catch(g){console.error("Error fetching report:",g)}}async function le(){try{const g=await M.get(`https://saanjh-sahayak-backend.vercel.app/en/getreport/${x}`);h(g.data),w(g.data.precautions)}catch(g){console.error("Error fetching report:",g)}}async function re(){try{const g=await M.post("https://saanjh-sahayak-backend.vercel.app/en/getprevreports",{patientId:c,reportId:x});v(g.data)}catch(g){console.error("Error fetching dates:",g)}}const de=g=>{const y=new Date,F=new Date(g);let Z=y.getFullYear()-F.getFullYear();const T=y.getMonth()-F.getMonth();return(T<0||T===0&&y.getDate()<F.getDate())&&Z--,Z},xe=g=>{n("/caretakeranalysis",{replace:!0,state:{id:g,pid:c,isDoctor:H,patientData:d}}),window.scrollTo(0,0)};return!f||!P||!d?e.jsx("div",{children:"Loading..."}):f&&P&&d&&S&&e.jsx("div",{className:"relative flex size-full min-h-screen flex-col bg-white group/design-root overflow-x-hidden ",style:{fontFamily:'Manrope, "Noto Sans", sans-serif'},children:e.jsxs("div",{className:"layout-container flex h-full grow flex-col",children:[e.jsxs("header",{className:"flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#f0f2f4] px-10 py-3",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[#111418]",children:[e.jsx("div",{className:"size-4",children:e.jsx("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z",fill:"currentColor"})})}),e.jsx("h2",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em]",children:"Saanjh sahayak"})]}),e.jsxs("div",{className:"flex flex-1 justify-end gap-8",children:[e.jsxs("div",{className:"flex items-center gap-9",children:[e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Patients"}),e.jsx("a",{className:"text-[#111418] text-sm font-medium leading-normal",href:"#",children:"Reports"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"MagnifyingGlass","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"Bell","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"})})})}),e.jsx("button",{className:"flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 bg-[#f0f2f4] text-[#111418] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5",children:e.jsx("div",{className:"text-[#111418]","data-icon":"ChatCircleDots","data-size":"20px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20px",height:"20px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128ZM84,116a12,12,0,1,0,12,12A12,12,0,0,0,84,116Zm88,0a12,12,0,1,0,12,12A12,12,0,0,0,172,116Zm60,12A104,104,0,0,1,79.12,219.82L45.07,231.17a16,16,0,0,1-20.24-20.24l11.35-34.05A104,104,0,1,1,232,128Zm-16,0A88,88,0,1,0,51.81,172.06a8,8,0,0,1,.66,6.54L40,216,77.4,203.53a7.85,7.85,0,0,1,2.53-.42,8,8,0,0,1,4,1.08A88,88,0,0,0,216,128Z"})})})})]}),e.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10",style:{backgroundImage:'url("https://cdn.usegalileo.ai/stability/1c59f8b8-2f0d-4280-9e6d-75d6c0cee0d6.png")'}})]})]}),e.jsx("div",{className:"px-40 flex flex-1 justify-center py-5",children:e.jsxs("div",{className:"layout-content-container flex flex-col max-w-[960px] flex-1",children:[e.jsx("div",{className:"flex flex-wrap justify-between gap-3 p-4",children:e.jsx("p",{className:"text-[#111418] text-4xl font-black leading-tight tracking-[-0.033em] min-w-72 content-center",children:"Patient Information"})}),e.jsx("div",{className:"flex p-4 @container",children:e.jsx("div",{className:"flex w-full flex-col gap-4 @[520px]:flex-row @[520px]:justify-between @[520px]:items-start",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"bg-gray-200 rounded-full w-32 h-32 flex items-center justify-center",children:e.jsx(ue,{className:"text-gray-500 w-20 h-20"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-[22px] font-bold leading-tight tracking-[-0.015em]",children:d.name}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[d.gender,", Age ",de(d.DOB)]}),e.jsxs("p",{className:"text-[#637588] text-base font-normal leading-normal",children:[" Blood Group: ",d.bloodGroup]})]})]})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Known Conditions"}),e.jsx("div",{className:"flex gap-3 p-3 flex-wrap pr-4",children:d.chronics.map((g,y)=>e.jsx("div",{className:"flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-xl bg-[#f0f2f4] pl-4 pr-4",children:e.jsx("p",{className:"text-[#111418] text-sm font-medium leading-normal",children:g})},y))}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Current Report"}),B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{ref:D,className:"bg-white rounded-lg w-3/4 max-w-4xl h-5/6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"PDF Viewer"}),e.jsx("button",{onClick:W,className:"px-4 py-2 bg-red-500 text-white rounded",children:"Close"})]}),e.jsx("div",{ref:j,className:"flex-grow overflow-y-auto scrollbar-hide p-4",style:{msOverflowStyle:"none",scrollbarWidth:"none"},children:e.jsx("iframe",{src:S,width:"100%",height:"500px",style:{border:"none"}})})]})}),e.jsxs("div",{onClick:ce,className:"flex items-center gap-4 bg-white px-4 min-h-[72px] py-2 justify-between hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#111418] flex items-center justify-center rounded-lg bg-[#f0f2f4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#111418] text-base font-medium leading-normal line-clamp-1",children:"Test Report"}),e.jsx("p",{className:"text-[#637588] text-sm font-normal leading-normal line-clamp-2",children:"Report from 27 June 2024"})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#111418] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Analysis"}),e.jsx("div",{className:"text-lg   tracking-[-0.020em] ",children:e.jsx("p",{className:"px-4 pb-2 pt-4",children:f.summary})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Precautions"}),e.jsx("div",{className:"p-4 @container",children:e.jsx("div",{className:"flex flex-1 items-start justify-between gap-4 rounded-xl border border-[#dce0e5] bg-white p-5 @[480px]:flex-row @[480px]:items-center",style:{height:l?`${l+20}px`:"auto"},children:e.jsx("div",{className:"flex flex-col gap-1 flex-1",children:e.jsx("ul",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:r.map((g,y)=>e.jsx("li",{children:g},y))})})})}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Doctor's Advice"}),e.jsx("div",{className:"flex max-w-[480px] flex-1 flex-wrap items-end gap-4 px-4 py-3",children:e.jsx("label",{className:"flex flex-col min-w-40 flex-1",children:f.doctorNotes===""?e.jsx(e.Fragment,{}):e.jsx("div",{className:"text-[#637588] text-base font-normal leading-normal flex-1",ref:s,children:f.doctorNotes})})}),e.jsx("div",{className:"flex px-4 py-3 justify-end"}),e.jsx("h3",{className:"text-[#111418] text-lg font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4",children:"Previous Reports"}),e.jsx("div",{children:P.map((g,y)=>e.jsxs("div",{onClick:()=>{xe(g.file)},className:"flex items-center gap-4  px-4 min-h-[72px] py-2 justify-between cursor-pointer hover:bg-slate-100 hover:scale-105 transition transform duration-300",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-[#0d151c] flex items-center justify-center rounded-lg bg-[#e7eef4] shrink-0 size-12","data-icon":"File","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M213.66,82.34l-56-56A8,8,0,0,0,152,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V88A8,8,0,0,0,213.66,82.34ZM160,51.31,188.69,80H160ZM200,216H56V40h88V88a8,8,0,0,0,8,8h48V216Z"})})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("p",{className:"text-[#0d151c] text-base font-medium leading-normal line-clamp-1",children:g.date}),e.jsx("p",{className:"text-[#49779c] text-sm font-normal leading-normal line-clamp-2",children:g.specialistReq})]})]}),e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"text-[#0d151c] flex size-7 items-center justify-center","data-icon":"CaretRight","data-size":"24px","data-weight":"regular",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",fill:"currentColor",viewBox:"0 0 256 256",children:e.jsx("path",{d:"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"})})})})]},y))})]})})]})})}function nt(){const[s,l]=t.useState(""),m=ne(),a=U(),[n,c]=t.useState(null);t.useEffect(()=>{if(m.state){const{patientData:r}=m.state;c(r),b({firstName:r.name,lastName:"",dateOfBirth:N(r.DOB),gender:r.gender,bloodGroup:r.bloodGroup,phoneNumber:r.phone,chronics:r.chronics})}},[m]);function N(r){const w=new Date(r),P=String(w.getDate()).padStart(2,"0"),v=String(w.getMonth()+1).padStart(2,"0"),S=w.getFullYear();return`${P}/${v}/${S}`}const[x,b]=t.useState({firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",phoneNumber:"",chronics:""}),d=r=>{const{name:w,value:P}=r.target;b(v=>({...v,[w]:P}))},u=()=>{s.trim()!==""&&(b(r=>({...r,chronics:[...r.chronics,s.trim()]})),l(""))},f=r=>{b(w=>({...w,chronics:w.chronics.filter((P,v)=>v!==r)}))},h=async r=>{r.preventDefault(),console.log("Form submitted:",x);const w={...x,dateOfBirth:x.dateOfBirth?new Date(x.dateOfBirth).toISOString():null},P=await M.post("https://saanjh-sahayak-backend.vercel.app/en/editPatient",{formDataToSend:w,patientId:n._id});console.log(P.data.data),b({firstName:"",lastName:"",dateOfBirth:null,gender:"",bloodGroup:"",phoneNumber:"",chronics:[]}),Q.fire({icon:"success",title:"success",text:"changes made successfully!"}),a(-1)};return n&&e.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-100",children:[e.jsx(ie,{}),e.jsx("div",{className:"flex-grow flex items-center justify-center px-4 py-12",children:e.jsx("div",{className:"w-full max-w-4xl bg-white shadow-2xl rounded-3xl overflow-hidden",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:flex-shrink-0 bg-blue-600 md:w-48 flex items-center justify-center",children:e.jsx("svg",{className:"h-20 w-20 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})}),e.jsxs("div",{className:"p-8 md:flex-grow",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Edit Patient"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Please enter the patient's details below"}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),e.jsx("input",{required:!0,type:"text",name:"firstName",value:x.firstName,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"First name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:x.lastName,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Last name"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date of Birth"}),e.jsx("input",{type:"date",name:"dateOfBirth",value:x.dateOfBirth,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),e.jsxs("select",{name:"gender",value:x.gender,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Blood Group"}),e.jsx("input",{type:"text",name:"bloodGroup",value:x.bloodGroup,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Blood group"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:x.phoneNumber,onChange:d,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Phone number"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Chronic Conditions"}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("input",{type:"text",value:s,onChange:r=>l(r.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-l-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300",placeholder:"Enter a chronic condition"}),e.jsx("button",{type:"button",onClick:u,className:"inline-flex items-center px-3 rounded-r-md border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"Add"})]}),e.jsx("div",{className:"mt-2 space-y-2",children:x.chronics.map((r,w)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-100 p-2 rounded",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>f(w),className:"text-red-500 hover:text-red-700",children:"Remove"})]},w))})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Save"})]})]})]})]})})})]})}function lt(){const[s,l]=t.useState(()=>{const m=localStorage.getItem("isDoctor");return m!==null?JSON.parse(m):!0});return t.useEffect(()=>{localStorage.setItem("isDoctor",JSON.stringify(s))},[s]),e.jsx("div",{className:"App",children:e.jsx(Be,{children:e.jsxs(Ee,{children:[e.jsx(I,{path:"/",element:e.jsx(We,{})}),e.jsx(I,{path:"/main",element:e.jsx(Ge,{isDoctor:s,setIsDoctor:l})}),e.jsx(I,{path:"/form",element:e.jsx(Oe,{})}),e.jsx(I,{path:"/patient",element:e.jsx(Ye,{isDoctor:s})}),e.jsx(I,{path:"/signin",element:e.jsx(Ke,{setIsDoctor:l,isDoctor:s})}),e.jsx(I,{path:"/newSignin",element:e.jsx(Je,{})}),e.jsx(I,{path:"/upload",element:e.jsx(Qe,{})}),e.jsx(I,{path:"/load",element:e.jsx(st,{})}),e.jsx(I,{path:"/pdfShow",element:e.jsx(Xe,{})}),e.jsx(I,{path:"/doctoranalysis",element:e.jsx(tt,{})}),e.jsx(I,{path:"/caretakeranalysis",element:e.jsx(at,{})}),e.jsx(I,{path:"/edit",element:e.jsx(nt,{})}),e.jsx(I,{path:"/result",element:e.jsx(je,{})}),e.jsx(I,{path:"/chatbot",element:e.jsx(be,{})})]})})})}Ze.createRoot(document.getElementById("root")).render(e.jsx(Ie.StrictMode,{children:e.jsx(lt,{})}));
