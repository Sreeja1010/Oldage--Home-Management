var f1=Object.defineProperty;var xE=_e=>{throw TypeError(_e)};var p1=(_e,$,ht)=>$ in _e?f1(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht;var xr=(_e,$,ht)=>p1(_e,typeof $!="symbol"?$+"":$,ht),Cw=(_e,$,ht)=>$.has(_e)||xE("Cannot "+ht);var _t=(_e,$,ht)=>(Cw(_e,$,"read from private field"),ht?ht.call(_e):$.get(_e)),Kt=(_e,$,ht)=>$.has(_e)?xE("Cannot add the same private member more than once"):$ instanceof WeakSet?$.add(_e):$.set(_e,ht),zt=(_e,$,ht,vt)=>(Cw(_e,$,"write to private field"),vt?vt.call(_e,ht):$.set(_e,ht),ht),Ut=(_e,$,ht)=>(Cw(_e,$,"access private method"),ht);var to=(_e,$,ht,vt)=>({set _(bt){zt(_e,$,bt,ht)},get _(){return _t(_e,$,vt)}});function _mergeNamespaces(_e,$){for(var ht=0;ht<$.length;ht++){const vt=$[ht];if(typeof vt!="string"&&!Array.isArray(vt)){for(const bt in vt)if(bt!=="default"&&!(bt in _e)){const wt=Object.getOwnPropertyDescriptor(vt,bt);wt&&Object.defineProperty(_e,bt,wt.get?wt:{enumerable:!0,get:()=>vt[bt]})}}}return Object.freeze(Object.defineProperty(_e,Symbol.toStringTag,{value:"Module"}))}function getDefaultExportFromCjs(_e){return _e&&_e.__esModule&&Object.prototype.hasOwnProperty.call(_e,"default")?_e.default:_e}function getAugmentedNamespace(_e){if(_e.__esModule)return _e;var $=_e.default;if(typeof $=="function"){var ht=function vt(){return this instanceof vt?Reflect.construct($,arguments,this.constructor):$.apply(this,arguments)};ht.prototype=$.prototype}else ht={};return Object.defineProperty(ht,"__esModule",{value:!0}),Object.keys(_e).forEach(function(vt){var bt=Object.getOwnPropertyDescriptor(_e,vt);Object.defineProperty(ht,vt,bt.get?bt:{enumerable:!0,get:function(){return _e[vt]}})}),ht}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$5=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$3=Symbol.for("react.profiler"),t$5=Symbol.for("react.provider"),u$8=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$5=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$4(_e){return _e===null||typeof _e!="object"?null:(_e=z$2&&_e[z$2]||_e["@@iterator"],typeof _e=="function"?_e:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$5={};function E$2(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(_e,$){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,$,"setState")};E$2.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function F$4(){}F$4.prototype=E$2.prototype;function G$3(_e,$,ht){this.props=_e,this.context=$,this.refs=D$5,this.updater=ht||B$2}var H$3=G$3.prototype=new F$4;H$3.constructor=G$3;C$2(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$1={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_e,$,ht){var vt,bt={},wt=null,At=null;if($!=null)for(vt in $.ref!==void 0&&(At=$.ref),$.key!==void 0&&(wt=""+$.key),$)J$2.call($,vt)&&!L$2.hasOwnProperty(vt)&&(bt[vt]=$[vt]);var Et=arguments.length-2;if(Et===1)bt.children=ht;else if(1<Et){for(var St=Array(Et),Ct=0;Ct<Et;Ct++)St[Ct]=arguments[Ct+2];bt.children=St}if(_e&&_e.defaultProps)for(vt in Et=_e.defaultProps,Et)bt[vt]===void 0&&(bt[vt]=Et[vt]);return{$$typeof:l$3,type:_e,key:wt,ref:At,props:bt,_owner:K$1.current}}function N$4(_e,$){return{$$typeof:l$3,type:_e.type,key:$,ref:_e.ref,props:_e.props,_owner:_e._owner}}function O$3(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===l$3}function escape$1(_e){var $={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(ht){return $[ht]})}var P$4=/\/+/g;function Q$1(_e,$){return typeof _e=="object"&&_e!==null&&_e.key!=null?escape$1(""+_e.key):$.toString(36)}function R$2(_e,$,ht,vt,bt){var wt=typeof _e;(wt==="undefined"||wt==="boolean")&&(_e=null);var At=!1;if(_e===null)At=!0;else switch(wt){case"string":case"number":At=!0;break;case"object":switch(_e.$$typeof){case l$3:case n$5:At=!0}}if(At)return At=_e,bt=bt(At),_e=vt===""?"."+Q$1(At,0):vt,I$5(bt)?(ht="",_e!=null&&(ht=_e.replace(P$4,"$&/")+"/"),R$2(bt,$,ht,"",function(Ct){return Ct})):bt!=null&&(O$3(bt)&&(bt=N$4(bt,ht+(!bt.key||At&&At.key===bt.key?"":(""+bt.key).replace(P$4,"$&/")+"/")+_e)),$.push(bt)),1;if(At=0,vt=vt===""?".":vt+":",I$5(_e))for(var Et=0;Et<_e.length;Et++){wt=_e[Et];var St=vt+Q$1(wt,Et);At+=R$2(wt,$,ht,St,bt)}else if(St=A$4(_e),typeof St=="function")for(_e=St.call(_e),Et=0;!(wt=_e.next()).done;)wt=wt.value,St=vt+Q$1(wt,Et++),At+=R$2(wt,$,ht,St,bt);else if(wt==="object")throw $=String(_e),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return At}function S$5(_e,$,ht){if(_e==null)return _e;var vt=[],bt=0;return R$2(_e,vt,"","",function(wt){return $.call(ht,wt,bt++)}),vt}function T$4(_e){if(_e._status===-1){var $=_e._result;$=$(),$.then(function(ht){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=ht)},function(ht){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=ht)}),_e._status===-1&&(_e._status=0,_e._result=$)}if(_e._status===1)return _e._result.default;throw _e._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(_e,$,ht){S$5(_e,function(){$.apply(this,arguments)},ht)},count:function(_e){var $=0;return S$5(_e,function(){$++}),$},toArray:function(_e){return S$5(_e,function($){return $})||[]},only:function(_e){if(!O$3(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$3;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$2;react_production_min.cloneElement=function(_e,$,ht){if(_e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_e+".");var vt=C$2({},_e.props),bt=_e.key,wt=_e.ref,At=_e._owner;if($!=null){if($.ref!==void 0&&(wt=$.ref,At=K$1.current),$.key!==void 0&&(bt=""+$.key),_e.type&&_e.type.defaultProps)var Et=_e.type.defaultProps;for(St in $)J$2.call($,St)&&!L$2.hasOwnProperty(St)&&(vt[St]=$[St]===void 0&&Et!==void 0?Et[St]:$[St])}var St=arguments.length-2;if(St===1)vt.children=ht;else if(1<St){Et=Array(St);for(var Ct=0;Ct<St;Ct++)Et[Ct]=arguments[Ct+2];vt.children=Et}return{$$typeof:l$3,type:_e.type,key:bt,ref:wt,props:vt,_owner:At}};react_production_min.createContext=function(_e){return _e={$$typeof:u$8,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_e.Provider={$$typeof:t$5,_context:_e},_e.Consumer=_e};react_production_min.createElement=M$4;react_production_min.createFactory=function(_e){var $=M$4.bind(null,_e);return $.type=_e,$};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_e){return{$$typeof:v$2,render:_e}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(_e){return{$$typeof:y$5,_payload:{_status:-1,_result:_e},_init:T$4}};react_production_min.memo=function(_e,$){return{$$typeof:x$1,type:_e,compare:$===void 0?null:$}};react_production_min.startTransition=function(_e){var $=V$2.transition;V$2.transition={};try{_e()}finally{V$2.transition=$}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(_e,$){return U$3.current.useCallback(_e,$)};react_production_min.useContext=function(_e){return U$3.current.useContext(_e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_e){return U$3.current.useDeferredValue(_e)};react_production_min.useEffect=function(_e,$){return U$3.current.useEffect(_e,$)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(_e,$,ht){return U$3.current.useImperativeHandle(_e,$,ht)};react_production_min.useInsertionEffect=function(_e,$){return U$3.current.useInsertionEffect(_e,$)};react_production_min.useLayoutEffect=function(_e,$){return U$3.current.useLayoutEffect(_e,$)};react_production_min.useMemo=function(_e,$){return U$3.current.useMemo(_e,$)};react_production_min.useReducer=function(_e,$,ht){return U$3.current.useReducer(_e,$,ht)};react_production_min.useRef=function(_e){return U$3.current.useRef(_e)};react_production_min.useState=function(_e){return U$3.current.useState(_e)};react_production_min.useSyncExternalStore=function(_e,$,ht){return U$3.current.useSyncExternalStore(_e,$,ht)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),t$4=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$6=reactExports,k=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$4=f$6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$1(_e,$,ht){var vt,bt={},wt=null,At=null;ht!==void 0&&(wt=""+ht),$.key!==void 0&&(wt=""+$.key),$.ref!==void 0&&(At=$.ref);for(vt in $)m$5.call($,vt)&&!p$5.hasOwnProperty(vt)&&(bt[vt]=$[vt]);if(_e&&_e.defaultProps)for(vt in $=_e.defaultProps,$)bt[vt]===void 0&&(bt[vt]=$[vt]);return{$$typeof:k,type:_e,key:wt,ref:At,props:bt,_owner:n$4.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_e){function $(fn,nn){var gn=fn.length;fn.push(nn);e:for(;0<gn;){var Cn=gn-1>>>1,rn=fn[Cn];if(0<bt(rn,nn))fn[Cn]=nn,fn[gn]=rn,gn=Cn;else break e}}function ht(fn){return fn.length===0?null:fn[0]}function vt(fn){if(fn.length===0)return null;var nn=fn[0],gn=fn.pop();if(gn!==nn){fn[0]=gn;e:for(var Cn=0,rn=fn.length,Xt=rn>>>1;Cn<Xt;){var Yt=2*(Cn+1)-1,tn=fn[Yt],hn=Yt+1,un=fn[hn];if(0>bt(tn,gn))hn<rn&&0>bt(un,tn)?(fn[Cn]=un,fn[hn]=gn,Cn=hn):(fn[Cn]=tn,fn[Yt]=gn,Cn=Yt);else if(hn<rn&&0>bt(un,gn))fn[Cn]=un,fn[hn]=gn,Cn=hn;else break e}}return nn}function bt(fn,nn){var gn=fn.sortIndex-nn.sortIndex;return gn!==0?gn:fn.id-nn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var wt=performance;_e.unstable_now=function(){return wt.now()}}else{var At=Date,Et=At.now();_e.unstable_now=function(){return At.now()-Et}}var St=[],Ct=[],xt=1,Pt=null,kt=3,Rt=!1,Mt=!1,Ft=!1,$t=typeof setTimeout=="function"?setTimeout:null,Lt=typeof clearTimeout=="function"?clearTimeout:null,Dt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ot(fn){for(var nn=ht(Ct);nn!==null;){if(nn.callback===null)vt(Ct);else if(nn.startTime<=fn)vt(Ct),nn.sortIndex=nn.expirationTime,$(St,nn);else break;nn=ht(Ct)}}function Bt(fn){if(Ft=!1,Ot(fn),!Mt)if(ht(St)!==null)Mt=!0,An(Nt);else{var nn=ht(Ct);nn!==null&&dn(Bt,nn.startTime-fn)}}function Nt(fn,nn){Mt=!1,Ft&&(Ft=!1,Lt(jt),jt=-1),Rt=!0;var gn=kt;try{for(Ot(nn),Pt=ht(St);Pt!==null&&(!(Pt.expirationTime>nn)||fn&&!Gt());){var Cn=Pt.callback;if(typeof Cn=="function"){Pt.callback=null,kt=Pt.priorityLevel;var rn=Cn(Pt.expirationTime<=nn);nn=_e.unstable_now(),typeof rn=="function"?Pt.callback=rn:Pt===ht(St)&&vt(St),Ot(nn)}else vt(St);Pt=ht(St)}if(Pt!==null)var Xt=!0;else{var Yt=ht(Ct);Yt!==null&&dn(Bt,Yt.startTime-nn),Xt=!1}return Xt}finally{Pt=null,kt=gn,Rt=!1}}var Ht=!1,Vt=null,jt=-1,qt=5,Jt=-1;function Gt(){return!(_e.unstable_now()-Jt<qt)}function en(){if(Vt!==null){var fn=_e.unstable_now();Jt=fn;var nn=!0;try{nn=Vt(!0,fn)}finally{nn?an():(Ht=!1,Vt=null)}}else Ht=!1}var an;if(typeof Dt=="function")an=function(){Dt(en)};else if(typeof MessageChannel<"u"){var Sn=new MessageChannel,cn=Sn.port2;Sn.port1.onmessage=en,an=function(){cn.postMessage(null)}}else an=function(){$t(en,0)};function An(fn){Vt=fn,Ht||(Ht=!0,an())}function dn(fn,nn){jt=$t(function(){fn(_e.unstable_now())},nn)}_e.unstable_IdlePriority=5,_e.unstable_ImmediatePriority=1,_e.unstable_LowPriority=4,_e.unstable_NormalPriority=3,_e.unstable_Profiling=null,_e.unstable_UserBlockingPriority=2,_e.unstable_cancelCallback=function(fn){fn.callback=null},_e.unstable_continueExecution=function(){Mt||Rt||(Mt=!0,An(Nt))},_e.unstable_forceFrameRate=function(fn){0>fn||125<fn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qt=0<fn?Math.floor(1e3/fn):5},_e.unstable_getCurrentPriorityLevel=function(){return kt},_e.unstable_getFirstCallbackNode=function(){return ht(St)},_e.unstable_next=function(fn){switch(kt){case 1:case 2:case 3:var nn=3;break;default:nn=kt}var gn=kt;kt=nn;try{return fn()}finally{kt=gn}},_e.unstable_pauseExecution=function(){},_e.unstable_requestPaint=function(){},_e.unstable_runWithPriority=function(fn,nn){switch(fn){case 1:case 2:case 3:case 4:case 5:break;default:fn=3}var gn=kt;kt=fn;try{return nn()}finally{kt=gn}},_e.unstable_scheduleCallback=function(fn,nn,gn){var Cn=_e.unstable_now();switch(typeof gn=="object"&&gn!==null?(gn=gn.delay,gn=typeof gn=="number"&&0<gn?Cn+gn:Cn):gn=Cn,fn){case 1:var rn=-1;break;case 2:rn=250;break;case 5:rn=1073741823;break;case 4:rn=1e4;break;default:rn=5e3}return rn=gn+rn,fn={id:xt++,callback:nn,priorityLevel:fn,startTime:gn,expirationTime:rn,sortIndex:-1},gn>Cn?(fn.sortIndex=gn,$(Ct,fn),ht(St)===null&&fn===ht(Ct)&&(Ft?(Lt(jt),jt=-1):Ft=!0,dn(Bt,gn-Cn))):(fn.sortIndex=rn,$(St,fn),Mt||Rt||(Mt=!0,An(Nt))),fn},_e.unstable_shouldYield=Gt,_e.unstable_wrapCallback=function(fn){var nn=kt;return function(){var gn=kt;kt=nn;try{return fn.apply(this,arguments)}finally{kt=gn}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$4(_e){for(var $="https://reactjs.org/docs/error-decoder.html?invariant="+_e,ht=1;ht<arguments.length;ht++)$+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified React error #"+_e+"; visit "+$+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(_e,$){ha(_e,$),ha(_e+"Capture",$)}function ha(_e,$){for(ea[_e]=$,_e=0;_e<$.length;_e++)da.add($[_e])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(_e){return ja.call(ma,_e)?!0:ja.call(la,_e)?!1:ka.test(_e)?ma[_e]=!0:(la[_e]=!0,!1)}function pa(_e,$,ht,vt){if(ht!==null&&ht.type===0)return!1;switch(typeof $){case"function":case"symbol":return!0;case"boolean":return vt?!1:ht!==null?!ht.acceptsBooleans:(_e=_e.toLowerCase().slice(0,5),_e!=="data-"&&_e!=="aria-");default:return!1}}function qa(_e,$,ht,vt){if($===null||typeof $>"u"||pa(_e,$,ht,vt))return!0;if(vt)return!1;if(ht!==null)switch(ht.type){case 3:return!$;case 4:return $===!1;case 5:return isNaN($);case 6:return isNaN($)||1>$}return!1}function v$1(_e,$,ht,vt,bt,wt,At){this.acceptsBooleans=$===2||$===3||$===4,this.attributeName=vt,this.attributeNamespace=bt,this.mustUseProperty=ht,this.propertyName=_e,this.type=$,this.sanitizeURL=wt,this.removeEmptyString=At}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,0,!1,_e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_e){var $=_e[0];z$1[$]=new v$1($,1,!1,_e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_e){z$1[_e]=new v$1(_e,2,!1,_e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_e){z$1[_e]=new v$1(_e,3,!1,_e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_e){z$1[_e]=new v$1(_e,3,!0,_e,null,!1,!1)});["capture","download"].forEach(function(_e){z$1[_e]=new v$1(_e,4,!1,_e,null,!1,!1)});["cols","rows","size","span"].forEach(function(_e){z$1[_e]=new v$1(_e,6,!1,_e,null,!1,!1)});["rowSpan","start"].forEach(function(_e){z$1[_e]=new v$1(_e,5,!1,_e.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(_e){return _e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_e){var $=_e.replace(ra,sa);z$1[$]=new v$1($,1,!1,_e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_e){z$1[_e]=new v$1(_e,1,!1,_e.toLowerCase(),null,!0,!0)});function ta(_e,$,ht,vt){var bt=z$1.hasOwnProperty($)?z$1[$]:null;(bt!==null?bt.type!==0:vt||!(2<$.length)||$[0]!=="o"&&$[0]!=="O"||$[1]!=="n"&&$[1]!=="N")&&(qa($,ht,bt,vt)&&(ht=null),vt||bt===null?oa($)&&(ht===null?_e.removeAttribute($):_e.setAttribute($,""+ht)):bt.mustUseProperty?_e[bt.propertyName]=ht===null?bt.type===3?!1:"":ht:($=bt.attributeName,vt=bt.attributeNamespace,ht===null?_e.removeAttribute($):(bt=bt.type,ht=bt===3||bt===4&&ht===!0?"":""+ht,vt?_e.setAttributeNS(vt,$,ht):_e.setAttribute($,ht))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(_e){return _e===null||typeof _e!="object"?null:(_e=Ja&&_e[Ja]||_e["@@iterator"],typeof _e=="function"?_e:null)}var A$3=Object.assign,La;function Ma(_e){if(La===void 0)try{throw Error()}catch(ht){var $=ht.stack.trim().match(/\n( *(at )?)/);La=$&&$[1]||""}return`
`+La+_e}var Na=!1;function Oa(_e,$){if(!_e||Na)return"";Na=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if($)if($=function(){throw Error()},Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(Ct){var vt=Ct}Reflect.construct(_e,[],$)}else{try{$.call()}catch(Ct){vt=Ct}_e.call($.prototype)}else{try{throw Error()}catch(Ct){vt=Ct}_e()}}catch(Ct){if(Ct&&vt&&typeof Ct.stack=="string"){for(var bt=Ct.stack.split(`
`),wt=vt.stack.split(`
`),At=bt.length-1,Et=wt.length-1;1<=At&&0<=Et&&bt[At]!==wt[Et];)Et--;for(;1<=At&&0<=Et;At--,Et--)if(bt[At]!==wt[Et]){if(At!==1||Et!==1)do if(At--,Et--,0>Et||bt[At]!==wt[Et]){var St=`
`+bt[At].replace(" at new "," at ");return _e.displayName&&St.includes("<anonymous>")&&(St=St.replace("<anonymous>",_e.displayName)),St}while(1<=At&&0<=Et);break}}}finally{Na=!1,Error.prepareStackTrace=ht}return(_e=_e?_e.displayName||_e.name:"")?Ma(_e):""}function Pa(_e){switch(_e.tag){case 5:return Ma(_e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return _e=Oa(_e.type,!1),_e;case 11:return _e=Oa(_e.type.render,!1),_e;case 1:return _e=Oa(_e.type,!0),_e;default:return""}}function Qa(_e){if(_e==null)return null;if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e;switch(_e){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof _e=="object")switch(_e.$$typeof){case Ca:return(_e.displayName||"Context")+".Consumer";case Ba:return(_e._context.displayName||"Context")+".Provider";case Da:var $=_e.render;return _e=_e.displayName,_e||(_e=$.displayName||$.name||"",_e=_e!==""?"ForwardRef("+_e+")":"ForwardRef"),_e;case Ga:return $=_e.displayName||null,$!==null?$:Qa(_e.type)||"Memo";case Ha:$=_e._payload,_e=_e._init;try{return Qa(_e($))}catch{}}return null}function Ra(_e){var $=_e.type;switch(_e.tag){case 24:return"Cache";case 9:return($.displayName||"Context")+".Consumer";case 10:return($._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _e=$.render,_e=_e.displayName||_e.name||"",$.displayName||(_e!==""?"ForwardRef("+_e+")":"ForwardRef");case 7:return"Fragment";case 5:return $;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa($);case 8:return $===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof $=="function")return $.displayName||$.name||null;if(typeof $=="string")return $}return null}function Sa(_e){switch(typeof _e){case"boolean":case"number":case"string":case"undefined":return _e;case"object":return _e;default:return""}}function Ta(_e){var $=_e.type;return(_e=_e.nodeName)&&_e.toLowerCase()==="input"&&($==="checkbox"||$==="radio")}function Ua(_e){var $=Ta(_e)?"checked":"value",ht=Object.getOwnPropertyDescriptor(_e.constructor.prototype,$),vt=""+_e[$];if(!_e.hasOwnProperty($)&&typeof ht<"u"&&typeof ht.get=="function"&&typeof ht.set=="function"){var bt=ht.get,wt=ht.set;return Object.defineProperty(_e,$,{configurable:!0,get:function(){return bt.call(this)},set:function(At){vt=""+At,wt.call(this,At)}}),Object.defineProperty(_e,$,{enumerable:ht.enumerable}),{getValue:function(){return vt},setValue:function(At){vt=""+At},stopTracking:function(){_e._valueTracker=null,delete _e[$]}}}}function Va(_e){_e._valueTracker||(_e._valueTracker=Ua(_e))}function Wa(_e){if(!_e)return!1;var $=_e._valueTracker;if(!$)return!0;var ht=$.getValue(),vt="";return _e&&(vt=Ta(_e)?_e.checked?"true":"false":_e.value),_e=vt,_e!==ht?($.setValue(_e),!0):!1}function Xa(_e){if(_e=_e||(typeof document<"u"?document:void 0),typeof _e>"u")return null;try{return _e.activeElement||_e.body}catch{return _e.body}}function Ya(_e,$){var ht=$.checked;return A$3({},$,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ht??_e._wrapperState.initialChecked})}function Za(_e,$){var ht=$.defaultValue==null?"":$.defaultValue,vt=$.checked!=null?$.checked:$.defaultChecked;ht=Sa($.value!=null?$.value:ht),_e._wrapperState={initialChecked:vt,initialValue:ht,controlled:$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null}}function ab(_e,$){$=$.checked,$!=null&&ta(_e,"checked",$,!1)}function bb(_e,$){ab(_e,$);var ht=Sa($.value),vt=$.type;if(ht!=null)vt==="number"?(ht===0&&_e.value===""||_e.value!=ht)&&(_e.value=""+ht):_e.value!==""+ht&&(_e.value=""+ht);else if(vt==="submit"||vt==="reset"){_e.removeAttribute("value");return}$.hasOwnProperty("value")?cb(_e,$.type,ht):$.hasOwnProperty("defaultValue")&&cb(_e,$.type,Sa($.defaultValue)),$.checked==null&&$.defaultChecked!=null&&(_e.defaultChecked=!!$.defaultChecked)}function db(_e,$,ht){if($.hasOwnProperty("value")||$.hasOwnProperty("defaultValue")){var vt=$.type;if(!(vt!=="submit"&&vt!=="reset"||$.value!==void 0&&$.value!==null))return;$=""+_e._wrapperState.initialValue,ht||$===_e.value||(_e.value=$),_e.defaultValue=$}ht=_e.name,ht!==""&&(_e.name=""),_e.defaultChecked=!!_e._wrapperState.initialChecked,ht!==""&&(_e.name=ht)}function cb(_e,$,ht){($!=="number"||Xa(_e.ownerDocument)!==_e)&&(ht==null?_e.defaultValue=""+_e._wrapperState.initialValue:_e.defaultValue!==""+ht&&(_e.defaultValue=""+ht))}var eb=Array.isArray;function fb(_e,$,ht,vt){if(_e=_e.options,$){$={};for(var bt=0;bt<ht.length;bt++)$["$"+ht[bt]]=!0;for(ht=0;ht<_e.length;ht++)bt=$.hasOwnProperty("$"+_e[ht].value),_e[ht].selected!==bt&&(_e[ht].selected=bt),bt&&vt&&(_e[ht].defaultSelected=!0)}else{for(ht=""+Sa(ht),$=null,bt=0;bt<_e.length;bt++){if(_e[bt].value===ht){_e[bt].selected=!0,vt&&(_e[bt].defaultSelected=!0);return}$!==null||_e[bt].disabled||($=_e[bt])}$!==null&&($.selected=!0)}}function gb(_e,$){if($.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$3({},$,{value:void 0,defaultValue:void 0,children:""+_e._wrapperState.initialValue})}function hb(_e,$){var ht=$.value;if(ht==null){if(ht=$.children,$=$.defaultValue,ht!=null){if($!=null)throw Error(p$4(92));if(eb(ht)){if(1<ht.length)throw Error(p$4(93));ht=ht[0]}$=ht}$==null&&($=""),ht=$}_e._wrapperState={initialValue:Sa(ht)}}function ib(_e,$){var ht=Sa($.value),vt=Sa($.defaultValue);ht!=null&&(ht=""+ht,ht!==_e.value&&(_e.value=ht),$.defaultValue==null&&_e.defaultValue!==ht&&(_e.defaultValue=ht)),vt!=null&&(_e.defaultValue=""+vt)}function jb(_e){var $=_e.textContent;$===_e._wrapperState.initialValue&&$!==""&&$!==null&&(_e.value=$)}function kb(_e){switch(_e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(_e,$){return _e==null||_e==="http://www.w3.org/1999/xhtml"?kb($):_e==="http://www.w3.org/2000/svg"&&$==="foreignObject"?"http://www.w3.org/1999/xhtml":_e}var mb,nb=function(_e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function($,ht,vt,bt){MSApp.execUnsafeLocalFunction(function(){return _e($,ht,vt,bt)})}:_e}(function(_e,$){if(_e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _e)_e.innerHTML=$;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+$.valueOf().toString()+"</svg>",$=mb.firstChild;_e.firstChild;)_e.removeChild(_e.firstChild);for(;$.firstChild;)_e.appendChild($.firstChild)}});function ob(_e,$){if($){var ht=_e.firstChild;if(ht&&ht===_e.lastChild&&ht.nodeType===3){ht.nodeValue=$;return}}_e.textContent=$}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(_e){qb.forEach(function($){$=$+_e.charAt(0).toUpperCase()+_e.substring(1),pb[$]=pb[_e]})});function rb(_e,$,ht){return $==null||typeof $=="boolean"||$===""?"":ht||typeof $!="number"||$===0||pb.hasOwnProperty(_e)&&pb[_e]?(""+$).trim():$+"px"}function sb(_e,$){_e=_e.style;for(var ht in $)if($.hasOwnProperty(ht)){var vt=ht.indexOf("--")===0,bt=rb(ht,$[ht],vt);ht==="float"&&(ht="cssFloat"),vt?_e.setProperty(ht,bt):_e[ht]=bt}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(_e,$){if($){if(tb[_e]&&($.children!=null||$.dangerouslySetInnerHTML!=null))throw Error(p$4(137,_e));if($.dangerouslySetInnerHTML!=null){if($.children!=null)throw Error(p$4(60));if(typeof $.dangerouslySetInnerHTML!="object"||!("__html"in $.dangerouslySetInnerHTML))throw Error(p$4(61))}if($.style!=null&&typeof $.style!="object")throw Error(p$4(62))}}function vb(_e,$){if(_e.indexOf("-")===-1)return typeof $.is=="string";switch(_e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(_e){return _e=_e.target||_e.srcElement||window,_e.correspondingUseElement&&(_e=_e.correspondingUseElement),_e.nodeType===3?_e.parentNode:_e}var yb=null,zb=null,Ab=null;function Bb(_e){if(_e=Cb(_e)){if(typeof yb!="function")throw Error(p$4(280));var $=_e.stateNode;$&&($=Db($),yb(_e.stateNode,_e.type,$))}}function Eb(_e){zb?Ab?Ab.push(_e):Ab=[_e]:zb=_e}function Fb(){if(zb){var _e=zb,$=Ab;if(Ab=zb=null,Bb(_e),$)for(_e=0;_e<$.length;_e++)Bb($[_e])}}function Gb(_e,$){return _e($)}function Hb(){}var Ib=!1;function Jb(_e,$,ht){if(Ib)return _e($,ht);Ib=!0;try{return Gb(_e,$,ht)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(_e,$){var ht=_e.stateNode;if(ht===null)return null;var vt=Db(ht);if(vt===null)return null;ht=vt[$];e:switch($){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(vt=!vt.disabled)||(_e=_e.type,vt=!(_e==="button"||_e==="input"||_e==="select"||_e==="textarea")),_e=!vt;break e;default:_e=!1}if(_e)return null;if(ht&&typeof ht!="function")throw Error(p$4(231,$,typeof ht));return ht}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(_e,$,ht,vt,bt,wt,At,Et,St){var Ct=Array.prototype.slice.call(arguments,3);try{$.apply(ht,Ct)}catch(xt){this.onError(xt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(_e){Ob=!0,Pb=_e}};function Tb(_e,$,ht,vt,bt,wt,At,Et,St){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(_e,$,ht,vt,bt,wt,At,Et,St){if(Tb.apply(this,arguments),Ob){if(Ob){var Ct=Pb;Ob=!1,Pb=null}else throw Error(p$4(198));Qb||(Qb=!0,Rb=Ct)}}function Vb(_e){var $=_e,ht=_e;if(_e.alternate)for(;$.return;)$=$.return;else{_e=$;do $=_e,$.flags&4098&&(ht=$.return),_e=$.return;while(_e)}return $.tag===3?ht:null}function Wb(_e){if(_e.tag===13){var $=_e.memoizedState;if($===null&&(_e=_e.alternate,_e!==null&&($=_e.memoizedState)),$!==null)return $.dehydrated}return null}function Xb(_e){if(Vb(_e)!==_e)throw Error(p$4(188))}function Yb(_e){var $=_e.alternate;if(!$){if($=Vb(_e),$===null)throw Error(p$4(188));return $!==_e?null:_e}for(var ht=_e,vt=$;;){var bt=ht.return;if(bt===null)break;var wt=bt.alternate;if(wt===null){if(vt=bt.return,vt!==null){ht=vt;continue}break}if(bt.child===wt.child){for(wt=bt.child;wt;){if(wt===ht)return Xb(bt),_e;if(wt===vt)return Xb(bt),$;wt=wt.sibling}throw Error(p$4(188))}if(ht.return!==vt.return)ht=bt,vt=wt;else{for(var At=!1,Et=bt.child;Et;){if(Et===ht){At=!0,ht=bt,vt=wt;break}if(Et===vt){At=!0,vt=bt,ht=wt;break}Et=Et.sibling}if(!At){for(Et=wt.child;Et;){if(Et===ht){At=!0,ht=wt,vt=bt;break}if(Et===vt){At=!0,vt=wt,ht=bt;break}Et=Et.sibling}if(!At)throw Error(p$4(189))}}if(ht.alternate!==vt)throw Error(p$4(190))}if(ht.tag!==3)throw Error(p$4(188));return ht.stateNode.current===ht?_e:$}function Zb(_e){return _e=Yb(_e),_e!==null?$b(_e):null}function $b(_e){if(_e.tag===5||_e.tag===6)return _e;for(_e=_e.child;_e!==null;){var $=$b(_e);if($!==null)return $;_e=_e.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(_e){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,_e,void 0,(_e.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(_e){return _e>>>=0,_e===0?32:31-(pc(_e)/qc|0)|0}var rc=64,sc=4194304;function tc(_e){switch(_e&-_e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _e}}function uc(_e,$){var ht=_e.pendingLanes;if(ht===0)return 0;var vt=0,bt=_e.suspendedLanes,wt=_e.pingedLanes,At=ht&268435455;if(At!==0){var Et=At&~bt;Et!==0?vt=tc(Et):(wt&=At,wt!==0&&(vt=tc(wt)))}else At=ht&~bt,At!==0?vt=tc(At):wt!==0&&(vt=tc(wt));if(vt===0)return 0;if($!==0&&$!==vt&&!($&bt)&&(bt=vt&-vt,wt=$&-$,bt>=wt||bt===16&&(wt&4194240)!==0))return $;if(vt&4&&(vt|=ht&16),$=_e.entangledLanes,$!==0)for(_e=_e.entanglements,$&=vt;0<$;)ht=31-oc($),bt=1<<ht,vt|=_e[ht],$&=~bt;return vt}function vc(_e,$){switch(_e){case 1:case 2:case 4:return $+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(_e,$){for(var ht=_e.suspendedLanes,vt=_e.pingedLanes,bt=_e.expirationTimes,wt=_e.pendingLanes;0<wt;){var At=31-oc(wt),Et=1<<At,St=bt[At];St===-1?(!(Et&ht)||Et&vt)&&(bt[At]=vc(Et,$)):St<=$&&(_e.expiredLanes|=Et),wt&=~Et}}function xc(_e){return _e=_e.pendingLanes&-1073741825,_e!==0?_e:_e&1073741824?1073741824:0}function yc(){var _e=rc;return rc<<=1,!(rc&4194240)&&(rc=64),_e}function zc(_e){for(var $=[],ht=0;31>ht;ht++)$.push(_e);return $}function Ac(_e,$,ht){_e.pendingLanes|=$,$!==536870912&&(_e.suspendedLanes=0,_e.pingedLanes=0),_e=_e.eventTimes,$=31-oc($),_e[$]=ht}function Bc(_e,$){var ht=_e.pendingLanes&~$;_e.pendingLanes=$,_e.suspendedLanes=0,_e.pingedLanes=0,_e.expiredLanes&=$,_e.mutableReadLanes&=$,_e.entangledLanes&=$,$=_e.entanglements;var vt=_e.eventTimes;for(_e=_e.expirationTimes;0<ht;){var bt=31-oc(ht),wt=1<<bt;$[bt]=0,vt[bt]=-1,_e[bt]=-1,ht&=~wt}}function Cc(_e,$){var ht=_e.entangledLanes|=$;for(_e=_e.entanglements;ht;){var vt=31-oc(ht),bt=1<<vt;bt&$|_e[vt]&$&&(_e[vt]|=$),ht&=~bt}}var C$1=0;function Dc(_e){return _e&=-_e,1<_e?4<_e?_e&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(_e,$){switch(_e){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete($.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete($.pointerId)}}function Tc(_e,$,ht,vt,bt,wt){return _e===null||_e.nativeEvent!==wt?(_e={blockedOn:$,domEventName:ht,eventSystemFlags:vt,nativeEvent:wt,targetContainers:[bt]},$!==null&&($=Cb($),$!==null&&Fc($)),_e):(_e.eventSystemFlags|=vt,$=_e.targetContainers,bt!==null&&$.indexOf(bt)===-1&&$.push(bt),_e)}function Uc(_e,$,ht,vt,bt){switch($){case"focusin":return Lc=Tc(Lc,_e,$,ht,vt,bt),!0;case"dragenter":return Mc=Tc(Mc,_e,$,ht,vt,bt),!0;case"mouseover":return Nc=Tc(Nc,_e,$,ht,vt,bt),!0;case"pointerover":var wt=bt.pointerId;return Oc.set(wt,Tc(Oc.get(wt)||null,_e,$,ht,vt,bt)),!0;case"gotpointercapture":return wt=bt.pointerId,Pc.set(wt,Tc(Pc.get(wt)||null,_e,$,ht,vt,bt)),!0}return!1}function Vc(_e){var $=Wc(_e.target);if($!==null){var ht=Vb($);if(ht!==null){if($=ht.tag,$===13){if($=Wb(ht),$!==null){_e.blockedOn=$,Ic(_e.priority,function(){Gc(ht)});return}}else if($===3&&ht.stateNode.current.memoizedState.isDehydrated){_e.blockedOn=ht.tag===3?ht.stateNode.containerInfo:null;return}}}_e.blockedOn=null}function Xc(_e){if(_e.blockedOn!==null)return!1;for(var $=_e.targetContainers;0<$.length;){var ht=Yc(_e.domEventName,_e.eventSystemFlags,$[0],_e.nativeEvent);if(ht===null){ht=_e.nativeEvent;var vt=new ht.constructor(ht.type,ht);wb=vt,ht.target.dispatchEvent(vt),wb=null}else return $=Cb(ht),$!==null&&Fc($),_e.blockedOn=ht,!1;$.shift()}return!0}function Zc(_e,$,ht){Xc(_e)&&ht.delete($)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(_e,$){_e.blockedOn===$&&(_e.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(_e){function $(bt){return ad(bt,_e)}if(0<Kc.length){ad(Kc[0],_e);for(var ht=1;ht<Kc.length;ht++){var vt=Kc[ht];vt.blockedOn===_e&&(vt.blockedOn=null)}}for(Lc!==null&&ad(Lc,_e),Mc!==null&&ad(Mc,_e),Nc!==null&&ad(Nc,_e),Oc.forEach($),Pc.forEach($),ht=0;ht<Qc.length;ht++)vt=Qc[ht],vt.blockedOn===_e&&(vt.blockedOn=null);for(;0<Qc.length&&(ht=Qc[0],ht.blockedOn===null);)Vc(ht),ht.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(_e,$,ht,vt){var bt=C$1,wt=cd.transition;cd.transition=null;try{C$1=1,fd(_e,$,ht,vt)}finally{C$1=bt,cd.transition=wt}}function gd(_e,$,ht,vt){var bt=C$1,wt=cd.transition;cd.transition=null;try{C$1=4,fd(_e,$,ht,vt)}finally{C$1=bt,cd.transition=wt}}function fd(_e,$,ht,vt){if(dd){var bt=Yc(_e,$,ht,vt);if(bt===null)hd(_e,$,vt,id$2,ht),Sc(_e,vt);else if(Uc(bt,_e,$,ht,vt))vt.stopPropagation();else if(Sc(_e,vt),$&4&&-1<Rc.indexOf(_e)){for(;bt!==null;){var wt=Cb(bt);if(wt!==null&&Ec(wt),wt=Yc(_e,$,ht,vt),wt===null&&hd(_e,$,vt,id$2,ht),wt===bt)break;bt=wt}bt!==null&&vt.stopPropagation()}else hd(_e,$,vt,null,ht)}}var id$2=null;function Yc(_e,$,ht,vt){if(id$2=null,_e=xb(vt),_e=Wc(_e),_e!==null)if($=Vb(_e),$===null)_e=null;else if(ht=$.tag,ht===13){if(_e=Wb($),_e!==null)return _e;_e=null}else if(ht===3){if($.stateNode.current.memoizedState.isDehydrated)return $.tag===3?$.stateNode.containerInfo:null;_e=null}else $!==_e&&(_e=null);return id$2=_e,null}function jd(_e){switch(_e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var _e,$=ld,ht=$.length,vt,bt="value"in kd?kd.value:kd.textContent,wt=bt.length;for(_e=0;_e<ht&&$[_e]===bt[_e];_e++);var At=ht-_e;for(vt=1;vt<=At&&$[ht-vt]===bt[wt-vt];vt++);return md=bt.slice(_e,1<vt?1-vt:void 0)}function od(_e){var $=_e.keyCode;return"charCode"in _e?(_e=_e.charCode,_e===0&&$===13&&(_e=13)):_e=$,_e===10&&(_e=13),32<=_e||_e===13?_e:0}function pd(){return!0}function qd(){return!1}function rd(_e){function $(ht,vt,bt,wt,At){this._reactName=ht,this._targetInst=bt,this.type=vt,this.nativeEvent=wt,this.target=At,this.currentTarget=null;for(var Et in _e)_e.hasOwnProperty(Et)&&(ht=_e[Et],this[Et]=ht?ht(wt):wt[Et]);return this.isDefaultPrevented=(wt.defaultPrevented!=null?wt.defaultPrevented:wt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3($.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ht=this.nativeEvent;ht&&(ht.preventDefault?ht.preventDefault():typeof ht.returnValue!="unknown"&&(ht.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var ht=this.nativeEvent;ht&&(ht.stopPropagation?ht.stopPropagation():typeof ht.cancelBubble!="unknown"&&(ht.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),$}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_e){return _e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(_e){return _e.relatedTarget===void 0?_e.fromElement===_e.srcElement?_e.toElement:_e.fromElement:_e.relatedTarget},movementX:function(_e){return"movementX"in _e?_e.movementX:(_e!==yd&&(yd&&_e.type==="mousemove"?(wd=_e.screenX-yd.screenX,xd=_e.screenY-yd.screenY):xd=wd=0,yd=_e),wd)},movementY:function(_e){return"movementY"in _e?_e.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(_e){return"clipboardData"in _e?_e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_e){var $=this.nativeEvent;return $.getModifierState?$.getModifierState(_e):(_e=Od[_e])?!!$[_e]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(_e){if(_e.key){var $=Md[_e.key]||_e.key;if($!=="Unidentified")return $}return _e.type==="keypress"?(_e=od(_e),_e===13?"Enter":String.fromCharCode(_e)):_e.type==="keydown"||_e.type==="keyup"?Nd[_e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(_e){return _e.type==="keypress"?od(_e):0},keyCode:function(_e){return _e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0},which:function(_e){return _e.type==="keypress"?od(_e):_e.type==="keydown"||_e.type==="keyup"?_e.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(_e){return"deltaX"in _e?_e.deltaX:"wheelDeltaX"in _e?-_e.wheelDeltaX:0},deltaY:function(_e){return"deltaY"in _e?_e.deltaY:"wheelDeltaY"in _e?-_e.wheelDeltaY:"wheelDelta"in _e?-_e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae||be$1&&8<be$1&&11>=be$1),ee=" ",fe=!1;function ge(_e,$){switch(_e){case"keyup":return $d.indexOf($.keyCode)!==-1;case"keydown":return $.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(_e){return _e=_e.detail,typeof _e=="object"&&"data"in _e?_e.data:null}var ie=!1;function je(_e,$){switch(_e){case"compositionend":return he($);case"keypress":return $.which!==32?null:(fe=!0,ee);case"textInput":return _e=$.data,_e===ee&&fe?null:_e;default:return null}}function ke(_e,$){if(ie)return _e==="compositionend"||!ae&&ge(_e,$)?(_e=nd(),md=ld=kd=null,ie=!1,_e):null;switch(_e){case"paste":return null;case"keypress":if(!($.ctrlKey||$.altKey||$.metaKey)||$.ctrlKey&&$.altKey){if($.char&&1<$.char.length)return $.char;if($.which)return String.fromCharCode($.which)}return null;case"compositionend":return de&&$.locale!=="ko"?null:$.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $==="input"?!!le[_e.type]:$==="textarea"}function ne(_e,$,ht,vt){Eb(vt),$=oe($,"onChange"),0<$.length&&(ht=new td("onChange","change",null,ht,vt),_e.push({event:ht,listeners:$}))}var pe$1=null,qe$1=null;function re(_e){se(_e,0)}function te$1(_e){var $=ue(_e);if(Wa($))return _e}function ve$1(_e,$){if(_e==="change")return $}var we=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe$1=pe$1=null)}function Be(_e){if(_e.propertyName==="value"&&te$1(qe$1)){var $=[];ne($,qe$1,_e,xb(_e)),Jb(re,$)}}function Ce(_e,$,ht){_e==="focusin"?(Ae(),pe$1=$,qe$1=ht,pe$1.attachEvent("onpropertychange",Be)):_e==="focusout"&&Ae()}function De(_e){if(_e==="selectionchange"||_e==="keyup"||_e==="keydown")return te$1(qe$1)}function Ee(_e,$){if(_e==="click")return te$1($)}function Fe$1(_e,$){if(_e==="input"||_e==="change")return te$1($)}function Ge(_e,$){return _e===$&&(_e!==0||1/_e===1/$)||_e!==_e&&$!==$}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(_e,$){if(He(_e,$))return!0;if(typeof _e!="object"||_e===null||typeof $!="object"||$===null)return!1;var ht=Object.keys(_e),vt=Object.keys($);if(ht.length!==vt.length)return!1;for(vt=0;vt<ht.length;vt++){var bt=ht[vt];if(!ja.call($,bt)||!He(_e[bt],$[bt]))return!1}return!0}function Je$1(_e){for(;_e&&_e.firstChild;)_e=_e.firstChild;return _e}function Ke(_e,$){var ht=Je$1(_e);_e=0;for(var vt;ht;){if(ht.nodeType===3){if(vt=_e+ht.textContent.length,_e<=$&&vt>=$)return{node:ht,offset:$-_e};_e=vt}e:{for(;ht;){if(ht.nextSibling){ht=ht.nextSibling;break e}ht=ht.parentNode}ht=void 0}ht=Je$1(ht)}}function Le(_e,$){return _e&&$?_e===$?!0:_e&&_e.nodeType===3?!1:$&&$.nodeType===3?Le(_e,$.parentNode):"contains"in _e?_e.contains($):_e.compareDocumentPosition?!!(_e.compareDocumentPosition($)&16):!1:!1}function Me(){for(var _e=window,$=Xa();$ instanceof _e.HTMLIFrameElement;){try{var ht=typeof $.contentWindow.location.href=="string"}catch{ht=!1}if(ht)_e=$.contentWindow;else break;$=Xa(_e.document)}return $}function Ne(_e){var $=_e&&_e.nodeName&&_e.nodeName.toLowerCase();return $&&($==="input"&&(_e.type==="text"||_e.type==="search"||_e.type==="tel"||_e.type==="url"||_e.type==="password")||$==="textarea"||_e.contentEditable==="true")}function Oe(_e){var $=Me(),ht=_e.focusedElem,vt=_e.selectionRange;if($!==ht&&ht&&ht.ownerDocument&&Le(ht.ownerDocument.documentElement,ht)){if(vt!==null&&Ne(ht)){if($=vt.start,_e=vt.end,_e===void 0&&(_e=$),"selectionStart"in ht)ht.selectionStart=$,ht.selectionEnd=Math.min(_e,ht.value.length);else if(_e=($=ht.ownerDocument||document)&&$.defaultView||window,_e.getSelection){_e=_e.getSelection();var bt=ht.textContent.length,wt=Math.min(vt.start,bt);vt=vt.end===void 0?wt:Math.min(vt.end,bt),!_e.extend&&wt>vt&&(bt=vt,vt=wt,wt=bt),bt=Ke(ht,wt);var At=Ke(ht,vt);bt&&At&&(_e.rangeCount!==1||_e.anchorNode!==bt.node||_e.anchorOffset!==bt.offset||_e.focusNode!==At.node||_e.focusOffset!==At.offset)&&($=$.createRange(),$.setStart(bt.node,bt.offset),_e.removeAllRanges(),wt>vt?(_e.addRange($),_e.extend(At.node,At.offset)):($.setEnd(At.node,At.offset),_e.addRange($)))}}for($=[],_e=ht;_e=_e.parentNode;)_e.nodeType===1&&$.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<$.length;ht++)_e=$[ht],_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te=!1;function Ue(_e,$,ht){var vt=ht.window===ht?ht.document:ht.nodeType===9?ht:ht.ownerDocument;Te||Qe==null||Qe!==Xa(vt)||(vt=Qe,"selectionStart"in vt&&Ne(vt)?vt={start:vt.selectionStart,end:vt.selectionEnd}:(vt=(vt.ownerDocument&&vt.ownerDocument.defaultView||window).getSelection(),vt={anchorNode:vt.anchorNode,anchorOffset:vt.anchorOffset,focusNode:vt.focusNode,focusOffset:vt.focusOffset}),Se&&Ie(Se,vt)||(Se=vt,vt=oe(Re$1,"onSelect"),0<vt.length&&($=new td("onSelect","select",null,$,ht),_e.push({event:$,listeners:vt}),$.target=Qe)))}function Ve$1(_e,$){var ht={};return ht[_e.toLowerCase()]=$.toLowerCase(),ht["Webkit"+_e]="webkit"+$,ht["Moz"+_e]="moz"+$,ht}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze$1(_e){if(Xe$1[_e])return Xe$1[_e];if(!We[_e])return _e;var $=We[_e],ht;for(ht in $)if($.hasOwnProperty(ht)&&ht in Ye$1)return Xe$1[_e]=$[ht];return _e}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_e,$){df.set(_e,$),fa($,[_e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_e,$,ht){var vt=_e.type||"unknown-event";_e.currentTarget=ht,Ub(vt,$,void 0,_e),_e.currentTarget=null}function se(_e,$){$=($&4)!==0;for(var ht=0;ht<_e.length;ht++){var vt=_e[ht],bt=vt.event;vt=vt.listeners;e:{var wt=void 0;if($)for(var At=vt.length-1;0<=At;At--){var Et=vt[At],St=Et.instance,Ct=Et.currentTarget;if(Et=Et.listener,St!==wt&&bt.isPropagationStopped())break e;nf(bt,Et,Ct),wt=St}else for(At=0;At<vt.length;At++){if(Et=vt[At],St=Et.instance,Ct=Et.currentTarget,Et=Et.listener,St!==wt&&bt.isPropagationStopped())break e;nf(bt,Et,Ct),wt=St}}}if(Qb)throw _e=Rb,Qb=!1,Rb=null,_e}function D$4(_e,$){var ht=$[of];ht===void 0&&(ht=$[of]=new Set);var vt=_e+"__bubble";ht.has(vt)||(pf($,_e,2,!1),ht.add(vt))}function qf(_e,$,ht){var vt=0;$&&(vt|=4),pf(ht,_e,vt,$)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_e){if(!_e[rf]){_e[rf]=!0,da.forEach(function(ht){ht!=="selectionchange"&&(mf.has(ht)||qf(ht,!1,_e),qf(ht,!0,_e))});var $=_e.nodeType===9?_e:_e.ownerDocument;$===null||$[rf]||($[rf]=!0,qf("selectionchange",!1,$))}}function pf(_e,$,ht,vt){switch(jd($)){case 1:var bt=ed;break;case 4:bt=gd;break;default:bt=fd}ht=bt.bind(null,$,ht,_e),bt=void 0,!Lb||$!=="touchstart"&&$!=="touchmove"&&$!=="wheel"||(bt=!0),vt?bt!==void 0?_e.addEventListener($,ht,{capture:!0,passive:bt}):_e.addEventListener($,ht,!0):bt!==void 0?_e.addEventListener($,ht,{passive:bt}):_e.addEventListener($,ht,!1)}function hd(_e,$,ht,vt,bt){var wt=vt;if(!($&1)&&!($&2)&&vt!==null)e:for(;;){if(vt===null)return;var At=vt.tag;if(At===3||At===4){var Et=vt.stateNode.containerInfo;if(Et===bt||Et.nodeType===8&&Et.parentNode===bt)break;if(At===4)for(At=vt.return;At!==null;){var St=At.tag;if((St===3||St===4)&&(St=At.stateNode.containerInfo,St===bt||St.nodeType===8&&St.parentNode===bt))return;At=At.return}for(;Et!==null;){if(At=Wc(Et),At===null)return;if(St=At.tag,St===5||St===6){vt=wt=At;continue e}Et=Et.parentNode}}vt=vt.return}Jb(function(){var Ct=wt,xt=xb(ht),Pt=[];e:{var kt=df.get(_e);if(kt!==void 0){var Rt=td,Mt=_e;switch(_e){case"keypress":if(od(ht)===0)break e;case"keydown":case"keyup":Rt=Rd;break;case"focusin":Mt="focus",Rt=Fd;break;case"focusout":Mt="blur",Rt=Fd;break;case"beforeblur":case"afterblur":Rt=Fd;break;case"click":if(ht.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=Vd;break;case $e$1:case af:case bf:Rt=Hd;break;case cf:Rt=Xd;break;case"scroll":Rt=vd;break;case"wheel":Rt=Zd;break;case"copy":case"cut":case"paste":Rt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=Td}var Ft=($&4)!==0,$t=!Ft&&_e==="scroll",Lt=Ft?kt!==null?kt+"Capture":null:kt;Ft=[];for(var Dt=Ct,Ot;Dt!==null;){Ot=Dt;var Bt=Ot.stateNode;if(Ot.tag===5&&Bt!==null&&(Ot=Bt,Lt!==null&&(Bt=Kb(Dt,Lt),Bt!=null&&Ft.push(tf(Dt,Bt,Ot)))),$t)break;Dt=Dt.return}0<Ft.length&&(kt=new Rt(kt,Mt,null,ht,xt),Pt.push({event:kt,listeners:Ft}))}}if(!($&7)){e:{if(kt=_e==="mouseover"||_e==="pointerover",Rt=_e==="mouseout"||_e==="pointerout",kt&&ht!==wb&&(Mt=ht.relatedTarget||ht.fromElement)&&(Wc(Mt)||Mt[uf]))break e;if((Rt||kt)&&(kt=xt.window===xt?xt:(kt=xt.ownerDocument)?kt.defaultView||kt.parentWindow:window,Rt?(Mt=ht.relatedTarget||ht.toElement,Rt=Ct,Mt=Mt?Wc(Mt):null,Mt!==null&&($t=Vb(Mt),Mt!==$t||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(Rt=null,Mt=Ct),Rt!==Mt)){if(Ft=Bd,Bt="onMouseLeave",Lt="onMouseEnter",Dt="mouse",(_e==="pointerout"||_e==="pointerover")&&(Ft=Td,Bt="onPointerLeave",Lt="onPointerEnter",Dt="pointer"),$t=Rt==null?kt:ue(Rt),Ot=Mt==null?kt:ue(Mt),kt=new Ft(Bt,Dt+"leave",Rt,ht,xt),kt.target=$t,kt.relatedTarget=Ot,Bt=null,Wc(xt)===Ct&&(Ft=new Ft(Lt,Dt+"enter",Mt,ht,xt),Ft.target=Ot,Ft.relatedTarget=$t,Bt=Ft),$t=Bt,Rt&&Mt)t:{for(Ft=Rt,Lt=Mt,Dt=0,Ot=Ft;Ot;Ot=vf(Ot))Dt++;for(Ot=0,Bt=Lt;Bt;Bt=vf(Bt))Ot++;for(;0<Dt-Ot;)Ft=vf(Ft),Dt--;for(;0<Ot-Dt;)Lt=vf(Lt),Ot--;for(;Dt--;){if(Ft===Lt||Lt!==null&&Ft===Lt.alternate)break t;Ft=vf(Ft),Lt=vf(Lt)}Ft=null}else Ft=null;Rt!==null&&wf(Pt,kt,Rt,Ft,!1),Mt!==null&&$t!==null&&wf(Pt,$t,Mt,Ft,!0)}}e:{if(kt=Ct?ue(Ct):window,Rt=kt.nodeName&&kt.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&kt.type==="file")var Nt=ve$1;else if(me(kt))if(we)Nt=Fe$1;else{Nt=De;var Ht=Ce}else(Rt=kt.nodeName)&&Rt.toLowerCase()==="input"&&(kt.type==="checkbox"||kt.type==="radio")&&(Nt=Ee);if(Nt&&(Nt=Nt(_e,Ct))){ne(Pt,Nt,ht,xt);break e}Ht&&Ht(_e,kt,Ct),_e==="focusout"&&(Ht=kt._wrapperState)&&Ht.controlled&&kt.type==="number"&&cb(kt,"number",kt.value)}switch(Ht=Ct?ue(Ct):window,_e){case"focusin":(me(Ht)||Ht.contentEditable==="true")&&(Qe=Ht,Re$1=Ct,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(Pt,ht,xt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(Pt,ht,xt)}var Vt;if(ae)e:{switch(_e){case"compositionstart":var jt="onCompositionStart";break e;case"compositionend":jt="onCompositionEnd";break e;case"compositionupdate":jt="onCompositionUpdate";break e}jt=void 0}else ie?ge(_e,ht)&&(jt="onCompositionEnd"):_e==="keydown"&&ht.keyCode===229&&(jt="onCompositionStart");jt&&(de&&ht.locale!=="ko"&&(ie||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ie&&(Vt=nd()):(kd=xt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Ht=oe(Ct,jt),0<Ht.length&&(jt=new Ld(jt,_e,null,ht,xt),Pt.push({event:jt,listeners:Ht}),Vt?jt.data=Vt:(Vt=he(ht),Vt!==null&&(jt.data=Vt)))),(Vt=ce$1?je(_e,ht):ke(_e,ht))&&(Ct=oe(Ct,"onBeforeInput"),0<Ct.length&&(xt=new Ld("onBeforeInput","beforeinput",null,ht,xt),Pt.push({event:xt,listeners:Ct}),xt.data=Vt))}se(Pt,$)})}function tf(_e,$,ht){return{instance:_e,listener:$,currentTarget:ht}}function oe(_e,$){for(var ht=$+"Capture",vt=[];_e!==null;){var bt=_e,wt=bt.stateNode;bt.tag===5&&wt!==null&&(bt=wt,wt=Kb(_e,ht),wt!=null&&vt.unshift(tf(_e,wt,bt)),wt=Kb(_e,$),wt!=null&&vt.push(tf(_e,wt,bt))),_e=_e.return}return vt}function vf(_e){if(_e===null)return null;do _e=_e.return;while(_e&&_e.tag!==5);return _e||null}function wf(_e,$,ht,vt,bt){for(var wt=$._reactName,At=[];ht!==null&&ht!==vt;){var Et=ht,St=Et.alternate,Ct=Et.stateNode;if(St!==null&&St===vt)break;Et.tag===5&&Ct!==null&&(Et=Ct,bt?(St=Kb(ht,wt),St!=null&&At.unshift(tf(ht,St,Et))):bt||(St=Kb(ht,wt),St!=null&&At.push(tf(ht,St,Et)))),ht=ht.return}At.length!==0&&_e.push({event:$,listeners:At})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_e){return(typeof _e=="string"?_e:""+_e).replace(xf,`
`).replace(yf,"")}function Af(_e,$,ht){if($=zf($),zf(_e)!==$&&ht)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(_e,$){return _e==="textarea"||_e==="noscript"||typeof $.children=="string"||typeof $.children=="number"||typeof $.dangerouslySetInnerHTML=="object"&&$.dangerouslySetInnerHTML!==null&&$.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_e){return Hf.resolve(null).then(_e).catch(If)}:Ff;function If(_e){setTimeout(function(){throw _e})}function Kf(_e,$){var ht=$,vt=0;do{var bt=ht.nextSibling;if(_e.removeChild(ht),bt&&bt.nodeType===8)if(ht=bt.data,ht==="/$"){if(vt===0){_e.removeChild(bt),bd($);return}vt--}else ht!=="$"&&ht!=="$?"&&ht!=="$!"||vt++;ht=bt}while(ht);bd($)}function Lf(_e){for(;_e!=null;_e=_e.nextSibling){var $=_e.nodeType;if($===1||$===3)break;if($===8){if($=_e.data,$==="$"||$==="$!"||$==="$?")break;if($==="/$")return null}}return _e}function Mf(_e){_e=_e.previousSibling;for(var $=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="$"||ht==="$!"||ht==="$?"){if($===0)return _e;$--}else ht==="/$"&&$++}_e=_e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(_e){var $=_e[Of];if($)return $;for(var ht=_e.parentNode;ht;){if($=ht[uf]||ht[Of]){if(ht=$.alternate,$.child!==null||ht!==null&&ht.child!==null)for(_e=Mf(_e);_e!==null;){if(ht=_e[Of])return ht;_e=Mf(_e)}return $}_e=ht,ht=_e.parentNode}return null}function Cb(_e){return _e=_e[Of]||_e[uf],!_e||_e.tag!==5&&_e.tag!==6&&_e.tag!==13&&_e.tag!==3?null:_e}function ue(_e){if(_e.tag===5||_e.tag===6)return _e.stateNode;throw Error(p$4(33))}function Db(_e){return _e[Pf]||null}var Sf=[],Tf=-1;function Uf(_e){return{current:_e}}function E$1(_e){0>Tf||(_e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(_e,$){Tf++,Sf[Tf]=_e.current,_e.current=$}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_e,$){var ht=_e.type.contextTypes;if(!ht)return Vf;var vt=_e.stateNode;if(vt&&vt.__reactInternalMemoizedUnmaskedChildContext===$)return vt.__reactInternalMemoizedMaskedChildContext;var bt={},wt;for(wt in ht)bt[wt]=$[wt];return vt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=$,_e.__reactInternalMemoizedMaskedChildContext=bt),bt}function Zf(_e){return _e=_e.childContextTypes,_e!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(_e,$,ht){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,$),G$2(Wf,ht)}function bg(_e,$,ht){var vt=_e.stateNode;if($=$.childContextTypes,typeof vt.getChildContext!="function")return ht;vt=vt.getChildContext();for(var bt in vt)if(!(bt in $))throw Error(p$4(108,Ra(_e)||"Unknown",bt));return A$3({},ht,vt)}function cg(_e){return _e=(_e=_e.stateNode)&&_e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,_e),G$2(Wf,Wf.current),!0}function dg(_e,$,ht){var vt=_e.stateNode;if(!vt)throw Error(p$4(169));ht?(_e=bg(_e,$,Xf),vt.__reactInternalMemoizedMergedChildContext=_e,E$1(Wf),E$1(H$2),G$2(H$2,_e)):E$1(Wf),G$2(Wf,ht)}var eg=null,fg=!1,gg=!1;function hg(_e){eg===null?eg=[_e]:eg.push(_e)}function ig(_e){fg=!0,hg(_e)}function jg(){if(!gg&&eg!==null){gg=!0;var _e=0,$=C$1;try{var ht=eg;for(C$1=1;_e<ht.length;_e++){var vt=ht[_e];do vt=vt(!0);while(vt!==null)}eg=null,fg=!1}catch(bt){throw eg!==null&&(eg=eg.slice(_e+1)),ac(fc,jg),bt}finally{C$1=$,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_e,$){kg[lg++]=ng,kg[lg++]=mg,mg=_e,ng=$}function ug(_e,$,ht){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_e;var vt=rg;_e=sg;var bt=32-oc(vt)-1;vt&=~(1<<bt),ht+=1;var wt=32-oc($)+bt;if(30<wt){var At=bt-bt%5;wt=(vt&(1<<At)-1).toString(32),vt>>=At,bt-=At,rg=1<<32-oc($)+bt|ht<<bt|vt,sg=wt+_e}else rg=1<<wt|ht<<bt|vt,sg=_e}function vg(_e){_e.return!==null&&(tg(_e,1),ug(_e,1,0))}function wg(_e){for(;_e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(_e,$){var ht=Bg(5,null,null,0);ht.elementType="DELETED",ht.stateNode=$,ht.return=_e,$=_e.deletions,$===null?(_e.deletions=[ht],_e.flags|=16):$.push(ht)}function Cg(_e,$){switch(_e.tag){case 5:var ht=_e.type;return $=$.nodeType!==1||ht.toLowerCase()!==$.nodeName.toLowerCase()?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=Lf($.firstChild),!0):!1;case 6:return $=_e.pendingProps===""||$.nodeType!==3?null:$,$!==null?(_e.stateNode=$,xg=_e,yg=null,!0):!1;case 13:return $=$.nodeType!==8?null:$,$!==null?(ht=qg!==null?{id:rg,overflow:sg}:null,_e.memoizedState={dehydrated:$,treeContext:ht,retryLane:1073741824},ht=Bg(18,null,null,0),ht.stateNode=$,ht.return=_e,_e.child=ht,xg=_e,yg=null,!0):!1;default:return!1}}function Dg(_e){return(_e.mode&1)!==0&&(_e.flags&128)===0}function Eg(_e){if(I$4){var $=yg;if($){var ht=$;if(!Cg(_e,$)){if(Dg(_e))throw Error(p$4(418));$=Lf(ht.nextSibling);var vt=xg;$&&Cg(_e,$)?Ag(vt,ht):(_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e)}}else{if(Dg(_e))throw Error(p$4(418));_e.flags=_e.flags&-4097|2,I$4=!1,xg=_e}}}function Fg(_e){for(_e=_e.return;_e!==null&&_e.tag!==5&&_e.tag!==3&&_e.tag!==13;)_e=_e.return;xg=_e}function Gg(_e){if(_e!==xg)return!1;if(!I$4)return Fg(_e),I$4=!0,!1;var $;if(($=_e.tag!==3)&&!($=_e.tag!==5)&&($=_e.type,$=$!=="head"&&$!=="body"&&!Ef(_e.type,_e.memoizedProps)),$&&($=yg)){if(Dg(_e))throw Hg(),Error(p$4(418));for(;$;)Ag(_e,$),$=Lf($.nextSibling)}if(Fg(_e),_e.tag===13){if(_e=_e.memoizedState,_e=_e!==null?_e.dehydrated:null,!_e)throw Error(p$4(317));e:{for(_e=_e.nextSibling,$=0;_e;){if(_e.nodeType===8){var ht=_e.data;if(ht==="/$"){if($===0){yg=Lf(_e.nextSibling);break e}$--}else ht!=="$"&&ht!=="$!"&&ht!=="$?"||$++}_e=_e.nextSibling}yg=null}}else yg=xg?Lf(_e.stateNode.nextSibling):null;return!0}function Hg(){for(var _e=yg;_e;)_e=Lf(_e.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(_e){zg===null?zg=[_e]:zg.push(_e)}var Kg=ua.ReactCurrentBatchConfig;function Lg(_e,$,ht){if(_e=ht.ref,_e!==null&&typeof _e!="function"&&typeof _e!="object"){if(ht._owner){if(ht=ht._owner,ht){if(ht.tag!==1)throw Error(p$4(309));var vt=ht.stateNode}if(!vt)throw Error(p$4(147,_e));var bt=vt,wt=""+_e;return $!==null&&$.ref!==null&&typeof $.ref=="function"&&$.ref._stringRef===wt?$.ref:($=function(At){var Et=bt.refs;At===null?delete Et[wt]:Et[wt]=At},$._stringRef=wt,$)}if(typeof _e!="string")throw Error(p$4(284));if(!ht._owner)throw Error(p$4(290,_e))}return _e}function Mg(_e,$){throw _e=Object.prototype.toString.call($),Error(p$4(31,_e==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":_e))}function Ng(_e){var $=_e._init;return $(_e._payload)}function Og(_e){function $(Lt,Dt){if(_e){var Ot=Lt.deletions;Ot===null?(Lt.deletions=[Dt],Lt.flags|=16):Ot.push(Dt)}}function ht(Lt,Dt){if(!_e)return null;for(;Dt!==null;)$(Lt,Dt),Dt=Dt.sibling;return null}function vt(Lt,Dt){for(Lt=new Map;Dt!==null;)Dt.key!==null?Lt.set(Dt.key,Dt):Lt.set(Dt.index,Dt),Dt=Dt.sibling;return Lt}function bt(Lt,Dt){return Lt=Pg(Lt,Dt),Lt.index=0,Lt.sibling=null,Lt}function wt(Lt,Dt,Ot){return Lt.index=Ot,_e?(Ot=Lt.alternate,Ot!==null?(Ot=Ot.index,Ot<Dt?(Lt.flags|=2,Dt):Ot):(Lt.flags|=2,Dt)):(Lt.flags|=1048576,Dt)}function At(Lt){return _e&&Lt.alternate===null&&(Lt.flags|=2),Lt}function Et(Lt,Dt,Ot,Bt){return Dt===null||Dt.tag!==6?(Dt=Qg(Ot,Lt.mode,Bt),Dt.return=Lt,Dt):(Dt=bt(Dt,Ot),Dt.return=Lt,Dt)}function St(Lt,Dt,Ot,Bt){var Nt=Ot.type;return Nt===ya?xt(Lt,Dt,Ot.props.children,Bt,Ot.key):Dt!==null&&(Dt.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ha&&Ng(Nt)===Dt.type)?(Bt=bt(Dt,Ot.props),Bt.ref=Lg(Lt,Dt,Ot),Bt.return=Lt,Bt):(Bt=Rg(Ot.type,Ot.key,Ot.props,null,Lt.mode,Bt),Bt.ref=Lg(Lt,Dt,Ot),Bt.return=Lt,Bt)}function Ct(Lt,Dt,Ot,Bt){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Ot.containerInfo||Dt.stateNode.implementation!==Ot.implementation?(Dt=Sg(Ot,Lt.mode,Bt),Dt.return=Lt,Dt):(Dt=bt(Dt,Ot.children||[]),Dt.return=Lt,Dt)}function xt(Lt,Dt,Ot,Bt,Nt){return Dt===null||Dt.tag!==7?(Dt=Tg(Ot,Lt.mode,Bt,Nt),Dt.return=Lt,Dt):(Dt=bt(Dt,Ot),Dt.return=Lt,Dt)}function Pt(Lt,Dt,Ot){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return Dt=Qg(""+Dt,Lt.mode,Ot),Dt.return=Lt,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case va:return Ot=Rg(Dt.type,Dt.key,Dt.props,null,Lt.mode,Ot),Ot.ref=Lg(Lt,null,Dt),Ot.return=Lt,Ot;case wa:return Dt=Sg(Dt,Lt.mode,Ot),Dt.return=Lt,Dt;case Ha:var Bt=Dt._init;return Pt(Lt,Bt(Dt._payload),Ot)}if(eb(Dt)||Ka(Dt))return Dt=Tg(Dt,Lt.mode,Ot,null),Dt.return=Lt,Dt;Mg(Lt,Dt)}return null}function kt(Lt,Dt,Ot,Bt){var Nt=Dt!==null?Dt.key:null;if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Nt!==null?null:Et(Lt,Dt,""+Ot,Bt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:return Ot.key===Nt?St(Lt,Dt,Ot,Bt):null;case wa:return Ot.key===Nt?Ct(Lt,Dt,Ot,Bt):null;case Ha:return Nt=Ot._init,kt(Lt,Dt,Nt(Ot._payload),Bt)}if(eb(Ot)||Ka(Ot))return Nt!==null?null:xt(Lt,Dt,Ot,Bt,null);Mg(Lt,Ot)}return null}function Rt(Lt,Dt,Ot,Bt,Nt){if(typeof Bt=="string"&&Bt!==""||typeof Bt=="number")return Lt=Lt.get(Ot)||null,Et(Dt,Lt,""+Bt,Nt);if(typeof Bt=="object"&&Bt!==null){switch(Bt.$$typeof){case va:return Lt=Lt.get(Bt.key===null?Ot:Bt.key)||null,St(Dt,Lt,Bt,Nt);case wa:return Lt=Lt.get(Bt.key===null?Ot:Bt.key)||null,Ct(Dt,Lt,Bt,Nt);case Ha:var Ht=Bt._init;return Rt(Lt,Dt,Ot,Ht(Bt._payload),Nt)}if(eb(Bt)||Ka(Bt))return Lt=Lt.get(Ot)||null,xt(Dt,Lt,Bt,Nt,null);Mg(Dt,Bt)}return null}function Mt(Lt,Dt,Ot,Bt){for(var Nt=null,Ht=null,Vt=Dt,jt=Dt=0,qt=null;Vt!==null&&jt<Ot.length;jt++){Vt.index>jt?(qt=Vt,Vt=null):qt=Vt.sibling;var Jt=kt(Lt,Vt,Ot[jt],Bt);if(Jt===null){Vt===null&&(Vt=qt);break}_e&&Vt&&Jt.alternate===null&&$(Lt,Vt),Dt=wt(Jt,Dt,jt),Ht===null?Nt=Jt:Ht.sibling=Jt,Ht=Jt,Vt=qt}if(jt===Ot.length)return ht(Lt,Vt),I$4&&tg(Lt,jt),Nt;if(Vt===null){for(;jt<Ot.length;jt++)Vt=Pt(Lt,Ot[jt],Bt),Vt!==null&&(Dt=wt(Vt,Dt,jt),Ht===null?Nt=Vt:Ht.sibling=Vt,Ht=Vt);return I$4&&tg(Lt,jt),Nt}for(Vt=vt(Lt,Vt);jt<Ot.length;jt++)qt=Rt(Vt,Lt,jt,Ot[jt],Bt),qt!==null&&(_e&&qt.alternate!==null&&Vt.delete(qt.key===null?jt:qt.key),Dt=wt(qt,Dt,jt),Ht===null?Nt=qt:Ht.sibling=qt,Ht=qt);return _e&&Vt.forEach(function(Gt){return $(Lt,Gt)}),I$4&&tg(Lt,jt),Nt}function Ft(Lt,Dt,Ot,Bt){var Nt=Ka(Ot);if(typeof Nt!="function")throw Error(p$4(150));if(Ot=Nt.call(Ot),Ot==null)throw Error(p$4(151));for(var Ht=Nt=null,Vt=Dt,jt=Dt=0,qt=null,Jt=Ot.next();Vt!==null&&!Jt.done;jt++,Jt=Ot.next()){Vt.index>jt?(qt=Vt,Vt=null):qt=Vt.sibling;var Gt=kt(Lt,Vt,Jt.value,Bt);if(Gt===null){Vt===null&&(Vt=qt);break}_e&&Vt&&Gt.alternate===null&&$(Lt,Vt),Dt=wt(Gt,Dt,jt),Ht===null?Nt=Gt:Ht.sibling=Gt,Ht=Gt,Vt=qt}if(Jt.done)return ht(Lt,Vt),I$4&&tg(Lt,jt),Nt;if(Vt===null){for(;!Jt.done;jt++,Jt=Ot.next())Jt=Pt(Lt,Jt.value,Bt),Jt!==null&&(Dt=wt(Jt,Dt,jt),Ht===null?Nt=Jt:Ht.sibling=Jt,Ht=Jt);return I$4&&tg(Lt,jt),Nt}for(Vt=vt(Lt,Vt);!Jt.done;jt++,Jt=Ot.next())Jt=Rt(Vt,Lt,jt,Jt.value,Bt),Jt!==null&&(_e&&Jt.alternate!==null&&Vt.delete(Jt.key===null?jt:Jt.key),Dt=wt(Jt,Dt,jt),Ht===null?Nt=Jt:Ht.sibling=Jt,Ht=Jt);return _e&&Vt.forEach(function(en){return $(Lt,en)}),I$4&&tg(Lt,jt),Nt}function $t(Lt,Dt,Ot,Bt){if(typeof Ot=="object"&&Ot!==null&&Ot.type===ya&&Ot.key===null&&(Ot=Ot.props.children),typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case va:e:{for(var Nt=Ot.key,Ht=Dt;Ht!==null;){if(Ht.key===Nt){if(Nt=Ot.type,Nt===ya){if(Ht.tag===7){ht(Lt,Ht.sibling),Dt=bt(Ht,Ot.props.children),Dt.return=Lt,Lt=Dt;break e}}else if(Ht.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Ha&&Ng(Nt)===Ht.type){ht(Lt,Ht.sibling),Dt=bt(Ht,Ot.props),Dt.ref=Lg(Lt,Ht,Ot),Dt.return=Lt,Lt=Dt;break e}ht(Lt,Ht);break}else $(Lt,Ht);Ht=Ht.sibling}Ot.type===ya?(Dt=Tg(Ot.props.children,Lt.mode,Bt,Ot.key),Dt.return=Lt,Lt=Dt):(Bt=Rg(Ot.type,Ot.key,Ot.props,null,Lt.mode,Bt),Bt.ref=Lg(Lt,Dt,Ot),Bt.return=Lt,Lt=Bt)}return At(Lt);case wa:e:{for(Ht=Ot.key;Dt!==null;){if(Dt.key===Ht)if(Dt.tag===4&&Dt.stateNode.containerInfo===Ot.containerInfo&&Dt.stateNode.implementation===Ot.implementation){ht(Lt,Dt.sibling),Dt=bt(Dt,Ot.children||[]),Dt.return=Lt,Lt=Dt;break e}else{ht(Lt,Dt);break}else $(Lt,Dt);Dt=Dt.sibling}Dt=Sg(Ot,Lt.mode,Bt),Dt.return=Lt,Lt=Dt}return At(Lt);case Ha:return Ht=Ot._init,$t(Lt,Dt,Ht(Ot._payload),Bt)}if(eb(Ot))return Mt(Lt,Dt,Ot,Bt);if(Ka(Ot))return Ft(Lt,Dt,Ot,Bt);Mg(Lt,Ot)}return typeof Ot=="string"&&Ot!==""||typeof Ot=="number"?(Ot=""+Ot,Dt!==null&&Dt.tag===6?(ht(Lt,Dt.sibling),Dt=bt(Dt,Ot),Dt.return=Lt,Lt=Dt):(ht(Lt,Dt),Dt=Qg(Ot,Lt.mode,Bt),Dt.return=Lt,Lt=Dt),At(Lt)):ht(Lt,Dt)}return $t}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(_e){var $=Wg.current;E$1(Wg),_e._currentValue=$}function bh(_e,$,ht){for(;_e!==null;){var vt=_e.alternate;if((_e.childLanes&$)!==$?(_e.childLanes|=$,vt!==null&&(vt.childLanes|=$)):vt!==null&&(vt.childLanes&$)!==$&&(vt.childLanes|=$),_e===ht)break;_e=_e.return}}function ch(_e,$){Xg=_e,Zg=Yg=null,_e=_e.dependencies,_e!==null&&_e.firstContext!==null&&(_e.lanes&$&&(dh=!0),_e.firstContext=null)}function eh(_e){var $=_e._currentValue;if(Zg!==_e)if(_e={context:_e,memoizedValue:$,next:null},Yg===null){if(Xg===null)throw Error(p$4(308));Yg=_e,Xg.dependencies={lanes:0,firstContext:_e}}else Yg=Yg.next=_e;return $}var fh=null;function gh(_e){fh===null?fh=[_e]:fh.push(_e)}function hh(_e,$,ht,vt){var bt=$.interleaved;return bt===null?(ht.next=ht,gh($)):(ht.next=bt.next,bt.next=ht),$.interleaved=ht,ih(_e,vt)}function ih(_e,$){_e.lanes|=$;var ht=_e.alternate;for(ht!==null&&(ht.lanes|=$),ht=_e,_e=_e.return;_e!==null;)_e.childLanes|=$,ht=_e.alternate,ht!==null&&(ht.childLanes|=$),ht=_e,_e=_e.return;return ht.tag===3?ht.stateNode:null}var jh=!1;function kh(_e){_e.updateQueue={baseState:_e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(_e,$){_e=_e.updateQueue,$.updateQueue===_e&&($.updateQueue={baseState:_e.baseState,firstBaseUpdate:_e.firstBaseUpdate,lastBaseUpdate:_e.lastBaseUpdate,shared:_e.shared,effects:_e.effects})}function mh(_e,$){return{eventTime:_e,lane:$,tag:0,payload:null,callback:null,next:null}}function nh(_e,$,ht){var vt=_e.updateQueue;if(vt===null)return null;if(vt=vt.shared,K&2){var bt=vt.pending;return bt===null?$.next=$:($.next=bt.next,bt.next=$),vt.pending=$,ih(_e,ht)}return bt=vt.interleaved,bt===null?($.next=$,gh(vt)):($.next=bt.next,bt.next=$),vt.interleaved=$,ih(_e,ht)}function oh(_e,$,ht){if($=$.updateQueue,$!==null&&($=$.shared,(ht&4194240)!==0)){var vt=$.lanes;vt&=_e.pendingLanes,ht|=vt,$.lanes=ht,Cc(_e,ht)}}function ph(_e,$){var ht=_e.updateQueue,vt=_e.alternate;if(vt!==null&&(vt=vt.updateQueue,ht===vt)){var bt=null,wt=null;if(ht=ht.firstBaseUpdate,ht!==null){do{var At={eventTime:ht.eventTime,lane:ht.lane,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null};wt===null?bt=wt=At:wt=wt.next=At,ht=ht.next}while(ht!==null);wt===null?bt=wt=$:wt=wt.next=$}else bt=wt=$;ht={baseState:vt.baseState,firstBaseUpdate:bt,lastBaseUpdate:wt,shared:vt.shared,effects:vt.effects},_e.updateQueue=ht;return}_e=ht.lastBaseUpdate,_e===null?ht.firstBaseUpdate=$:_e.next=$,ht.lastBaseUpdate=$}function qh(_e,$,ht,vt){var bt=_e.updateQueue;jh=!1;var wt=bt.firstBaseUpdate,At=bt.lastBaseUpdate,Et=bt.shared.pending;if(Et!==null){bt.shared.pending=null;var St=Et,Ct=St.next;St.next=null,At===null?wt=Ct:At.next=Ct,At=St;var xt=_e.alternate;xt!==null&&(xt=xt.updateQueue,Et=xt.lastBaseUpdate,Et!==At&&(Et===null?xt.firstBaseUpdate=Ct:Et.next=Ct,xt.lastBaseUpdate=St))}if(wt!==null){var Pt=bt.baseState;At=0,xt=Ct=St=null,Et=wt;do{var kt=Et.lane,Rt=Et.eventTime;if((vt&kt)===kt){xt!==null&&(xt=xt.next={eventTime:Rt,lane:0,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null});e:{var Mt=_e,Ft=Et;switch(kt=$,Rt=ht,Ft.tag){case 1:if(Mt=Ft.payload,typeof Mt=="function"){Pt=Mt.call(Rt,Pt,kt);break e}Pt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ft.payload,kt=typeof Mt=="function"?Mt.call(Rt,Pt,kt):Mt,kt==null)break e;Pt=A$3({},Pt,kt);break e;case 2:jh=!0}}Et.callback!==null&&Et.lane!==0&&(_e.flags|=64,kt=bt.effects,kt===null?bt.effects=[Et]:kt.push(Et))}else Rt={eventTime:Rt,lane:kt,tag:Et.tag,payload:Et.payload,callback:Et.callback,next:null},xt===null?(Ct=xt=Rt,St=Pt):xt=xt.next=Rt,At|=kt;if(Et=Et.next,Et===null){if(Et=bt.shared.pending,Et===null)break;kt=Et,Et=kt.next,kt.next=null,bt.lastBaseUpdate=kt,bt.shared.pending=null}}while(!0);if(xt===null&&(St=Pt),bt.baseState=St,bt.firstBaseUpdate=Ct,bt.lastBaseUpdate=xt,$=bt.shared.interleaved,$!==null){bt=$;do At|=bt.lane,bt=bt.next;while(bt!==$)}else wt===null&&(bt.shared.lanes=0);rh|=At,_e.lanes=At,_e.memoizedState=Pt}}function sh(_e,$,ht){if(_e=$.effects,$.effects=null,_e!==null)for($=0;$<_e.length;$++){var vt=_e[$],bt=vt.callback;if(bt!==null){if(vt.callback=null,vt=ht,typeof bt!="function")throw Error(p$4(191,bt));bt.call(vt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(_e){if(_e===th)throw Error(p$4(174));return _e}function yh(_e,$){switch(G$2(wh,$),G$2(vh$1,_e),G$2(uh,th),_e=$.nodeType,_e){case 9:case 11:$=($=$.documentElement)?$.namespaceURI:lb(null,"");break;default:_e=_e===8?$.parentNode:$,$=_e.namespaceURI||null,_e=_e.tagName,$=lb($,_e)}E$1(uh),G$2(uh,$)}function zh(){E$1(uh),E$1(vh$1),E$1(wh)}function Ah(_e){xh(wh.current);var $=xh(uh.current),ht=lb($,_e.type);$!==ht&&(G$2(vh$1,_e),G$2(uh,ht))}function Bh(_e){vh$1.current===_e&&(E$1(uh),E$1(vh$1))}var L$1=Uf(0);function Ch(_e){for(var $=_e;$!==null;){if($.tag===13){var ht=$.memoizedState;if(ht!==null&&(ht=ht.dehydrated,ht===null||ht.data==="$?"||ht.data==="$!"))return $}else if($.tag===19&&$.memoizedProps.revealOrder!==void 0){if($.flags&128)return $}else if($.child!==null){$.child.return=$,$=$.child;continue}if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return null;$=$.return}$.sibling.return=$.return,$=$.sibling}return null}var Dh=[];function Eh(){for(var _e=0;_e<Dh.length;_e++)Dh[_e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$2=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$3(){throw Error(p$4(321))}function Mh(_e,$){if($===null)return!1;for(var ht=0;ht<$.length&&ht<_e.length;ht++)if(!He(_e[ht],$[ht]))return!1;return!0}function Nh(_e,$,ht,vt,bt,wt){if(Hh=wt,M$3=$,$.memoizedState=null,$.updateQueue=null,$.lanes=0,Fh.current=_e===null||_e.memoizedState===null?Oh:Ph,_e=ht(vt,bt),Jh){wt=0;do{if(Jh=!1,Kh=0,25<=wt)throw Error(p$4(301));wt+=1,O$2=N$3=null,$.updateQueue=null,Fh.current=Qh,_e=ht(vt,bt)}while(Jh)}if(Fh.current=Rh,$=N$3!==null&&N$3.next!==null,Hh=0,O$2=N$3=M$3=null,Ih=!1,$)throw Error(p$4(300));return _e}function Sh(){var _e=Kh!==0;return Kh=0,_e}function Th(){var _e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e,O$2}function Uh(){if(N$3===null){var _e=M$3.alternate;_e=_e!==null?_e.memoizedState:null}else _e=N$3.next;var $=O$2===null?M$3.memoizedState:O$2.next;if($!==null)O$2=$,N$3=_e;else{if(_e===null)throw Error(p$4(310));N$3=_e,_e={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$2===null?M$3.memoizedState=O$2=_e:O$2=O$2.next=_e}return O$2}function Vh(_e,$){return typeof $=="function"?$(_e):$}function Wh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=_e;var vt=N$3,bt=vt.baseQueue,wt=ht.pending;if(wt!==null){if(bt!==null){var At=bt.next;bt.next=wt.next,wt.next=At}vt.baseQueue=bt=wt,ht.pending=null}if(bt!==null){wt=bt.next,vt=vt.baseState;var Et=At=null,St=null,Ct=wt;do{var xt=Ct.lane;if((Hh&xt)===xt)St!==null&&(St=St.next={lane:0,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null}),vt=Ct.hasEagerState?Ct.eagerState:_e(vt,Ct.action);else{var Pt={lane:xt,action:Ct.action,hasEagerState:Ct.hasEagerState,eagerState:Ct.eagerState,next:null};St===null?(Et=St=Pt,At=vt):St=St.next=Pt,M$3.lanes|=xt,rh|=xt}Ct=Ct.next}while(Ct!==null&&Ct!==wt);St===null?At=vt:St.next=Et,He(vt,$.memoizedState)||(dh=!0),$.memoizedState=vt,$.baseState=At,$.baseQueue=St,ht.lastRenderedState=vt}if(_e=ht.interleaved,_e!==null){bt=_e;do wt=bt.lane,M$3.lanes|=wt,rh|=wt,bt=bt.next;while(bt!==_e)}else bt===null&&(ht.lanes=0);return[$.memoizedState,ht.dispatch]}function Xh(_e){var $=Uh(),ht=$.queue;if(ht===null)throw Error(p$4(311));ht.lastRenderedReducer=_e;var vt=ht.dispatch,bt=ht.pending,wt=$.memoizedState;if(bt!==null){ht.pending=null;var At=bt=bt.next;do wt=_e(wt,At.action),At=At.next;while(At!==bt);He(wt,$.memoizedState)||(dh=!0),$.memoizedState=wt,$.baseQueue===null&&($.baseState=wt),ht.lastRenderedState=wt}return[wt,vt]}function Yh(){}function Zh(_e,$){var ht=M$3,vt=Uh(),bt=$(),wt=!He(vt.memoizedState,bt);if(wt&&(vt.memoizedState=bt,dh=!0),vt=vt.queue,$h(ai.bind(null,ht,vt,_e),[_e]),vt.getSnapshot!==$||wt||O$2!==null&&O$2.memoizedState.tag&1){if(ht.flags|=2048,bi(9,ci.bind(null,ht,vt,bt,$),void 0,null),Q===null)throw Error(p$4(349));Hh&30||di(ht,$,bt)}return bt}function di(_e,$,ht){_e.flags|=16384,_e={getSnapshot:$,value:ht},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.stores=[_e]):(ht=$.stores,ht===null?$.stores=[_e]:ht.push(_e))}function ci(_e,$,ht,vt){$.value=ht,$.getSnapshot=vt,ei($)&&fi(_e)}function ai(_e,$,ht){return ht(function(){ei($)&&fi(_e)})}function ei(_e){var $=_e.getSnapshot;_e=_e.value;try{var ht=$();return!He(_e,ht)}catch{return!0}}function fi(_e){var $=ih(_e,1);$!==null&&gi($,_e,1,-1)}function hi(_e){var $=Th();return typeof _e=="function"&&(_e=_e()),$.memoizedState=$.baseState=_e,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:_e},$.queue=_e,_e=_e.dispatch=ii.bind(null,M$3,_e),[$.memoizedState,_e]}function bi(_e,$,ht,vt){return _e={tag:_e,create:$,destroy:ht,deps:vt,next:null},$=M$3.updateQueue,$===null?($={lastEffect:null,stores:null},M$3.updateQueue=$,$.lastEffect=_e.next=_e):(ht=$.lastEffect,ht===null?$.lastEffect=_e.next=_e:(vt=ht.next,ht.next=_e,_e.next=vt,$.lastEffect=_e)),_e}function ji(){return Uh().memoizedState}function ki(_e,$,ht,vt){var bt=Th();M$3.flags|=_e,bt.memoizedState=bi(1|$,ht,void 0,vt===void 0?null:vt)}function li(_e,$,ht,vt){var bt=Uh();vt=vt===void 0?null:vt;var wt=void 0;if(N$3!==null){var At=N$3.memoizedState;if(wt=At.destroy,vt!==null&&Mh(vt,At.deps)){bt.memoizedState=bi($,ht,wt,vt);return}}M$3.flags|=_e,bt.memoizedState=bi(1|$,ht,wt,vt)}function mi(_e,$){return ki(8390656,8,_e,$)}function $h(_e,$){return li(2048,8,_e,$)}function ni(_e,$){return li(4,2,_e,$)}function oi(_e,$){return li(4,4,_e,$)}function pi(_e,$){if(typeof $=="function")return _e=_e(),$(_e),function(){$(null)};if($!=null)return _e=_e(),$.current=_e,function(){$.current=null}}function qi(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,li(4,4,pi.bind(null,$,_e),ht)}function ri(){}function si(_e,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(ht.memoizedState=[_e,$],_e)}function ti(_e,$){var ht=Uh();$=$===void 0?null:$;var vt=ht.memoizedState;return vt!==null&&$!==null&&Mh($,vt[1])?vt[0]:(_e=_e(),ht.memoizedState=[_e,$],_e)}function ui(_e,$,ht){return Hh&21?(He(ht,$)||(ht=yc(),M$3.lanes|=ht,rh|=ht,_e.baseState=!0),$):(_e.baseState&&(_e.baseState=!1,dh=!0),_e.memoizedState=ht)}function vi(_e,$){var ht=C$1;C$1=ht!==0&&4>ht?ht:4,_e(!0);var vt=Gh.transition;Gh.transition={};try{_e(!1),$()}finally{C$1=ht,Gh.transition=vt}}function wi(){return Uh().memoizedState}function xi(_e,$,ht){var vt=yi(_e);if(ht={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null},zi(_e))Ai($,ht);else if(ht=hh(_e,$,ht,vt),ht!==null){var bt=R$1();gi(ht,_e,vt,bt),Bi(ht,$,vt)}}function ii(_e,$,ht){var vt=yi(_e),bt={lane:vt,action:ht,hasEagerState:!1,eagerState:null,next:null};if(zi(_e))Ai($,bt);else{var wt=_e.alternate;if(_e.lanes===0&&(wt===null||wt.lanes===0)&&(wt=$.lastRenderedReducer,wt!==null))try{var At=$.lastRenderedState,Et=wt(At,ht);if(bt.hasEagerState=!0,bt.eagerState=Et,He(Et,At)){var St=$.interleaved;St===null?(bt.next=bt,gh($)):(bt.next=St.next,St.next=bt),$.interleaved=bt;return}}catch{}finally{}ht=hh(_e,$,bt,vt),ht!==null&&(bt=R$1(),gi(ht,_e,vt,bt),Bi(ht,$,vt))}}function zi(_e){var $=_e.alternate;return _e===M$3||$!==null&&$===M$3}function Ai(_e,$){Jh=Ih=!0;var ht=_e.pending;ht===null?$.next=$:($.next=ht.next,ht.next=$),_e.pending=$}function Bi(_e,$,ht){if(ht&4194240){var vt=$.lanes;vt&=_e.pendingLanes,ht|=vt,$.lanes=ht,Cc(_e,ht)}}var Rh={readContext:eh,useCallback:P$3,useContext:P$3,useEffect:P$3,useImperativeHandle:P$3,useInsertionEffect:P$3,useLayoutEffect:P$3,useMemo:P$3,useReducer:P$3,useRef:P$3,useState:P$3,useDebugValue:P$3,useDeferredValue:P$3,useTransition:P$3,useMutableSource:P$3,useSyncExternalStore:P$3,useId:P$3,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(_e,$){return Th().memoizedState=[_e,$===void 0?null:$],_e},useContext:eh,useEffect:mi,useImperativeHandle:function(_e,$,ht){return ht=ht!=null?ht.concat([_e]):null,ki(4194308,4,pi.bind(null,$,_e),ht)},useLayoutEffect:function(_e,$){return ki(4194308,4,_e,$)},useInsertionEffect:function(_e,$){return ki(4,2,_e,$)},useMemo:function(_e,$){var ht=Th();return $=$===void 0?null:$,_e=_e(),ht.memoizedState=[_e,$],_e},useReducer:function(_e,$,ht){var vt=Th();return $=ht!==void 0?ht($):$,vt.memoizedState=vt.baseState=$,_e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_e,lastRenderedState:$},vt.queue=_e,_e=_e.dispatch=xi.bind(null,M$3,_e),[vt.memoizedState,_e]},useRef:function(_e){var $=Th();return _e={current:_e},$.memoizedState=_e},useState:hi,useDebugValue:ri,useDeferredValue:function(_e){return Th().memoizedState=_e},useTransition:function(){var _e=hi(!1),$=_e[0];return _e=vi.bind(null,_e[1]),Th().memoizedState=_e,[$,_e]},useMutableSource:function(){},useSyncExternalStore:function(_e,$,ht){var vt=M$3,bt=Th();if(I$4){if(ht===void 0)throw Error(p$4(407));ht=ht()}else{if(ht=$(),Q===null)throw Error(p$4(349));Hh&30||di(vt,$,ht)}bt.memoizedState=ht;var wt={value:ht,getSnapshot:$};return bt.queue=wt,mi(ai.bind(null,vt,wt,_e),[_e]),vt.flags|=2048,bi(9,ci.bind(null,vt,wt,ht,$),void 0,null),ht},useId:function(){var _e=Th(),$=Q.identifierPrefix;if(I$4){var ht=sg,vt=rg;ht=(vt&~(1<<32-oc(vt)-1)).toString(32)+ht,$=":"+$+"R"+ht,ht=Kh++,0<ht&&($+="H"+ht.toString(32)),$+=":"}else ht=Lh++,$=":"+$+"r"+ht.toString(32)+":";return _e.memoizedState=$},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Wh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(_e){var $=Uh();return N$3===null?$.memoizedState=_e:ui($,N$3.memoizedState,_e)},useTransition:function(){var _e=Xh(Vh)[0],$=Uh().memoizedState;return[_e,$]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(_e,$){if(_e&&_e.defaultProps){$=A$3({},$),_e=_e.defaultProps;for(var ht in _e)$[ht]===void 0&&($[ht]=_e[ht]);return $}return $}function Di(_e,$,ht,vt){$=_e.memoizedState,ht=ht(vt,$),ht=ht==null?$:A$3({},$,ht),_e.memoizedState=ht,_e.lanes===0&&(_e.updateQueue.baseState=ht)}var Ei={isMounted:function(_e){return(_e=_e._reactInternals)?Vb(_e)===_e:!1},enqueueSetState:function(_e,$,ht){_e=_e._reactInternals;var vt=R$1(),bt=yi(_e),wt=mh(vt,bt);wt.payload=$,ht!=null&&(wt.callback=ht),$=nh(_e,wt,bt),$!==null&&(gi($,_e,bt,vt),oh($,_e,bt))},enqueueReplaceState:function(_e,$,ht){_e=_e._reactInternals;var vt=R$1(),bt=yi(_e),wt=mh(vt,bt);wt.tag=1,wt.payload=$,ht!=null&&(wt.callback=ht),$=nh(_e,wt,bt),$!==null&&(gi($,_e,bt,vt),oh($,_e,bt))},enqueueForceUpdate:function(_e,$){_e=_e._reactInternals;var ht=R$1(),vt=yi(_e),bt=mh(ht,vt);bt.tag=2,$!=null&&(bt.callback=$),$=nh(_e,bt,vt),$!==null&&(gi($,_e,vt,ht),oh($,_e,vt))}};function Fi(_e,$,ht,vt,bt,wt,At){return _e=_e.stateNode,typeof _e.shouldComponentUpdate=="function"?_e.shouldComponentUpdate(vt,wt,At):$.prototype&&$.prototype.isPureReactComponent?!Ie(ht,vt)||!Ie(bt,wt):!0}function Gi(_e,$,ht){var vt=!1,bt=Vf,wt=$.contextType;return typeof wt=="object"&&wt!==null?wt=eh(wt):(bt=Zf($)?Xf:H$2.current,vt=$.contextTypes,wt=(vt=vt!=null)?Yf(_e,bt):Vf),$=new $(ht,wt),_e.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=Ei,_e.stateNode=$,$._reactInternals=_e,vt&&(_e=_e.stateNode,_e.__reactInternalMemoizedUnmaskedChildContext=bt,_e.__reactInternalMemoizedMaskedChildContext=wt),$}function Hi(_e,$,ht,vt){_e=$.state,typeof $.componentWillReceiveProps=="function"&&$.componentWillReceiveProps(ht,vt),typeof $.UNSAFE_componentWillReceiveProps=="function"&&$.UNSAFE_componentWillReceiveProps(ht,vt),$.state!==_e&&Ei.enqueueReplaceState($,$.state,null)}function Ii(_e,$,ht,vt){var bt=_e.stateNode;bt.props=ht,bt.state=_e.memoizedState,bt.refs={},kh(_e);var wt=$.contextType;typeof wt=="object"&&wt!==null?bt.context=eh(wt):(wt=Zf($)?Xf:H$2.current,bt.context=Yf(_e,wt)),bt.state=_e.memoizedState,wt=$.getDerivedStateFromProps,typeof wt=="function"&&(Di(_e,$,wt,ht),bt.state=_e.memoizedState),typeof $.getDerivedStateFromProps=="function"||typeof bt.getSnapshotBeforeUpdate=="function"||typeof bt.UNSAFE_componentWillMount!="function"&&typeof bt.componentWillMount!="function"||($=bt.state,typeof bt.componentWillMount=="function"&&bt.componentWillMount(),typeof bt.UNSAFE_componentWillMount=="function"&&bt.UNSAFE_componentWillMount(),$!==bt.state&&Ei.enqueueReplaceState(bt,bt.state,null),qh(_e,ht,bt,vt),bt.state=_e.memoizedState),typeof bt.componentDidMount=="function"&&(_e.flags|=4194308)}function Ji(_e,$){try{var ht="",vt=$;do ht+=Pa(vt),vt=vt.return;while(vt);var bt=ht}catch(wt){bt=`
Error generating stack: `+wt.message+`
`+wt.stack}return{value:_e,source:$,stack:bt,digest:null}}function Ki(_e,$,ht){return{value:_e,source:null,stack:ht??null,digest:$??null}}function Li(_e,$){try{console.error($.value)}catch(ht){setTimeout(function(){throw ht})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(_e,$,ht){ht=mh(-1,ht),ht.tag=3,ht.payload={element:null};var vt=$.value;return ht.callback=function(){Oi||(Oi=!0,Pi=vt),Li(_e,$)},ht}function Qi(_e,$,ht){ht=mh(-1,ht),ht.tag=3;var vt=_e.type.getDerivedStateFromError;if(typeof vt=="function"){var bt=$.value;ht.payload=function(){return vt(bt)},ht.callback=function(){Li(_e,$)}}var wt=_e.stateNode;return wt!==null&&typeof wt.componentDidCatch=="function"&&(ht.callback=function(){Li(_e,$),typeof vt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var At=$.stack;this.componentDidCatch($.value,{componentStack:At!==null?At:""})}),ht}function Si(_e,$,ht){var vt=_e.pingCache;if(vt===null){vt=_e.pingCache=new Mi;var bt=new Set;vt.set($,bt)}else bt=vt.get($),bt===void 0&&(bt=new Set,vt.set($,bt));bt.has(ht)||(bt.add(ht),_e=Ti.bind(null,_e,$,ht),$.then(_e,_e))}function Ui(_e){do{var $;if(($=_e.tag===13)&&($=_e.memoizedState,$=$!==null?$.dehydrated!==null:!0),$)return _e;_e=_e.return}while(_e!==null);return null}function Vi(_e,$,ht,vt,bt){return _e.mode&1?(_e.flags|=65536,_e.lanes=bt,_e):(_e===$?_e.flags|=65536:(_e.flags|=128,ht.flags|=131072,ht.flags&=-52805,ht.tag===1&&(ht.alternate===null?ht.tag=17:($=mh(-1,1),$.tag=2,nh(ht,$,1))),ht.lanes|=1),_e)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(_e,$,ht,vt){$.child=_e===null?Vg($,null,ht,vt):Ug($,_e.child,ht,vt)}function Yi(_e,$,ht,vt,bt){ht=ht.render;var wt=$.ref;return ch($,bt),vt=Nh(_e,$,ht,vt,wt,bt),ht=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~bt,Zi(_e,$,bt)):(I$4&&ht&&vg($),$.flags|=1,Xi(_e,$,vt,bt),$.child)}function $i(_e,$,ht,vt,bt){if(_e===null){var wt=ht.type;return typeof wt=="function"&&!aj(wt)&&wt.defaultProps===void 0&&ht.compare===null&&ht.defaultProps===void 0?($.tag=15,$.type=wt,bj(_e,$,wt,vt,bt)):(_e=Rg(ht.type,null,vt,$,$.mode,bt),_e.ref=$.ref,_e.return=$,$.child=_e)}if(wt=_e.child,!(_e.lanes&bt)){var At=wt.memoizedProps;if(ht=ht.compare,ht=ht!==null?ht:Ie,ht(At,vt)&&_e.ref===$.ref)return Zi(_e,$,bt)}return $.flags|=1,_e=Pg(wt,vt),_e.ref=$.ref,_e.return=$,$.child=_e}function bj(_e,$,ht,vt,bt){if(_e!==null){var wt=_e.memoizedProps;if(Ie(wt,vt)&&_e.ref===$.ref)if(dh=!1,$.pendingProps=vt=wt,(_e.lanes&bt)!==0)_e.flags&131072&&(dh=!0);else return $.lanes=_e.lanes,Zi(_e,$,bt)}return cj(_e,$,ht,vt,bt)}function dj(_e,$,ht){var vt=$.pendingProps,bt=vt.children,wt=_e!==null?_e.memoizedState:null;if(vt.mode==="hidden")if(!($.mode&1))$.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=ht;else{if(!(ht&1073741824))return _e=wt!==null?wt.baseLanes|ht:ht,$.lanes=$.childLanes=1073741824,$.memoizedState={baseLanes:_e,cachePool:null,transitions:null},$.updateQueue=null,G$2(ej,fj),fj|=_e,null;$.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt=wt!==null?wt.baseLanes:ht,G$2(ej,fj),fj|=vt}else wt!==null?(vt=wt.baseLanes|ht,$.memoizedState=null):vt=ht,G$2(ej,fj),fj|=vt;return Xi(_e,$,bt,ht),$.child}function gj(_e,$){var ht=$.ref;(_e===null&&ht!==null||_e!==null&&_e.ref!==ht)&&($.flags|=512,$.flags|=2097152)}function cj(_e,$,ht,vt,bt){var wt=Zf(ht)?Xf:H$2.current;return wt=Yf($,wt),ch($,bt),ht=Nh(_e,$,ht,vt,wt,bt),vt=Sh(),_e!==null&&!dh?($.updateQueue=_e.updateQueue,$.flags&=-2053,_e.lanes&=~bt,Zi(_e,$,bt)):(I$4&&vt&&vg($),$.flags|=1,Xi(_e,$,ht,bt),$.child)}function hj(_e,$,ht,vt,bt){if(Zf(ht)){var wt=!0;cg($)}else wt=!1;if(ch($,bt),$.stateNode===null)ij(_e,$),Gi($,ht,vt),Ii($,ht,vt,bt),vt=!0;else if(_e===null){var At=$.stateNode,Et=$.memoizedProps;At.props=Et;var St=At.context,Ct=ht.contextType;typeof Ct=="object"&&Ct!==null?Ct=eh(Ct):(Ct=Zf(ht)?Xf:H$2.current,Ct=Yf($,Ct));var xt=ht.getDerivedStateFromProps,Pt=typeof xt=="function"||typeof At.getSnapshotBeforeUpdate=="function";Pt||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Et!==vt||St!==Ct)&&Hi($,At,vt,Ct),jh=!1;var kt=$.memoizedState;At.state=kt,qh($,vt,At,bt),St=$.memoizedState,Et!==vt||kt!==St||Wf.current||jh?(typeof xt=="function"&&(Di($,ht,xt,vt),St=$.memoizedState),(Et=jh||Fi($,ht,Et,vt,kt,St,Ct))?(Pt||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||(typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount()),typeof At.componentDidMount=="function"&&($.flags|=4194308)):(typeof At.componentDidMount=="function"&&($.flags|=4194308),$.memoizedProps=vt,$.memoizedState=St),At.props=vt,At.state=St,At.context=Ct,vt=Et):(typeof At.componentDidMount=="function"&&($.flags|=4194308),vt=!1)}else{At=$.stateNode,lh(_e,$),Et=$.memoizedProps,Ct=$.type===$.elementType?Et:Ci($.type,Et),At.props=Ct,Pt=$.pendingProps,kt=At.context,St=ht.contextType,typeof St=="object"&&St!==null?St=eh(St):(St=Zf(ht)?Xf:H$2.current,St=Yf($,St));var Rt=ht.getDerivedStateFromProps;(xt=typeof Rt=="function"||typeof At.getSnapshotBeforeUpdate=="function")||typeof At.UNSAFE_componentWillReceiveProps!="function"&&typeof At.componentWillReceiveProps!="function"||(Et!==Pt||kt!==St)&&Hi($,At,vt,St),jh=!1,kt=$.memoizedState,At.state=kt,qh($,vt,At,bt);var Mt=$.memoizedState;Et!==Pt||kt!==Mt||Wf.current||jh?(typeof Rt=="function"&&(Di($,ht,Rt,vt),Mt=$.memoizedState),(Ct=jh||Fi($,ht,Ct,vt,kt,Mt,St)||!1)?(xt||typeof At.UNSAFE_componentWillUpdate!="function"&&typeof At.componentWillUpdate!="function"||(typeof At.componentWillUpdate=="function"&&At.componentWillUpdate(vt,Mt,St),typeof At.UNSAFE_componentWillUpdate=="function"&&At.UNSAFE_componentWillUpdate(vt,Mt,St)),typeof At.componentDidUpdate=="function"&&($.flags|=4),typeof At.getSnapshotBeforeUpdate=="function"&&($.flags|=1024)):(typeof At.componentDidUpdate!="function"||Et===_e.memoizedProps&&kt===_e.memoizedState||($.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Et===_e.memoizedProps&&kt===_e.memoizedState||($.flags|=1024),$.memoizedProps=vt,$.memoizedState=Mt),At.props=vt,At.state=Mt,At.context=St,vt=Ct):(typeof At.componentDidUpdate!="function"||Et===_e.memoizedProps&&kt===_e.memoizedState||($.flags|=4),typeof At.getSnapshotBeforeUpdate!="function"||Et===_e.memoizedProps&&kt===_e.memoizedState||($.flags|=1024),vt=!1)}return jj(_e,$,ht,vt,wt,bt)}function jj(_e,$,ht,vt,bt,wt){gj(_e,$);var At=($.flags&128)!==0;if(!vt&&!At)return bt&&dg($,ht,!1),Zi(_e,$,wt);vt=$.stateNode,Wi.current=$;var Et=At&&typeof ht.getDerivedStateFromError!="function"?null:vt.render();return $.flags|=1,_e!==null&&At?($.child=Ug($,_e.child,null,wt),$.child=Ug($,null,Et,wt)):Xi(_e,$,Et,wt),$.memoizedState=vt.state,bt&&dg($,ht,!0),$.child}function kj(_e){var $=_e.stateNode;$.pendingContext?ag(_e,$.pendingContext,$.pendingContext!==$.context):$.context&&ag(_e,$.context,!1),yh(_e,$.containerInfo)}function lj(_e,$,ht,vt,bt){return Ig(),Jg(bt),$.flags|=256,Xi(_e,$,ht,vt),$.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(_e){return{baseLanes:_e,cachePool:null,transitions:null}}function oj(_e,$,ht){var vt=$.pendingProps,bt=L$1.current,wt=!1,At=($.flags&128)!==0,Et;if((Et=At)||(Et=_e!==null&&_e.memoizedState===null?!1:(bt&2)!==0),Et?(wt=!0,$.flags&=-129):(_e===null||_e.memoizedState!==null)&&(bt|=1),G$2(L$1,bt&1),_e===null)return Eg($),_e=$.memoizedState,_e!==null&&(_e=_e.dehydrated,_e!==null)?($.mode&1?_e.data==="$!"?$.lanes=8:$.lanes=1073741824:$.lanes=1,null):(At=vt.children,_e=vt.fallback,wt?(vt=$.mode,wt=$.child,At={mode:"hidden",children:At},!(vt&1)&&wt!==null?(wt.childLanes=0,wt.pendingProps=At):wt=pj(At,vt,0,null),_e=Tg(_e,vt,ht,null),wt.return=$,_e.return=$,wt.sibling=_e,$.child=wt,$.child.memoizedState=nj(ht),$.memoizedState=mj,_e):qj($,At));if(bt=_e.memoizedState,bt!==null&&(Et=bt.dehydrated,Et!==null))return rj(_e,$,At,vt,Et,bt,ht);if(wt){wt=vt.fallback,At=$.mode,bt=_e.child,Et=bt.sibling;var St={mode:"hidden",children:vt.children};return!(At&1)&&$.child!==bt?(vt=$.child,vt.childLanes=0,vt.pendingProps=St,$.deletions=null):(vt=Pg(bt,St),vt.subtreeFlags=bt.subtreeFlags&14680064),Et!==null?wt=Pg(Et,wt):(wt=Tg(wt,At,ht,null),wt.flags|=2),wt.return=$,vt.return=$,vt.sibling=wt,$.child=vt,vt=wt,wt=$.child,At=_e.child.memoizedState,At=At===null?nj(ht):{baseLanes:At.baseLanes|ht,cachePool:null,transitions:At.transitions},wt.memoizedState=At,wt.childLanes=_e.childLanes&~ht,$.memoizedState=mj,vt}return wt=_e.child,_e=wt.sibling,vt=Pg(wt,{mode:"visible",children:vt.children}),!($.mode&1)&&(vt.lanes=ht),vt.return=$,vt.sibling=null,_e!==null&&(ht=$.deletions,ht===null?($.deletions=[_e],$.flags|=16):ht.push(_e)),$.child=vt,$.memoizedState=null,vt}function qj(_e,$){return $=pj({mode:"visible",children:$},_e.mode,0,null),$.return=_e,_e.child=$}function sj(_e,$,ht,vt){return vt!==null&&Jg(vt),Ug($,_e.child,null,ht),_e=qj($,$.pendingProps.children),_e.flags|=2,$.memoizedState=null,_e}function rj(_e,$,ht,vt,bt,wt,At){if(ht)return $.flags&256?($.flags&=-257,vt=Ki(Error(p$4(422))),sj(_e,$,At,vt)):$.memoizedState!==null?($.child=_e.child,$.flags|=128,null):(wt=vt.fallback,bt=$.mode,vt=pj({mode:"visible",children:vt.children},bt,0,null),wt=Tg(wt,bt,At,null),wt.flags|=2,vt.return=$,wt.return=$,vt.sibling=wt,$.child=vt,$.mode&1&&Ug($,_e.child,null,At),$.child.memoizedState=nj(At),$.memoizedState=mj,wt);if(!($.mode&1))return sj(_e,$,At,null);if(bt.data==="$!"){if(vt=bt.nextSibling&&bt.nextSibling.dataset,vt)var Et=vt.dgst;return vt=Et,wt=Error(p$4(419)),vt=Ki(wt,vt,void 0),sj(_e,$,At,vt)}if(Et=(At&_e.childLanes)!==0,dh||Et){if(vt=Q,vt!==null){switch(At&-At){case 4:bt=2;break;case 16:bt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:bt=32;break;case 536870912:bt=268435456;break;default:bt=0}bt=bt&(vt.suspendedLanes|At)?0:bt,bt!==0&&bt!==wt.retryLane&&(wt.retryLane=bt,ih(_e,bt),gi(vt,_e,bt,-1))}return tj(),vt=Ki(Error(p$4(421))),sj(_e,$,At,vt)}return bt.data==="$?"?($.flags|=128,$.child=_e.child,$=uj.bind(null,_e),bt._reactRetry=$,null):(_e=wt.treeContext,yg=Lf(bt.nextSibling),xg=$,I$4=!0,zg=null,_e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_e.id,sg=_e.overflow,qg=$),$=qj($,vt.children),$.flags|=4096,$)}function vj(_e,$,ht){_e.lanes|=$;var vt=_e.alternate;vt!==null&&(vt.lanes|=$),bh(_e.return,$,ht)}function wj(_e,$,ht,vt,bt){var wt=_e.memoizedState;wt===null?_e.memoizedState={isBackwards:$,rendering:null,renderingStartTime:0,last:vt,tail:ht,tailMode:bt}:(wt.isBackwards=$,wt.rendering=null,wt.renderingStartTime=0,wt.last=vt,wt.tail=ht,wt.tailMode=bt)}function xj(_e,$,ht){var vt=$.pendingProps,bt=vt.revealOrder,wt=vt.tail;if(Xi(_e,$,vt.children,ht),vt=L$1.current,vt&2)vt=vt&1|2,$.flags|=128;else{if(_e!==null&&_e.flags&128)e:for(_e=$.child;_e!==null;){if(_e.tag===13)_e.memoizedState!==null&&vj(_e,ht,$);else if(_e.tag===19)vj(_e,ht,$);else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===$)break e;for(;_e.sibling===null;){if(_e.return===null||_e.return===$)break e;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}vt&=1}if(G$2(L$1,vt),!($.mode&1))$.memoizedState=null;else switch(bt){case"forwards":for(ht=$.child,bt=null;ht!==null;)_e=ht.alternate,_e!==null&&Ch(_e)===null&&(bt=ht),ht=ht.sibling;ht=bt,ht===null?(bt=$.child,$.child=null):(bt=ht.sibling,ht.sibling=null),wj($,!1,bt,ht,wt);break;case"backwards":for(ht=null,bt=$.child,$.child=null;bt!==null;){if(_e=bt.alternate,_e!==null&&Ch(_e)===null){$.child=bt;break}_e=bt.sibling,bt.sibling=ht,ht=bt,bt=_e}wj($,!0,ht,null,wt);break;case"together":wj($,!1,null,null,void 0);break;default:$.memoizedState=null}return $.child}function ij(_e,$){!($.mode&1)&&_e!==null&&(_e.alternate=null,$.alternate=null,$.flags|=2)}function Zi(_e,$,ht){if(_e!==null&&($.dependencies=_e.dependencies),rh|=$.lanes,!(ht&$.childLanes))return null;if(_e!==null&&$.child!==_e.child)throw Error(p$4(153));if($.child!==null){for(_e=$.child,ht=Pg(_e,_e.pendingProps),$.child=ht,ht.return=$;_e.sibling!==null;)_e=_e.sibling,ht=ht.sibling=Pg(_e,_e.pendingProps),ht.return=$;ht.sibling=null}return $.child}function yj(_e,$,ht){switch($.tag){case 3:kj($),Ig();break;case 5:Ah($);break;case 1:Zf($.type)&&cg($);break;case 4:yh($,$.stateNode.containerInfo);break;case 10:var vt=$.type._context,bt=$.memoizedProps.value;G$2(Wg,vt._currentValue),vt._currentValue=bt;break;case 13:if(vt=$.memoizedState,vt!==null)return vt.dehydrated!==null?(G$2(L$1,L$1.current&1),$.flags|=128,null):ht&$.child.childLanes?oj(_e,$,ht):(G$2(L$1,L$1.current&1),_e=Zi(_e,$,ht),_e!==null?_e.sibling:null);G$2(L$1,L$1.current&1);break;case 19:if(vt=(ht&$.childLanes)!==0,_e.flags&128){if(vt)return xj(_e,$,ht);$.flags|=128}if(bt=$.memoizedState,bt!==null&&(bt.rendering=null,bt.tail=null,bt.lastEffect=null),G$2(L$1,L$1.current),vt)break;return null;case 22:case 23:return $.lanes=0,dj(_e,$,ht)}return Zi(_e,$,ht)}var zj,Aj,Bj,Cj;zj=function(_e,$){for(var ht=$.child;ht!==null;){if(ht.tag===5||ht.tag===6)_e.appendChild(ht.stateNode);else if(ht.tag!==4&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===$)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===$)return;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}};Aj=function(){};Bj=function(_e,$,ht,vt){var bt=_e.memoizedProps;if(bt!==vt){_e=$.stateNode,xh(uh.current);var wt=null;switch(ht){case"input":bt=Ya(_e,bt),vt=Ya(_e,vt),wt=[];break;case"select":bt=A$3({},bt,{value:void 0}),vt=A$3({},vt,{value:void 0}),wt=[];break;case"textarea":bt=gb(_e,bt),vt=gb(_e,vt),wt=[];break;default:typeof bt.onClick!="function"&&typeof vt.onClick=="function"&&(_e.onclick=Bf)}ub(ht,vt);var At;ht=null;for(Ct in bt)if(!vt.hasOwnProperty(Ct)&&bt.hasOwnProperty(Ct)&&bt[Ct]!=null)if(Ct==="style"){var Et=bt[Ct];for(At in Et)Et.hasOwnProperty(At)&&(ht||(ht={}),ht[At]="")}else Ct!=="dangerouslySetInnerHTML"&&Ct!=="children"&&Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&Ct!=="autoFocus"&&(ea.hasOwnProperty(Ct)?wt||(wt=[]):(wt=wt||[]).push(Ct,null));for(Ct in vt){var St=vt[Ct];if(Et=bt!=null?bt[Ct]:void 0,vt.hasOwnProperty(Ct)&&St!==Et&&(St!=null||Et!=null))if(Ct==="style")if(Et){for(At in Et)!Et.hasOwnProperty(At)||St&&St.hasOwnProperty(At)||(ht||(ht={}),ht[At]="");for(At in St)St.hasOwnProperty(At)&&Et[At]!==St[At]&&(ht||(ht={}),ht[At]=St[At])}else ht||(wt||(wt=[]),wt.push(Ct,ht)),ht=St;else Ct==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,Et=Et?Et.__html:void 0,St!=null&&Et!==St&&(wt=wt||[]).push(Ct,St)):Ct==="children"?typeof St!="string"&&typeof St!="number"||(wt=wt||[]).push(Ct,""+St):Ct!=="suppressContentEditableWarning"&&Ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(Ct)?(St!=null&&Ct==="onScroll"&&D$4("scroll",_e),wt||Et===St||(wt=[])):(wt=wt||[]).push(Ct,St))}ht&&(wt=wt||[]).push("style",ht);var Ct=wt;($.updateQueue=Ct)&&($.flags|=4)}};Cj=function(_e,$,ht,vt){ht!==vt&&($.flags|=4)};function Dj(_e,$){if(!I$4)switch(_e.tailMode){case"hidden":$=_e.tail;for(var ht=null;$!==null;)$.alternate!==null&&(ht=$),$=$.sibling;ht===null?_e.tail=null:ht.sibling=null;break;case"collapsed":ht=_e.tail;for(var vt=null;ht!==null;)ht.alternate!==null&&(vt=ht),ht=ht.sibling;vt===null?$||_e.tail===null?_e.tail=null:_e.tail.sibling=null:vt.sibling=null}}function S$4(_e){var $=_e.alternate!==null&&_e.alternate.child===_e.child,ht=0,vt=0;if($)for(var bt=_e.child;bt!==null;)ht|=bt.lanes|bt.childLanes,vt|=bt.subtreeFlags&14680064,vt|=bt.flags&14680064,bt.return=_e,bt=bt.sibling;else for(bt=_e.child;bt!==null;)ht|=bt.lanes|bt.childLanes,vt|=bt.subtreeFlags,vt|=bt.flags,bt.return=_e,bt=bt.sibling;return _e.subtreeFlags|=vt,_e.childLanes=ht,$}function Ej(_e,$,ht){var vt=$.pendingProps;switch(wg($),$.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4($),null;case 1:return Zf($.type)&&$f(),S$4($),null;case 3:return vt=$.stateNode,zh(),E$1(Wf),E$1(H$2),Eh(),vt.pendingContext&&(vt.context=vt.pendingContext,vt.pendingContext=null),(_e===null||_e.child===null)&&(Gg($)?$.flags|=4:_e===null||_e.memoizedState.isDehydrated&&!($.flags&256)||($.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(_e,$),S$4($),null;case 5:Bh($);var bt=xh(wh.current);if(ht=$.type,_e!==null&&$.stateNode!=null)Bj(_e,$,ht,vt,bt),_e.ref!==$.ref&&($.flags|=512,$.flags|=2097152);else{if(!vt){if($.stateNode===null)throw Error(p$4(166));return S$4($),null}if(_e=xh(uh.current),Gg($)){vt=$.stateNode,ht=$.type;var wt=$.memoizedProps;switch(vt[Of]=$,vt[Pf]=wt,_e=($.mode&1)!==0,ht){case"dialog":D$4("cancel",vt),D$4("close",vt);break;case"iframe":case"object":case"embed":D$4("load",vt);break;case"video":case"audio":for(bt=0;bt<lf.length;bt++)D$4(lf[bt],vt);break;case"source":D$4("error",vt);break;case"img":case"image":case"link":D$4("error",vt),D$4("load",vt);break;case"details":D$4("toggle",vt);break;case"input":Za(vt,wt),D$4("invalid",vt);break;case"select":vt._wrapperState={wasMultiple:!!wt.multiple},D$4("invalid",vt);break;case"textarea":hb(vt,wt),D$4("invalid",vt)}ub(ht,wt),bt=null;for(var At in wt)if(wt.hasOwnProperty(At)){var Et=wt[At];At==="children"?typeof Et=="string"?vt.textContent!==Et&&(wt.suppressHydrationWarning!==!0&&Af(vt.textContent,Et,_e),bt=["children",Et]):typeof Et=="number"&&vt.textContent!==""+Et&&(wt.suppressHydrationWarning!==!0&&Af(vt.textContent,Et,_e),bt=["children",""+Et]):ea.hasOwnProperty(At)&&Et!=null&&At==="onScroll"&&D$4("scroll",vt)}switch(ht){case"input":Va(vt),db(vt,wt,!0);break;case"textarea":Va(vt),jb(vt);break;case"select":case"option":break;default:typeof wt.onClick=="function"&&(vt.onclick=Bf)}vt=bt,$.updateQueue=vt,vt!==null&&($.flags|=4)}else{At=bt.nodeType===9?bt:bt.ownerDocument,_e==="http://www.w3.org/1999/xhtml"&&(_e=kb(ht)),_e==="http://www.w3.org/1999/xhtml"?ht==="script"?(_e=At.createElement("div"),_e.innerHTML="<script><\/script>",_e=_e.removeChild(_e.firstChild)):typeof vt.is=="string"?_e=At.createElement(ht,{is:vt.is}):(_e=At.createElement(ht),ht==="select"&&(At=_e,vt.multiple?At.multiple=!0:vt.size&&(At.size=vt.size))):_e=At.createElementNS(_e,ht),_e[Of]=$,_e[Pf]=vt,zj(_e,$,!1,!1),$.stateNode=_e;e:{switch(At=vb(ht,vt),ht){case"dialog":D$4("cancel",_e),D$4("close",_e),bt=vt;break;case"iframe":case"object":case"embed":D$4("load",_e),bt=vt;break;case"video":case"audio":for(bt=0;bt<lf.length;bt++)D$4(lf[bt],_e);bt=vt;break;case"source":D$4("error",_e),bt=vt;break;case"img":case"image":case"link":D$4("error",_e),D$4("load",_e),bt=vt;break;case"details":D$4("toggle",_e),bt=vt;break;case"input":Za(_e,vt),bt=Ya(_e,vt),D$4("invalid",_e);break;case"option":bt=vt;break;case"select":_e._wrapperState={wasMultiple:!!vt.multiple},bt=A$3({},vt,{value:void 0}),D$4("invalid",_e);break;case"textarea":hb(_e,vt),bt=gb(_e,vt),D$4("invalid",_e);break;default:bt=vt}ub(ht,bt),Et=bt;for(wt in Et)if(Et.hasOwnProperty(wt)){var St=Et[wt];wt==="style"?sb(_e,St):wt==="dangerouslySetInnerHTML"?(St=St?St.__html:void 0,St!=null&&nb(_e,St)):wt==="children"?typeof St=="string"?(ht!=="textarea"||St!=="")&&ob(_e,St):typeof St=="number"&&ob(_e,""+St):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(ea.hasOwnProperty(wt)?St!=null&&wt==="onScroll"&&D$4("scroll",_e):St!=null&&ta(_e,wt,St,At))}switch(ht){case"input":Va(_e),db(_e,vt,!1);break;case"textarea":Va(_e),jb(_e);break;case"option":vt.value!=null&&_e.setAttribute("value",""+Sa(vt.value));break;case"select":_e.multiple=!!vt.multiple,wt=vt.value,wt!=null?fb(_e,!!vt.multiple,wt,!1):vt.defaultValue!=null&&fb(_e,!!vt.multiple,vt.defaultValue,!0);break;default:typeof bt.onClick=="function"&&(_e.onclick=Bf)}switch(ht){case"button":case"input":case"select":case"textarea":vt=!!vt.autoFocus;break e;case"img":vt=!0;break e;default:vt=!1}}vt&&($.flags|=4)}$.ref!==null&&($.flags|=512,$.flags|=2097152)}return S$4($),null;case 6:if(_e&&$.stateNode!=null)Cj(_e,$,_e.memoizedProps,vt);else{if(typeof vt!="string"&&$.stateNode===null)throw Error(p$4(166));if(ht=xh(wh.current),xh(uh.current),Gg($)){if(vt=$.stateNode,ht=$.memoizedProps,vt[Of]=$,(wt=vt.nodeValue!==ht)&&(_e=xg,_e!==null))switch(_e.tag){case 3:Af(vt.nodeValue,ht,(_e.mode&1)!==0);break;case 5:_e.memoizedProps.suppressHydrationWarning!==!0&&Af(vt.nodeValue,ht,(_e.mode&1)!==0)}wt&&($.flags|=4)}else vt=(ht.nodeType===9?ht:ht.ownerDocument).createTextNode(vt),vt[Of]=$,$.stateNode=vt}return S$4($),null;case 13:if(E$1(L$1),vt=$.memoizedState,_e===null||_e.memoizedState!==null&&_e.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&$.mode&1&&!($.flags&128))Hg(),Ig(),$.flags|=98560,wt=!1;else if(wt=Gg($),vt!==null&&vt.dehydrated!==null){if(_e===null){if(!wt)throw Error(p$4(318));if(wt=$.memoizedState,wt=wt!==null?wt.dehydrated:null,!wt)throw Error(p$4(317));wt[Of]=$}else Ig(),!($.flags&128)&&($.memoizedState=null),$.flags|=4;S$4($),wt=!1}else zg!==null&&(Fj(zg),zg=null),wt=!0;if(!wt)return $.flags&65536?$:null}return $.flags&128?($.lanes=ht,$):(vt=vt!==null,vt!==(_e!==null&&_e.memoizedState!==null)&&vt&&($.child.flags|=8192,$.mode&1&&(_e===null||L$1.current&1?T$3===0&&(T$3=3):tj())),$.updateQueue!==null&&($.flags|=4),S$4($),null);case 4:return zh(),Aj(_e,$),_e===null&&sf($.stateNode.containerInfo),S$4($),null;case 10:return ah($.type._context),S$4($),null;case 17:return Zf($.type)&&$f(),S$4($),null;case 19:if(E$1(L$1),wt=$.memoizedState,wt===null)return S$4($),null;if(vt=($.flags&128)!==0,At=wt.rendering,At===null)if(vt)Dj(wt,!1);else{if(T$3!==0||_e!==null&&_e.flags&128)for(_e=$.child;_e!==null;){if(At=Ch(_e),At!==null){for($.flags|=128,Dj(wt,!1),vt=At.updateQueue,vt!==null&&($.updateQueue=vt,$.flags|=4),$.subtreeFlags=0,vt=ht,ht=$.child;ht!==null;)wt=ht,_e=vt,wt.flags&=14680066,At=wt.alternate,At===null?(wt.childLanes=0,wt.lanes=_e,wt.child=null,wt.subtreeFlags=0,wt.memoizedProps=null,wt.memoizedState=null,wt.updateQueue=null,wt.dependencies=null,wt.stateNode=null):(wt.childLanes=At.childLanes,wt.lanes=At.lanes,wt.child=At.child,wt.subtreeFlags=0,wt.deletions=null,wt.memoizedProps=At.memoizedProps,wt.memoizedState=At.memoizedState,wt.updateQueue=At.updateQueue,wt.type=At.type,_e=At.dependencies,wt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext}),ht=ht.sibling;return G$2(L$1,L$1.current&1|2),$.child}_e=_e.sibling}wt.tail!==null&&B$1()>Gj&&($.flags|=128,vt=!0,Dj(wt,!1),$.lanes=4194304)}else{if(!vt)if(_e=Ch(At),_e!==null){if($.flags|=128,vt=!0,ht=_e.updateQueue,ht!==null&&($.updateQueue=ht,$.flags|=4),Dj(wt,!0),wt.tail===null&&wt.tailMode==="hidden"&&!At.alternate&&!I$4)return S$4($),null}else 2*B$1()-wt.renderingStartTime>Gj&&ht!==1073741824&&($.flags|=128,vt=!0,Dj(wt,!1),$.lanes=4194304);wt.isBackwards?(At.sibling=$.child,$.child=At):(ht=wt.last,ht!==null?ht.sibling=At:$.child=At,wt.last=At)}return wt.tail!==null?($=wt.tail,wt.rendering=$,wt.tail=$.sibling,wt.renderingStartTime=B$1(),$.sibling=null,ht=L$1.current,G$2(L$1,vt?ht&1|2:ht&1),$):(S$4($),null);case 22:case 23:return Hj(),vt=$.memoizedState!==null,_e!==null&&_e.memoizedState!==null!==vt&&($.flags|=8192),vt&&$.mode&1?fj&1073741824&&(S$4($),$.subtreeFlags&6&&($.flags|=8192)):S$4($),null;case 24:return null;case 25:return null}throw Error(p$4(156,$.tag))}function Ij(_e,$){switch(wg($),$.tag){case 1:return Zf($.type)&&$f(),_e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 3:return zh(),E$1(Wf),E$1(H$2),Eh(),_e=$.flags,_e&65536&&!(_e&128)?($.flags=_e&-65537|128,$):null;case 5:return Bh($),null;case 13:if(E$1(L$1),_e=$.memoizedState,_e!==null&&_e.dehydrated!==null){if($.alternate===null)throw Error(p$4(340));Ig()}return _e=$.flags,_e&65536?($.flags=_e&-65537|128,$):null;case 19:return E$1(L$1),null;case 4:return zh(),null;case 10:return ah($.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(_e,$){var ht=_e.ref;if(ht!==null)if(typeof ht=="function")try{ht(null)}catch(vt){W$2(_e,$,vt)}else ht.current=null}function Mj(_e,$,ht){try{ht()}catch(vt){W$2(_e,$,vt)}}var Nj=!1;function Oj(_e,$){if(Cf=dd,_e=Me(),Ne(_e)){if("selectionStart"in _e)var ht={start:_e.selectionStart,end:_e.selectionEnd};else e:{ht=(ht=_e.ownerDocument)&&ht.defaultView||window;var vt=ht.getSelection&&ht.getSelection();if(vt&&vt.rangeCount!==0){ht=vt.anchorNode;var bt=vt.anchorOffset,wt=vt.focusNode;vt=vt.focusOffset;try{ht.nodeType,wt.nodeType}catch{ht=null;break e}var At=0,Et=-1,St=-1,Ct=0,xt=0,Pt=_e,kt=null;t:for(;;){for(var Rt;Pt!==ht||bt!==0&&Pt.nodeType!==3||(Et=At+bt),Pt!==wt||vt!==0&&Pt.nodeType!==3||(St=At+vt),Pt.nodeType===3&&(At+=Pt.nodeValue.length),(Rt=Pt.firstChild)!==null;)kt=Pt,Pt=Rt;for(;;){if(Pt===_e)break t;if(kt===ht&&++Ct===bt&&(Et=At),kt===wt&&++xt===vt&&(St=At),(Rt=Pt.nextSibling)!==null)break;Pt=kt,kt=Pt.parentNode}Pt=Rt}ht=Et===-1||St===-1?null:{start:Et,end:St}}else ht=null}ht=ht||{start:0,end:0}}else ht=null;for(Df={focusedElem:_e,selectionRange:ht},dd=!1,V$1=$;V$1!==null;)if($=V$1,_e=$.child,($.subtreeFlags&1028)!==0&&_e!==null)_e.return=$,V$1=_e;else for(;V$1!==null;){$=V$1;try{var Mt=$.alternate;if($.flags&1024)switch($.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Ft=Mt.memoizedProps,$t=Mt.memoizedState,Lt=$.stateNode,Dt=Lt.getSnapshotBeforeUpdate($.elementType===$.type?Ft:Ci($.type,Ft),$t);Lt.__reactInternalSnapshotBeforeUpdate=Dt}break;case 3:var Ot=$.stateNode.containerInfo;Ot.nodeType===1?Ot.textContent="":Ot.nodeType===9&&Ot.documentElement&&Ot.removeChild(Ot.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(Bt){W$2($,$.return,Bt)}if(_e=$.sibling,_e!==null){_e.return=$.return,V$1=_e;break}V$1=$.return}return Mt=Nj,Nj=!1,Mt}function Pj(_e,$,ht){var vt=$.updateQueue;if(vt=vt!==null?vt.lastEffect:null,vt!==null){var bt=vt=vt.next;do{if((bt.tag&_e)===_e){var wt=bt.destroy;bt.destroy=void 0,wt!==void 0&&Mj($,ht,wt)}bt=bt.next}while(bt!==vt)}}function Qj(_e,$){if($=$.updateQueue,$=$!==null?$.lastEffect:null,$!==null){var ht=$=$.next;do{if((ht.tag&_e)===_e){var vt=ht.create;ht.destroy=vt()}ht=ht.next}while(ht!==$)}}function Rj(_e){var $=_e.ref;if($!==null){var ht=_e.stateNode;switch(_e.tag){case 5:_e=ht;break;default:_e=ht}typeof $=="function"?$(_e):$.current=_e}}function Sj(_e){var $=_e.alternate;$!==null&&(_e.alternate=null,Sj($)),_e.child=null,_e.deletions=null,_e.sibling=null,_e.tag===5&&($=_e.stateNode,$!==null&&(delete $[Of],delete $[Pf],delete $[of],delete $[Qf],delete $[Rf])),_e.stateNode=null,_e.return=null,_e.dependencies=null,_e.memoizedProps=null,_e.memoizedState=null,_e.pendingProps=null,_e.stateNode=null,_e.updateQueue=null}function Tj(_e){return _e.tag===5||_e.tag===3||_e.tag===4}function Uj(_e){e:for(;;){for(;_e.sibling===null;){if(_e.return===null||Tj(_e.return))return null;_e=_e.return}for(_e.sibling.return=_e.return,_e=_e.sibling;_e.tag!==5&&_e.tag!==6&&_e.tag!==18;){if(_e.flags&2||_e.child===null||_e.tag===4)continue e;_e.child.return=_e,_e=_e.child}if(!(_e.flags&2))return _e.stateNode}}function Vj(_e,$,ht){var vt=_e.tag;if(vt===5||vt===6)_e=_e.stateNode,$?ht.nodeType===8?ht.parentNode.insertBefore(_e,$):ht.insertBefore(_e,$):(ht.nodeType===8?($=ht.parentNode,$.insertBefore(_e,ht)):($=ht,$.appendChild(_e)),ht=ht._reactRootContainer,ht!=null||$.onclick!==null||($.onclick=Bf));else if(vt!==4&&(_e=_e.child,_e!==null))for(Vj(_e,$,ht),_e=_e.sibling;_e!==null;)Vj(_e,$,ht),_e=_e.sibling}function Wj(_e,$,ht){var vt=_e.tag;if(vt===5||vt===6)_e=_e.stateNode,$?ht.insertBefore(_e,$):ht.appendChild(_e);else if(vt!==4&&(_e=_e.child,_e!==null))for(Wj(_e,$,ht),_e=_e.sibling;_e!==null;)Wj(_e,$,ht),_e=_e.sibling}var X$1=null,Xj=!1;function Yj(_e,$,ht){for(ht=ht.child;ht!==null;)Zj(_e,$,ht),ht=ht.sibling}function Zj(_e,$,ht){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,ht)}catch{}switch(ht.tag){case 5:U$2||Lj(ht,$);case 6:var vt=X$1,bt=Xj;X$1=null,Yj(_e,$,ht),X$1=vt,Xj=bt,X$1!==null&&(Xj?(_e=X$1,ht=ht.stateNode,_e.nodeType===8?_e.parentNode.removeChild(ht):_e.removeChild(ht)):X$1.removeChild(ht.stateNode));break;case 18:X$1!==null&&(Xj?(_e=X$1,ht=ht.stateNode,_e.nodeType===8?Kf(_e.parentNode,ht):_e.nodeType===1&&Kf(_e,ht),bd(_e)):Kf(X$1,ht.stateNode));break;case 4:vt=X$1,bt=Xj,X$1=ht.stateNode.containerInfo,Xj=!0,Yj(_e,$,ht),X$1=vt,Xj=bt;break;case 0:case 11:case 14:case 15:if(!U$2&&(vt=ht.updateQueue,vt!==null&&(vt=vt.lastEffect,vt!==null))){bt=vt=vt.next;do{var wt=bt,At=wt.destroy;wt=wt.tag,At!==void 0&&(wt&2||wt&4)&&Mj(ht,$,At),bt=bt.next}while(bt!==vt)}Yj(_e,$,ht);break;case 1:if(!U$2&&(Lj(ht,$),vt=ht.stateNode,typeof vt.componentWillUnmount=="function"))try{vt.props=ht.memoizedProps,vt.state=ht.memoizedState,vt.componentWillUnmount()}catch(Et){W$2(ht,$,Et)}Yj(_e,$,ht);break;case 21:Yj(_e,$,ht);break;case 22:ht.mode&1?(U$2=(vt=U$2)||ht.memoizedState!==null,Yj(_e,$,ht),U$2=vt):Yj(_e,$,ht);break;default:Yj(_e,$,ht)}}function ak(_e){var $=_e.updateQueue;if($!==null){_e.updateQueue=null;var ht=_e.stateNode;ht===null&&(ht=_e.stateNode=new Kj),$.forEach(function(vt){var bt=bk.bind(null,_e,vt);ht.has(vt)||(ht.add(vt),vt.then(bt,bt))})}}function ck(_e,$){var ht=$.deletions;if(ht!==null)for(var vt=0;vt<ht.length;vt++){var bt=ht[vt];try{var wt=_e,At=$,Et=At;e:for(;Et!==null;){switch(Et.tag){case 5:X$1=Et.stateNode,Xj=!1;break e;case 3:X$1=Et.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=Et.stateNode.containerInfo,Xj=!0;break e}Et=Et.return}if(X$1===null)throw Error(p$4(160));Zj(wt,At,bt),X$1=null,Xj=!1;var St=bt.alternate;St!==null&&(St.return=null),bt.return=null}catch(Ct){W$2(bt,$,Ct)}}if($.subtreeFlags&12854)for($=$.child;$!==null;)dk($,_e),$=$.sibling}function dk(_e,$){var ht=_e.alternate,vt=_e.flags;switch(_e.tag){case 0:case 11:case 14:case 15:if(ck($,_e),ek(_e),vt&4){try{Pj(3,_e,_e.return),Qj(3,_e)}catch(Ft){W$2(_e,_e.return,Ft)}try{Pj(5,_e,_e.return)}catch(Ft){W$2(_e,_e.return,Ft)}}break;case 1:ck($,_e),ek(_e),vt&512&&ht!==null&&Lj(ht,ht.return);break;case 5:if(ck($,_e),ek(_e),vt&512&&ht!==null&&Lj(ht,ht.return),_e.flags&32){var bt=_e.stateNode;try{ob(bt,"")}catch(Ft){W$2(_e,_e.return,Ft)}}if(vt&4&&(bt=_e.stateNode,bt!=null)){var wt=_e.memoizedProps,At=ht!==null?ht.memoizedProps:wt,Et=_e.type,St=_e.updateQueue;if(_e.updateQueue=null,St!==null)try{Et==="input"&&wt.type==="radio"&&wt.name!=null&&ab(bt,wt),vb(Et,At);var Ct=vb(Et,wt);for(At=0;At<St.length;At+=2){var xt=St[At],Pt=St[At+1];xt==="style"?sb(bt,Pt):xt==="dangerouslySetInnerHTML"?nb(bt,Pt):xt==="children"?ob(bt,Pt):ta(bt,xt,Pt,Ct)}switch(Et){case"input":bb(bt,wt);break;case"textarea":ib(bt,wt);break;case"select":var kt=bt._wrapperState.wasMultiple;bt._wrapperState.wasMultiple=!!wt.multiple;var Rt=wt.value;Rt!=null?fb(bt,!!wt.multiple,Rt,!1):kt!==!!wt.multiple&&(wt.defaultValue!=null?fb(bt,!!wt.multiple,wt.defaultValue,!0):fb(bt,!!wt.multiple,wt.multiple?[]:"",!1))}bt[Pf]=wt}catch(Ft){W$2(_e,_e.return,Ft)}}break;case 6:if(ck($,_e),ek(_e),vt&4){if(_e.stateNode===null)throw Error(p$4(162));bt=_e.stateNode,wt=_e.memoizedProps;try{bt.nodeValue=wt}catch(Ft){W$2(_e,_e.return,Ft)}}break;case 3:if(ck($,_e),ek(_e),vt&4&&ht!==null&&ht.memoizedState.isDehydrated)try{bd($.containerInfo)}catch(Ft){W$2(_e,_e.return,Ft)}break;case 4:ck($,_e),ek(_e);break;case 13:ck($,_e),ek(_e),bt=_e.child,bt.flags&8192&&(wt=bt.memoizedState!==null,bt.stateNode.isHidden=wt,!wt||bt.alternate!==null&&bt.alternate.memoizedState!==null||(fk=B$1())),vt&4&&ak(_e);break;case 22:if(xt=ht!==null&&ht.memoizedState!==null,_e.mode&1?(U$2=(Ct=U$2)||xt,ck($,_e),U$2=Ct):ck($,_e),ek(_e),vt&8192){if(Ct=_e.memoizedState!==null,(_e.stateNode.isHidden=Ct)&&!xt&&_e.mode&1)for(V$1=_e,xt=_e.child;xt!==null;){for(Pt=V$1=xt;V$1!==null;){switch(kt=V$1,Rt=kt.child,kt.tag){case 0:case 11:case 14:case 15:Pj(4,kt,kt.return);break;case 1:Lj(kt,kt.return);var Mt=kt.stateNode;if(typeof Mt.componentWillUnmount=="function"){vt=kt,ht=kt.return;try{$=vt,Mt.props=$.memoizedProps,Mt.state=$.memoizedState,Mt.componentWillUnmount()}catch(Ft){W$2(vt,ht,Ft)}}break;case 5:Lj(kt,kt.return);break;case 22:if(kt.memoizedState!==null){gk(Pt);continue}}Rt!==null?(Rt.return=kt,V$1=Rt):gk(Pt)}xt=xt.sibling}e:for(xt=null,Pt=_e;;){if(Pt.tag===5){if(xt===null){xt=Pt;try{bt=Pt.stateNode,Ct?(wt=bt.style,typeof wt.setProperty=="function"?wt.setProperty("display","none","important"):wt.display="none"):(Et=Pt.stateNode,St=Pt.memoizedProps.style,At=St!=null&&St.hasOwnProperty("display")?St.display:null,Et.style.display=rb("display",At))}catch(Ft){W$2(_e,_e.return,Ft)}}}else if(Pt.tag===6){if(xt===null)try{Pt.stateNode.nodeValue=Ct?"":Pt.memoizedProps}catch(Ft){W$2(_e,_e.return,Ft)}}else if((Pt.tag!==22&&Pt.tag!==23||Pt.memoizedState===null||Pt===_e)&&Pt.child!==null){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===_e)break e;for(;Pt.sibling===null;){if(Pt.return===null||Pt.return===_e)break e;xt===Pt&&(xt=null),Pt=Pt.return}xt===Pt&&(xt=null),Pt.sibling.return=Pt.return,Pt=Pt.sibling}}break;case 19:ck($,_e),ek(_e),vt&4&&ak(_e);break;case 21:break;default:ck($,_e),ek(_e)}}function ek(_e){var $=_e.flags;if($&2){try{e:{for(var ht=_e.return;ht!==null;){if(Tj(ht)){var vt=ht;break e}ht=ht.return}throw Error(p$4(160))}switch(vt.tag){case 5:var bt=vt.stateNode;vt.flags&32&&(ob(bt,""),vt.flags&=-33);var wt=Uj(_e);Wj(_e,wt,bt);break;case 3:case 4:var At=vt.stateNode.containerInfo,Et=Uj(_e);Vj(_e,Et,At);break;default:throw Error(p$4(161))}}catch(St){W$2(_e,_e.return,St)}_e.flags&=-3}$&4096&&(_e.flags&=-4097)}function hk(_e,$,ht){V$1=_e,ik(_e)}function ik(_e,$,ht){for(var vt=(_e.mode&1)!==0;V$1!==null;){var bt=V$1,wt=bt.child;if(bt.tag===22&&vt){var At=bt.memoizedState!==null||Jj;if(!At){var Et=bt.alternate,St=Et!==null&&Et.memoizedState!==null||U$2;Et=Jj;var Ct=U$2;if(Jj=At,(U$2=St)&&!Ct)for(V$1=bt;V$1!==null;)At=V$1,St=At.child,At.tag===22&&At.memoizedState!==null?jk(bt):St!==null?(St.return=At,V$1=St):jk(bt);for(;wt!==null;)V$1=wt,ik(wt),wt=wt.sibling;V$1=bt,Jj=Et,U$2=Ct}kk(_e)}else bt.subtreeFlags&8772&&wt!==null?(wt.return=bt,V$1=wt):kk(_e)}}function kk(_e){for(;V$1!==null;){var $=V$1;if($.flags&8772){var ht=$.alternate;try{if($.flags&8772)switch($.tag){case 0:case 11:case 15:U$2||Qj(5,$);break;case 1:var vt=$.stateNode;if($.flags&4&&!U$2)if(ht===null)vt.componentDidMount();else{var bt=$.elementType===$.type?ht.memoizedProps:Ci($.type,ht.memoizedProps);vt.componentDidUpdate(bt,ht.memoizedState,vt.__reactInternalSnapshotBeforeUpdate)}var wt=$.updateQueue;wt!==null&&sh($,wt,vt);break;case 3:var At=$.updateQueue;if(At!==null){if(ht=null,$.child!==null)switch($.child.tag){case 5:ht=$.child.stateNode;break;case 1:ht=$.child.stateNode}sh($,At,ht)}break;case 5:var Et=$.stateNode;if(ht===null&&$.flags&4){ht=Et;var St=$.memoizedProps;switch($.type){case"button":case"input":case"select":case"textarea":St.autoFocus&&ht.focus();break;case"img":St.src&&(ht.src=St.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if($.memoizedState===null){var Ct=$.alternate;if(Ct!==null){var xt=Ct.memoizedState;if(xt!==null){var Pt=xt.dehydrated;Pt!==null&&bd(Pt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||$.flags&512&&Rj($)}catch(kt){W$2($,$.return,kt)}}if($===_e){V$1=null;break}if(ht=$.sibling,ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function gk(_e){for(;V$1!==null;){var $=V$1;if($===_e){V$1=null;break}var ht=$.sibling;if(ht!==null){ht.return=$.return,V$1=ht;break}V$1=$.return}}function jk(_e){for(;V$1!==null;){var $=V$1;try{switch($.tag){case 0:case 11:case 15:var ht=$.return;try{Qj(4,$)}catch(St){W$2($,ht,St)}break;case 1:var vt=$.stateNode;if(typeof vt.componentDidMount=="function"){var bt=$.return;try{vt.componentDidMount()}catch(St){W$2($,bt,St)}}var wt=$.return;try{Rj($)}catch(St){W$2($,wt,St)}break;case 5:var At=$.return;try{Rj($)}catch(St){W$2($,At,St)}}}catch(St){W$2($,$.return,St)}if($===_e){V$1=null;break}var Et=$.sibling;if(Et!==null){Et.return=$.return,V$1=Et;break}V$1=$.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$3=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(_e){return _e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(_e=C$1,_e!==0||(_e=window.event,_e=_e===void 0?16:jd(_e.type)),_e):1}function gi(_e,$,ht,vt){if(50<yk)throw yk=0,zk=null,Error(p$4(185));Ac(_e,ht,vt),(!(K&2)||_e!==Q)&&(_e===Q&&(!(K&2)&&(qk|=ht),T$3===4&&Ck(_e,Z)),Dk(_e,vt),ht===1&&K===0&&!($.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(_e,$){var ht=_e.callbackNode;wc(_e,$);var vt=uc(_e,_e===Q?Z:0);if(vt===0)ht!==null&&bc(ht),_e.callbackNode=null,_e.callbackPriority=0;else if($=vt&-vt,_e.callbackPriority!==$){if(ht!=null&&bc(ht),$===1)_e.tag===0?ig(Ek.bind(null,_e)):hg(Ek.bind(null,_e)),Jf(function(){!(K&6)&&jg()}),ht=null;else{switch(Dc(vt)){case 1:ht=fc;break;case 4:ht=gc;break;case 16:ht=hc;break;case 536870912:ht=jc;break;default:ht=hc}ht=Fk(ht,Gk.bind(null,_e))}_e.callbackPriority=$,_e.callbackNode=ht}}function Gk(_e,$){if(Ak=-1,Bk=0,K&6)throw Error(p$4(327));var ht=_e.callbackNode;if(Hk()&&_e.callbackNode!==ht)return null;var vt=uc(_e,_e===Q?Z:0);if(vt===0)return null;if(vt&30||vt&_e.expiredLanes||$)$=Ik(_e,vt);else{$=vt;var bt=K;K|=2;var wt=Jk();(Q!==_e||Z!==$)&&(uk=null,Gj=B$1()+500,Kk(_e,$));do try{Lk();break}catch(Et){Mk(_e,Et)}while(!0);$g(),mk.current=wt,K=bt,Y!==null?$=0:(Q=null,Z=0,$=T$3)}if($!==0){if($===2&&(bt=xc(_e),bt!==0&&(vt=bt,$=Nk(_e,bt))),$===1)throw ht=pk,Kk(_e,0),Ck(_e,vt),Dk(_e,B$1()),ht;if($===6)Ck(_e,vt);else{if(bt=_e.current.alternate,!(vt&30)&&!Ok(bt)&&($=Ik(_e,vt),$===2&&(wt=xc(_e),wt!==0&&(vt=wt,$=Nk(_e,wt))),$===1))throw ht=pk,Kk(_e,0),Ck(_e,vt),Dk(_e,B$1()),ht;switch(_e.finishedWork=bt,_e.finishedLanes=vt,$){case 0:case 1:throw Error(p$4(345));case 2:Pk(_e,tk,uk);break;case 3:if(Ck(_e,vt),(vt&130023424)===vt&&($=fk+500-B$1(),10<$)){if(uc(_e,0)!==0)break;if(bt=_e.suspendedLanes,(bt&vt)!==vt){R$1(),_e.pingedLanes|=_e.suspendedLanes&bt;break}_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),$);break}Pk(_e,tk,uk);break;case 4:if(Ck(_e,vt),(vt&4194240)===vt)break;for($=_e.eventTimes,bt=-1;0<vt;){var At=31-oc(vt);wt=1<<At,At=$[At],At>bt&&(bt=At),vt&=~wt}if(vt=bt,vt=B$1()-vt,vt=(120>vt?120:480>vt?480:1080>vt?1080:1920>vt?1920:3e3>vt?3e3:4320>vt?4320:1960*lk(vt/1960))-vt,10<vt){_e.timeoutHandle=Ff(Pk.bind(null,_e,tk,uk),vt);break}Pk(_e,tk,uk);break;case 5:Pk(_e,tk,uk);break;default:throw Error(p$4(329))}}}return Dk(_e,B$1()),_e.callbackNode===ht?Gk.bind(null,_e):null}function Nk(_e,$){var ht=sk;return _e.current.memoizedState.isDehydrated&&(Kk(_e,$).flags|=256),_e=Ik(_e,$),_e!==2&&($=tk,tk=ht,$!==null&&Fj($)),_e}function Fj(_e){tk===null?tk=_e:tk.push.apply(tk,_e)}function Ok(_e){for(var $=_e;;){if($.flags&16384){var ht=$.updateQueue;if(ht!==null&&(ht=ht.stores,ht!==null))for(var vt=0;vt<ht.length;vt++){var bt=ht[vt],wt=bt.getSnapshot;bt=bt.value;try{if(!He(wt(),bt))return!1}catch{return!1}}}if(ht=$.child,$.subtreeFlags&16384&&ht!==null)ht.return=$,$=ht;else{if($===_e)break;for(;$.sibling===null;){if($.return===null||$.return===_e)return!0;$=$.return}$.sibling.return=$.return,$=$.sibling}}return!0}function Ck(_e,$){for($&=~rk,$&=~qk,_e.suspendedLanes|=$,_e.pingedLanes&=~$,_e=_e.expirationTimes;0<$;){var ht=31-oc($),vt=1<<ht;_e[ht]=-1,$&=~vt}}function Ek(_e){if(K&6)throw Error(p$4(327));Hk();var $=uc(_e,0);if(!($&1))return Dk(_e,B$1()),null;var ht=Ik(_e,$);if(_e.tag!==0&&ht===2){var vt=xc(_e);vt!==0&&($=vt,ht=Nk(_e,vt))}if(ht===1)throw ht=pk,Kk(_e,0),Ck(_e,$),Dk(_e,B$1()),ht;if(ht===6)throw Error(p$4(345));return _e.finishedWork=_e.current.alternate,_e.finishedLanes=$,Pk(_e,tk,uk),Dk(_e,B$1()),null}function Qk(_e,$){var ht=K;K|=1;try{return _e($)}finally{K=ht,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(_e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var $=K;K|=1;var ht=ok.transition,vt=C$1;try{if(ok.transition=null,C$1=1,_e)return _e()}finally{C$1=vt,ok.transition=ht,K=$,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(_e,$){_e.finishedWork=null,_e.finishedLanes=0;var ht=_e.timeoutHandle;if(ht!==-1&&(_e.timeoutHandle=-1,Gf(ht)),Y!==null)for(ht=Y.return;ht!==null;){var vt=ht;switch(wg(vt),vt.tag){case 1:vt=vt.type.childContextTypes,vt!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$2),Eh();break;case 5:Bh(vt);break;case 4:zh();break;case 13:E$1(L$1);break;case 19:E$1(L$1);break;case 10:ah(vt.type._context);break;case 22:case 23:Hj()}ht=ht.return}if(Q=_e,Y=_e=Pg(_e.current,null),Z=fj=$,T$3=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for($=0;$<fh.length;$++)if(ht=fh[$],vt=ht.interleaved,vt!==null){ht.interleaved=null;var bt=vt.next,wt=ht.pending;if(wt!==null){var At=wt.next;wt.next=bt,vt.next=At}ht.pending=vt}fh=null}return _e}function Mk(_e,$){do{var ht=Y;try{if($g(),Fh.current=Rh,Ih){for(var vt=M$3.memoizedState;vt!==null;){var bt=vt.queue;bt!==null&&(bt.pending=null),vt=vt.next}Ih=!1}if(Hh=0,O$2=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,ht===null||ht.return===null){T$3=1,pk=$,Y=null;break}e:{var wt=_e,At=ht.return,Et=ht,St=$;if($=Z,Et.flags|=32768,St!==null&&typeof St=="object"&&typeof St.then=="function"){var Ct=St,xt=Et,Pt=xt.tag;if(!(xt.mode&1)&&(Pt===0||Pt===11||Pt===15)){var kt=xt.alternate;kt?(xt.updateQueue=kt.updateQueue,xt.memoizedState=kt.memoizedState,xt.lanes=kt.lanes):(xt.updateQueue=null,xt.memoizedState=null)}var Rt=Ui(At);if(Rt!==null){Rt.flags&=-257,Vi(Rt,At,Et,wt,$),Rt.mode&1&&Si(wt,Ct,$),$=Rt,St=Ct;var Mt=$.updateQueue;if(Mt===null){var Ft=new Set;Ft.add(St),$.updateQueue=Ft}else Mt.add(St);break e}else{if(!($&1)){Si(wt,Ct,$),tj();break e}St=Error(p$4(426))}}else if(I$4&&Et.mode&1){var $t=Ui(At);if($t!==null){!($t.flags&65536)&&($t.flags|=256),Vi($t,At,Et,wt,$),Jg(Ji(St,Et));break e}}wt=St=Ji(St,Et),T$3!==4&&(T$3=2),sk===null?sk=[wt]:sk.push(wt),wt=At;do{switch(wt.tag){case 3:wt.flags|=65536,$&=-$,wt.lanes|=$;var Lt=Ni(wt,St,$);ph(wt,Lt);break e;case 1:Et=St;var Dt=wt.type,Ot=wt.stateNode;if(!(wt.flags&128)&&(typeof Dt.getDerivedStateFromError=="function"||Ot!==null&&typeof Ot.componentDidCatch=="function"&&(Ri===null||!Ri.has(Ot)))){wt.flags|=65536,$&=-$,wt.lanes|=$;var Bt=Qi(wt,Et,$);ph(wt,Bt);break e}}wt=wt.return}while(wt!==null)}Sk(ht)}catch(Nt){$=Nt,Y===ht&&ht!==null&&(Y=ht=ht.return);continue}break}while(!0)}function Jk(){var _e=mk.current;return mk.current=Rh,_e===null?Rh:_e}function tj(){(T$3===0||T$3===3||T$3===2)&&(T$3=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(_e,$){var ht=K;K|=2;var vt=Jk();(Q!==_e||Z!==$)&&(uk=null,Kk(_e,$));do try{Tk();break}catch(bt){Mk(_e,bt)}while(!0);if($g(),K=ht,mk.current=vt,Y!==null)throw Error(p$4(261));return Q=null,Z=0,T$3}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(_e){var $=Vk(_e.alternate,_e,fj);_e.memoizedProps=_e.pendingProps,$===null?Sk(_e):Y=$,nk.current=null}function Sk(_e){var $=_e;do{var ht=$.alternate;if(_e=$.return,$.flags&32768){if(ht=Ij(ht,$),ht!==null){ht.flags&=32767,Y=ht;return}if(_e!==null)_e.flags|=32768,_e.subtreeFlags=0,_e.deletions=null;else{T$3=6,Y=null;return}}else if(ht=Ej(ht,$,fj),ht!==null){Y=ht;return}if($=$.sibling,$!==null){Y=$;return}Y=$=_e}while($!==null);T$3===0&&(T$3=5)}function Pk(_e,$,ht){var vt=C$1,bt=ok.transition;try{ok.transition=null,C$1=1,Wk(_e,$,ht,vt)}finally{ok.transition=bt,C$1=vt}return null}function Wk(_e,$,ht,vt){do Hk();while(wk!==null);if(K&6)throw Error(p$4(327));ht=_e.finishedWork;var bt=_e.finishedLanes;if(ht===null)return null;if(_e.finishedWork=null,_e.finishedLanes=0,ht===_e.current)throw Error(p$4(177));_e.callbackNode=null,_e.callbackPriority=0;var wt=ht.lanes|ht.childLanes;if(Bc(_e,wt),_e===Q&&(Y=Q=null,Z=0),!(ht.subtreeFlags&2064)&&!(ht.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),wt=(ht.flags&15990)!==0,ht.subtreeFlags&15990||wt){wt=ok.transition,ok.transition=null;var At=C$1;C$1=1;var Et=K;K|=4,nk.current=null,Oj(_e,ht),dk(ht,_e),Oe(Df),dd=!!Cf,Df=Cf=null,_e.current=ht,hk(ht),dc(),K=Et,C$1=At,ok.transition=wt}else _e.current=ht;if(vk&&(vk=!1,wk=_e,xk=bt),wt=_e.pendingLanes,wt===0&&(Ri=null),mc(ht.stateNode),Dk(_e,B$1()),$!==null)for(vt=_e.onRecoverableError,ht=0;ht<$.length;ht++)bt=$[ht],vt(bt.value,{componentStack:bt.stack,digest:bt.digest});if(Oi)throw Oi=!1,_e=Pi,Pi=null,_e;return xk&1&&_e.tag!==0&&Hk(),wt=_e.pendingLanes,wt&1?_e===zk?yk++:(yk=0,zk=_e):yk=0,jg(),null}function Hk(){if(wk!==null){var _e=Dc(xk),$=ok.transition,ht=C$1;try{if(ok.transition=null,C$1=16>_e?16:_e,wk===null)var vt=!1;else{if(_e=wk,wk=null,xk=0,K&6)throw Error(p$4(331));var bt=K;for(K|=4,V$1=_e.current;V$1!==null;){var wt=V$1,At=wt.child;if(V$1.flags&16){var Et=wt.deletions;if(Et!==null){for(var St=0;St<Et.length;St++){var Ct=Et[St];for(V$1=Ct;V$1!==null;){var xt=V$1;switch(xt.tag){case 0:case 11:case 15:Pj(8,xt,wt)}var Pt=xt.child;if(Pt!==null)Pt.return=xt,V$1=Pt;else for(;V$1!==null;){xt=V$1;var kt=xt.sibling,Rt=xt.return;if(Sj(xt),xt===Ct){V$1=null;break}if(kt!==null){kt.return=Rt,V$1=kt;break}V$1=Rt}}}var Mt=wt.alternate;if(Mt!==null){var Ft=Mt.child;if(Ft!==null){Mt.child=null;do{var $t=Ft.sibling;Ft.sibling=null,Ft=$t}while(Ft!==null)}}V$1=wt}}if(wt.subtreeFlags&2064&&At!==null)At.return=wt,V$1=At;else e:for(;V$1!==null;){if(wt=V$1,wt.flags&2048)switch(wt.tag){case 0:case 11:case 15:Pj(9,wt,wt.return)}var Lt=wt.sibling;if(Lt!==null){Lt.return=wt.return,V$1=Lt;break e}V$1=wt.return}}var Dt=_e.current;for(V$1=Dt;V$1!==null;){At=V$1;var Ot=At.child;if(At.subtreeFlags&2064&&Ot!==null)Ot.return=At,V$1=Ot;else e:for(At=Dt;V$1!==null;){if(Et=V$1,Et.flags&2048)try{switch(Et.tag){case 0:case 11:case 15:Qj(9,Et)}}catch(Nt){W$2(Et,Et.return,Nt)}if(Et===At){V$1=null;break e}var Bt=Et.sibling;if(Bt!==null){Bt.return=Et.return,V$1=Bt;break e}V$1=Et.return}}if(K=bt,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,_e)}catch{}vt=!0}return vt}finally{C$1=ht,ok.transition=$}}return!1}function Xk(_e,$,ht){$=Ji(ht,$),$=Ni(_e,$,1),_e=nh(_e,$,1),$=R$1(),_e!==null&&(Ac(_e,1,$),Dk(_e,$))}function W$2(_e,$,ht){if(_e.tag===3)Xk(_e,_e,ht);else for(;$!==null;){if($.tag===3){Xk($,_e,ht);break}else if($.tag===1){var vt=$.stateNode;if(typeof $.type.getDerivedStateFromError=="function"||typeof vt.componentDidCatch=="function"&&(Ri===null||!Ri.has(vt))){_e=Ji(ht,_e),_e=Qi($,_e,1),$=nh($,_e,1),_e=R$1(),$!==null&&(Ac($,1,_e),Dk($,_e));break}}$=$.return}}function Ti(_e,$,ht){var vt=_e.pingCache;vt!==null&&vt.delete($),$=R$1(),_e.pingedLanes|=_e.suspendedLanes&ht,Q===_e&&(Z&ht)===ht&&(T$3===4||T$3===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(_e,0):rk|=ht),Dk(_e,$)}function Yk(_e,$){$===0&&(_e.mode&1?($=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):$=1);var ht=R$1();_e=ih(_e,$),_e!==null&&(Ac(_e,$,ht),Dk(_e,ht))}function uj(_e){var $=_e.memoizedState,ht=0;$!==null&&(ht=$.retryLane),Yk(_e,ht)}function bk(_e,$){var ht=0;switch(_e.tag){case 13:var vt=_e.stateNode,bt=_e.memoizedState;bt!==null&&(ht=bt.retryLane);break;case 19:vt=_e.stateNode;break;default:throw Error(p$4(314))}vt!==null&&vt.delete($),Yk(_e,ht)}var Vk;Vk=function(_e,$,ht){if(_e!==null)if(_e.memoizedProps!==$.pendingProps||Wf.current)dh=!0;else{if(!(_e.lanes&ht)&&!($.flags&128))return dh=!1,yj(_e,$,ht);dh=!!(_e.flags&131072)}else dh=!1,I$4&&$.flags&1048576&&ug($,ng,$.index);switch($.lanes=0,$.tag){case 2:var vt=$.type;ij(_e,$),_e=$.pendingProps;var bt=Yf($,H$2.current);ch($,ht),bt=Nh(null,$,vt,_e,bt,ht);var wt=Sh();return $.flags|=1,typeof bt=="object"&&bt!==null&&typeof bt.render=="function"&&bt.$$typeof===void 0?($.tag=1,$.memoizedState=null,$.updateQueue=null,Zf(vt)?(wt=!0,cg($)):wt=!1,$.memoizedState=bt.state!==null&&bt.state!==void 0?bt.state:null,kh($),bt.updater=Ei,$.stateNode=bt,bt._reactInternals=$,Ii($,vt,_e,ht),$=jj(null,$,vt,!0,wt,ht)):($.tag=0,I$4&&wt&&vg($),Xi(null,$,bt,ht),$=$.child),$;case 16:vt=$.elementType;e:{switch(ij(_e,$),_e=$.pendingProps,bt=vt._init,vt=bt(vt._payload),$.type=vt,bt=$.tag=Zk(vt),_e=Ci(vt,_e),bt){case 0:$=cj(null,$,vt,_e,ht);break e;case 1:$=hj(null,$,vt,_e,ht);break e;case 11:$=Yi(null,$,vt,_e,ht);break e;case 14:$=$i(null,$,vt,Ci(vt.type,_e),ht);break e}throw Error(p$4(306,vt,""))}return $;case 0:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),cj(_e,$,vt,bt,ht);case 1:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),hj(_e,$,vt,bt,ht);case 3:e:{if(kj($),_e===null)throw Error(p$4(387));vt=$.pendingProps,wt=$.memoizedState,bt=wt.element,lh(_e,$),qh($,vt,null,ht);var At=$.memoizedState;if(vt=At.element,wt.isDehydrated)if(wt={element:vt,isDehydrated:!1,cache:At.cache,pendingSuspenseBoundaries:At.pendingSuspenseBoundaries,transitions:At.transitions},$.updateQueue.baseState=wt,$.memoizedState=wt,$.flags&256){bt=Ji(Error(p$4(423)),$),$=lj(_e,$,vt,ht,bt);break e}else if(vt!==bt){bt=Ji(Error(p$4(424)),$),$=lj(_e,$,vt,ht,bt);break e}else for(yg=Lf($.stateNode.containerInfo.firstChild),xg=$,I$4=!0,zg=null,ht=Vg($,null,vt,ht),$.child=ht;ht;)ht.flags=ht.flags&-3|4096,ht=ht.sibling;else{if(Ig(),vt===bt){$=Zi(_e,$,ht);break e}Xi(_e,$,vt,ht)}$=$.child}return $;case 5:return Ah($),_e===null&&Eg($),vt=$.type,bt=$.pendingProps,wt=_e!==null?_e.memoizedProps:null,At=bt.children,Ef(vt,bt)?At=null:wt!==null&&Ef(vt,wt)&&($.flags|=32),gj(_e,$),Xi(_e,$,At,ht),$.child;case 6:return _e===null&&Eg($),null;case 13:return oj(_e,$,ht);case 4:return yh($,$.stateNode.containerInfo),vt=$.pendingProps,_e===null?$.child=Ug($,null,vt,ht):Xi(_e,$,vt,ht),$.child;case 11:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),Yi(_e,$,vt,bt,ht);case 7:return Xi(_e,$,$.pendingProps,ht),$.child;case 8:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 12:return Xi(_e,$,$.pendingProps.children,ht),$.child;case 10:e:{if(vt=$.type._context,bt=$.pendingProps,wt=$.memoizedProps,At=bt.value,G$2(Wg,vt._currentValue),vt._currentValue=At,wt!==null)if(He(wt.value,At)){if(wt.children===bt.children&&!Wf.current){$=Zi(_e,$,ht);break e}}else for(wt=$.child,wt!==null&&(wt.return=$);wt!==null;){var Et=wt.dependencies;if(Et!==null){At=wt.child;for(var St=Et.firstContext;St!==null;){if(St.context===vt){if(wt.tag===1){St=mh(-1,ht&-ht),St.tag=2;var Ct=wt.updateQueue;if(Ct!==null){Ct=Ct.shared;var xt=Ct.pending;xt===null?St.next=St:(St.next=xt.next,xt.next=St),Ct.pending=St}}wt.lanes|=ht,St=wt.alternate,St!==null&&(St.lanes|=ht),bh(wt.return,ht,$),Et.lanes|=ht;break}St=St.next}}else if(wt.tag===10)At=wt.type===$.type?null:wt.child;else if(wt.tag===18){if(At=wt.return,At===null)throw Error(p$4(341));At.lanes|=ht,Et=At.alternate,Et!==null&&(Et.lanes|=ht),bh(At,ht,$),At=wt.sibling}else At=wt.child;if(At!==null)At.return=wt;else for(At=wt;At!==null;){if(At===$){At=null;break}if(wt=At.sibling,wt!==null){wt.return=At.return,At=wt;break}At=At.return}wt=At}Xi(_e,$,bt.children,ht),$=$.child}return $;case 9:return bt=$.type,vt=$.pendingProps.children,ch($,ht),bt=eh(bt),vt=vt(bt),$.flags|=1,Xi(_e,$,vt,ht),$.child;case 14:return vt=$.type,bt=Ci(vt,$.pendingProps),bt=Ci(vt.type,bt),$i(_e,$,vt,bt,ht);case 15:return bj(_e,$,$.type,$.pendingProps,ht);case 17:return vt=$.type,bt=$.pendingProps,bt=$.elementType===vt?bt:Ci(vt,bt),ij(_e,$),$.tag=1,Zf(vt)?(_e=!0,cg($)):_e=!1,ch($,ht),Gi($,vt,bt),Ii($,vt,bt,ht),jj(null,$,vt,!0,_e,ht);case 19:return xj(_e,$,ht);case 22:return dj(_e,$,ht)}throw Error(p$4(156,$.tag))};function Fk(_e,$){return ac(_e,$)}function $k(_e,$,ht,vt){this.tag=_e,this.key=ht,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=$,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=vt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_e,$,ht,vt){return new $k(_e,$,ht,vt)}function aj(_e){return _e=_e.prototype,!(!_e||!_e.isReactComponent)}function Zk(_e){if(typeof _e=="function")return aj(_e)?1:0;if(_e!=null){if(_e=_e.$$typeof,_e===Da)return 11;if(_e===Ga)return 14}return 2}function Pg(_e,$){var ht=_e.alternate;return ht===null?(ht=Bg(_e.tag,$,_e.key,_e.mode),ht.elementType=_e.elementType,ht.type=_e.type,ht.stateNode=_e.stateNode,ht.alternate=_e,_e.alternate=ht):(ht.pendingProps=$,ht.type=_e.type,ht.flags=0,ht.subtreeFlags=0,ht.deletions=null),ht.flags=_e.flags&14680064,ht.childLanes=_e.childLanes,ht.lanes=_e.lanes,ht.child=_e.child,ht.memoizedProps=_e.memoizedProps,ht.memoizedState=_e.memoizedState,ht.updateQueue=_e.updateQueue,$=_e.dependencies,ht.dependencies=$===null?null:{lanes:$.lanes,firstContext:$.firstContext},ht.sibling=_e.sibling,ht.index=_e.index,ht.ref=_e.ref,ht}function Rg(_e,$,ht,vt,bt,wt){var At=2;if(vt=_e,typeof _e=="function")aj(_e)&&(At=1);else if(typeof _e=="string")At=5;else e:switch(_e){case ya:return Tg(ht.children,bt,wt,$);case za:At=8,bt|=8;break;case Aa:return _e=Bg(12,ht,$,bt|2),_e.elementType=Aa,_e.lanes=wt,_e;case Ea:return _e=Bg(13,ht,$,bt),_e.elementType=Ea,_e.lanes=wt,_e;case Fa:return _e=Bg(19,ht,$,bt),_e.elementType=Fa,_e.lanes=wt,_e;case Ia:return pj(ht,bt,wt,$);default:if(typeof _e=="object"&&_e!==null)switch(_e.$$typeof){case Ba:At=10;break e;case Ca:At=9;break e;case Da:At=11;break e;case Ga:At=14;break e;case Ha:At=16,vt=null;break e}throw Error(p$4(130,_e==null?_e:typeof _e,""))}return $=Bg(At,ht,$,bt),$.elementType=_e,$.type=vt,$.lanes=wt,$}function Tg(_e,$,ht,vt){return _e=Bg(7,_e,vt,$),_e.lanes=ht,_e}function pj(_e,$,ht,vt){return _e=Bg(22,_e,vt,$),_e.elementType=Ia,_e.lanes=ht,_e.stateNode={isHidden:!1},_e}function Qg(_e,$,ht){return _e=Bg(6,_e,null,$),_e.lanes=ht,_e}function Sg(_e,$,ht){return $=Bg(4,_e.children!==null?_e.children:[],_e.key,$),$.lanes=ht,$.stateNode={containerInfo:_e.containerInfo,pendingChildren:null,implementation:_e.implementation},$}function al(_e,$,ht,vt,bt){this.tag=$,this.containerInfo=_e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=vt,this.onRecoverableError=bt,this.mutableSourceEagerHydrationData=null}function bl(_e,$,ht,vt,bt,wt,At,Et,St){return _e=new al(_e,$,ht,Et,St),$===1?($=1,wt===!0&&($|=8)):$=0,wt=Bg(3,null,null,$),_e.current=wt,wt.stateNode=_e,wt.memoizedState={element:vt,isDehydrated:ht,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(wt),_e}function cl(_e,$,ht){var vt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:vt==null?null:""+vt,children:_e,containerInfo:$,implementation:ht}}function dl(_e){if(!_e)return Vf;_e=_e._reactInternals;e:{if(Vb(_e)!==_e||_e.tag!==1)throw Error(p$4(170));var $=_e;do{switch($.tag){case 3:$=$.stateNode.context;break e;case 1:if(Zf($.type)){$=$.stateNode.__reactInternalMemoizedMergedChildContext;break e}}$=$.return}while($!==null);throw Error(p$4(171))}if(_e.tag===1){var ht=_e.type;if(Zf(ht))return bg(_e,ht,$)}return $}function el(_e,$,ht,vt,bt,wt,At,Et,St){return _e=bl(ht,vt,!0,_e,bt,wt,At,Et,St),_e.context=dl(null),ht=_e.current,vt=R$1(),bt=yi(ht),wt=mh(vt,bt),wt.callback=$??null,nh(ht,wt,bt),_e.current.lanes=bt,Ac(_e,bt,vt),Dk(_e,vt),_e}function fl(_e,$,ht,vt){var bt=$.current,wt=R$1(),At=yi(bt);return ht=dl(ht),$.context===null?$.context=ht:$.pendingContext=ht,$=mh(wt,At),$.payload={element:_e},vt=vt===void 0?null:vt,vt!==null&&($.callback=vt),_e=nh(bt,$,At),_e!==null&&(gi(_e,bt,At,wt),oh(_e,bt,At)),At}function gl(_e){if(_e=_e.current,!_e.child)return null;switch(_e.child.tag){case 5:return _e.child.stateNode;default:return _e.child.stateNode}}function hl(_e,$){if(_e=_e.memoizedState,_e!==null&&_e.dehydrated!==null){var ht=_e.retryLane;_e.retryLane=ht!==0&&ht<$?ht:$}}function il(_e,$){hl(_e,$),(_e=_e.alternate)&&hl(_e,$)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(_e){console.error(_e)};function ll(_e){this._internalRoot=_e}ml.prototype.render=ll.prototype.render=function(_e){var $=this._internalRoot;if($===null)throw Error(p$4(409));fl(_e,$,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var _e=this._internalRoot;if(_e!==null){this._internalRoot=null;var $=_e.containerInfo;Rk(function(){fl(null,_e,null,null)}),$[uf]=null}};function ml(_e){this._internalRoot=_e}ml.prototype.unstable_scheduleHydration=function(_e){if(_e){var $=Hc();_e={blockedOn:null,target:_e,priority:$};for(var ht=0;ht<Qc.length&&$!==0&&$<Qc[ht].priority;ht++);Qc.splice(ht,0,_e),ht===0&&Vc(_e)}};function nl(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11)}function ol(_e){return!(!_e||_e.nodeType!==1&&_e.nodeType!==9&&_e.nodeType!==11&&(_e.nodeType!==8||_e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(_e,$,ht,vt,bt){if(bt){if(typeof vt=="function"){var wt=vt;vt=function(){var Ct=gl(At);wt.call(Ct)}}var At=el($,vt,_e,0,null,!1,!1,"",pl);return _e._reactRootContainer=At,_e[uf]=At.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(),At}for(;bt=_e.lastChild;)_e.removeChild(bt);if(typeof vt=="function"){var Et=vt;vt=function(){var Ct=gl(St);Et.call(Ct)}}var St=bl(_e,0,!1,null,null,!1,!1,"",pl);return _e._reactRootContainer=St,_e[uf]=St.current,sf(_e.nodeType===8?_e.parentNode:_e),Rk(function(){fl($,St,ht,vt)}),St}function rl(_e,$,ht,vt,bt){var wt=ht._reactRootContainer;if(wt){var At=wt;if(typeof bt=="function"){var Et=bt;bt=function(){var St=gl(At);Et.call(St)}}fl($,At,_e,bt)}else At=ql(ht,$,_e,bt,vt);return gl(At)}Ec=function(_e){switch(_e.tag){case 3:var $=_e.stateNode;if($.current.memoizedState.isDehydrated){var ht=tc($.pendingLanes);ht!==0&&(Cc($,ht|1),Dk($,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var vt=ih(_e,1);if(vt!==null){var bt=R$1();gi(vt,_e,1,bt)}}),il(_e,1)}};Fc=function(_e){if(_e.tag===13){var $=ih(_e,134217728);if($!==null){var ht=R$1();gi($,_e,134217728,ht)}il(_e,134217728)}};Gc=function(_e){if(_e.tag===13){var $=yi(_e),ht=ih(_e,$);if(ht!==null){var vt=R$1();gi(ht,_e,$,vt)}il(_e,$)}};Hc=function(){return C$1};Ic=function(_e,$){var ht=C$1;try{return C$1=_e,$()}finally{C$1=ht}};yb=function(_e,$,ht){switch($){case"input":if(bb(_e,ht),$=ht.name,ht.type==="radio"&&$!=null){for(ht=_e;ht.parentNode;)ht=ht.parentNode;for(ht=ht.querySelectorAll("input[name="+JSON.stringify(""+$)+'][type="radio"]'),$=0;$<ht.length;$++){var vt=ht[$];if(vt!==_e&&vt.form===_e.form){var bt=Db(vt);if(!bt)throw Error(p$4(90));Wa(vt),bb(vt,bt)}}}break;case"textarea":ib(_e,ht);break;case"select":$=ht.value,$!=null&&fb(_e,!!ht.multiple,$,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(_e){return _e=Zb(_e),_e===null?null:_e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(_e,$){var ht=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl($))throw Error(p$4(200));return cl(_e,$,null,ht)};reactDom_production_min.createRoot=function(_e,$){if(!nl(_e))throw Error(p$4(299));var ht=!1,vt="",bt=kl;return $!=null&&($.unstable_strictMode===!0&&(ht=!0),$.identifierPrefix!==void 0&&(vt=$.identifierPrefix),$.onRecoverableError!==void 0&&(bt=$.onRecoverableError)),$=bl(_e,1,!1,null,null,ht,!1,vt,bt),_e[uf]=$.current,sf(_e.nodeType===8?_e.parentNode:_e),new ll($)};reactDom_production_min.findDOMNode=function(_e){if(_e==null)return null;if(_e.nodeType===1)return _e;var $=_e._reactInternals;if($===void 0)throw typeof _e.render=="function"?Error(p$4(188)):(_e=Object.keys(_e).join(","),Error(p$4(268,_e)));return _e=Zb($),_e=_e===null?null:_e.stateNode,_e};reactDom_production_min.flushSync=function(_e){return Rk(_e)};reactDom_production_min.hydrate=function(_e,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!0,ht)};reactDom_production_min.hydrateRoot=function(_e,$,ht){if(!nl(_e))throw Error(p$4(405));var vt=ht!=null&&ht.hydratedSources||null,bt=!1,wt="",At=kl;if(ht!=null&&(ht.unstable_strictMode===!0&&(bt=!0),ht.identifierPrefix!==void 0&&(wt=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(At=ht.onRecoverableError)),$=el($,null,_e,1,ht??null,bt,!1,wt,At),_e[uf]=$.current,sf(_e),vt)for(_e=0;_e<vt.length;_e++)ht=vt[_e],bt=ht._getVersion,bt=bt(ht._source),$.mutableSourceEagerHydrationData==null?$.mutableSourceEagerHydrationData=[ht,bt]:$.mutableSourceEagerHydrationData.push(ht,bt);return new ml($)};reactDom_production_min.render=function(_e,$,ht){if(!ol($))throw Error(p$4(200));return rl(null,_e,$,!1,ht)};reactDom_production_min.unmountComponentAtNode=function(_e){if(!ol(_e))throw Error(p$4(40));return _e._reactRootContainer?(Rk(function(){rl(null,null,_e,!1,function(){_e._reactRootContainer=null,_e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_e,$,ht,vt){if(!ol(ht))throw Error(p$4(200));if(_e==null||_e._reactInternals===void 0)throw Error(p$4(38));return rl(_e,$,ht,!1,vt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(_e){console.error(_e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$2.apply(this,arguments)}var Action;(function(_e){_e.Pop="POP",_e.Push="PUSH",_e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(_e){_e===void 0&&(_e={});function $(bt,wt){let{pathname:At="/",search:Et="",hash:St=""}=parsePath(bt.location.hash.substr(1));return!At.startsWith("/")&&!At.startsWith(".")&&(At="/"+At),createLocation("",{pathname:At,search:Et,hash:St},wt.state&&wt.state.usr||null,wt.state&&wt.state.key||"default")}function ht(bt,wt){let At=bt.document.querySelector("base"),Et="";if(At&&At.getAttribute("href")){let St=bt.location.href,Ct=St.indexOf("#");Et=Ct===-1?St:St.slice(0,Ct)}return Et+"#"+(typeof wt=="string"?wt:createPath(wt))}function vt(bt,wt){warning(bt.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(wt)+")")}return getUrlBasedHistory($,ht,vt,_e)}function invariant$1(_e,$){if(_e===!1||_e===null||typeof _e>"u")throw new Error($)}function warning(_e,$){if(!_e){typeof console<"u"&&console.warn($);try{throw new Error($)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_e,$){return{usr:_e.state,key:_e.key,idx:$}}function createLocation(_e,$,ht,vt){return ht===void 0&&(ht=null),_extends$2({pathname:typeof _e=="string"?_e:_e.pathname,search:"",hash:""},typeof $=="string"?parsePath($):$,{state:ht,key:$&&$.key||vt||createKey()})}function createPath(_e){let{pathname:$="/",search:ht="",hash:vt=""}=_e;return ht&&ht!=="?"&&($+=ht.charAt(0)==="?"?ht:"?"+ht),vt&&vt!=="#"&&($+=vt.charAt(0)==="#"?vt:"#"+vt),$}function parsePath(_e){let $={};if(_e){let ht=_e.indexOf("#");ht>=0&&($.hash=_e.substr(ht),_e=_e.substr(0,ht));let vt=_e.indexOf("?");vt>=0&&($.search=_e.substr(vt),_e=_e.substr(0,vt)),_e&&($.pathname=_e)}return $}function getUrlBasedHistory(_e,$,ht,vt){vt===void 0&&(vt={});let{window:bt=document.defaultView,v5Compat:wt=!1}=vt,At=bt.history,Et=Action.Pop,St=null,Ct=xt();Ct==null&&(Ct=0,At.replaceState(_extends$2({},At.state,{idx:Ct}),""));function xt(){return(At.state||{idx:null}).idx}function Pt(){Et=Action.Pop;let $t=xt(),Lt=$t==null?null:$t-Ct;Ct=$t,St&&St({action:Et,location:Ft.location,delta:Lt})}function kt($t,Lt){Et=Action.Push;let Dt=createLocation(Ft.location,$t,Lt);ht&&ht(Dt,$t),Ct=xt()+1;let Ot=getHistoryState(Dt,Ct),Bt=Ft.createHref(Dt);try{At.pushState(Ot,"",Bt)}catch(Nt){if(Nt instanceof DOMException&&Nt.name==="DataCloneError")throw Nt;bt.location.assign(Bt)}wt&&St&&St({action:Et,location:Ft.location,delta:1})}function Rt($t,Lt){Et=Action.Replace;let Dt=createLocation(Ft.location,$t,Lt);ht&&ht(Dt,$t),Ct=xt();let Ot=getHistoryState(Dt,Ct),Bt=Ft.createHref(Dt);At.replaceState(Ot,"",Bt),wt&&St&&St({action:Et,location:Ft.location,delta:0})}function Mt($t){let Lt=bt.location.origin!=="null"?bt.location.origin:bt.location.href,Dt=typeof $t=="string"?$t:createPath($t);return Dt=Dt.replace(/ $/,"%20"),invariant$1(Lt,"No window.location.(origin|href) available to create URL for href: "+Dt),new URL(Dt,Lt)}let Ft={get action(){return Et},get location(){return _e(bt,At)},listen($t){if(St)throw new Error("A history only accepts one active listener");return bt.addEventListener(PopStateEventType,Pt),St=$t,()=>{bt.removeEventListener(PopStateEventType,Pt),St=null}},createHref($t){return $(bt,$t)},createURL:Mt,encodeLocation($t){let Lt=Mt($t);return{pathname:Lt.pathname,search:Lt.search,hash:Lt.hash}},push:kt,replace:Rt,go($t){return At.go($t)}};return Ft}var ResultType;(function(_e){_e.data="data",_e.deferred="deferred",_e.redirect="redirect",_e.error="error"})(ResultType||(ResultType={}));function matchRoutes(_e,$,ht){ht===void 0&&(ht="/");let vt=typeof $=="string"?parsePath($):$,bt=stripBasename(vt.pathname||"/",ht);if(bt==null)return null;let wt=flattenRoutes(_e);rankRouteBranches(wt);let At=null;for(let Et=0;At==null&&Et<wt.length;++Et){let St=decodePath(bt);At=matchRouteBranch(wt[Et],St)}return At}function flattenRoutes(_e,$,ht,vt){$===void 0&&($=[]),ht===void 0&&(ht=[]),vt===void 0&&(vt="");let bt=(wt,At,Et)=>{let St={relativePath:Et===void 0?wt.path||"":Et,caseSensitive:wt.caseSensitive===!0,childrenIndex:At,route:wt};St.relativePath.startsWith("/")&&(invariant$1(St.relativePath.startsWith(vt),'Absolute route path "'+St.relativePath+'" nested under path '+('"'+vt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),St.relativePath=St.relativePath.slice(vt.length));let Ct=joinPaths([vt,St.relativePath]),xt=ht.concat(St);wt.children&&wt.children.length>0&&(invariant$1(wt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Ct+'".')),flattenRoutes(wt.children,$,xt,Ct)),!(wt.path==null&&!wt.index)&&$.push({path:Ct,score:computeScore(Ct,wt.index),routesMeta:xt})};return _e.forEach((wt,At)=>{var Et;if(wt.path===""||!((Et=wt.path)!=null&&Et.includes("?")))bt(wt,At);else for(let St of explodeOptionalSegments(wt.path))bt(wt,At,St)}),$}function explodeOptionalSegments(_e){let $=_e.split("/");if($.length===0)return[];let[ht,...vt]=$,bt=ht.endsWith("?"),wt=ht.replace(/\?$/,"");if(vt.length===0)return bt?[wt,""]:[wt];let At=explodeOptionalSegments(vt.join("/")),Et=[];return Et.push(...At.map(St=>St===""?wt:[wt,St].join("/"))),bt&&Et.push(...At),Et.map(St=>_e.startsWith("/")&&St===""?"/":St)}function rankRouteBranches(_e){_e.sort(($,ht)=>$.score!==ht.score?ht.score-$.score:compareIndexes($.routesMeta.map(vt=>vt.childrenIndex),ht.routesMeta.map(vt=>vt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_e=>_e==="*";function computeScore(_e,$){let ht=_e.split("/"),vt=ht.length;return ht.some(isSplat)&&(vt+=splatPenalty),$&&(vt+=indexRouteValue),ht.filter(bt=>!isSplat(bt)).reduce((bt,wt)=>bt+(paramRe.test(wt)?dynamicSegmentValue:wt===""?emptySegmentValue:staticSegmentValue),vt)}function compareIndexes(_e,$){return _e.length===$.length&&_e.slice(0,-1).every((vt,bt)=>vt===$[bt])?_e[_e.length-1]-$[$.length-1]:0}function matchRouteBranch(_e,$){let{routesMeta:ht}=_e,vt={},bt="/",wt=[];for(let At=0;At<ht.length;++At){let Et=ht[At],St=At===ht.length-1,Ct=bt==="/"?$:$.slice(bt.length)||"/",xt=matchPath({path:Et.relativePath,caseSensitive:Et.caseSensitive,end:St},Ct);if(!xt)return null;Object.assign(vt,xt.params);let Pt=Et.route;wt.push({params:vt,pathname:joinPaths([bt,xt.pathname]),pathnameBase:normalizePathname(joinPaths([bt,xt.pathnameBase])),route:Pt}),xt.pathnameBase!=="/"&&(bt=joinPaths([bt,xt.pathnameBase]))}return wt}function matchPath(_e,$){typeof _e=="string"&&(_e={path:_e,caseSensitive:!1,end:!0});let[ht,vt]=compilePath(_e.path,_e.caseSensitive,_e.end),bt=$.match(ht);if(!bt)return null;let wt=bt[0],At=wt.replace(/(.)\/+$/,"$1"),Et=bt.slice(1);return{params:vt.reduce((Ct,xt,Pt)=>{let{paramName:kt,isOptional:Rt}=xt;if(kt==="*"){let Ft=Et[Pt]||"";At=wt.slice(0,wt.length-Ft.length).replace(/(.)\/+$/,"$1")}const Mt=Et[Pt];return Rt&&!Mt?Ct[kt]=void 0:Ct[kt]=(Mt||"").replace(/%2F/g,"/"),Ct},{}),pathname:wt,pathnameBase:At,pattern:_e}}function compilePath(_e,$,ht){$===void 0&&($=!1),ht===void 0&&(ht=!0),warning(_e==="*"||!_e.endsWith("*")||_e.endsWith("/*"),'Route path "'+_e+'" will be treated as if it were '+('"'+_e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_e.replace(/\*$/,"/*")+'".'));let vt=[],bt="^"+_e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(At,Et,St)=>(vt.push({paramName:Et,isOptional:St!=null}),St?"/?([^\\/]+)?":"/([^\\/]+)"));return _e.endsWith("*")?(vt.push({paramName:"*"}),bt+=_e==="*"||_e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):ht?bt+="\\/*$":_e!==""&&_e!=="/"&&(bt+="(?:(?=\\/|$))"),[new RegExp(bt,$?void 0:"i"),vt]}function decodePath(_e){try{return _e.split("/").map($=>decodeURIComponent($).replace(/\//g,"%2F")).join("/")}catch($){return warning(!1,'The URL path "'+_e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+$+").")),_e}}function stripBasename(_e,$){if($==="/")return _e;if(!_e.toLowerCase().startsWith($.toLowerCase()))return null;let ht=$.endsWith("/")?$.length-1:$.length,vt=_e.charAt(ht);return vt&&vt!=="/"?null:_e.slice(ht)||"/"}function resolvePath(_e,$){$===void 0&&($="/");let{pathname:ht,search:vt="",hash:bt=""}=typeof _e=="string"?parsePath(_e):_e;return{pathname:ht?ht.startsWith("/")?ht:resolvePathname(ht,$):$,search:normalizeSearch(vt),hash:normalizeHash(bt)}}function resolvePathname(_e,$){let ht=$.replace(/\/+$/,"").split("/");return _e.split("/").forEach(bt=>{bt===".."?ht.length>1&&ht.pop():bt!=="."&&ht.push(bt)}),ht.length>1?ht.join("/"):"/"}function getInvalidPathError(_e,$,ht,vt){return"Cannot include a '"+_e+"' character in a manually specified "+("`to."+$+"` field ["+JSON.stringify(vt)+"].  Please separate it out to the ")+("`to."+ht+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_e){return _e.filter(($,ht)=>ht===0||$.route.path&&$.route.path.length>0)}function getResolveToMatches(_e,$){let ht=getPathContributingMatches(_e);return $?ht.map((vt,bt)=>bt===_e.length-1?vt.pathname:vt.pathnameBase):ht.map(vt=>vt.pathnameBase)}function resolveTo(_e,$,ht,vt){vt===void 0&&(vt=!1);let bt;typeof _e=="string"?bt=parsePath(_e):(bt=_extends$2({},_e),invariant$1(!bt.pathname||!bt.pathname.includes("?"),getInvalidPathError("?","pathname","search",bt)),invariant$1(!bt.pathname||!bt.pathname.includes("#"),getInvalidPathError("#","pathname","hash",bt)),invariant$1(!bt.search||!bt.search.includes("#"),getInvalidPathError("#","search","hash",bt)));let wt=_e===""||bt.pathname==="",At=wt?"/":bt.pathname,Et;if(At==null)Et=ht;else{let Pt=$.length-1;if(!vt&&At.startsWith("..")){let kt=At.split("/");for(;kt[0]==="..";)kt.shift(),Pt-=1;bt.pathname=kt.join("/")}Et=Pt>=0?$[Pt]:"/"}let St=resolvePath(bt,Et),Ct=At&&At!=="/"&&At.endsWith("/"),xt=(wt||At===".")&&ht.endsWith("/");return!St.pathname.endsWith("/")&&(Ct||xt)&&(St.pathname+="/"),St}const joinPaths=_e=>_e.join("/").replace(/\/\/+/g,"/"),normalizePathname=_e=>_e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_e=>!_e||_e==="?"?"":_e.startsWith("?")?_e:"?"+_e,normalizeHash=_e=>!_e||_e==="#"?"":_e.startsWith("#")?_e:"#"+_e;function isRouteErrorResponse(_e){return _e!=null&&typeof _e.status=="number"&&typeof _e.statusText=="string"&&typeof _e.internal=="boolean"&&"data"in _e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(_e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(_e)}function useNavigate(){let{isDataRoute:_e}=reactExports.useContext(RouteContext);return _e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let _e=reactExports.useContext(DataRouterContext),{basename:$,future:ht,navigator:vt}=reactExports.useContext(NavigationContext),{matches:bt}=reactExports.useContext(RouteContext),{pathname:wt}=useLocation(),At=JSON.stringify(getResolveToMatches(bt,ht.v7_relativeSplatPath)),Et=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{Et.current=!0}),reactExports.useCallback(function(Ct,xt){if(xt===void 0&&(xt={}),!Et.current)return;if(typeof Ct=="number"){vt.go(Ct);return}let Pt=resolveTo(Ct,JSON.parse(At),wt,xt.relative==="path");_e==null&&$!=="/"&&(Pt.pathname=Pt.pathname==="/"?$:joinPaths([$,Pt.pathname])),(xt.replace?vt.replace:vt.push)(Pt,xt.state,xt)},[$,vt,At,wt,_e])}function useRoutes(_e,$){return useRoutesImpl(_e,$)}function useRoutesImpl(_e,$,ht,vt){useInRouterContext()||invariant$1(!1);let{navigator:bt}=reactExports.useContext(NavigationContext),{matches:wt}=reactExports.useContext(RouteContext),At=wt[wt.length-1],Et=At?At.params:{};At&&At.pathname;let St=At?At.pathnameBase:"/";At&&At.route;let Ct=useLocation(),xt;if($){var Pt;let $t=typeof $=="string"?parsePath($):$;St==="/"||(Pt=$t.pathname)!=null&&Pt.startsWith(St)||invariant$1(!1),xt=$t}else xt=Ct;let kt=xt.pathname||"/",Rt=kt;if(St!=="/"){let $t=St.replace(/^\//,"").split("/");Rt="/"+kt.replace(/^\//,"").split("/").slice($t.length).join("/")}let Mt=matchRoutes(_e,{pathname:Rt}),Ft=_renderMatches(Mt&&Mt.map($t=>Object.assign({},$t,{params:Object.assign({},Et,$t.params),pathname:joinPaths([St,bt.encodeLocation?bt.encodeLocation($t.pathname).pathname:$t.pathname]),pathnameBase:$t.pathnameBase==="/"?St:joinPaths([St,bt.encodeLocation?bt.encodeLocation($t.pathnameBase).pathname:$t.pathnameBase])})),wt,ht,vt);return $&&Ft?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},xt),navigationType:Action.Pop}},Ft):Ft}function DefaultErrorComponent(){let _e=useRouteError(),$=isRouteErrorResponse(_e)?_e.status+" "+_e.statusText:_e instanceof Error?_e.message:JSON.stringify(_e),ht=_e instanceof Error?_e.stack:null,bt={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},$),ht?reactExports.createElement("pre",{style:bt},ht):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor($){super($),this.state={location:$.location,revalidation:$.revalidation,error:$.error}}static getDerivedStateFromError($){return{error:$}}static getDerivedStateFromProps($,ht){return ht.location!==$.location||ht.revalidation!=="idle"&&$.revalidation==="idle"?{error:$.error,location:$.location,revalidation:$.revalidation}:{error:$.error!==void 0?$.error:ht.error,location:ht.location,revalidation:$.revalidation||ht.revalidation}}componentDidCatch($,ht){console.error("React Router caught the following error during render",$,ht)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_e){let{routeContext:$,match:ht,children:vt}=_e,bt=reactExports.useContext(DataRouterContext);return bt&&bt.static&&bt.staticContext&&(ht.route.errorElement||ht.route.ErrorBoundary)&&(bt.staticContext._deepestRenderedBoundaryId=ht.route.id),reactExports.createElement(RouteContext.Provider,{value:$},vt)}function _renderMatches(_e,$,ht,vt){var bt;if($===void 0&&($=[]),ht===void 0&&(ht=null),vt===void 0&&(vt=null),_e==null){var wt;if((wt=ht)!=null&&wt.errors)_e=ht.matches;else return null}let At=_e,Et=(bt=ht)==null?void 0:bt.errors;if(Et!=null){let xt=At.findIndex(Pt=>Pt.route.id&&(Et==null?void 0:Et[Pt.route.id])!==void 0);xt>=0||invariant$1(!1),At=At.slice(0,Math.min(At.length,xt+1))}let St=!1,Ct=-1;if(ht&&vt&&vt.v7_partialHydration)for(let xt=0;xt<At.length;xt++){let Pt=At[xt];if((Pt.route.HydrateFallback||Pt.route.hydrateFallbackElement)&&(Ct=xt),Pt.route.id){let{loaderData:kt,errors:Rt}=ht,Mt=Pt.route.loader&&kt[Pt.route.id]===void 0&&(!Rt||Rt[Pt.route.id]===void 0);if(Pt.route.lazy||Mt){St=!0,Ct>=0?At=At.slice(0,Ct+1):At=[At[0]];break}}}return At.reduceRight((xt,Pt,kt)=>{let Rt,Mt=!1,Ft=null,$t=null;ht&&(Rt=Et&&Pt.route.id?Et[Pt.route.id]:void 0,Ft=Pt.route.errorElement||defaultErrorElement,St&&(Ct<0&&kt===0?(Mt=!0,$t=null):Ct===kt&&(Mt=!0,$t=Pt.route.hydrateFallbackElement||null)));let Lt=$.concat(At.slice(0,kt+1)),Dt=()=>{let Ot;return Rt?Ot=Ft:Mt?Ot=$t:Pt.route.Component?Ot=reactExports.createElement(Pt.route.Component,null):Pt.route.element?Ot=Pt.route.element:Ot=xt,reactExports.createElement(RenderedRoute,{match:Pt,routeContext:{outlet:xt,matches:Lt,isDataRoute:ht!=null},children:Ot})};return ht&&(Pt.route.ErrorBoundary||Pt.route.errorElement||kt===0)?reactExports.createElement(RenderErrorBoundary,{location:ht.location,revalidation:ht.revalidation,component:Ft,error:Rt,children:Dt(),routeContext:{outlet:null,matches:Lt,isDataRoute:!0}}):Dt()},null)}var DataRouterHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(_e){return _e.UseBlocker="useBlocker",_e.UseLoaderData="useLoaderData",_e.UseActionData="useActionData",_e.UseRouteError="useRouteError",_e.UseNavigation="useNavigation",_e.UseRouteLoaderData="useRouteLoaderData",_e.UseMatches="useMatches",_e.UseRevalidator="useRevalidator",_e.UseNavigateStable="useNavigate",_e.UseRouteId="useRouteId",_e}(DataRouterStateHook$1||{});function useDataRouterContext(_e){let $=reactExports.useContext(DataRouterContext);return $||invariant$1(!1),$}function useDataRouterState(_e){let $=reactExports.useContext(DataRouterStateContext);return $||invariant$1(!1),$}function useRouteContext(_e){let $=reactExports.useContext(RouteContext);return $||invariant$1(!1),$}function useCurrentRouteId(_e){let $=useRouteContext(),ht=$.matches[$.matches.length-1];return ht.route.id||invariant$1(!1),ht.route.id}function useRouteError(){var _e;let $=reactExports.useContext(RouteErrorContext),ht=useDataRouterState(DataRouterStateHook$1.UseRouteError),vt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return $!==void 0?$:(_e=ht.errors)==null?void 0:_e[vt]}function useNavigateStable(){let{router:_e}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),$=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ht.current=!0}),reactExports.useCallback(function(bt,wt){wt===void 0&&(wt={}),ht.current&&(typeof bt=="number"?_e.navigate(bt):_e.navigate(bt,_extends$1({fromRouteId:$},wt)))},[_e,$])}function Route(_e){invariant$1(!1)}function Router(_e){let{basename:$="/",children:ht=null,location:vt,navigationType:bt=Action.Pop,navigator:wt,static:At=!1,future:Et}=_e;useInRouterContext()&&invariant$1(!1);let St=$.replace(/^\/*/,"/"),Ct=reactExports.useMemo(()=>({basename:St,navigator:wt,static:At,future:_extends$1({v7_relativeSplatPath:!1},Et)}),[St,Et,wt,At]);typeof vt=="string"&&(vt=parsePath(vt));let{pathname:xt="/",search:Pt="",hash:kt="",state:Rt=null,key:Mt="default"}=vt,Ft=reactExports.useMemo(()=>{let $t=stripBasename(xt,St);return $t==null?null:{location:{pathname:$t,search:Pt,hash:kt,state:Rt,key:Mt},navigationType:bt}},[St,xt,Pt,kt,Rt,Mt,bt]);return Ft==null?null:reactExports.createElement(NavigationContext.Provider,{value:Ct},reactExports.createElement(LocationContext.Provider,{children:ht,value:Ft}))}function Routes(_e){let{children:$,location:ht}=_e;return useRoutes(createRoutesFromChildren($),ht)}new Promise(()=>{});function createRoutesFromChildren(_e,$){$===void 0&&($=[]);let ht=[];return reactExports.Children.forEach(_e,(vt,bt)=>{if(!reactExports.isValidElement(vt))return;let wt=[...$,bt];if(vt.type===reactExports.Fragment){ht.push.apply(ht,createRoutesFromChildren(vt.props.children,wt));return}vt.type!==Route&&invariant$1(!1),!vt.props.index||!vt.props.children||invariant$1(!1);let At={id:vt.props.id||wt.join("-"),caseSensitive:vt.props.caseSensitive,element:vt.props.element,Component:vt.props.Component,index:vt.props.index,path:vt.props.path,loader:vt.props.loader,action:vt.props.action,errorElement:vt.props.errorElement,ErrorBoundary:vt.props.ErrorBoundary,hasErrorBoundary:vt.props.ErrorBoundary!=null||vt.props.errorElement!=null,shouldRevalidate:vt.props.shouldRevalidate,handle:vt.props.handle,lazy:vt.props.lazy};vt.props.children&&(At.children=createRoutesFromChildren(vt.props.children,wt)),ht.push(At)}),ht}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=t$4[START_TRANSITION];function HashRouter(_e){let{basename:$,children:ht,future:vt,window:bt}=_e,wt=reactExports.useRef();wt.current==null&&(wt.current=createHashHistory({window:bt,v5Compat:!0}));let At=wt.current,[Et,St]=reactExports.useState({action:At.action,location:At.location}),{v7_startTransition:Ct}=vt||{},xt=reactExports.useCallback(Pt=>{Ct&&startTransitionImpl?startTransitionImpl(()=>St(Pt)):St(Pt)},[St,Ct]);return reactExports.useLayoutEffect(()=>At.listen(xt),[At,xt]),reactExports.createElement(Router,{basename:$,children:ht,location:Et.location,navigationType:Et.action,navigator:At,future:vt})}var DataRouterHook;(function(_e){_e.UseScrollRestoration="useScrollRestoration",_e.UseSubmit="useSubmit",_e.UseSubmitFetcher="useSubmitFetcher",_e.UseFetcher="useFetcher",_e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_e){_e.UseFetcher="useFetcher",_e.UseFetchers="useFetchers",_e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));const $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c=typeof document<"u"?React.useLayoutEffect:()=>{};function $8ae05eaa5c114e9c$export$7f54fc3180508a52(_e){const $=reactExports.useRef(null);return $f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{$.current=_e},[_e]),reactExports.useCallback((...ht)=>{const vt=$.current;return vt==null?void 0:vt(...ht)},[])}const $431fbd86ca7dc216$export$b204af158042fbac=_e=>{var $;return($=_e==null?void 0:_e.ownerDocument)!==null&&$!==void 0?$:document},$431fbd86ca7dc216$export$f21a1ffae260145a=_e=>_e&&"window"in _e&&_e.window===_e?_e:$431fbd86ca7dc216$export$b204af158042fbac(_e).defaultView||window;function $c87311424ea30a05$var$testUserAgent(_e){var $;return typeof window>"u"||window.navigator==null?!1:(($=window.navigator.userAgentData)===null||$===void 0?void 0:$.brands.some(ht=>_e.test(ht.brand)))||_e.test(window.navigator.userAgent)}function $c87311424ea30a05$var$testPlatform(_e){var $;return typeof window<"u"&&window.navigator!=null?_e.test((($=window.navigator.userAgentData)===null||$===void 0?void 0:$.platform)||window.navigator.platform):!1}function $c87311424ea30a05$export$9ac100e40613ea10(){return $c87311424ea30a05$var$testPlatform(/^Mac/i)}function $c87311424ea30a05$export$a11b0059900ceec8(){return $c87311424ea30a05$var$testUserAgent(/Android/i)}function $6a7db85432448f7f$export$60278871457622de(_e){return _e.mozInputSource===0&&_e.isTrusted?!0:$c87311424ea30a05$export$a11b0059900ceec8()&&_e.pointerType?_e.type==="click"&&_e.buttons===1:_e.detail===0&&!_e.pointerType}class $8a9cb279dc87e130$export$905e7fc544a71f36{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor($,ht){this.nativeEvent=ht,this.target=ht.target,this.currentTarget=ht.currentTarget,this.relatedTarget=ht.relatedTarget,this.bubbles=ht.bubbles,this.cancelable=ht.cancelable,this.defaultPrevented=ht.defaultPrevented,this.eventPhase=ht.eventPhase,this.isTrusted=ht.isTrusted,this.timeStamp=ht.timeStamp,this.type=$}}function $8a9cb279dc87e130$export$715c682d09d639cc(_e){let $=reactExports.useRef({isFocused:!1,observer:null});$f0a04ccd8dbdd83b$export$e5c5a5f917a5871c(()=>{const vt=$.current;return()=>{vt.observer&&(vt.observer.disconnect(),vt.observer=null)}},[]);let ht=$8ae05eaa5c114e9c$export$7f54fc3180508a52(vt=>{_e==null||_e(vt)});return reactExports.useCallback(vt=>{if(vt.target instanceof HTMLButtonElement||vt.target instanceof HTMLInputElement||vt.target instanceof HTMLTextAreaElement||vt.target instanceof HTMLSelectElement){$.current.isFocused=!0;let bt=vt.target,wt=At=>{$.current.isFocused=!1,bt.disabled&&ht(new $8a9cb279dc87e130$export$905e7fc544a71f36("blur",At)),$.current.observer&&($.current.observer.disconnect(),$.current.observer=null)};bt.addEventListener("focusout",wt,{once:!0}),$.current.observer=new MutationObserver(()=>{if($.current.isFocused&&bt.disabled){var At;(At=$.current.observer)===null||At===void 0||At.disconnect();let Et=bt===document.activeElement?null:document.activeElement;bt.dispatchEvent(new FocusEvent("blur",{relatedTarget:Et})),bt.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:Et}))}}),$.current.observer.observe(bt,{attributes:!0,attributeFilter:["disabled"]})}},[ht])}function $a1ea59d68270f0dd$export$f8168d8dd8fd66e6(_e){let{isDisabled:$,onFocus:ht,onBlur:vt,onFocusChange:bt}=_e;const wt=reactExports.useCallback(St=>{if(St.target===St.currentTarget)return vt&&vt(St),bt&&bt(!1),!0},[vt,bt]),At=$8a9cb279dc87e130$export$715c682d09d639cc(wt),Et=reactExports.useCallback(St=>{const Ct=$431fbd86ca7dc216$export$b204af158042fbac(St.target);St.target===St.currentTarget&&Ct.activeElement===St.target&&(ht&&ht(St),bt&&bt(!0),At(St))},[bt,ht,At]);return{focusProps:{onFocus:!$&&(ht||bt||vt)?Et:void 0,onBlur:!$&&(vt||bt)?wt:void 0}}}let $507fabe10e71c6fb$var$currentModality=null,$507fabe10e71c6fb$var$changeHandlers=new Set,$507fabe10e71c6fb$export$d90243b58daecda7=new Map,$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1;const $507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS={Tab:!0,Escape:!0};function $507fabe10e71c6fb$var$triggerChangeHandlers(_e,$){for(let ht of $507fabe10e71c6fb$var$changeHandlers)ht(_e,$)}function $507fabe10e71c6fb$var$isValidKey(_e){return!(_e.metaKey||!$c87311424ea30a05$export$9ac100e40613ea10()&&_e.altKey||_e.ctrlKey||_e.key==="Control"||_e.key==="Shift"||_e.key==="Meta")}function $507fabe10e71c6fb$var$handleKeyboardEvent(_e){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$isValidKey(_e)&&($507fabe10e71c6fb$var$currentModality="keyboard",$507fabe10e71c6fb$var$triggerChangeHandlers("keyboard",_e))}function $507fabe10e71c6fb$var$handlePointerEvent(_e){$507fabe10e71c6fb$var$currentModality="pointer",(_e.type==="mousedown"||_e.type==="pointerdown")&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$triggerChangeHandlers("pointer",_e))}function $507fabe10e71c6fb$var$handleClickEvent(_e){$6a7db85432448f7f$export$60278871457622de(_e)&&($507fabe10e71c6fb$var$hasEventBeforeFocus=!0,$507fabe10e71c6fb$var$currentModality="virtual")}function $507fabe10e71c6fb$var$handleFocusEvent(_e){_e.target===window||_e.target===document||(!$507fabe10e71c6fb$var$hasEventBeforeFocus&&!$507fabe10e71c6fb$var$hasBlurredWindowRecently&&($507fabe10e71c6fb$var$currentModality="virtual",$507fabe10e71c6fb$var$triggerChangeHandlers("virtual",_e)),$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!1)}function $507fabe10e71c6fb$var$handleWindowBlur(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!1,$507fabe10e71c6fb$var$hasBlurredWindowRecently=!0}function $507fabe10e71c6fb$var$setupGlobalFocusEvents(_e){if(typeof window>"u"||$507fabe10e71c6fb$export$d90243b58daecda7.get($431fbd86ca7dc216$export$f21a1ffae260145a(_e)))return;const $=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),ht=$431fbd86ca7dc216$export$b204af158042fbac(_e);let vt=$.HTMLElement.prototype.focus;$.HTMLElement.prototype.focus=function(){$507fabe10e71c6fb$var$hasEventBeforeFocus=!0,vt.apply(this,arguments)},ht.addEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),ht.addEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),$.addEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),$.addEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(ht.addEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(ht.addEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),ht.addEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$.addEventListener("beforeunload",()=>{$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e)},{once:!0}),$507fabe10e71c6fb$export$d90243b58daecda7.set($,{focus:vt})}const $507fabe10e71c6fb$var$tearDownWindowFocusTracking=(_e,$)=>{const ht=$431fbd86ca7dc216$export$f21a1ffae260145a(_e),vt=$431fbd86ca7dc216$export$b204af158042fbac(_e);$&&vt.removeEventListener("DOMContentLoaded",$),$507fabe10e71c6fb$export$d90243b58daecda7.has(ht)&&(ht.HTMLElement.prototype.focus=$507fabe10e71c6fb$export$d90243b58daecda7.get(ht).focus,vt.removeEventListener("keydown",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("keyup",$507fabe10e71c6fb$var$handleKeyboardEvent,!0),vt.removeEventListener("click",$507fabe10e71c6fb$var$handleClickEvent,!0),ht.removeEventListener("focus",$507fabe10e71c6fb$var$handleFocusEvent,!0),ht.removeEventListener("blur",$507fabe10e71c6fb$var$handleWindowBlur,!1),typeof PointerEvent<"u"?(vt.removeEventListener("pointerdown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointermove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("pointerup",$507fabe10e71c6fb$var$handlePointerEvent,!0)):(vt.removeEventListener("mousedown",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mousemove",$507fabe10e71c6fb$var$handlePointerEvent,!0),vt.removeEventListener("mouseup",$507fabe10e71c6fb$var$handlePointerEvent,!0)),$507fabe10e71c6fb$export$d90243b58daecda7.delete(ht))};function $507fabe10e71c6fb$export$2f1888112f558a7d(_e){const $=$431fbd86ca7dc216$export$b204af158042fbac(_e);let ht;return $.readyState!=="loading"?$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e):(ht=()=>{$507fabe10e71c6fb$var$setupGlobalFocusEvents(_e)},$.addEventListener("DOMContentLoaded",ht)),()=>$507fabe10e71c6fb$var$tearDownWindowFocusTracking(_e,ht)}typeof document<"u"&&$507fabe10e71c6fb$export$2f1888112f558a7d();function $507fabe10e71c6fb$export$b9b3dfddab17db27(){return $507fabe10e71c6fb$var$currentModality!=="pointer"}const $507fabe10e71c6fb$var$nonTextInputTypes=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function $507fabe10e71c6fb$var$isKeyboardFocusEvent(_e,$,ht){var vt;const bt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLInputElement:HTMLInputElement,wt=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLTextAreaElement:HTMLTextAreaElement,At=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).HTMLElement:HTMLElement,Et=typeof window<"u"?$431fbd86ca7dc216$export$f21a1ffae260145a(ht==null?void 0:ht.target).KeyboardEvent:KeyboardEvent;return _e=_e||(ht==null?void 0:ht.target)instanceof bt&&!$507fabe10e71c6fb$var$nonTextInputTypes.has(ht==null||(vt=ht.target)===null||vt===void 0?void 0:vt.type)||(ht==null?void 0:ht.target)instanceof wt||(ht==null?void 0:ht.target)instanceof At&&(ht==null?void 0:ht.target.isContentEditable),!(_e&&$==="keyboard"&&ht instanceof Et&&!$507fabe10e71c6fb$var$FOCUS_VISIBLE_INPUT_KEYS[ht.key])}function $507fabe10e71c6fb$export$ec71b4b83ac08ec3(_e,$,ht){$507fabe10e71c6fb$var$setupGlobalFocusEvents(),reactExports.useEffect(()=>{let vt=(bt,wt)=>{$507fabe10e71c6fb$var$isKeyboardFocusEvent(!!(ht!=null&&ht.isTextInput),bt,wt)&&_e($507fabe10e71c6fb$export$b9b3dfddab17db27())};return $507fabe10e71c6fb$var$changeHandlers.add(vt),()=>{$507fabe10e71c6fb$var$changeHandlers.delete(vt)}},$)}function $9ab94262bd0047c7$export$420e68273165f4ec(_e){let{isDisabled:$,onBlurWithin:ht,onFocusWithin:vt,onFocusWithinChange:bt}=_e,wt=reactExports.useRef({isFocusWithin:!1}),At=reactExports.useCallback(Ct=>{wt.current.isFocusWithin&&!Ct.currentTarget.contains(Ct.relatedTarget)&&(wt.current.isFocusWithin=!1,ht&&ht(Ct),bt&&bt(!1))},[ht,bt,wt]),Et=$8a9cb279dc87e130$export$715c682d09d639cc(At),St=reactExports.useCallback(Ct=>{!wt.current.isFocusWithin&&document.activeElement===Ct.target&&(vt&&vt(Ct),bt&&bt(!0),wt.current.isFocusWithin=!0,Et(Ct))},[vt,bt,Et]);return $?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:St,onBlur:At}}}let $6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1,$6179b936705e76d3$var$hoverCount=0;function $6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents(){$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!0,setTimeout(()=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents=!1},50)}function $6179b936705e76d3$var$handleGlobalPointerEvent(_e){_e.pointerType==="touch"&&$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents()}function $6179b936705e76d3$var$setupGlobalTouchEvents(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.addEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents),$6179b936705e76d3$var$hoverCount++,()=>{$6179b936705e76d3$var$hoverCount--,!($6179b936705e76d3$var$hoverCount>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",$6179b936705e76d3$var$handleGlobalPointerEvent):document.removeEventListener("touchend",$6179b936705e76d3$var$setGlobalIgnoreEmulatedMouseEvents))}}function $6179b936705e76d3$export$ae780daf29e6d456(_e){let{onHoverStart:$,onHoverChange:ht,onHoverEnd:vt,isDisabled:bt}=_e,[wt,At]=reactExports.useState(!1),Et=reactExports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;reactExports.useEffect($6179b936705e76d3$var$setupGlobalTouchEvents,[]);let{hoverProps:St,triggerHoverEnd:Ct}=reactExports.useMemo(()=>{let xt=(Rt,Mt)=>{if(Et.pointerType=Mt,bt||Mt==="touch"||Et.isHovered||!Rt.currentTarget.contains(Rt.target))return;Et.isHovered=!0;let Ft=Rt.currentTarget;Et.target=Ft,$&&$({type:"hoverstart",target:Ft,pointerType:Mt}),ht&&ht(!0),At(!0)},Pt=(Rt,Mt)=>{if(Et.pointerType="",Et.target=null,Mt==="touch"||!Et.isHovered)return;Et.isHovered=!1;let Ft=Rt.currentTarget;vt&&vt({type:"hoverend",target:Ft,pointerType:Mt}),ht&&ht(!1),At(!1)},kt={};return typeof PointerEvent<"u"?(kt.onPointerEnter=Rt=>{$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&Rt.pointerType==="mouse"||xt(Rt,Rt.pointerType)},kt.onPointerLeave=Rt=>{!bt&&Rt.currentTarget.contains(Rt.target)&&Pt(Rt,Rt.pointerType)}):(kt.onTouchStart=()=>{Et.ignoreEmulatedMouseEvents=!0},kt.onMouseEnter=Rt=>{!Et.ignoreEmulatedMouseEvents&&!$6179b936705e76d3$var$globalIgnoreEmulatedMouseEvents&&xt(Rt,"mouse"),Et.ignoreEmulatedMouseEvents=!1},kt.onMouseLeave=Rt=>{!bt&&Rt.currentTarget.contains(Rt.target)&&Pt(Rt,"mouse")}),{hoverProps:kt,triggerHoverEnd:Pt}},[$,ht,vt,bt,Et]);return reactExports.useEffect(()=>{bt&&Ct({currentTarget:Et.target},Et.pointerType)},[bt]),{hoverProps:St,isHovered:wt}}function $f7dceffc5ad7768b$export$4e328f61c538687f(_e={}){let{autoFocus:$=!1,isTextInput:ht,within:vt}=_e,bt=reactExports.useRef({isFocused:!1,isFocusVisible:$||$507fabe10e71c6fb$export$b9b3dfddab17db27()}),[wt,At]=reactExports.useState(!1),[Et,St]=reactExports.useState(()=>bt.current.isFocused&&bt.current.isFocusVisible),Ct=reactExports.useCallback(()=>St(bt.current.isFocused&&bt.current.isFocusVisible),[]),xt=reactExports.useCallback(Rt=>{bt.current.isFocused=Rt,At(Rt),Ct()},[Ct]);$507fabe10e71c6fb$export$ec71b4b83ac08ec3(Rt=>{bt.current.isFocusVisible=Rt,Ct()},[],{isTextInput:ht});let{focusProps:Pt}=$a1ea59d68270f0dd$export$f8168d8dd8fd66e6({isDisabled:vt,onFocusChange:xt}),{focusWithinProps:kt}=$9ab94262bd0047c7$export$420e68273165f4ec({isDisabled:!vt,onFocusWithinChange:xt});return{isFocused:wt,isFocusVisible:Et,focusProps:vt?kt:Pt}}var i$5=Object.defineProperty,d$3=(_e,$,ht)=>$ in _e?i$5(_e,$,{enumerable:!0,configurable:!0,writable:!0,value:ht}):_e[$]=ht,r$2=(_e,$,ht)=>(d$3(_e,typeof $!="symbol"?$+"":$,ht),ht);let o$5=class{constructor(){r$2(this,"current",this.detect()),r$2(this,"handoffState","pending"),r$2(this,"currentId",0)}set($){this.current!==$&&(this.handoffState="pending",this.currentId=0,this.current=$)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},s$5=new o$5;function u$7(_e){return s$5.isServer?null:_e instanceof Node?_e.ownerDocument:_e!=null&&_e.hasOwnProperty("current")&&_e.current instanceof Node?_e.current.ownerDocument:document}function t$3(_e){typeof queueMicrotask=="function"?queueMicrotask(_e):Promise.resolve().then(_e).catch($=>setTimeout(()=>{throw $}))}function o$4(){let _e=[],$={addEventListener(ht,vt,bt,wt){return ht.addEventListener(vt,bt,wt),$.add(()=>ht.removeEventListener(vt,bt,wt))},requestAnimationFrame(...ht){let vt=requestAnimationFrame(...ht);return $.add(()=>cancelAnimationFrame(vt))},nextFrame(...ht){return $.requestAnimationFrame(()=>$.requestAnimationFrame(...ht))},setTimeout(...ht){let vt=setTimeout(...ht);return $.add(()=>clearTimeout(vt))},microTask(...ht){let vt={current:!0};return t$3(()=>{vt.current&&ht[0]()}),$.add(()=>{vt.current=!1})},style(ht,vt,bt){let wt=ht.style.getPropertyValue(vt);return Object.assign(ht.style,{[vt]:bt}),this.add(()=>{Object.assign(ht.style,{[vt]:wt})})},group(ht){let vt=o$4();return ht(vt),this.add(()=>vt.dispose())},add(ht){return _e.includes(ht)||_e.push(ht),()=>{let vt=_e.indexOf(ht);if(vt>=0)for(let bt of _e.splice(vt,1))bt()}},dispose(){for(let ht of _e.splice(0))ht()}};return $}function p$3(){let[_e]=reactExports.useState(o$4);return reactExports.useEffect(()=>()=>_e.dispose(),[_e]),_e}let n$3=(_e,$)=>{s$5.isServer?reactExports.useEffect(_e,$):reactExports.useLayoutEffect(_e,$)};function s$4(_e){let $=reactExports.useRef(_e);return n$3(()=>{$.current=_e},[_e]),$}let o$3=function(_e){let $=s$4(_e);return React.useCallback((...ht)=>$.current(...ht),[$])};function E(_e){let $=_e.width/2,ht=_e.height/2;return{top:_e.clientY-ht,right:_e.clientX+$,bottom:_e.clientY+ht,left:_e.clientX-$}}function P$2(_e,$){return!(!_e||!$||_e.right<$.left||_e.left>$.right||_e.bottom<$.top||_e.top>$.bottom)}function w$1({disabled:_e=!1}={}){let $=reactExports.useRef(null),[ht,vt]=reactExports.useState(!1),bt=p$3(),wt=o$3(()=>{$.current=null,vt(!1),bt.dispose()}),At=o$3(Et=>{if(bt.dispose(),$.current===null){$.current=Et.currentTarget,vt(!0);{let St=u$7(Et.currentTarget);bt.addEventListener(St,"pointerup",wt,!1),bt.addEventListener(St,"pointermove",Ct=>{if($.current){let xt=E(Ct);vt(P$2(xt,$.current.getBoundingClientRect()))}},!1),bt.addEventListener(St,"pointercancel",wt,!1)}}});return{pressed:ht,pressProps:_e?{}:{onPointerDown:At,onPointerUp:wt,onClick:wt}}}let e$2=reactExports.createContext(void 0);function a$7(){return reactExports.useContext(e$2)}function t$2(..._e){return Array.from(new Set(_e.flatMap($=>typeof $=="string"?$.split(" "):[]))).filter(Boolean).join(" ")}function u$6(_e,$,...ht){if(_e in $){let bt=$[_e];return typeof bt=="function"?bt(...ht):bt}let vt=new Error(`Tried to handle "${_e}" but there is no handler defined. Only defined handlers are: ${Object.keys($).map(bt=>`"${bt}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(vt,u$6),vt}var O$1=(_e=>(_e[_e.None=0]="None",_e[_e.RenderStrategy=1]="RenderStrategy",_e[_e.Static=2]="Static",_e))(O$1||{}),M$2=(_e=>(_e[_e.Unmount=0]="Unmount",_e[_e.Hidden=1]="Hidden",_e))(M$2||{});function H$1({ourProps:_e,theirProps:$,slot:ht,defaultTag:vt,features:bt,visible:wt=!0,name:At,mergeRefs:Et}){Et=Et??A$2;let St=N$2($,_e);if(wt)return b$1(St,ht,vt,At,Et);let Ct=bt??0;if(Ct&2){let{static:xt=!1,...Pt}=St;if(xt)return b$1(Pt,ht,vt,At,Et)}if(Ct&1){let{unmount:xt=!0,...Pt}=St;return u$6(xt?0:1,{0(){return null},1(){return b$1({...Pt,hidden:!0,style:{display:"none"}},ht,vt,At,Et)}})}return b$1(St,ht,vt,At,Et)}function b$1(_e,$={},ht,vt,bt){let{as:wt=ht,children:At,refName:Et="ref",...St}=h$2(_e,["unmount","static"]),Ct=_e.ref!==void 0?{[Et]:_e.ref}:{},xt=typeof At=="function"?At($):At;"className"in St&&St.className&&typeof St.className=="function"&&(St.className=St.className($)),St["aria-labelledby"]&&St["aria-labelledby"]===St.id&&(St["aria-labelledby"]=void 0);let Pt={};if($){let kt=!1,Rt=[];for(let[Mt,Ft]of Object.entries($))typeof Ft=="boolean"&&(kt=!0),Ft===!0&&Rt.push(Mt.replace(/([A-Z])/g,$t=>`-${$t.toLowerCase()}`));if(kt){Pt["data-headlessui-state"]=Rt.join(" ");for(let Mt of Rt)Pt[`data-${Mt}`]=""}}if(wt===reactExports.Fragment&&(Object.keys(m$3(St)).length>0||Object.keys(m$3(Pt)).length>0))if(!reactExports.isValidElement(xt)||Array.isArray(xt)&&xt.length>1){if(Object.keys(m$3(St)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${vt} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(m$3(St)).concat(Object.keys(m$3(Pt))).map(kt=>`  - ${kt}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(kt=>`  - ${kt}`).join(`
`)].join(`
`))}else{let kt=xt.props,Rt=kt==null?void 0:kt.className,Mt=typeof Rt=="function"?(...Lt)=>t$2(Rt(...Lt),St.className):t$2(Rt,St.className),Ft=Mt?{className:Mt}:{},$t=N$2(xt.props,m$3(h$2(St,["ref"])));for(let Lt in Pt)Lt in $t&&delete Pt[Lt];return reactExports.cloneElement(xt,Object.assign({},$t,Pt,Ct,{ref:bt(xt.ref,Ct.ref)},Ft))}return reactExports.createElement(wt,Object.assign({},h$2(St,["ref"]),wt!==reactExports.Fragment&&Ct,wt!==reactExports.Fragment&&Pt),xt)}function A$2(..._e){return _e.every($=>$==null)?void 0:$=>{for(let ht of _e)ht!=null&&(typeof ht=="function"?ht($):ht.current=$)}}function N$2(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let vt of _e)for(let bt in vt)bt.startsWith("on")&&typeof vt[bt]=="function"?(ht[bt]!=null||(ht[bt]=[]),ht[bt].push(vt[bt])):$[bt]=vt[bt];if($.disabled||$["aria-disabled"])for(let vt in ht)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(vt)&&(ht[vt]=[bt=>{var wt;return(wt=bt==null?void 0:bt.preventDefault)==null?void 0:wt.call(bt)}]);for(let vt in ht)Object.assign($,{[vt](bt,...wt){let At=ht[vt];for(let Et of At){if((bt instanceof Event||(bt==null?void 0:bt.nativeEvent)instanceof Event)&&bt.defaultPrevented)return;Et(bt,...wt)}}});return $}function D$3(..._e){if(_e.length===0)return{};if(_e.length===1)return _e[0];let $={},ht={};for(let vt of _e)for(let bt in vt)bt.startsWith("on")&&typeof vt[bt]=="function"?(ht[bt]!=null||(ht[bt]=[]),ht[bt].push(vt[bt])):$[bt]=vt[bt];for(let vt in ht)Object.assign($,{[vt](...bt){let wt=ht[vt];for(let At of wt)At==null||At(...bt)}});return $}function I$3(_e){var $;return Object.assign(reactExports.forwardRef(_e),{displayName:($=_e.displayName)!=null?$:_e.name})}function m$3(_e){let $=Object.assign({},_e);for(let ht in $)$[ht]===void 0&&delete $[ht];return $}function h$2(_e,$=[]){let ht=Object.assign({},_e);for(let vt of $)vt in ht&&delete ht[vt];return ht}let e$1=reactExports.createContext(void 0);function u$5(){return reactExports.useContext(e$1)}function r$1(_e){let $=_e.parentElement,ht=null;for(;$&&!($ instanceof HTMLFieldSetElement);)$ instanceof HTMLLegendElement&&(ht=$),$=$.parentElement;let vt=($==null?void 0:$.getAttribute("disabled"))==="";return vt&&i$4(ht)?!1:vt}function i$4(_e){if(!_e)return!1;let $=_e.previousElementSibling;for(;$!==null;){if($ instanceof HTMLLegendElement)return!1;$=$.previousElementSibling}return!0}let u$4=Symbol();function T$2(_e,$=!0){return Object.assign(_e,{[u$4]:$})}function y$4(..._e){let $=reactExports.useRef(_e);reactExports.useEffect(()=>{$.current=_e},[_e]);let ht=o$3(vt=>{for(let bt of $.current)bt!=null&&(typeof bt=="function"?bt(vt):bt.current=vt)});return _e.every(vt=>vt==null||(vt==null?void 0:vt[u$4]))?void 0:ht}let a$6=reactExports.createContext(null);a$6.displayName="DescriptionContext";function f$5(){let _e=reactExports.useContext(a$6);if(_e===null){let $=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,f$5),$}return _e}function U$1(){let[_e,$]=reactExports.useState([]);return[_e.length>0?_e.join(" "):void 0,reactExports.useMemo(()=>function(ht){let vt=o$3(wt=>($(At=>[...At,wt]),()=>$(At=>{let Et=At.slice(),St=Et.indexOf(wt);return St!==-1&&Et.splice(St,1),Et}))),bt=reactExports.useMemo(()=>({register:vt,slot:ht.slot,name:ht.name,props:ht.props,value:ht.value}),[vt,ht.slot,ht.name,ht.props,ht.value]);return React.createElement(a$6.Provider,{value:bt},ht.children)},[$])]}let S$3="p";function C(_e,$){let ht=reactExports.useId(),vt=a$7(),{id:bt=`headlessui-description-${ht}`,...wt}=_e,At=f$5(),Et=y$4($);n$3(()=>At.register(bt),[bt,At.register]);let St=vt||!1,Ct=reactExports.useMemo(()=>({...At.slot,disabled:St}),[At.slot,St]),xt={ref:Et,...At.props,id:bt};return H$1({ourProps:xt,theirProps:wt,slot:Ct,defaultTag:S$3,name:At.name||"Description"})}let _$1=I$3(C);Object.assign(_$1,{});var o$2=(_e=>(_e.Space=" ",_e.Enter="Enter",_e.Escape="Escape",_e.Backspace="Backspace",_e.Delete="Delete",_e.ArrowLeft="ArrowLeft",_e.ArrowUp="ArrowUp",_e.ArrowRight="ArrowRight",_e.ArrowDown="ArrowDown",_e.Home="Home",_e.End="End",_e.PageUp="PageUp",_e.PageDown="PageDown",_e.Tab="Tab",_e))(o$2||{});let c$4=reactExports.createContext(null);c$4.displayName="LabelContext";function P$1(){let _e=reactExports.useContext(c$4);if(_e===null){let $=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace($,P$1),$}return _e}function I$2(_e){var $,ht,vt;let bt=(ht=($=reactExports.useContext(c$4))==null?void 0:$.value)!=null?ht:void 0;return((vt=void 0)!=null?vt:0)>0?[bt,..._e].filter(Boolean).join(" "):bt}function z({inherit:_e=!1}={}){let $=I$2(),[ht,vt]=reactExports.useState([]),bt=_e?[$,...ht].filter(Boolean):ht;return[bt.length>0?bt.join(" "):void 0,reactExports.useMemo(()=>function(wt){let At=o$3(St=>(vt(Ct=>[...Ct,St]),()=>vt(Ct=>{let xt=Ct.slice(),Pt=xt.indexOf(St);return Pt!==-1&&xt.splice(Pt,1),xt}))),Et=reactExports.useMemo(()=>({register:At,slot:wt.slot,name:wt.name,props:wt.props,value:wt.value}),[At,wt.slot,wt.name,wt.props,wt.value]);return React.createElement(c$4.Provider,{value:Et},wt.children)},[vt])]}let N$1="label";function G$1(_e,$){var ht;let vt=reactExports.useId(),bt=P$1(),wt=u$5(),At=a$7(),{id:Et=`headlessui-label-${vt}`,htmlFor:St=wt??((ht=bt.props)==null?void 0:ht.htmlFor),passive:Ct=!1,...xt}=_e,Pt=y$4($);n$3(()=>bt.register(Et),[Et,bt.register]);let kt=o$3($t=>{let Lt=$t.currentTarget;if(Lt instanceof HTMLLabelElement&&$t.preventDefault(),bt.props&&"onClick"in bt.props&&typeof bt.props.onClick=="function"&&bt.props.onClick($t),Lt instanceof HTMLLabelElement){let Dt=document.getElementById(Lt.htmlFor);if(Dt){let Ot=Dt.getAttribute("disabled");if(Ot==="true"||Ot==="")return;let Bt=Dt.getAttribute("aria-disabled");if(Bt==="true"||Bt==="")return;(Dt instanceof HTMLInputElement&&(Dt.type==="radio"||Dt.type==="checkbox")||Dt.role==="radio"||Dt.role==="checkbox"||Dt.role==="switch")&&Dt.click(),Dt.focus({preventScroll:!0})}}}),Rt=At||!1,Mt=reactExports.useMemo(()=>({...bt.slot,disabled:Rt}),[bt.slot,Rt]),Ft={ref:Pt,...bt.props,id:Et,htmlFor:St,onClick:kt};return Ct&&("onClick"in Ft&&(delete Ft.htmlFor,delete Ft.onClick),"onClick"in xt&&delete xt.onClick),H$1({ourProps:Ft,theirProps:xt,slot:Mt,defaultTag:St?N$1:"div",name:bt.name||"Label"})}let U=I$3(G$1);Object.assign(U,{});function s$3(_e){if(_e===null)return{width:0,height:0};let{width:$,height:ht}=_e.getBoundingClientRect();return{width:$,height:ht}}function f$4(_e,$=!1){let ht=_e===null?null:"current"in _e?_e.current:_e,[vt,bt]=reactExports.useReducer(()=>({}),{}),wt=reactExports.useMemo(()=>s$3(ht),[ht,vt]);return n$3(()=>{if(!ht)return;let At=new ResizeObserver(bt);return At.observe(ht),()=>{At.disconnect()}},[ht]),$?{width:`${wt.width}px`,height:`${wt.height}px`}:wt}let a$5=class extends Map{constructor($){super(),this.factory=$}get($){let ht=super.get($);return ht===void 0&&(ht=this.factory($),this.set($,ht)),ht}};function a$4(_e,$){let ht=_e(),vt=new Set;return{getSnapshot(){return ht},subscribe(bt){return vt.add(bt),()=>vt.delete(bt)},dispatch(bt,...wt){let At=$[bt].call(ht,...wt);At&&(ht=At,vt.forEach(Et=>Et()))}}}function o$1(_e){return reactExports.useSyncExternalStore(_e.subscribe,_e.getSnapshot,_e.getSnapshot)}let p$2=new a$5(()=>a$4(()=>[],{ADD(_e){return this.includes(_e)?this:[...this,_e]},REMOVE(_e){let $=this.indexOf(_e);if($===-1)return this;let ht=this.slice();return ht.splice($,1),ht}}));function x(_e,$){let ht=p$2.get($),vt=reactExports.useId(),bt=o$1(ht);if(n$3(()=>{if(_e)return ht.dispatch("ADD",vt),()=>ht.dispatch("REMOVE",vt)},[ht,_e]),!_e)return!1;let wt=bt.indexOf(vt),At=bt.length;return wt===-1&&(wt=At,At+=1),wt===At-1}let f$3=new Map,u$3=new Map;function h$1(_e){var $;let ht=($=u$3.get(_e))!=null?$:0;return u$3.set(_e,ht+1),ht!==0?()=>m$2(_e):(f$3.set(_e,{"aria-hidden":_e.getAttribute("aria-hidden"),inert:_e.inert}),_e.setAttribute("aria-hidden","true"),_e.inert=!0,()=>m$2(_e))}function m$2(_e){var $;let ht=($=u$3.get(_e))!=null?$:1;if(ht===1?u$3.delete(_e):u$3.set(_e,ht-1),ht!==1)return;let vt=f$3.get(_e);vt&&(vt["aria-hidden"]===null?_e.removeAttribute("aria-hidden"):_e.setAttribute("aria-hidden",vt["aria-hidden"]),_e.inert=vt.inert,f$3.delete(_e))}function y$3(_e,{allowed:$,disallowed:ht}={}){let vt=x(_e,"inert-others");n$3(()=>{var bt,wt;if(!vt)return;let At=o$4();for(let St of(bt=ht==null?void 0:ht())!=null?bt:[])St&&At.add(h$1(St));let Et=(wt=$==null?void 0:$())!=null?wt:[];for(let St of Et){if(!St)continue;let Ct=u$7(St);if(!Ct)continue;let xt=St.parentElement;for(;xt&&xt!==Ct.body;){for(let Pt of xt.children)Et.some(kt=>Pt.contains(kt))||At.add(h$1(Pt));xt=xt.parentElement}}return At.dispose},[vt,$,ht])}function m$1(_e,$,ht){let vt=s$4(bt=>{let wt=bt.getBoundingClientRect();wt.x===0&&wt.y===0&&wt.width===0&&wt.height===0&&ht()});reactExports.useEffect(()=>{if(!_e)return;let bt=$===null?null:$ instanceof HTMLElement?$:$.current;if(!bt)return;let wt=o$4();if(typeof ResizeObserver<"u"){let At=new ResizeObserver(()=>vt.current(bt));At.observe(bt),wt.add(()=>At.disconnect())}if(typeof IntersectionObserver<"u"){let At=new IntersectionObserver(()=>vt.current(bt));At.observe(bt),wt.add(()=>At.disconnect())}return()=>wt.dispose()},[$,vt,_e])}let f$2=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(_e=>`${_e}:not([tabindex='-1'])`).join(","),p$1=["[data-autofocus]"].map(_e=>`${_e}:not([tabindex='-1'])`).join(",");var F$3=(_e=>(_e[_e.First=1]="First",_e[_e.Previous=2]="Previous",_e[_e.Next=4]="Next",_e[_e.Last=8]="Last",_e[_e.WrapAround=16]="WrapAround",_e[_e.NoScroll=32]="NoScroll",_e[_e.AutoFocus=64]="AutoFocus",_e))(F$3||{}),T$1=(_e=>(_e[_e.Error=0]="Error",_e[_e.Overflow=1]="Overflow",_e[_e.Success=2]="Success",_e[_e.Underflow=3]="Underflow",_e))(T$1||{}),y$2=(_e=>(_e[_e.Previous=-1]="Previous",_e[_e.Next=1]="Next",_e))(y$2||{});function b(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(f$2)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}function S$2(_e=document.body){return _e==null?[]:Array.from(_e.querySelectorAll(p$1)).sort(($,ht)=>Math.sign(($.tabIndex||Number.MAX_SAFE_INTEGER)-(ht.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(_e=>(_e[_e.Strict=0]="Strict",_e[_e.Loose=1]="Loose",_e))(h||{});function A$1(_e,$=0){var ht;return _e===((ht=u$7(_e))==null?void 0:ht.body)?!1:u$6($,{0(){return _e.matches(f$2)},1(){let vt=_e;for(;vt!==null;){if(vt.matches(f$2))return!0;vt=vt.parentElement}return!1}})}function G(_e){let $=u$7(_e);o$4().nextFrame(()=>{$&&!A$1($.activeElement,0)&&I$1(_e)})}var H=(_e=>(_e[_e.Keyboard=0]="Keyboard",_e[_e.Mouse=1]="Mouse",_e))(H||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",_e=>{_e.metaKey||_e.altKey||_e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",_e=>{_e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:_e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function I$1(_e){_e==null||_e.focus({preventScroll:!0})}let w=["textarea","input"].join(",");function O(_e){var $,ht;return(ht=($=_e==null?void 0:_e.matches)==null?void 0:$.call(_e,w))!=null?ht:!1}function _(_e,$=ht=>ht){return _e.slice().sort((ht,vt)=>{let bt=$(ht),wt=$(vt);if(bt===null||wt===null)return 0;let At=bt.compareDocumentPosition(wt);return At&Node.DOCUMENT_POSITION_FOLLOWING?-1:At&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function j$2(_e,$){return P(b(),$,{relativeTo:_e})}function P(_e,$,{sorted:ht=!0,relativeTo:vt=null,skipElements:bt=[]}={}){let wt=Array.isArray(_e)?_e.length>0?_e[0].ownerDocument:document:_e.ownerDocument,At=Array.isArray(_e)?ht?_(_e):_e:$&64?S$2(_e):b(_e);bt.length>0&&At.length>1&&(At=At.filter(Rt=>!bt.some(Mt=>Mt!=null&&"current"in Mt?(Mt==null?void 0:Mt.current)===Rt:Mt===Rt))),vt=vt??wt.activeElement;let Et=(()=>{if($&5)return 1;if($&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),St=(()=>{if($&1)return 0;if($&2)return Math.max(0,At.indexOf(vt))-1;if($&4)return Math.max(0,At.indexOf(vt))+1;if($&8)return At.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ct=$&32?{preventScroll:!0}:{},xt=0,Pt=At.length,kt;do{if(xt>=Pt||xt+Pt<=0)return 0;let Rt=St+xt;if($&16)Rt=(Rt+Pt)%Pt;else{if(Rt<0)return 3;if(Rt>=Pt)return 1}kt=At[Rt],kt==null||kt.focus(Ct),xt+=Et}while(kt!==wt.activeElement);return $&6&&O(kt)&&kt.select(),2}function t$1(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i$3(){return/Android/gi.test(window.navigator.userAgent)}function n$2(){return t$1()||i$3()}function i$2(_e,$,ht,vt){let bt=s$4(ht);reactExports.useEffect(()=>{if(!_e)return;function wt(At){bt.current(At)}return document.addEventListener($,wt,vt),()=>document.removeEventListener($,wt,vt)},[_e,$,vt])}function s$2(_e,$,ht,vt){let bt=s$4(ht);reactExports.useEffect(()=>{if(!_e)return;function wt(At){bt.current(At)}return window.addEventListener($,wt,vt),()=>window.removeEventListener($,wt,vt)},[_e,$,vt])}const d$2=30;function F$2(_e,$,ht){let vt=x(_e,"outside-click"),bt=s$4(ht),wt=reactExports.useCallback(function(St,Ct){if(St.defaultPrevented)return;let xt=Ct(St);if(xt===null||!xt.getRootNode().contains(xt)||!xt.isConnected)return;let Pt=function kt(Rt){return typeof Rt=="function"?kt(Rt()):Array.isArray(Rt)||Rt instanceof Set?Rt:[Rt]}($);for(let kt of Pt){if(kt===null)continue;let Rt=kt instanceof HTMLElement?kt:kt.current;if(Rt!=null&&Rt.contains(xt)||St.composed&&St.composedPath().includes(Rt))return}return!A$1(xt,h.Loose)&&xt.tabIndex!==-1&&St.preventDefault(),bt.current(St,xt)},[bt]),At=reactExports.useRef(null);i$2(vt,"pointerdown",St=>{var Ct,xt;At.current=((xt=(Ct=St.composedPath)==null?void 0:Ct.call(St))==null?void 0:xt[0])||St.target},!0),i$2(vt,"mousedown",St=>{var Ct,xt;At.current=((xt=(Ct=St.composedPath)==null?void 0:Ct.call(St))==null?void 0:xt[0])||St.target},!0),i$2(vt,"click",St=>{n$2()||At.current&&(wt(St,()=>At.current),At.current=null)},!0);let Et=reactExports.useRef({x:0,y:0});i$2(vt,"touchstart",St=>{Et.current.x=St.touches[0].clientX,Et.current.y=St.touches[0].clientY},!0),i$2(vt,"touchend",St=>{let Ct={x:St.changedTouches[0].clientX,y:St.changedTouches[0].clientY};if(!(Math.abs(Ct.x-Et.current.x)>=d$2||Math.abs(Ct.y-Et.current.y)>=d$2))return wt(St,()=>St.target instanceof HTMLElement?St.target:null)},!0),s$2(vt,"blur",St=>wt(St,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function n$1(..._e){return reactExports.useMemo(()=>u$7(..._e),[..._e])}function i$1(_e){var $;if(_e.type)return _e.type;let ht=($=_e.as)!=null?$:"button";if(typeof ht=="string"&&ht.toLowerCase()==="button")return"button"}function T(_e,$){let[ht,vt]=reactExports.useState(()=>i$1(_e));return n$3(()=>{vt(i$1(_e))},[_e.type,_e.as]),n$3(()=>{ht||$.current&&$.current instanceof HTMLButtonElement&&!$.current.hasAttribute("type")&&vt("button")},[ht,$]),ht}function d$1(){let _e;return{before({doc:$}){var ht;let vt=$.documentElement,bt=(ht=$.defaultView)!=null?ht:window;_e=Math.max(0,bt.innerWidth-vt.clientWidth)},after({doc:$,d:ht}){let vt=$.documentElement,bt=Math.max(0,vt.clientWidth-vt.offsetWidth),wt=Math.max(0,_e-bt);ht.style(vt,"paddingRight",`${wt}px`)}}}function d(){return t$1()?{before({doc:_e,d:$,meta:ht}){function vt(bt){return ht.containers.flatMap(wt=>wt()).some(wt=>wt.contains(bt))}$.microTask(()=>{var bt;if(window.getComputedStyle(_e.documentElement).scrollBehavior!=="auto"){let Et=o$4();Et.style(_e.documentElement,"scrollBehavior","auto"),$.add(()=>$.microTask(()=>Et.dispose()))}let wt=(bt=window.scrollY)!=null?bt:window.pageYOffset,At=null;$.addEventListener(_e,"click",Et=>{if(Et.target instanceof HTMLElement)try{let St=Et.target.closest("a");if(!St)return;let{hash:Ct}=new URL(St.href),xt=_e.querySelector(Ct);xt&&!vt(xt)&&(At=xt)}catch{}},!0),$.addEventListener(_e,"touchstart",Et=>{if(Et.target instanceof HTMLElement)if(vt(Et.target)){let St=Et.target;for(;St.parentElement&&vt(St.parentElement);)St=St.parentElement;$.style(St,"overscrollBehavior","contain")}else $.style(Et.target,"touchAction","none")}),$.addEventListener(_e,"touchmove",Et=>{if(Et.target instanceof HTMLElement){if(Et.target.tagName==="INPUT")return;if(vt(Et.target)){let St=Et.target;for(;St.parentElement&&St.dataset.headlessuiPortal!==""&&!(St.scrollHeight>St.clientHeight||St.scrollWidth>St.clientWidth);)St=St.parentElement;St.dataset.headlessuiPortal===""&&Et.preventDefault()}else Et.preventDefault()}},{passive:!1}),$.add(()=>{var Et;let St=(Et=window.scrollY)!=null?Et:window.pageYOffset;wt!==St&&window.scrollTo(0,wt),At&&At.isConnected&&(At.scrollIntoView({block:"nearest"}),At=null)})})}}:{}}function r(){return{before({doc:_e,d:$}){$.style(_e.documentElement,"overflow","hidden")}}}function m(_e){let $={};for(let ht of _e)Object.assign($,ht($));return $}let a$3=a$4(()=>new Map,{PUSH(_e,$){var ht;let vt=(ht=this.get(_e))!=null?ht:{doc:_e,count:0,d:o$4(),meta:new Set};return vt.count++,vt.meta.add($),this.set(_e,vt),this},POP(_e,$){let ht=this.get(_e);return ht&&(ht.count--,ht.meta.delete($)),this},SCROLL_PREVENT({doc:_e,d:$,meta:ht}){let vt={doc:_e,d:$,meta:m(ht)},bt=[d(),d$1(),r()];bt.forEach(({before:wt})=>wt==null?void 0:wt(vt)),bt.forEach(({after:wt})=>wt==null?void 0:wt(vt))},SCROLL_ALLOW({d:_e}){_e.dispose()},TEARDOWN({doc:_e}){this.delete(_e)}});a$3.subscribe(()=>{let _e=a$3.getSnapshot(),$=new Map;for(let[ht]of _e)$.set(ht,ht.documentElement.style.overflow);for(let ht of _e.values()){let vt=$.get(ht.doc)==="hidden",bt=ht.count!==0;(bt&&!vt||!bt&&vt)&&a$3.dispatch(ht.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",ht),ht.count===0&&a$3.dispatch("TEARDOWN",ht)}});function a$2(_e,$,ht=()=>({containers:[]})){let vt=o$1(a$3),bt=$?vt.get($):void 0,wt=bt?bt.count>0:!1;return n$3(()=>{if(!(!$||!_e))return a$3.dispatch("PUSH",$,ht),()=>a$3.dispatch("POP",$,ht)},[_e,$]),wt}function f$1(_e,$,ht=()=>[document.body]){let vt=x(_e,"scroll-lock");a$2(vt,$,bt=>{var wt;return{containers:[...(wt=bt.containers)!=null?wt:[],ht]}})}function t(_e){return[_e.screenX,_e.screenY]}function u$2(){let _e=reactExports.useRef([-1,-1]);return{wasMoved($){let ht=t($);return _e.current[0]===ht[0]&&_e.current[1]===ht[1]?!1:(_e.current=ht,!0)},update($){_e.current=t($)}}}function l$1(_e){let $={called:!1};return(...ht)=>{if(!$.called)return $.called=!0,_e(...ht)}}function c$3(_e=0){let[$,ht]=reactExports.useState(_e),vt=reactExports.useCallback(St=>ht(St),[$]),bt=reactExports.useCallback(St=>ht(Ct=>Ct|St),[$]),wt=reactExports.useCallback(St=>($&St)===St,[$]),At=reactExports.useCallback(St=>ht(Ct=>Ct&~St),[ht]),Et=reactExports.useCallback(St=>ht(Ct=>Ct^St),[ht]);return{flags:$,setFlag:vt,addFlag:bt,hasFlag:wt,removeFlag:At,toggleFlag:Et}}var D$2=(_e=>(_e[_e.None=0]="None",_e[_e.Closed=1]="Closed",_e[_e.Enter=2]="Enter",_e[_e.Leave=4]="Leave",_e))(D$2||{});function A(_e){let $={};for(let ht in _e)_e[ht]===!0&&($[`data-${ht}`]="");return $}function V(_e,$,ht,vt){let[bt,wt]=reactExports.useState(ht),{hasFlag:At,addFlag:Et,removeFlag:St}=c$3(_e&&bt?3:0),Ct=reactExports.useRef(!1),xt=reactExports.useRef(!1),Pt=p$3();return n$3(function kt(){var Rt;if(!_e)return;ht&&wt(!0);let Mt=$.current;return Mt?((Rt=void 0)==null||Rt.call(vt,ht),M$1(Mt,{inFlight:Ct,prepare(){xt.current?xt.current=!1:xt.current=Ct.current,Ct.current=!0,!xt.current&&(ht?(Et(3),St(4)):(Et(4),St(2)))},run(){xt.current?ht?(St(3),Et(4)):(St(4),Et(3)):ht?St(1):Et(1)},done(){var Ft;xt.current&&typeof Mt.getAnimations=="function"&&Mt.getAnimations().length>0||(Ct.current=!1,St(7),ht||wt(!1),(Ft=void 0)==null||Ft.call(vt,ht))}})):ht?(Et(3),Pt.nextFrame(()=>kt())):void 0},[_e,ht,$,Pt]),_e?[bt,{closed:At(1),enter:At(2),leave:At(4),transition:At(2)||At(4)}]:[ht,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function M$1(_e,{prepare:$,run:ht,done:vt,inFlight:bt}){let wt=o$4();return R(_e,{prepare:$,inFlight:bt}),wt.nextFrame(()=>{wt.add(F$1(_e,vt)),ht()}),wt.dispose}function F$1(_e,$){let ht=l$1($),vt=o$4();if(!_e)return vt.dispose;let{transitionDuration:bt,transitionDelay:wt}=getComputedStyle(_e),[At,Et]=[bt,wt].map(Ct=>{let[xt=0]=Ct.split(",").filter(Boolean).map(Pt=>Pt.includes("ms")?parseFloat(Pt):parseFloat(Pt)*1e3).sort((Pt,kt)=>kt-Pt);return xt}),St=At+Et;if(St!==0){let Ct=vt.group(xt=>{let Pt=xt.setTimeout(()=>{ht(),xt.dispose()},St);xt.addEventListener(_e,"transitionrun",kt=>{kt.target===kt.currentTarget&&(Pt(),xt.addEventListener(_e,"transitioncancel",Rt=>{Rt.target===Rt.currentTarget&&(ht(),Ct())}))})});vt.addEventListener(_e,"transitionend",xt=>{xt.target===xt.currentTarget&&(ht(),vt.dispose())})}else ht();return vt.dispose}function R(_e,{inFlight:$,prepare:ht}){if($!=null&&$.current){ht();return}let vt=_e.style.transition;_e.style.transition="none",ht(),_e.offsetHeight,_e.style.transition=vt}function F(_e,{container:$,accept:ht,walk:vt}){let bt=reactExports.useRef(ht),wt=reactExports.useRef(vt);reactExports.useEffect(()=>{bt.current=ht,wt.current=vt},[ht,vt]),n$3(()=>{if(!$||!_e)return;let At=u$7($);if(!At)return;let Et=bt.current,St=wt.current,Ct=Object.assign(Pt=>Et(Pt),{acceptNode:Et}),xt=At.createTreeWalker($,NodeFilter.SHOW_ELEMENT,Ct,!1);for(;xt.nextNode();)St(xt.currentNode)},[$,_e,bt,wt])}function getNodeName(_e){return isNode(_e)?(_e.nodeName||"").toLowerCase():"#document"}function getWindow(_e){var $;return(_e==null||($=_e.ownerDocument)==null?void 0:$.defaultView)||window}function getDocumentElement(_e){var $;return($=(isNode(_e)?_e.ownerDocument:_e.document)||window.document)==null?void 0:$.documentElement}function isNode(_e){return _e instanceof Node||_e instanceof getWindow(_e).Node}function isElement$1(_e){return _e instanceof Element||_e instanceof getWindow(_e).Element}function isHTMLElement(_e){return _e instanceof HTMLElement||_e instanceof getWindow(_e).HTMLElement}function isShadowRoot(_e){return typeof ShadowRoot>"u"?!1:_e instanceof ShadowRoot||_e instanceof getWindow(_e).ShadowRoot}function isOverflowElement(_e){const{overflow:$,overflowX:ht,overflowY:vt,display:bt}=getComputedStyle$2(_e);return/auto|scroll|overlay|hidden|clip/.test($+vt+ht)&&!["inline","contents"].includes(bt)}function isTableElement(_e){return["table","td","th"].includes(getNodeName(_e))}function isTopLayer(_e){return[":popover-open",":modal"].some($=>{try{return _e.matches($)}catch{return!1}})}function isContainingBlock(_e){const $=isWebKit(),ht=getComputedStyle$2(_e);return ht.transform!=="none"||ht.perspective!=="none"||(ht.containerType?ht.containerType!=="normal":!1)||!$&&(ht.backdropFilter?ht.backdropFilter!=="none":!1)||!$&&(ht.filter?ht.filter!=="none":!1)||["transform","perspective","filter"].some(vt=>(ht.willChange||"").includes(vt))||["paint","layout","strict","content"].some(vt=>(ht.contain||"").includes(vt))}function getContainingBlock(_e){let $=getParentNode(_e);for(;isHTMLElement($)&&!isLastTraversableNode($);){if(isTopLayer($))return null;if(isContainingBlock($))return $;$=getParentNode($)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(_e){return["html","body","#document"].includes(getNodeName(_e))}function getComputedStyle$2(_e){return getWindow(_e).getComputedStyle(_e)}function getNodeScroll(_e){return isElement$1(_e)?{scrollLeft:_e.scrollLeft,scrollTop:_e.scrollTop}:{scrollLeft:_e.pageXOffset,scrollTop:_e.pageYOffset}}function getParentNode(_e){if(getNodeName(_e)==="html")return _e;const $=_e.assignedSlot||_e.parentNode||isShadowRoot(_e)&&_e.host||getDocumentElement(_e);return isShadowRoot($)?$.host:$}function getNearestOverflowAncestor(_e){const $=getParentNode(_e);return isLastTraversableNode($)?_e.ownerDocument?_e.ownerDocument.body:_e.body:isHTMLElement($)&&isOverflowElement($)?$:getNearestOverflowAncestor($)}function getOverflowAncestors(_e,$,ht){var vt;$===void 0&&($=[]),ht===void 0&&(ht=!0);const bt=getNearestOverflowAncestor(_e),wt=bt===((vt=_e.ownerDocument)==null?void 0:vt.body),At=getWindow(bt);return wt?$.concat(At,At.visualViewport||[],isOverflowElement(bt)?bt:[],At.frameElement&&ht?getOverflowAncestors(At.frameElement):[]):$.concat(bt,getOverflowAncestors(bt,[],ht))}function getUserAgent(){const _e=navigator.userAgentData;return _e&&Array.isArray(_e.brands)?_e.brands.map($=>{let{brand:ht,version:vt}=$;return ht+"/"+vt}).join(" "):navigator.userAgent}const min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=_e=>({x:_e,y:_e}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(_e,$,ht){return max(_e,min($,ht))}function evaluate(_e,$){return typeof _e=="function"?_e($):_e}function getSide(_e){return _e.split("-")[0]}function getAlignment(_e){return _e.split("-")[1]}function getOppositeAxis(_e){return _e==="x"?"y":"x"}function getAxisLength(_e){return _e==="y"?"height":"width"}function getSideAxis(_e){return["top","bottom"].includes(getSide(_e))?"y":"x"}function getAlignmentAxis(_e){return getOppositeAxis(getSideAxis(_e))}function getAlignmentSides(_e,$,ht){ht===void 0&&(ht=!1);const vt=getAlignment(_e),bt=getAlignmentAxis(_e),wt=getAxisLength(bt);let At=bt==="x"?vt===(ht?"end":"start")?"right":"left":vt==="start"?"bottom":"top";return $.reference[wt]>$.floating[wt]&&(At=getOppositePlacement(At)),[At,getOppositePlacement(At)]}function getExpandedPlacements(_e){const $=getOppositePlacement(_e);return[getOppositeAlignmentPlacement(_e),$,getOppositeAlignmentPlacement($)]}function getOppositeAlignmentPlacement(_e){return _e.replace(/start|end/g,$=>oppositeAlignmentMap[$])}function getSideList(_e,$,ht){const vt=["left","right"],bt=["right","left"],wt=["top","bottom"],At=["bottom","top"];switch(_e){case"top":case"bottom":return ht?$?bt:vt:$?vt:bt;case"left":case"right":return $?wt:At;default:return[]}}function getOppositeAxisPlacements(_e,$,ht,vt){const bt=getAlignment(_e);let wt=getSideList(getSide(_e),ht==="start",vt);return bt&&(wt=wt.map(At=>At+"-"+bt),$&&(wt=wt.concat(wt.map(getOppositeAlignmentPlacement)))),wt}function getOppositePlacement(_e){return _e.replace(/left|right|bottom|top/g,$=>oppositeSideMap[$])}function expandPaddingObject(_e){return{top:0,right:0,bottom:0,left:0,..._e}}function getPaddingObject(_e){return typeof _e!="number"?expandPaddingObject(_e):{top:_e,right:_e,bottom:_e,left:_e}}function rectToClientRect(_e){const{x:$,y:ht,width:vt,height:bt}=_e;return{width:vt,height:bt,top:ht,left:$,right:$+vt,bottom:ht+bt,x:$,y:ht}}function computeCoordsFromPlacement(_e,$,ht){let{reference:vt,floating:bt}=_e;const wt=getSideAxis($),At=getAlignmentAxis($),Et=getAxisLength(At),St=getSide($),Ct=wt==="y",xt=vt.x+vt.width/2-bt.width/2,Pt=vt.y+vt.height/2-bt.height/2,kt=vt[Et]/2-bt[Et]/2;let Rt;switch(St){case"top":Rt={x:xt,y:vt.y-bt.height};break;case"bottom":Rt={x:xt,y:vt.y+vt.height};break;case"right":Rt={x:vt.x+vt.width,y:Pt};break;case"left":Rt={x:vt.x-bt.width,y:Pt};break;default:Rt={x:vt.x,y:vt.y}}switch(getAlignment($)){case"start":Rt[At]-=kt*(ht&&Ct?-1:1);break;case"end":Rt[At]+=kt*(ht&&Ct?-1:1);break}return Rt}const computePosition$1=async(_e,$,ht)=>{const{placement:vt="bottom",strategy:bt="absolute",middleware:wt=[],platform:At}=ht,Et=wt.filter(Boolean),St=await(At.isRTL==null?void 0:At.isRTL($));let Ct=await At.getElementRects({reference:_e,floating:$,strategy:bt}),{x:xt,y:Pt}=computeCoordsFromPlacement(Ct,vt,St),kt=vt,Rt={},Mt=0;for(let Ft=0;Ft<Et.length;Ft++){const{name:$t,fn:Lt}=Et[Ft],{x:Dt,y:Ot,data:Bt,reset:Nt}=await Lt({x:xt,y:Pt,initialPlacement:vt,placement:kt,strategy:bt,middlewareData:Rt,rects:Ct,platform:At,elements:{reference:_e,floating:$}});xt=Dt??xt,Pt=Ot??Pt,Rt={...Rt,[$t]:{...Rt[$t],...Bt}},Nt&&Mt<=50&&(Mt++,typeof Nt=="object"&&(Nt.placement&&(kt=Nt.placement),Nt.rects&&(Ct=Nt.rects===!0?await At.getElementRects({reference:_e,floating:$,strategy:bt}):Nt.rects),{x:xt,y:Pt}=computeCoordsFromPlacement(Ct,kt,St)),Ft=-1)}return{x:xt,y:Pt,placement:kt,strategy:bt,middlewareData:Rt}};async function detectOverflow$1(_e,$){var ht;$===void 0&&($={});const{x:vt,y:bt,platform:wt,rects:At,elements:Et,strategy:St}=_e,{boundary:Ct="clippingAncestors",rootBoundary:xt="viewport",elementContext:Pt="floating",altBoundary:kt=!1,padding:Rt=0}=evaluate($,_e),Mt=getPaddingObject(Rt),$t=Et[kt?Pt==="floating"?"reference":"floating":Pt],Lt=rectToClientRect(await wt.getClippingRect({element:(ht=await(wt.isElement==null?void 0:wt.isElement($t)))==null||ht?$t:$t.contextElement||await(wt.getDocumentElement==null?void 0:wt.getDocumentElement(Et.floating)),boundary:Ct,rootBoundary:xt,strategy:St})),Dt=Pt==="floating"?{x:vt,y:bt,width:At.floating.width,height:At.floating.height}:At.reference,Ot=await(wt.getOffsetParent==null?void 0:wt.getOffsetParent(Et.floating)),Bt=await(wt.isElement==null?void 0:wt.isElement(Ot))?await(wt.getScale==null?void 0:wt.getScale(Ot))||{x:1,y:1}:{x:1,y:1},Nt=rectToClientRect(wt.convertOffsetParentRelativeRectToViewportRelativeRect?await wt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:Et,rect:Dt,offsetParent:Ot,strategy:St}):Dt);return{top:(Lt.top-Nt.top+Mt.top)/Bt.y,bottom:(Nt.bottom-Lt.bottom+Mt.bottom)/Bt.y,left:(Lt.left-Nt.left+Mt.left)/Bt.x,right:(Nt.right-Lt.right+Mt.right)/Bt.x}}const flip$2=function(_e){return _e===void 0&&(_e={}),{name:"flip",options:_e,async fn($){var ht,vt;const{placement:bt,middlewareData:wt,rects:At,initialPlacement:Et,platform:St,elements:Ct}=$,{mainAxis:xt=!0,crossAxis:Pt=!0,fallbackPlacements:kt,fallbackStrategy:Rt="bestFit",fallbackAxisSideDirection:Mt="none",flipAlignment:Ft=!0,...$t}=evaluate(_e,$);if((ht=wt.arrow)!=null&&ht.alignmentOffset)return{};const Lt=getSide(bt),Dt=getSideAxis(Et),Ot=getSide(Et)===Et,Bt=await(St.isRTL==null?void 0:St.isRTL(Ct.floating)),Nt=kt||(Ot||!Ft?[getOppositePlacement(Et)]:getExpandedPlacements(Et)),Ht=Mt!=="none";!kt&&Ht&&Nt.push(...getOppositeAxisPlacements(Et,Ft,Mt,Bt));const Vt=[Et,...Nt],jt=await detectOverflow$1($,$t),qt=[];let Jt=((vt=wt.flip)==null?void 0:vt.overflows)||[];if(xt&&qt.push(jt[Lt]),Pt){const Sn=getAlignmentSides(bt,At,Bt);qt.push(jt[Sn[0]],jt[Sn[1]])}if(Jt=[...Jt,{placement:bt,overflows:qt}],!qt.every(Sn=>Sn<=0)){var Gt,en;const Sn=(((Gt=wt.flip)==null?void 0:Gt.index)||0)+1,cn=Vt[Sn];if(cn)return{data:{index:Sn,overflows:Jt},reset:{placement:cn}};let An=(en=Jt.filter(dn=>dn.overflows[0]<=0).sort((dn,fn)=>dn.overflows[1]-fn.overflows[1])[0])==null?void 0:en.placement;if(!An)switch(Rt){case"bestFit":{var an;const dn=(an=Jt.filter(fn=>{if(Ht){const nn=getSideAxis(fn.placement);return nn===Dt||nn==="y"}return!0}).map(fn=>[fn.placement,fn.overflows.filter(nn=>nn>0).reduce((nn,gn)=>nn+gn,0)]).sort((fn,nn)=>fn[1]-nn[1])[0])==null?void 0:an[0];dn&&(An=dn);break}case"initialPlacement":An=Et;break}if(bt!==An)return{reset:{placement:An}}}return{}}}};async function convertValueToCoords(_e,$){const{placement:ht,platform:vt,elements:bt}=_e,wt=await(vt.isRTL==null?void 0:vt.isRTL(bt.floating)),At=getSide(ht),Et=getAlignment(ht),St=getSideAxis(ht)==="y",Ct=["left","top"].includes(At)?-1:1,xt=wt&&St?-1:1,Pt=evaluate($,_e);let{mainAxis:kt,crossAxis:Rt,alignmentAxis:Mt}=typeof Pt=="number"?{mainAxis:Pt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Pt};return Et&&typeof Mt=="number"&&(Rt=Et==="end"?Mt*-1:Mt),St?{x:Rt*xt,y:kt*Ct}:{x:kt*Ct,y:Rt*xt}}const offset$2=function(_e){return _e===void 0&&(_e=0),{name:"offset",options:_e,async fn($){var ht,vt;const{x:bt,y:wt,placement:At,middlewareData:Et}=$,St=await convertValueToCoords($,_e);return At===((ht=Et.offset)==null?void 0:ht.placement)&&(vt=Et.arrow)!=null&&vt.alignmentOffset?{}:{x:bt+St.x,y:wt+St.y,data:{...St,placement:At}}}}},shift$2=function(_e){return _e===void 0&&(_e={}),{name:"shift",options:_e,async fn($){const{x:ht,y:vt,placement:bt}=$,{mainAxis:wt=!0,crossAxis:At=!1,limiter:Et={fn:$t=>{let{x:Lt,y:Dt}=$t;return{x:Lt,y:Dt}}},...St}=evaluate(_e,$),Ct={x:ht,y:vt},xt=await detectOverflow$1($,St),Pt=getSideAxis(getSide(bt)),kt=getOppositeAxis(Pt);let Rt=Ct[kt],Mt=Ct[Pt];if(wt){const $t=kt==="y"?"top":"left",Lt=kt==="y"?"bottom":"right",Dt=Rt+xt[$t],Ot=Rt-xt[Lt];Rt=clamp$1(Dt,Rt,Ot)}if(At){const $t=Pt==="y"?"top":"left",Lt=Pt==="y"?"bottom":"right",Dt=Mt+xt[$t],Ot=Mt-xt[Lt];Mt=clamp$1(Dt,Mt,Ot)}const Ft=Et.fn({...$,[kt]:Rt,[Pt]:Mt});return{...Ft,data:{x:Ft.x-ht,y:Ft.y-vt}}}}},size$2=function(_e){return _e===void 0&&(_e={}),{name:"size",options:_e,async fn($){const{placement:ht,rects:vt,platform:bt,elements:wt}=$,{apply:At=()=>{},...Et}=evaluate(_e,$),St=await detectOverflow$1($,Et),Ct=getSide(ht),xt=getAlignment(ht),Pt=getSideAxis(ht)==="y",{width:kt,height:Rt}=vt.floating;let Mt,Ft;Ct==="top"||Ct==="bottom"?(Mt=Ct,Ft=xt===(await(bt.isRTL==null?void 0:bt.isRTL(wt.floating))?"start":"end")?"left":"right"):(Ft=Ct,Mt=xt==="end"?"top":"bottom");const $t=Rt-St.top-St.bottom,Lt=kt-St.left-St.right,Dt=min(Rt-St[Mt],$t),Ot=min(kt-St[Ft],Lt),Bt=!$.middlewareData.shift;let Nt=Dt,Ht=Ot;if(Pt?Ht=xt||Bt?min(Ot,Lt):Lt:Nt=xt||Bt?min(Dt,$t):$t,Bt&&!xt){const jt=max(St.left,0),qt=max(St.right,0),Jt=max(St.top,0),Gt=max(St.bottom,0);Pt?Ht=kt-2*(jt!==0||qt!==0?jt+qt:max(St.left,St.right)):Nt=Rt-2*(Jt!==0||Gt!==0?Jt+Gt:max(St.top,St.bottom))}await At({...$,availableWidth:Ht,availableHeight:Nt});const Vt=await bt.getDimensions(wt.floating);return kt!==Vt.width||Rt!==Vt.height?{reset:{rects:!0}}:{}}}};function getCssDimensions(_e){const $=getComputedStyle$2(_e);let ht=parseFloat($.width)||0,vt=parseFloat($.height)||0;const bt=isHTMLElement(_e),wt=bt?_e.offsetWidth:ht,At=bt?_e.offsetHeight:vt,Et=round(ht)!==wt||round(vt)!==At;return Et&&(ht=wt,vt=At),{width:ht,height:vt,$:Et}}function unwrapElement(_e){return isElement$1(_e)?_e:_e.contextElement}function getScale(_e){const $=unwrapElement(_e);if(!isHTMLElement($))return createCoords(1);const ht=$.getBoundingClientRect(),{width:vt,height:bt,$:wt}=getCssDimensions($);let At=(wt?round(ht.width):ht.width)/vt,Et=(wt?round(ht.height):ht.height)/bt;return(!At||!Number.isFinite(At))&&(At=1),(!Et||!Number.isFinite(Et))&&(Et=1),{x:At,y:Et}}const noOffsets=createCoords(0);function getVisualOffsets(_e){const $=getWindow(_e);return!isWebKit()||!$.visualViewport?noOffsets:{x:$.visualViewport.offsetLeft,y:$.visualViewport.offsetTop}}function shouldAddVisualOffsets(_e,$,ht){return $===void 0&&($=!1),!ht||$&&ht!==getWindow(_e)?!1:$}function getBoundingClientRect(_e,$,ht,vt){$===void 0&&($=!1),ht===void 0&&(ht=!1);const bt=_e.getBoundingClientRect(),wt=unwrapElement(_e);let At=createCoords(1);$&&(vt?isElement$1(vt)&&(At=getScale(vt)):At=getScale(_e));const Et=shouldAddVisualOffsets(wt,ht,vt)?getVisualOffsets(wt):createCoords(0);let St=(bt.left+Et.x)/At.x,Ct=(bt.top+Et.y)/At.y,xt=bt.width/At.x,Pt=bt.height/At.y;if(wt){const kt=getWindow(wt),Rt=vt&&isElement$1(vt)?getWindow(vt):vt;let Mt=kt,Ft=Mt.frameElement;for(;Ft&&vt&&Rt!==Mt;){const $t=getScale(Ft),Lt=Ft.getBoundingClientRect(),Dt=getComputedStyle$2(Ft),Ot=Lt.left+(Ft.clientLeft+parseFloat(Dt.paddingLeft))*$t.x,Bt=Lt.top+(Ft.clientTop+parseFloat(Dt.paddingTop))*$t.y;St*=$t.x,Ct*=$t.y,xt*=$t.x,Pt*=$t.y,St+=Ot,Ct+=Bt,Mt=getWindow(Ft),Ft=Mt.frameElement}}return rectToClientRect({width:xt,height:Pt,x:St,y:Ct})}function convertOffsetParentRelativeRectToViewportRelativeRect(_e){let{elements:$,rect:ht,offsetParent:vt,strategy:bt}=_e;const wt=bt==="fixed",At=getDocumentElement(vt),Et=$?isTopLayer($.floating):!1;if(vt===At||Et&&wt)return ht;let St={scrollLeft:0,scrollTop:0},Ct=createCoords(1);const xt=createCoords(0),Pt=isHTMLElement(vt);if((Pt||!Pt&&!wt)&&((getNodeName(vt)!=="body"||isOverflowElement(At))&&(St=getNodeScroll(vt)),isHTMLElement(vt))){const kt=getBoundingClientRect(vt);Ct=getScale(vt),xt.x=kt.x+vt.clientLeft,xt.y=kt.y+vt.clientTop}return{width:ht.width*Ct.x,height:ht.height*Ct.y,x:ht.x*Ct.x-St.scrollLeft*Ct.x+xt.x,y:ht.y*Ct.y-St.scrollTop*Ct.y+xt.y}}function getClientRects(_e){return Array.from(_e.getClientRects())}function getWindowScrollBarX(_e){return getBoundingClientRect(getDocumentElement(_e)).left+getNodeScroll(_e).scrollLeft}function getDocumentRect(_e){const $=getDocumentElement(_e),ht=getNodeScroll(_e),vt=_e.ownerDocument.body,bt=max($.scrollWidth,$.clientWidth,vt.scrollWidth,vt.clientWidth),wt=max($.scrollHeight,$.clientHeight,vt.scrollHeight,vt.clientHeight);let At=-ht.scrollLeft+getWindowScrollBarX(_e);const Et=-ht.scrollTop;return getComputedStyle$2(vt).direction==="rtl"&&(At+=max($.clientWidth,vt.clientWidth)-bt),{width:bt,height:wt,x:At,y:Et}}function getViewportRect(_e,$){const ht=getWindow(_e),vt=getDocumentElement(_e),bt=ht.visualViewport;let wt=vt.clientWidth,At=vt.clientHeight,Et=0,St=0;if(bt){wt=bt.width,At=bt.height;const Ct=isWebKit();(!Ct||Ct&&$==="fixed")&&(Et=bt.offsetLeft,St=bt.offsetTop)}return{width:wt,height:At,x:Et,y:St}}function getInnerBoundingClientRect(_e,$){const ht=getBoundingClientRect(_e,!0,$==="fixed"),vt=ht.top+_e.clientTop,bt=ht.left+_e.clientLeft,wt=isHTMLElement(_e)?getScale(_e):createCoords(1),At=_e.clientWidth*wt.x,Et=_e.clientHeight*wt.y,St=bt*wt.x,Ct=vt*wt.y;return{width:At,height:Et,x:St,y:Ct}}function getClientRectFromClippingAncestor(_e,$,ht){let vt;if($==="viewport")vt=getViewportRect(_e,ht);else if($==="document")vt=getDocumentRect(getDocumentElement(_e));else if(isElement$1($))vt=getInnerBoundingClientRect($,ht);else{const bt=getVisualOffsets(_e);vt={...$,x:$.x-bt.x,y:$.y-bt.y}}return rectToClientRect(vt)}function hasFixedPositionAncestor(_e,$){const ht=getParentNode(_e);return ht===$||!isElement$1(ht)||isLastTraversableNode(ht)?!1:getComputedStyle$2(ht).position==="fixed"||hasFixedPositionAncestor(ht,$)}function getClippingElementAncestors(_e,$){const ht=$.get(_e);if(ht)return ht;let vt=getOverflowAncestors(_e,[],!1).filter(Et=>isElement$1(Et)&&getNodeName(Et)!=="body"),bt=null;const wt=getComputedStyle$2(_e).position==="fixed";let At=wt?getParentNode(_e):_e;for(;isElement$1(At)&&!isLastTraversableNode(At);){const Et=getComputedStyle$2(At),St=isContainingBlock(At);!St&&Et.position==="fixed"&&(bt=null),(wt?!St&&!bt:!St&&Et.position==="static"&&!!bt&&["absolute","fixed"].includes(bt.position)||isOverflowElement(At)&&!St&&hasFixedPositionAncestor(_e,At))?vt=vt.filter(xt=>xt!==At):bt=Et,At=getParentNode(At)}return $.set(_e,vt),vt}function getClippingRect(_e){let{element:$,boundary:ht,rootBoundary:vt,strategy:bt}=_e;const At=[...ht==="clippingAncestors"?isTopLayer($)?[]:getClippingElementAncestors($,this._c):[].concat(ht),vt],Et=At[0],St=At.reduce((Ct,xt)=>{const Pt=getClientRectFromClippingAncestor($,xt,bt);return Ct.top=max(Pt.top,Ct.top),Ct.right=min(Pt.right,Ct.right),Ct.bottom=min(Pt.bottom,Ct.bottom),Ct.left=max(Pt.left,Ct.left),Ct},getClientRectFromClippingAncestor($,Et,bt));return{width:St.right-St.left,height:St.bottom-St.top,x:St.left,y:St.top}}function getDimensions(_e){const{width:$,height:ht}=getCssDimensions(_e);return{width:$,height:ht}}function getRectRelativeToOffsetParent(_e,$,ht){const vt=isHTMLElement($),bt=getDocumentElement($),wt=ht==="fixed",At=getBoundingClientRect(_e,!0,wt,$);let Et={scrollLeft:0,scrollTop:0};const St=createCoords(0);if(vt||!vt&&!wt)if((getNodeName($)!=="body"||isOverflowElement(bt))&&(Et=getNodeScroll($)),vt){const Pt=getBoundingClientRect($,!0,wt,$);St.x=Pt.x+$.clientLeft,St.y=Pt.y+$.clientTop}else bt&&(St.x=getWindowScrollBarX(bt));const Ct=At.left+Et.scrollLeft-St.x,xt=At.top+Et.scrollTop-St.y;return{x:Ct,y:xt,width:At.width,height:At.height}}function isStaticPositioned(_e){return getComputedStyle$2(_e).position==="static"}function getTrueOffsetParent(_e,$){return!isHTMLElement(_e)||getComputedStyle$2(_e).position==="fixed"?null:$?$(_e):_e.offsetParent}function getOffsetParent(_e,$){const ht=getWindow(_e);if(isTopLayer(_e))return ht;if(!isHTMLElement(_e)){let bt=getParentNode(_e);for(;bt&&!isLastTraversableNode(bt);){if(isElement$1(bt)&&!isStaticPositioned(bt))return bt;bt=getParentNode(bt)}return ht}let vt=getTrueOffsetParent(_e,$);for(;vt&&isTableElement(vt)&&isStaticPositioned(vt);)vt=getTrueOffsetParent(vt,$);return vt&&isLastTraversableNode(vt)&&isStaticPositioned(vt)&&!isContainingBlock(vt)?ht:vt||getContainingBlock(_e)||ht}const getElementRects=async function(_e){const $=this.getOffsetParent||getOffsetParent,ht=this.getDimensions,vt=await ht(_e.floating);return{reference:getRectRelativeToOffsetParent(_e.reference,await $(_e.floating),_e.strategy),floating:{x:0,y:0,width:vt.width,height:vt.height}}};function isRTL(_e){return getComputedStyle$2(_e).direction==="rtl"}const platform$2={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(_e,$){let ht=null,vt;const bt=getDocumentElement(_e);function wt(){var Et;clearTimeout(vt),(Et=ht)==null||Et.disconnect(),ht=null}function At(Et,St){Et===void 0&&(Et=!1),St===void 0&&(St=1),wt();const{left:Ct,top:xt,width:Pt,height:kt}=_e.getBoundingClientRect();if(Et||$(),!Pt||!kt)return;const Rt=floor(xt),Mt=floor(bt.clientWidth-(Ct+Pt)),Ft=floor(bt.clientHeight-(xt+kt)),$t=floor(Ct),Dt={rootMargin:-Rt+"px "+-Mt+"px "+-Ft+"px "+-$t+"px",threshold:max(0,min(1,St))||1};let Ot=!0;function Bt(Nt){const Ht=Nt[0].intersectionRatio;if(Ht!==St){if(!Ot)return At();Ht?At(!1,Ht):vt=setTimeout(()=>{At(!1,1e-7)},1e3)}Ot=!1}try{ht=new IntersectionObserver(Bt,{...Dt,root:bt.ownerDocument})}catch{ht=new IntersectionObserver(Bt,Dt)}ht.observe(_e)}return At(!0),wt}function autoUpdate(_e,$,ht,vt){vt===void 0&&(vt={});const{ancestorScroll:bt=!0,ancestorResize:wt=!0,elementResize:At=typeof ResizeObserver=="function",layoutShift:Et=typeof IntersectionObserver=="function",animationFrame:St=!1}=vt,Ct=unwrapElement(_e),xt=bt||wt?[...Ct?getOverflowAncestors(Ct):[],...getOverflowAncestors($)]:[];xt.forEach(Lt=>{bt&&Lt.addEventListener("scroll",ht,{passive:!0}),wt&&Lt.addEventListener("resize",ht)});const Pt=Ct&&Et?observeMove(Ct,ht):null;let kt=-1,Rt=null;At&&(Rt=new ResizeObserver(Lt=>{let[Dt]=Lt;Dt&&Dt.target===Ct&&Rt&&(Rt.unobserve($),cancelAnimationFrame(kt),kt=requestAnimationFrame(()=>{var Ot;(Ot=Rt)==null||Ot.observe($)})),ht()}),Ct&&!St&&Rt.observe(Ct),Rt.observe($));let Mt,Ft=St?getBoundingClientRect(_e):null;St&&$t();function $t(){const Lt=getBoundingClientRect(_e);Ft&&(Lt.x!==Ft.x||Lt.y!==Ft.y||Lt.width!==Ft.width||Lt.height!==Ft.height)&&ht(),Ft=Lt,Mt=requestAnimationFrame($t)}return ht(),()=>{var Lt;xt.forEach(Dt=>{bt&&Dt.removeEventListener("scroll",ht),wt&&Dt.removeEventListener("resize",ht)}),Pt==null||Pt(),(Lt=Rt)==null||Lt.disconnect(),Rt=null,St&&cancelAnimationFrame(Mt)}}const detectOverflow=detectOverflow$1,offset$1=offset$2,shift$1=shift$2,flip$1=flip$2,size$1=size$2,computePosition=(_e,$,ht)=>{const vt=new Map,bt={platform:platform$2,...ht},wt={...bt.platform,_c:vt};return computePosition$1(_e,$,{...bt,platform:wt})};var index$1=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(_e,$){if(_e===$)return!0;if(typeof _e!=typeof $)return!1;if(typeof _e=="function"&&_e.toString()===$.toString())return!0;let ht,vt,bt;if(_e&&$&&typeof _e=="object"){if(Array.isArray(_e)){if(ht=_e.length,ht!==$.length)return!1;for(vt=ht;vt--!==0;)if(!deepEqual(_e[vt],$[vt]))return!1;return!0}if(bt=Object.keys(_e),ht=bt.length,ht!==Object.keys($).length)return!1;for(vt=ht;vt--!==0;)if(!{}.hasOwnProperty.call($,bt[vt]))return!1;for(vt=ht;vt--!==0;){const wt=bt[vt];if(!(wt==="_owner"&&_e.$$typeof)&&!deepEqual(_e[wt],$[wt]))return!1}return!0}return _e!==_e&&$!==$}function getDPR(_e){return typeof window>"u"?1:(_e.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(_e,$){const ht=getDPR(_e);return Math.round($*ht)/ht}function useLatestRef(_e){const $=reactExports.useRef(_e);return index$1(()=>{$.current=_e}),$}function useFloating$1(_e){_e===void 0&&(_e={});const{placement:$="bottom",strategy:ht="absolute",middleware:vt=[],platform:bt,elements:{reference:wt,floating:At}={},transform:Et=!0,whileElementsMounted:St,open:Ct}=_e,[xt,Pt]=reactExports.useState({x:0,y:0,strategy:ht,placement:$,middlewareData:{},isPositioned:!1}),[kt,Rt]=reactExports.useState(vt);deepEqual(kt,vt)||Rt(vt);const[Mt,Ft]=reactExports.useState(null),[$t,Lt]=reactExports.useState(null),Dt=reactExports.useCallback(dn=>{dn!==Ht.current&&(Ht.current=dn,Ft(dn))},[]),Ot=reactExports.useCallback(dn=>{dn!==Vt.current&&(Vt.current=dn,Lt(dn))},[]),Bt=wt||Mt,Nt=At||$t,Ht=reactExports.useRef(null),Vt=reactExports.useRef(null),jt=reactExports.useRef(xt),qt=St!=null,Jt=useLatestRef(St),Gt=useLatestRef(bt),en=reactExports.useCallback(()=>{if(!Ht.current||!Vt.current)return;const dn={placement:$,strategy:ht,middleware:kt};Gt.current&&(dn.platform=Gt.current),computePosition(Ht.current,Vt.current,dn).then(fn=>{const nn={...fn,isPositioned:!0};an.current&&!deepEqual(jt.current,nn)&&(jt.current=nn,reactDomExports.flushSync(()=>{Pt(nn)}))})},[kt,$,ht,Gt]);index$1(()=>{Ct===!1&&jt.current.isPositioned&&(jt.current.isPositioned=!1,Pt(dn=>({...dn,isPositioned:!1})))},[Ct]);const an=reactExports.useRef(!1);index$1(()=>(an.current=!0,()=>{an.current=!1}),[]),index$1(()=>{if(Bt&&(Ht.current=Bt),Nt&&(Vt.current=Nt),Bt&&Nt){if(Jt.current)return Jt.current(Bt,Nt,en);en()}},[Bt,Nt,en,Jt,qt]);const Sn=reactExports.useMemo(()=>({reference:Ht,floating:Vt,setReference:Dt,setFloating:Ot}),[Dt,Ot]),cn=reactExports.useMemo(()=>({reference:Bt,floating:Nt}),[Bt,Nt]),An=reactExports.useMemo(()=>{const dn={position:ht,left:0,top:0};if(!cn.floating)return dn;const fn=roundByDPR(cn.floating,xt.x),nn=roundByDPR(cn.floating,xt.y);return Et?{...dn,transform:"translate("+fn+"px, "+nn+"px)",...getDPR(cn.floating)>=1.5&&{willChange:"transform"}}:{position:ht,left:fn,top:nn}},[ht,Et,cn.floating,xt.x,xt.y]);return reactExports.useMemo(()=>({...xt,update:en,refs:Sn,elements:cn,floatingStyles:An}),[xt,en,Sn,cn,An])}const offset=(_e,$)=>({...offset$1(_e),options:[_e,$]}),shift=(_e,$)=>({...shift$1(_e),options:[_e,$]}),flip=(_e,$)=>({...flip$1(_e),options:[_e,$]}),size=(_e,$)=>({...size$1(_e),options:[_e,$]}),SafeReact={...t$4},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(_e=>_e());function useEffectEvent(_e){const $=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{$.current=_e}),reactExports.useCallback(function(){for(var ht=arguments.length,vt=new Array(ht),bt=0;bt<ht;bt++)vt[bt]=arguments[bt];return $.current==null?void 0:$.current(...vt)},[])}var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[_e,$]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index(()=>{_e==null&&$(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),_e}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const _e=new Map;return{emit($,ht){var vt;(vt=_e.get($))==null||vt.forEach(bt=>bt(ht))},on($,ht){_e.set($,[..._e.get($)||[],ht])},off($,ht){var vt;_e.set($,((vt=_e.get($))==null?void 0:vt.filter(bt=>bt!==ht))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var _e;return((_e=reactExports.useContext(FloatingNodeContext))==null?void 0:_e.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function useFloatingRootContext(_e){const{open:$=!1,onOpenChange:ht,elements:vt}=_e,bt=useId(),wt=reactExports.useRef({}),[At]=reactExports.useState(()=>createPubSub()),Et=useFloatingParentNodeId()!=null,[St,Ct]=reactExports.useState(vt.reference),xt=useEffectEvent((Rt,Mt,Ft)=>{wt.current.openEvent=Rt?Mt:void 0,At.emit("openchange",{open:Rt,event:Mt,reason:Ft,nested:Et}),ht==null||ht(Rt,Mt,Ft)}),Pt=reactExports.useMemo(()=>({setPositionReference:Ct}),[]),kt=reactExports.useMemo(()=>({reference:St||vt.reference||null,floating:vt.floating||null,domReference:vt.reference}),[St,vt.reference,vt.floating]);return reactExports.useMemo(()=>({dataRef:wt,open:$,onOpenChange:xt,elements:kt,events:At,floatingId:bt,refs:Pt}),[$,xt,kt,At,bt,Pt])}function useFloating(_e){_e===void 0&&(_e={});const{nodeId:$}=_e,ht=useFloatingRootContext({..._e,elements:{reference:null,floating:null,..._e.elements}}),vt=_e.rootContext||ht,bt=vt.elements,[wt,At]=reactExports.useState(null),[Et,St]=reactExports.useState(null),xt=(bt==null?void 0:bt.reference)||wt,Pt=reactExports.useRef(null),kt=useFloatingTree();index(()=>{xt&&(Pt.current=xt)},[xt]);const Rt=useFloating$1({..._e,elements:{...bt,...Et&&{reference:Et}}}),Mt=reactExports.useCallback(Ot=>{const Bt=isElement$1(Ot)?{getBoundingClientRect:()=>Ot.getBoundingClientRect(),contextElement:Ot}:Ot;St(Bt),Rt.refs.setReference(Bt)},[Rt.refs]),Ft=reactExports.useCallback(Ot=>{(isElement$1(Ot)||Ot===null)&&(Pt.current=Ot,At(Ot)),(isElement$1(Rt.refs.reference.current)||Rt.refs.reference.current===null||Ot!==null&&!isElement$1(Ot))&&Rt.refs.setReference(Ot)},[Rt.refs]),$t=reactExports.useMemo(()=>({...Rt.refs,setReference:Ft,setPositionReference:Mt,domReference:Pt}),[Rt.refs,Ft,Mt]),Lt=reactExports.useMemo(()=>({...Rt.elements,domReference:xt}),[Rt.elements,xt]),Dt=reactExports.useMemo(()=>({...Rt,...vt,refs:$t,elements:Lt,nodeId:$}),[Rt,$t,Lt,$,vt]);return index(()=>{vt.dataRef.current.floatingContext=Dt;const Ot=kt==null?void 0:kt.nodesRef.current.find(Bt=>Bt.id===$);Ot&&(Ot.context=Dt)}),reactExports.useMemo(()=>({...Rt,context:Dt,refs:$t,elements:Lt}),[Rt,$t,Lt,Dt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps(_e,$,ht){const vt=new Map,bt=ht==="item";let wt=_e;if(bt&&_e){const{[ACTIVE_KEY]:At,[SELECTED_KEY]:Et,...St}=_e;wt=St}return{...ht==="floating"&&{tabIndex:-1},...wt,...$.map(At=>{const Et=At?At[ht]:null;return typeof Et=="function"?_e?Et(_e):null:Et}).concat(_e).reduce((At,Et)=>(Et&&Object.entries(Et).forEach(St=>{let[Ct,xt]=St;if(!(bt&&[ACTIVE_KEY,SELECTED_KEY].includes(Ct)))if(Ct.indexOf("on")===0){if(vt.has(Ct)||vt.set(Ct,[]),typeof xt=="function"){var Pt;(Pt=vt.get(Ct))==null||Pt.push(xt),At[Ct]=function(){for(var kt,Rt=arguments.length,Mt=new Array(Rt),Ft=0;Ft<Rt;Ft++)Mt[Ft]=arguments[Ft];return(kt=vt.get(Ct))==null?void 0:kt.map($t=>$t(...Mt)).find($t=>$t!==void 0)}}}else At[Ct]=xt}),At),{})}}function useInteractions(_e){_e===void 0&&(_e=[]);const $=_e.map(Et=>Et==null?void 0:Et.reference),ht=_e.map(Et=>Et==null?void 0:Et.floating),vt=_e.map(Et=>Et==null?void 0:Et.item),bt=reactExports.useCallback(Et=>mergeProps(Et,_e,"reference"),$),wt=reactExports.useCallback(Et=>mergeProps(Et,_e,"floating"),ht),At=reactExports.useCallback(Et=>mergeProps(Et,_e,"item"),vt);return reactExports.useMemo(()=>({getReferenceProps:bt,getFloatingProps:wt,getItemProps:At}),[bt,wt,At])}function getArgsWithCustomFloatingHeight(_e,$){return{..._e,rects:{..._e.rects,floating:{..._e.rects.floating,height:$}}}}const inner=_e=>({name:"inner",options:_e,async fn($){const{listRef:ht,overflowRef:vt,onFallbackChange:bt,offset:wt=0,index:At=0,minItemsVisible:Et=4,referenceOverflowThreshold:St=0,scrollRef:Ct,...xt}=evaluate(_e,$),{rects:Pt,elements:{floating:kt}}=$,Rt=ht.current[At];if(!Rt)return{};const Mt={...$,...await offset(-Rt.offsetTop-kt.clientTop-Pt.reference.height/2-Rt.offsetHeight/2-wt).fn($)},Ft=(Ct==null?void 0:Ct.current)||kt,$t=await detectOverflow(getArgsWithCustomFloatingHeight(Mt,Ft.scrollHeight),xt),Lt=await detectOverflow(Mt,{...xt,elementContext:"reference"}),Dt=Math.max(0,$t.top),Ot=Mt.y+Dt,Bt=Math.max(0,Ft.scrollHeight-Dt-Math.max(0,$t.bottom));return Ft.style.maxHeight=Bt+"px",Ft.scrollTop=Dt,bt&&(Ft.offsetHeight<Rt.offsetHeight*Math.min(Et,ht.current.length-1)-1||Lt.top>=-St||Lt.bottom>=-St?reactDomExports.flushSync(()=>bt(!0)):reactDomExports.flushSync(()=>bt(!1))),vt&&(vt.current=await detectOverflow(getArgsWithCustomFloatingHeight({...Mt,y:Ot},Ft.offsetHeight),xt)),{y:Ot}}});function useInnerOffset(_e,$){const{open:ht,elements:vt}=_e,{enabled:bt=!0,overflowRef:wt,scrollRef:At,onChange:Et}=$,St=useEffectEvent(Et),Ct=reactExports.useRef(!1),xt=reactExports.useRef(null),Pt=reactExports.useRef(null);reactExports.useEffect(()=>{if(!bt)return;function Rt(Ft){if(Ft.ctrlKey||!Mt||wt.current==null)return;const $t=Ft.deltaY,Lt=wt.current.top>=-.5,Dt=wt.current.bottom>=-.5,Ot=Mt.scrollHeight-Mt.clientHeight,Bt=$t<0?-1:1,Nt=$t<0?"max":"min";Mt.scrollHeight<=Mt.clientHeight||(!Lt&&$t>0||!Dt&&$t<0?(Ft.preventDefault(),reactDomExports.flushSync(()=>{St(Ht=>Ht+Math[Nt]($t,Ot*Bt))})):/firefox/i.test(getUserAgent())&&(Mt.scrollTop+=$t))}const Mt=(At==null?void 0:At.current)||vt.floating;if(ht&&Mt)return Mt.addEventListener("wheel",Rt),requestAnimationFrame(()=>{xt.current=Mt.scrollTop,wt.current!=null&&(Pt.current={...wt.current})}),()=>{xt.current=null,Pt.current=null,Mt.removeEventListener("wheel",Rt)}},[bt,ht,vt.floating,wt,At,St]);const kt=reactExports.useMemo(()=>({onKeyDown(){Ct.current=!0},onWheel(){Ct.current=!1},onPointerMove(){Ct.current=!1},onScroll(){const Rt=(At==null?void 0:At.current)||vt.floating;if(!(!wt.current||!Rt||!Ct.current)){if(xt.current!==null){const Mt=Rt.scrollTop-xt.current;(wt.current.bottom<-.5&&Mt<-1||wt.current.top<-.5&&Mt>1)&&reactDomExports.flushSync(()=>St(Ft=>Ft+Mt))}requestAnimationFrame(()=>{xt.current=Rt.scrollTop})}}}),[vt.floating,St,wt,At]);return reactExports.useMemo(()=>bt?{floating:kt}:{},[bt,kt])}let y$1=reactExports.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});y$1.displayName="FloatingContext";let S$1=reactExports.createContext(null);S$1.displayName="PlacementContext";function xe(_e){return reactExports.useMemo(()=>_e?typeof _e=="string"?{to:_e}:_e:null,[_e])}function ye(){return reactExports.useContext(y$1).setReference}function Fe(){return reactExports.useContext(y$1).getReferenceProps}function be(){let{getFloatingProps:_e,slot:$}=reactExports.useContext(y$1);return reactExports.useCallback((...ht)=>Object.assign({},_e(...ht),{"data-anchor":$.anchor}),[_e,$])}function Re(_e=null){_e===!1&&(_e=null),typeof _e=="string"&&(_e={to:_e});let $=reactExports.useContext(S$1),ht=reactExports.useMemo(()=>_e,[JSON.stringify(_e,typeof HTMLElement<"u"?(bt,wt)=>wt instanceof HTMLElement?wt.outerHTML:wt:void 0)]);n$3(()=>{$==null||$(ht??null)},[$,ht]);let vt=reactExports.useContext(y$1);return reactExports.useMemo(()=>[vt.setFloating,_e?vt.styles:{}],[vt.setFloating,_e,vt.styles])}let q=4;function ve({children:_e,enabled:$=!0}){let[ht,vt]=reactExports.useState(null),[bt,wt]=reactExports.useState(0),At=reactExports.useRef(null),[Et,St]=reactExports.useState(null);pe(Et);let Ct=$&&ht!==null&&Et!==null,{to:xt="bottom",gap:Pt=0,offset:kt=0,padding:Rt=0,inner:Mt}=ce(ht,Et),[Ft,$t="center"]=xt.split(" ");n$3(()=>{Ct&&wt(0)},[Ct]);let{refs:Lt,floatingStyles:Dt,context:Ot}=useFloating({open:Ct,placement:Ft==="selection"?$t==="center"?"bottom":`bottom-${$t}`:$t==="center"?`${Ft}`:`${Ft}-${$t}`,strategy:"absolute",transform:!1,middleware:[offset({mainAxis:Ft==="selection"?0:Pt,crossAxis:kt}),shift({padding:Rt}),Ft!=="selection"&&flip({padding:Rt}),Ft==="selection"&&Mt?inner({...Mt,padding:Rt,overflowRef:At,offset:bt,minItemsVisible:q,referenceOverflowThreshold:Rt,onFallbackChange(Gt){var en,an;if(!Gt)return;let Sn=Ot.elements.floating;if(!Sn)return;let cn=parseFloat(getComputedStyle(Sn).scrollPaddingBottom)||0,An=Math.min(q,Sn.childElementCount),dn=0,fn=0;for(let nn of(an=(en=Ot.elements.floating)==null?void 0:en.childNodes)!=null?an:[])if(nn instanceof HTMLElement){let gn=nn.offsetTop,Cn=gn+nn.clientHeight+cn,rn=Sn.scrollTop,Xt=rn+Sn.clientHeight;if(gn>=rn&&Cn<=Xt)An--;else{fn=Math.max(0,Math.min(Cn,Xt)-Math.max(gn,rn)),dn=nn.clientHeight;break}}An>=1&&wt(nn=>{let gn=dn*An-fn+cn;return nn>=gn?nn:gn})}}):null,size({padding:Rt,apply({availableWidth:Gt,availableHeight:en,elements:an}){Object.assign(an.floating.style,{overflow:"auto",maxWidth:`${Gt}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${en}px)`})}})].filter(Boolean),whileElementsMounted:autoUpdate}),[Bt=Ft,Nt=$t]=Ot.placement.split("-");Ft==="selection"&&(Bt="selection");let Ht=reactExports.useMemo(()=>({anchor:[Bt,Nt].filter(Boolean).join(" ")}),[Bt,Nt]),Vt=useInnerOffset(Ot,{overflowRef:At,onChange:wt}),{getReferenceProps:jt,getFloatingProps:qt}=useInteractions([Vt]),Jt=o$3(Gt=>{St(Gt),Lt.setFloating(Gt)});return reactExports.createElement(S$1.Provider,{value:vt},reactExports.createElement(y$1.Provider,{value:{setFloating:Jt,setReference:Lt.setReference,styles:Dt,getReferenceProps:jt,getFloatingProps:qt,slot:Ht}},_e))}function pe(_e){n$3(()=>{if(!_e)return;let $=new MutationObserver(()=>{let ht=_e.style.maxHeight;parseFloat(ht)!==parseInt(ht)&&(_e.style.maxHeight=`${Math.ceil(parseFloat(ht))}px`)});return $.observe(_e,{attributes:!0,attributeFilter:["style"]}),()=>{$.disconnect()}},[_e])}function ce(_e,$){var ht,vt,bt;let wt=L((ht=_e==null?void 0:_e.gap)!=null?ht:"var(--anchor-gap, 0)",$),At=L((vt=_e==null?void 0:_e.offset)!=null?vt:"var(--anchor-offset, 0)",$),Et=L((bt=_e==null?void 0:_e.padding)!=null?bt:"var(--anchor-padding, 0)",$);return{..._e,gap:wt,offset:At,padding:Et}}function L(_e,$,ht=void 0){let vt=p$3(),bt=o$3((St,Ct)=>{if(St==null)return[ht,null];if(typeof St=="number")return[St,null];if(typeof St=="string"){if(!Ct)return[ht,null];let xt=J$1(St,Ct);return[xt,Pt=>{let kt=D$1(St);{let Rt=kt.map(Mt=>window.getComputedStyle(Ct).getPropertyValue(Mt));vt.requestAnimationFrame(function Mt(){vt.nextFrame(Mt);let Ft=!1;for(let[Lt,Dt]of kt.entries()){let Ot=window.getComputedStyle(Ct).getPropertyValue(Dt);if(Rt[Lt]!==Ot){Rt[Lt]=Ot,Ft=!0;break}}if(!Ft)return;let $t=J$1(St,Ct);xt!==$t&&(Pt($t),xt=$t)})}return vt.dispose}]}return[ht,null]}),wt=reactExports.useMemo(()=>bt(_e,$)[0],[_e,$]),[At=wt,Et]=reactExports.useState();return n$3(()=>{let[St,Ct]=bt(_e,$);if(Et(St),!!Ct)return Ct(Et)},[_e,$]),At}function D$1(_e){let $=/var\((.*)\)/.exec(_e);if($){let ht=$[1].indexOf(",");if(ht===-1)return[$[1]];let vt=$[1].slice(0,ht).trim(),bt=$[1].slice(ht+1).trim();return bt?[vt,...D$1(bt)]:[vt]}return[]}function J$1(_e,$){let ht=document.createElement("div");$.appendChild(ht),ht.style.setProperty("margin-top","0px","important"),ht.style.setProperty("margin-top",_e,"important");let vt=parseFloat(window.getComputedStyle(ht).marginTop)||0;return $.removeChild(ht),vt}let n=reactExports.createContext(null);n.displayName="OpenClosedContext";var i=(_e=>(_e[_e.Open=1]="Open",_e[_e.Closed=2]="Closed",_e[_e.Closing=4]="Closing",_e[_e.Opening=8]="Opening",_e))(i||{});function u$1(){return reactExports.useContext(n)}function c$2({value:_e,children:$}){return React.createElement(n.Provider,{value:_e},$)}function u(_e){throw new Error("Unexpected object: "+_e)}var c$1=(_e=>(_e[_e.First=0]="First",_e[_e.Previous=1]="Previous",_e[_e.Next=2]="Next",_e[_e.Last=3]="Last",_e[_e.Specific=4]="Specific",_e[_e.Nothing=5]="Nothing",_e))(c$1||{});function f(_e,$){let ht=$.resolveItems();if(ht.length<=0)return null;let vt=$.resolveActiveIndex(),bt=vt??-1;switch(_e.focus){case 0:{for(let wt=0;wt<ht.length;++wt)if(!$.resolveDisabled(ht[wt],wt,ht))return wt;return vt}case 1:{bt===-1&&(bt=ht.length);for(let wt=bt-1;wt>=0;--wt)if(!$.resolveDisabled(ht[wt],wt,ht))return wt;return vt}case 2:{for(let wt=bt+1;wt<ht.length;++wt)if(!$.resolveDisabled(ht[wt],wt,ht))return wt;return vt}case 3:{for(let wt=ht.length-1;wt>=0;--wt)if(!$.resolveDisabled(ht[wt],wt,ht))return wt;return vt}case 4:{for(let wt=0;wt<ht.length;++wt)if($.resolveId(ht[wt],wt,ht)===_e.id)return wt;return vt}case 5:return null;default:u(_e)}}function c(_e){let $=o$3(_e),ht=reactExports.useRef(!1);reactExports.useEffect(()=>(ht.current=!1,()=>{ht.current=!0,t$3(()=>{ht.current&&$()})}),[$])}function s$1(){let _e=typeof document>"u";return"useSyncExternalStore"in t$4?($=>$.useSyncExternalStore)(t$4)(()=>()=>{},()=>!1,()=>!_e):!1}function l(){let _e=s$1(),[$,ht]=reactExports.useState(s$5.isHandoffComplete);return $&&s$5.isHandoffComplete===!1&&ht(!1),reactExports.useEffect(()=>{$!==!0&&ht(!0)},[$]),reactExports.useEffect(()=>s$5.handoff(),[]),_e?!1:$}let e=reactExports.createContext(!1);function a$1(){return reactExports.useContext(e)}function D(_e){let $=a$1(),ht=reactExports.useContext(v),vt=n$1(_e),[bt,wt]=reactExports.useState(()=>{var At;if(!$&&ht!==null)return(At=ht.current)!=null?At:null;if(s$5.isServer)return null;let Et=vt==null?void 0:vt.getElementById("headlessui-portal-root");if(Et)return Et;if(vt===null)return null;let St=vt.createElement("div");return St.setAttribute("id","headlessui-portal-root"),vt.body.appendChild(St)});return reactExports.useEffect(()=>{bt!==null&&(vt!=null&&vt.body.contains(bt)||vt==null||vt.body.appendChild(bt))},[bt,vt]),reactExports.useEffect(()=>{$||ht!==null&&wt(ht.current)},[ht,wt,$]),bt}let M=reactExports.Fragment,N=I$3(function(_e,$){let ht=_e,vt=reactExports.useRef(null),bt=y$4(T$2(xt=>{vt.current=xt}),$),wt=n$1(vt),At=D(vt),[Et]=reactExports.useState(()=>{var xt;return s$5.isServer?null:(xt=wt==null?void 0:wt.createElement("div"))!=null?xt:null}),St=reactExports.useContext(y),Ct=l();return n$3(()=>{!At||!Et||At.contains(Et)||(Et.setAttribute("data-headlessui-portal",""),At.appendChild(Et))},[At,Et]),n$3(()=>{if(Et&&St)return St.register(Et)},[St,Et]),c(()=>{var xt;!At||!Et||(Et instanceof Node&&At.contains(Et)&&At.removeChild(Et),At.childNodes.length<=0&&((xt=At.parentElement)==null||xt.removeChild(At)))}),Ct?!At||!Et?null:reactDomExports.createPortal(H$1({ourProps:{ref:bt},theirProps:ht,slot:{},defaultTag:M,name:"Portal"}),Et):null});function S(_e,$){let ht=y$4($),{enabled:vt=!0,...bt}=_e;return vt?React.createElement(N,{...bt,ref:ht}):H$1({ourProps:{ref:ht},theirProps:bt,slot:{},defaultTag:M,name:"Portal"})}let j$1=reactExports.Fragment,v=reactExports.createContext(null);function W$1(_e,$){let{target:ht,...vt}=_e,bt={ref:y$4($)};return React.createElement(v.Provider,{value:ht},H$1({ourProps:bt,theirProps:vt,defaultTag:j$1,name:"Popover.Group"}))}let y=reactExports.createContext(null),I=I$3(S),J=I$3(W$1),te=Object.assign(I,{Group:J});function p(_e,$){let ht=reactExports.useRef({left:0,top:0});if(n$3(()=>{let bt=$.current;if(!bt)return;let wt=bt.getBoundingClientRect();wt&&(ht.current=wt)},[_e]),$.current==null||!_e||$.current===document.activeElement)return!1;let vt=$.current.getBoundingClientRect();return vt.top!==ht.current.top||vt.left!==ht.current.left}let a=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function o(_e){var $,ht;let vt=($=_e.innerText)!=null?$:"",bt=_e.cloneNode(!0);if(!(bt instanceof HTMLElement))return vt;let wt=!1;for(let Et of bt.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))Et.remove(),wt=!0;let At=wt?(ht=bt.innerText)!=null?ht:"":vt;return a.test(At)&&(At=At.replace(a,"")),At}function g(_e){let $=_e.getAttribute("aria-label");if(typeof $=="string")return $.trim();let ht=_e.getAttribute("aria-labelledby");if(ht){let vt=ht.split(" ").map(bt=>{let wt=document.getElementById(bt);if(wt){let At=wt.getAttribute("aria-label");return typeof At=="string"?At.trim():o(wt).trim()}return null}).filter(Boolean);if(vt.length>0)return vt.join(", ")}return o(_e).trim()}function s(_e){let $=reactExports.useRef(""),ht=reactExports.useRef("");return o$3(()=>{let vt=_e.current;if(!vt)return"";let bt=vt.innerText;if($.current===bt)return ht.current;let wt=g(vt).trim().toLowerCase();return $.current=bt,ht.current=wt,wt})}var Je=(_e=>(_e[_e.Open=0]="Open",_e[_e.Closed=1]="Closed",_e))(Je||{}),Ve=(_e=>(_e[_e.Pointer=0]="Pointer",_e[_e.Other=1]="Other",_e))(Ve||{}),Xe=(_e=>(_e[_e.OpenMenu=0]="OpenMenu",_e[_e.CloseMenu=1]="CloseMenu",_e[_e.GoToItem=2]="GoToItem",_e[_e.Search=3]="Search",_e[_e.ClearSearch=4]="ClearSearch",_e[_e.RegisterItem=5]="RegisterItem",_e[_e.UnregisterItem=6]="UnregisterItem",_e))(Xe||{});function W(_e,$=ht=>ht){let ht=_e.activeItemIndex!==null?_e.items[_e.activeItemIndex]:null,vt=_($(_e.items.slice()),wt=>wt.dataRef.current.domRef.current),bt=ht?vt.indexOf(ht):null;return bt===-1&&(bt=null),{items:vt,activeItemIndex:bt}}let $e={1(_e){return _e.menuState===1?_e:{..._e,activeItemIndex:null,menuState:1}},0(_e){return _e.menuState===0?_e:{..._e,__demoMode:!1,menuState:0}},2:(_e,$)=>{var ht,vt,bt,wt,At;if(_e.menuState===1)return _e;let Et={..._e,searchQuery:"",activationTrigger:(ht=$.trigger)!=null?ht:1,__demoMode:!1};if($.focus===c$1.Nothing)return{...Et,activeItemIndex:null};if($.focus===c$1.Specific)return{...Et,activeItemIndex:_e.items.findIndex(xt=>xt.id===$.id)};if($.focus===c$1.Previous){let xt=_e.activeItemIndex;if(xt!==null){let Pt=_e.items[xt].dataRef.current.domRef,kt=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:Rt=>Rt.id,resolveDisabled:Rt=>Rt.dataRef.current.disabled});if(kt!==null){let Rt=_e.items[kt].dataRef.current.domRef;if(((vt=Pt.current)==null?void 0:vt.previousElementSibling)===Rt.current||((bt=Rt.current)==null?void 0:bt.previousElementSibling)===null)return{...Et,activeItemIndex:kt}}}}else if($.focus===c$1.Next){let xt=_e.activeItemIndex;if(xt!==null){let Pt=_e.items[xt].dataRef.current.domRef,kt=f($,{resolveItems:()=>_e.items,resolveActiveIndex:()=>_e.activeItemIndex,resolveId:Rt=>Rt.id,resolveDisabled:Rt=>Rt.dataRef.current.disabled});if(kt!==null){let Rt=_e.items[kt].dataRef.current.domRef;if(((wt=Pt.current)==null?void 0:wt.nextElementSibling)===Rt.current||((At=Rt.current)==null?void 0:At.nextElementSibling)===null)return{...Et,activeItemIndex:kt}}}}let St=W(_e),Ct=f($,{resolveItems:()=>St.items,resolveActiveIndex:()=>St.activeItemIndex,resolveId:xt=>xt.id,resolveDisabled:xt=>xt.dataRef.current.disabled});return{...Et,...St,activeItemIndex:Ct}},3:(_e,$)=>{let ht=_e.searchQuery!==""?0:1,vt=_e.searchQuery+$.value.toLowerCase(),bt=(_e.activeItemIndex!==null?_e.items.slice(_e.activeItemIndex+ht).concat(_e.items.slice(0,_e.activeItemIndex+ht)):_e.items).find(At=>{var Et;return((Et=At.dataRef.current.textValue)==null?void 0:Et.startsWith(vt))&&!At.dataRef.current.disabled}),wt=bt?_e.items.indexOf(bt):-1;return wt===-1||wt===_e.activeItemIndex?{..._e,searchQuery:vt}:{..._e,searchQuery:vt,activeItemIndex:wt,activationTrigger:1}},4(_e){return _e.searchQuery===""?_e:{..._e,searchQuery:"",searchActiveItemIndex:null}},5:(_e,$)=>{let ht=W(_e,vt=>[...vt,{id:$.id,dataRef:$.dataRef}]);return{..._e,...ht}},6:(_e,$)=>{let ht=W(_e,vt=>{let bt=vt.findIndex(wt=>wt.id===$.id);return bt!==-1&&vt.splice(bt,1),vt});return{..._e,...ht,activationTrigger:1}}},j=reactExports.createContext(null);j.displayName="MenuContext";function B(_e){let $=reactExports.useContext(j);if($===null){let ht=new Error(`<${_e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(ht,B),ht}return $}function qe(_e,$){return u$6($.type,$e,_e,$)}let ze=reactExports.Fragment;function Ye(_e,$){let{__demoMode:ht=!1,...vt}=_e,bt=reactExports.useReducer(qe,{__demoMode:ht,menuState:ht?0:1,buttonRef:reactExports.createRef(),itemsRef:reactExports.createRef(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:wt,itemsRef:At,buttonRef:Et},St]=bt,Ct=y$4($);F$2(wt===0,[Et,At],(Rt,Mt)=>{var Ft;St({type:1}),A$1(Mt,h.Loose)||(Rt.preventDefault(),(Ft=Et.current)==null||Ft.focus())});let xt=o$3(()=>{St({type:1})}),Pt=reactExports.useMemo(()=>({open:wt===0,close:xt}),[wt,xt]),kt={ref:Ct};return React.createElement(ve,null,React.createElement(j.Provider,{value:bt},React.createElement(c$2,{value:u$6(wt,{0:i.Open,1:i.Closed})},H$1({ourProps:kt,theirProps:vt,slot:Pt,defaultTag:ze,name:"Menu"}))))}let Ze="button";function et(_e,$){var ht;let vt=reactExports.useId(),{id:bt=`headlessui-menu-button-${vt}`,disabled:wt=!1,autoFocus:At=!1,...Et}=_e,[St,Ct]=B("Menu.Button"),xt=Fe(),Pt=y$4(St.buttonRef,$,ye()),kt=o$3(Vt=>{switch(Vt.key){case o$2.Space:case o$2.Enter:case o$2.ArrowDown:Vt.preventDefault(),Vt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.First});break;case o$2.ArrowUp:Vt.preventDefault(),Vt.stopPropagation(),reactDomExports.flushSync(()=>Ct({type:0})),Ct({type:2,focus:c$1.Last});break}}),Rt=o$3(Vt=>{switch(Vt.key){case o$2.Space:Vt.preventDefault();break}}),Mt=o$3(Vt=>{var jt;if(r$1(Vt.currentTarget))return Vt.preventDefault();wt||(St.menuState===0?(reactDomExports.flushSync(()=>Ct({type:1})),(jt=St.buttonRef.current)==null||jt.focus({preventScroll:!0})):(Vt.preventDefault(),Ct({type:0})))}),{isFocusVisible:Ft,focusProps:$t}=$f7dceffc5ad7768b$export$4e328f61c538687f({autoFocus:At}),{isHovered:Lt,hoverProps:Dt}=$6179b936705e76d3$export$ae780daf29e6d456({isDisabled:wt}),{pressed:Ot,pressProps:Bt}=w$1({disabled:wt}),Nt=reactExports.useMemo(()=>({open:St.menuState===0,active:Ot||St.menuState===0,disabled:wt,hover:Lt,focus:Ft,autofocus:At}),[St,Lt,Ft,Ot,wt,At]),Ht=D$3(xt(),{ref:Pt,id:bt,type:T(_e,St.buttonRef),"aria-haspopup":"menu","aria-controls":(ht=St.itemsRef.current)==null?void 0:ht.id,"aria-expanded":St.menuState===0,disabled:wt||void 0,autoFocus:At,onKeyDown:kt,onKeyUp:Rt,onClick:Mt},$t,Dt,Bt);return H$1({ourProps:Ht,theirProps:Et,slot:Nt,defaultTag:Ze,name:"Menu.Button"})}let tt="div",nt=O$1.RenderStrategy|O$1.Static;function rt(_e,$){var ht,vt;let bt=reactExports.useId(),{id:wt=`headlessui-menu-items-${bt}`,anchor:At,portal:Et=!1,modal:St=!0,transition:Ct=!1,...xt}=_e,Pt=xe(At),[kt,Rt]=B("Menu.Items"),[Mt,Ft]=Re(Pt),$t=be(),Lt=y$4(kt.itemsRef,$,Pt?Mt:null),Dt=n$1(kt.itemsRef);Pt&&(Et=!0);let Ot=u$1(),[Bt,Nt]=V(Ct,kt.itemsRef,Ot!==null?(Ot&i.Open)===i.Open:kt.menuState===0);m$1(Bt,kt.buttonRef,()=>{Rt({type:1})});let Ht=kt.__demoMode?!1:St&&kt.menuState===0;f$1(Ht,Dt);let Vt=kt.__demoMode?!1:St&&kt.menuState===0;y$3(Vt,{allowed:o$3(()=>[kt.buttonRef.current,kt.itemsRef.current])});let jt=kt.menuState!==0,qt=p(jt,kt.buttonRef)?!1:Bt;reactExports.useEffect(()=>{let cn=kt.itemsRef.current;cn&&kt.menuState===0&&cn!==(Dt==null?void 0:Dt.activeElement)&&cn.focus({preventScroll:!0})},[kt.menuState,kt.itemsRef,Dt,kt.itemsRef.current]),F(kt.menuState===0,{container:kt.itemsRef.current,accept(cn){return cn.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:cn.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(cn){cn.setAttribute("role","none")}});let Jt=p$3(),Gt=o$3(cn=>{var An,dn,fn;switch(Jt.dispose(),cn.key){case o$2.Space:if(kt.searchQuery!=="")return cn.preventDefault(),cn.stopPropagation(),Rt({type:3,value:cn.key});case o$2.Enter:if(cn.preventDefault(),cn.stopPropagation(),Rt({type:1}),kt.activeItemIndex!==null){let{dataRef:nn}=kt.items[kt.activeItemIndex];(dn=(An=nn.current)==null?void 0:An.domRef.current)==null||dn.click()}G(kt.buttonRef.current);break;case o$2.ArrowDown:return cn.preventDefault(),cn.stopPropagation(),Rt({type:2,focus:c$1.Next});case o$2.ArrowUp:return cn.preventDefault(),cn.stopPropagation(),Rt({type:2,focus:c$1.Previous});case o$2.Home:case o$2.PageUp:return cn.preventDefault(),cn.stopPropagation(),Rt({type:2,focus:c$1.First});case o$2.End:case o$2.PageDown:return cn.preventDefault(),cn.stopPropagation(),Rt({type:2,focus:c$1.Last});case o$2.Escape:cn.preventDefault(),cn.stopPropagation(),reactDomExports.flushSync(()=>Rt({type:1})),(fn=kt.buttonRef.current)==null||fn.focus({preventScroll:!0});break;case o$2.Tab:cn.preventDefault(),cn.stopPropagation(),reactDomExports.flushSync(()=>Rt({type:1})),j$2(kt.buttonRef.current,cn.shiftKey?F$3.Previous:F$3.Next);break;default:cn.key.length===1&&(Rt({type:3,value:cn.key}),Jt.setTimeout(()=>Rt({type:4}),350));break}}),en=o$3(cn=>{switch(cn.key){case o$2.Space:cn.preventDefault();break}}),an=reactExports.useMemo(()=>({open:kt.menuState===0}),[kt.menuState]),Sn=D$3(Pt?$t():{},{"aria-activedescendant":kt.activeItemIndex===null||(ht=kt.items[kt.activeItemIndex])==null?void 0:ht.id,"aria-labelledby":(vt=kt.buttonRef.current)==null?void 0:vt.id,id:wt,onKeyDown:Gt,onKeyUp:en,role:"menu",tabIndex:kt.menuState===0?0:void 0,ref:Lt,style:{...xt.style,...Ft,"--button-width":f$4(kt.buttonRef,!0).width},...A(Nt)});return React.createElement(te,{enabled:Et?_e.static||Bt:!1},H$1({ourProps:Sn,theirProps:xt,slot:an,defaultTag:tt,features:nt,visible:qt,name:"Menu.Items"}))}let ot=reactExports.Fragment;function at(_e,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-item-${ht}`,disabled:bt=!1,...wt}=_e,[At,Et]=B("Menu.Item"),St=At.activeItemIndex!==null?At.items[At.activeItemIndex].id===vt:!1,Ct=reactExports.useRef(null),xt=y$4($,Ct);n$3(()=>{if(!At.__demoMode&&At.menuState===0&&St&&At.activationTrigger!==0)return o$4().requestAnimationFrame(()=>{var qt,Jt;(Jt=(qt=Ct.current)==null?void 0:qt.scrollIntoView)==null||Jt.call(qt,{block:"nearest"})})},[At.__demoMode,Ct,St,At.menuState,At.activationTrigger,At.activeItemIndex]);let Pt=s(Ct),kt=reactExports.useRef({disabled:bt,domRef:Ct,get textValue(){return Pt()}});n$3(()=>{kt.current.disabled=bt},[kt,bt]),n$3(()=>(Et({type:5,id:vt,dataRef:kt}),()=>Et({type:6,id:vt})),[kt,vt]);let Rt=o$3(()=>{Et({type:1})}),Mt=o$3(qt=>{if(bt)return qt.preventDefault();Et({type:1}),G(At.buttonRef.current)}),Ft=o$3(()=>{if(bt)return Et({type:2,focus:c$1.Nothing});Et({type:2,focus:c$1.Specific,id:vt})}),$t=u$2(),Lt=o$3(qt=>{$t.update(qt),!bt&&(St||Et({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Dt=o$3(qt=>{$t.wasMoved(qt)&&(bt||St||Et({type:2,focus:c$1.Specific,id:vt,trigger:0}))}),Ot=o$3(qt=>{$t.wasMoved(qt)&&(bt||St&&Et({type:2,focus:c$1.Nothing}))}),[Bt,Nt]=z(),[Ht,Vt]=U$1(),jt=reactExports.useMemo(()=>({active:St,focus:St,disabled:bt,close:Rt}),[St,bt,Rt]);return React.createElement(Nt,null,React.createElement(Vt,null,H$1({ourProps:{id:vt,ref:xt,role:"menuitem",tabIndex:bt===!0?void 0:-1,"aria-disabled":bt===!0?!0:void 0,"aria-labelledby":Bt,"aria-describedby":Ht,disabled:void 0,onClick:Mt,onFocus:Ft,onPointerEnter:Lt,onMouseEnter:Lt,onPointerMove:Dt,onMouseMove:Dt,onPointerLeave:Ot,onMouseLeave:Ot},theirProps:wt,slot:jt,defaultTag:ot,name:"Menu.Item"})))}let it="div";function st(_e,$){let[ht,vt]=z();return React.createElement(vt,null,H$1({ourProps:{ref:$,"aria-labelledby":ht,role:"group"},theirProps:_e,slot:{},defaultTag:it,name:"Menu.Section"}))}let lt="header";function ut(_e,$){let ht=reactExports.useId(),{id:vt=`headlessui-menu-heading-${ht}`,...bt}=_e,wt=P$1();n$3(()=>wt.register(vt),[vt,wt.register]);let At={id:vt,ref:$,role:"presentation",...wt.props};return H$1({ourProps:At,theirProps:bt,slot:{},defaultTag:lt,name:"Menu.Heading"})}let pt="div";function dt(_e,$){return H$1({ourProps:{ref:$,role:"separator"},theirProps:_e,slot:{},defaultTag:pt,name:"Menu.Separator"})}let mt=I$3(Ye),ct=I$3(et),ft=I$3(rt),Tt=I$3(at),yt=I$3(st),gt=I$3(ut),It=I$3(dt),Zt=Object.assign(mt,{Button:ct,Items:ft,Item:Tt,Section:yt,Heading:gt,Separator:It});function ChevronDownIcon({title:_e,titleId:$,...ht},vt){return reactExports.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:vt,"aria-labelledby":$},ht),_e?reactExports.createElement("title",{id:$},_e):null,reactExports.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const ForwardRef=reactExports.forwardRef(ChevronDownIcon);function bind(_e,$){return function(){return _e.apply($,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,kindOf=(_e=>$=>{const ht=toString.call($);return _e[ht]||(_e[ht]=ht.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=_e=>(_e=_e.toLowerCase(),$=>kindOf($)===_e),typeOfTest=_e=>$=>typeof $===_e,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(_e){return _e!==null&&!isUndefined(_e)&&_e.constructor!==null&&!isUndefined(_e.constructor)&&isFunction(_e.constructor.isBuffer)&&_e.constructor.isBuffer(_e)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(_e){let $;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?$=ArrayBuffer.isView(_e):$=_e&&_e.buffer&&isArrayBuffer(_e.buffer),$}const isString$1=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=_e=>_e!==null&&typeof _e=="object",isBoolean=_e=>_e===!0||_e===!1,isPlainObject=_e=>{if(kindOf(_e)!=="object")return!1;const $=getPrototypeOf(_e);return($===null||$===Object.prototype||Object.getPrototypeOf($)===null)&&!(Symbol.toStringTag in _e)&&!(Symbol.iterator in _e)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=_e=>isObject(_e)&&isFunction(_e.pipe),isFormData=_e=>{let $;return _e&&(typeof FormData=="function"&&_e instanceof FormData||isFunction(_e.append)&&(($=kindOf(_e))==="formdata"||$==="object"&&isFunction(_e.toString)&&_e.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=_e=>_e.trim?_e.trim():_e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(_e,$,{allOwnKeys:ht=!1}={}){if(_e===null||typeof _e>"u")return;let vt,bt;if(typeof _e!="object"&&(_e=[_e]),isArray(_e))for(vt=0,bt=_e.length;vt<bt;vt++)$.call(null,_e[vt],vt,_e);else{const wt=ht?Object.getOwnPropertyNames(_e):Object.keys(_e),At=wt.length;let Et;for(vt=0;vt<At;vt++)Et=wt[vt],$.call(null,_e[Et],Et,_e)}}function findKey(_e,$){$=$.toLowerCase();const ht=Object.keys(_e);let vt=ht.length,bt;for(;vt-- >0;)if(bt=ht[vt],$===bt.toLowerCase())return bt;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=_e=>!isUndefined(_e)&&_e!==_global;function merge(){const{caseless:_e}=isContextDefined(this)&&this||{},$={},ht=(vt,bt)=>{const wt=_e&&findKey($,bt)||bt;isPlainObject($[wt])&&isPlainObject(vt)?$[wt]=merge($[wt],vt):isPlainObject(vt)?$[wt]=merge({},vt):isArray(vt)?$[wt]=vt.slice():$[wt]=vt};for(let vt=0,bt=arguments.length;vt<bt;vt++)arguments[vt]&&forEach(arguments[vt],ht);return $}const extend=(_e,$,ht,{allOwnKeys:vt}={})=>(forEach($,(bt,wt)=>{ht&&isFunction(bt)?_e[wt]=bind(bt,ht):_e[wt]=bt},{allOwnKeys:vt}),_e),stripBOM=_e=>(_e.charCodeAt(0)===65279&&(_e=_e.slice(1)),_e),inherits=(_e,$,ht,vt)=>{_e.prototype=Object.create($.prototype,vt),_e.prototype.constructor=_e,Object.defineProperty(_e,"super",{value:$.prototype}),ht&&Object.assign(_e.prototype,ht)},toFlatObject=(_e,$,ht,vt)=>{let bt,wt,At;const Et={};if($=$||{},_e==null)return $;do{for(bt=Object.getOwnPropertyNames(_e),wt=bt.length;wt-- >0;)At=bt[wt],(!vt||vt(At,_e,$))&&!Et[At]&&($[At]=_e[At],Et[At]=!0);_e=ht!==!1&&getPrototypeOf(_e)}while(_e&&(!ht||ht(_e,$))&&_e!==Object.prototype);return $},endsWith=(_e,$,ht)=>{_e=String(_e),(ht===void 0||ht>_e.length)&&(ht=_e.length),ht-=$.length;const vt=_e.indexOf($,ht);return vt!==-1&&vt===ht},toArray=_e=>{if(!_e)return null;if(isArray(_e))return _e;let $=_e.length;if(!isNumber($))return null;const ht=new Array($);for(;$-- >0;)ht[$]=_e[$];return ht},isTypedArray=(_e=>$=>_e&&$ instanceof _e)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(_e,$)=>{const vt=(_e&&_e[Symbol.iterator]).call(_e);let bt;for(;(bt=vt.next())&&!bt.done;){const wt=bt.value;$.call(_e,wt[0],wt[1])}},matchAll=(_e,$)=>{let ht;const vt=[];for(;(ht=_e.exec($))!==null;)vt.push(ht);return vt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=_e=>_e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ht,vt,bt){return vt.toUpperCase()+bt}),hasOwnProperty=(({hasOwnProperty:_e})=>($,ht)=>_e.call($,ht))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(_e,$)=>{const ht=Object.getOwnPropertyDescriptors(_e),vt={};forEach(ht,(bt,wt)=>{let At;(At=$(bt,wt,_e))!==!1&&(vt[wt]=At||bt)}),Object.defineProperties(_e,vt)},freezeMethods=_e=>{reduceDescriptors(_e,($,ht)=>{if(isFunction(_e)&&["arguments","caller","callee"].indexOf(ht)!==-1)return!1;const vt=_e[ht];if(isFunction(vt)){if($.enumerable=!1,"writable"in $){$.writable=!1;return}$.set||($.set=()=>{throw Error("Can not rewrite read-only method '"+ht+"'")})}})},toObjectSet=(_e,$)=>{const ht={},vt=bt=>{bt.forEach(wt=>{ht[wt]=!0})};return isArray(_e)?vt(_e):vt(String(_e).split($)),ht},noop$1=()=>{},toFiniteNumber=(_e,$)=>_e!=null&&Number.isFinite(_e=+_e)?_e:$,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(_e=16,$=ALPHABET.ALPHA_DIGIT)=>{let ht="";const{length:vt}=$;for(;_e--;)ht+=$[Math.random()*vt|0];return ht};function isSpecCompliantForm(_e){return!!(_e&&isFunction(_e.append)&&_e[Symbol.toStringTag]==="FormData"&&_e[Symbol.iterator])}const toJSONObject=_e=>{const $=new Array(10),ht=(vt,bt)=>{if(isObject(vt)){if($.indexOf(vt)>=0)return;if(!("toJSON"in vt)){$[bt]=vt;const wt=isArray(vt)?[]:{};return forEach(vt,(At,Et)=>{const St=ht(At,bt+1);!isUndefined(St)&&(wt[Et]=St)}),$[bt]=void 0,wt}}return vt};return ht(_e,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=_e=>_e&&(isObject(_e)||isFunction(_e))&&isFunction(_e.then)&&isFunction(_e.catch),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString:isString$1,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(_e,$,ht,vt,bt){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=_e,this.name="AxiosError",$&&(this.code=$),ht&&(this.config=ht),vt&&(this.request=vt),bt&&(this.response=bt)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(_e=>{descriptors[_e]={value:_e}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(_e,$,ht,vt,bt,wt)=>{const At=Object.create(prototype$1);return utils$1.toFlatObject(_e,At,function(St){return St!==Error.prototype},Et=>Et!=="isAxiosError"),AxiosError.call(At,_e.message,$,ht,vt,bt),At.cause=_e,At.name=_e.name,wt&&Object.assign(At,wt),At};const httpAdapter=null;function isVisitable(_e){return utils$1.isPlainObject(_e)||utils$1.isArray(_e)}function removeBrackets(_e){return utils$1.endsWith(_e,"[]")?_e.slice(0,-2):_e}function renderKey(_e,$,ht){return _e?_e.concat($).map(function(bt,wt){return bt=removeBrackets(bt),!ht&&wt?"["+bt+"]":bt}).join(ht?".":""):$}function isFlatArray(_e){return utils$1.isArray(_e)&&!_e.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function($){return/^is[A-Z]/.test($)});function toFormData(_e,$,ht){if(!utils$1.isObject(_e))throw new TypeError("target must be an object");$=$||new FormData,ht=utils$1.toFlatObject(ht,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ft,$t){return!utils$1.isUndefined($t[Ft])});const vt=ht.metaTokens,bt=ht.visitor||xt,wt=ht.dots,At=ht.indexes,St=(ht.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm($);if(!utils$1.isFunction(bt))throw new TypeError("visitor must be a function");function Ct(Mt){if(Mt===null)return"";if(utils$1.isDate(Mt))return Mt.toISOString();if(!St&&utils$1.isBlob(Mt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Mt)||utils$1.isTypedArray(Mt)?St&&typeof Blob=="function"?new Blob([Mt]):Buffer.from(Mt):Mt}function xt(Mt,Ft,$t){let Lt=Mt;if(Mt&&!$t&&typeof Mt=="object"){if(utils$1.endsWith(Ft,"{}"))Ft=vt?Ft:Ft.slice(0,-2),Mt=JSON.stringify(Mt);else if(utils$1.isArray(Mt)&&isFlatArray(Mt)||(utils$1.isFileList(Mt)||utils$1.endsWith(Ft,"[]"))&&(Lt=utils$1.toArray(Mt)))return Ft=removeBrackets(Ft),Lt.forEach(function(Ot,Bt){!(utils$1.isUndefined(Ot)||Ot===null)&&$.append(At===!0?renderKey([Ft],Bt,wt):At===null?Ft:Ft+"[]",Ct(Ot))}),!1}return isVisitable(Mt)?!0:($.append(renderKey($t,Ft,wt),Ct(Mt)),!1)}const Pt=[],kt=Object.assign(predicates,{defaultVisitor:xt,convertValue:Ct,isVisitable});function Rt(Mt,Ft){if(!utils$1.isUndefined(Mt)){if(Pt.indexOf(Mt)!==-1)throw Error("Circular reference detected in "+Ft.join("."));Pt.push(Mt),utils$1.forEach(Mt,function(Lt,Dt){(!(utils$1.isUndefined(Lt)||Lt===null)&&bt.call($,Lt,utils$1.isString(Dt)?Dt.trim():Dt,Ft,kt))===!0&&Rt(Lt,Ft?Ft.concat(Dt):[Dt])}),Pt.pop()}}if(!utils$1.isObject(_e))throw new TypeError("data must be an object");return Rt(_e),$}function encode$1(_e){const $={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(_e).replace(/[!'()~]|%20|%00/g,function(vt){return $[vt]})}function AxiosURLSearchParams(_e,$){this._pairs=[],_e&&toFormData(_e,this,$)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function($,ht){this._pairs.push([$,ht])};prototype.toString=function($){const ht=$?function(vt){return $.call(this,vt,encode$1)}:encode$1;return this._pairs.map(function(bt){return ht(bt[0])+"="+ht(bt[1])},"").join("&")};function encode(_e){return encodeURIComponent(_e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(_e,$,ht){if(!$)return _e;const vt=ht&&ht.encode||encode,bt=ht&&ht.serialize;let wt;if(bt?wt=bt($,ht):wt=utils$1.isURLSearchParams($)?$.toString():new AxiosURLSearchParams($,ht).toString(vt),wt){const At=_e.indexOf("#");At!==-1&&(_e=_e.slice(0,At)),_e+=(_e.indexOf("?")===-1?"?":"&")+wt}return _e}class InterceptorManager{constructor(){this.handlers=[]}use($,ht,vt){return this.handlers.push({fulfilled:$,rejected:ht,synchronous:vt?vt.synchronous:!1,runWhen:vt?vt.runWhen:null}),this.handlers.length-1}eject($){this.handlers[$]&&(this.handlers[$]=null)}clear(){this.handlers&&(this.handlers=[])}forEach($){utils$1.forEach(this.handlers,function(vt){vt!==null&&$(vt)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(_e=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(_e)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(_e,$){return toFormData(_e,new platform.classes.URLSearchParams,Object.assign({visitor:function(ht,vt,bt,wt){return platform.isNode&&utils$1.isBuffer(ht)?(this.append(vt,ht.toString("base64")),!1):wt.defaultVisitor.apply(this,arguments)}},$))}function parsePropPath(_e){return utils$1.matchAll(/\w+|\[(\w*)]/g,_e).map($=>$[0]==="[]"?"":$[1]||$[0])}function arrayToObject(_e){const $={},ht=Object.keys(_e);let vt;const bt=ht.length;let wt;for(vt=0;vt<bt;vt++)wt=ht[vt],$[wt]=_e[wt];return $}function formDataToJSON(_e){function $(ht,vt,bt,wt){let At=ht[wt++];if(At==="__proto__")return!0;const Et=Number.isFinite(+At),St=wt>=ht.length;return At=!At&&utils$1.isArray(bt)?bt.length:At,St?(utils$1.hasOwnProp(bt,At)?bt[At]=[bt[At],vt]:bt[At]=vt,!Et):((!bt[At]||!utils$1.isObject(bt[At]))&&(bt[At]=[]),$(ht,vt,bt[At],wt)&&utils$1.isArray(bt[At])&&(bt[At]=arrayToObject(bt[At])),!Et)}if(utils$1.isFormData(_e)&&utils$1.isFunction(_e.entries)){const ht={};return utils$1.forEachEntry(_e,(vt,bt)=>{$(parsePropPath(vt),bt,ht,0)}),ht}return null}function stringifySafely(_e,$,ht){if(utils$1.isString(_e))try{return($||JSON.parse)(_e),utils$1.trim(_e)}catch(vt){if(vt.name!=="SyntaxError")throw vt}return(0,JSON.stringify)(_e)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function($,ht){const vt=ht.getContentType()||"",bt=vt.indexOf("application/json")>-1,wt=utils$1.isObject($);if(wt&&utils$1.isHTMLForm($)&&($=new FormData($)),utils$1.isFormData($))return bt?JSON.stringify(formDataToJSON($)):$;if(utils$1.isArrayBuffer($)||utils$1.isBuffer($)||utils$1.isStream($)||utils$1.isFile($)||utils$1.isBlob($)||utils$1.isReadableStream($))return $;if(utils$1.isArrayBufferView($))return $.buffer;if(utils$1.isURLSearchParams($))return ht.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),$.toString();let Et;if(wt){if(vt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm($,this.formSerializer).toString();if((Et=utils$1.isFileList($))||vt.indexOf("multipart/form-data")>-1){const St=this.env&&this.env.FormData;return toFormData(Et?{"files[]":$}:$,St&&new St,this.formSerializer)}}return wt||bt?(ht.setContentType("application/json",!1),stringifySafely($)):$}],transformResponse:[function($){const ht=this.transitional||defaults.transitional,vt=ht&&ht.forcedJSONParsing,bt=this.responseType==="json";if(utils$1.isResponse($)||utils$1.isReadableStream($))return $;if($&&utils$1.isString($)&&(vt&&!this.responseType||bt)){const At=!(ht&&ht.silentJSONParsing)&&bt;try{return JSON.parse($)}catch(Et){if(At)throw Et.name==="SyntaxError"?AxiosError.from(Et,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):Et}}return $}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function($){return $>=200&&$<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],_e=>{defaults.headers[_e]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=_e=>{const $={};let ht,vt,bt;return _e&&_e.split(`
`).forEach(function(At){bt=At.indexOf(":"),ht=At.substring(0,bt).trim().toLowerCase(),vt=At.substring(bt+1).trim(),!(!ht||$[ht]&&ignoreDuplicateOf[ht])&&(ht==="set-cookie"?$[ht]?$[ht].push(vt):$[ht]=[vt]:$[ht]=$[ht]?$[ht]+", "+vt:vt)}),$},$internals=Symbol("internals");function normalizeHeader(_e){return _e&&String(_e).trim().toLowerCase()}function normalizeValue(_e){return _e===!1||_e==null?_e:utils$1.isArray(_e)?_e.map(normalizeValue):String(_e)}function parseTokens(_e){const $=Object.create(null),ht=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let vt;for(;vt=ht.exec(_e);)$[vt[1]]=vt[2];return $}const isValidHeaderName=_e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(_e.trim());function matchHeaderValue(_e,$,ht,vt,bt){if(utils$1.isFunction(vt))return vt.call(this,$,ht);if(bt&&($=ht),!!utils$1.isString($)){if(utils$1.isString(vt))return $.indexOf(vt)!==-1;if(utils$1.isRegExp(vt))return vt.test($)}}function formatHeader(_e){return _e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,($,ht,vt)=>ht.toUpperCase()+vt)}function buildAccessors(_e,$){const ht=utils$1.toCamelCase(" "+$);["get","set","has"].forEach(vt=>{Object.defineProperty(_e,vt+ht,{value:function(bt,wt,At){return this[vt].call(this,$,bt,wt,At)},configurable:!0})})}class AxiosHeaders{constructor($){$&&this.set($)}set($,ht,vt){const bt=this;function wt(Et,St,Ct){const xt=normalizeHeader(St);if(!xt)throw new Error("header name must be a non-empty string");const Pt=utils$1.findKey(bt,xt);(!Pt||bt[Pt]===void 0||Ct===!0||Ct===void 0&&bt[Pt]!==!1)&&(bt[Pt||St]=normalizeValue(Et))}const At=(Et,St)=>utils$1.forEach(Et,(Ct,xt)=>wt(Ct,xt,St));if(utils$1.isPlainObject($)||$ instanceof this.constructor)At($,ht);else if(utils$1.isString($)&&($=$.trim())&&!isValidHeaderName($))At(parseHeaders($),ht);else if(utils$1.isHeaders($))for(const[Et,St]of $.entries())wt(St,Et,vt);else $!=null&&wt(ht,$,vt);return this}get($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);if(vt){const bt=this[vt];if(!ht)return bt;if(ht===!0)return parseTokens(bt);if(utils$1.isFunction(ht))return ht.call(this,bt,vt);if(utils$1.isRegExp(ht))return ht.exec(bt);throw new TypeError("parser must be boolean|regexp|function")}}}has($,ht){if($=normalizeHeader($),$){const vt=utils$1.findKey(this,$);return!!(vt&&this[vt]!==void 0&&(!ht||matchHeaderValue(this,this[vt],vt,ht)))}return!1}delete($,ht){const vt=this;let bt=!1;function wt(At){if(At=normalizeHeader(At),At){const Et=utils$1.findKey(vt,At);Et&&(!ht||matchHeaderValue(vt,vt[Et],Et,ht))&&(delete vt[Et],bt=!0)}}return utils$1.isArray($)?$.forEach(wt):wt($),bt}clear($){const ht=Object.keys(this);let vt=ht.length,bt=!1;for(;vt--;){const wt=ht[vt];(!$||matchHeaderValue(this,this[wt],wt,$,!0))&&(delete this[wt],bt=!0)}return bt}normalize($){const ht=this,vt={};return utils$1.forEach(this,(bt,wt)=>{const At=utils$1.findKey(vt,wt);if(At){ht[At]=normalizeValue(bt),delete ht[wt];return}const Et=$?formatHeader(wt):String(wt).trim();Et!==wt&&delete ht[wt],ht[Et]=normalizeValue(bt),vt[Et]=!0}),this}concat(...$){return this.constructor.concat(this,...$)}toJSON($){const ht=Object.create(null);return utils$1.forEach(this,(vt,bt)=>{vt!=null&&vt!==!1&&(ht[bt]=$&&utils$1.isArray(vt)?vt.join(", "):vt)}),ht}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([$,ht])=>$+": "+ht).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from($){return $ instanceof this?$:new this($)}static concat($,...ht){const vt=new this($);return ht.forEach(bt=>vt.set(bt)),vt}static accessor($){const vt=(this[$internals]=this[$internals]={accessors:{}}).accessors,bt=this.prototype;function wt(At){const Et=normalizeHeader(At);vt[Et]||(buildAccessors(bt,At),vt[Et]=!0)}return utils$1.isArray($)?$.forEach(wt):wt($),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:_e},$)=>{let ht=$[0].toUpperCase()+$.slice(1);return{get:()=>_e,set(vt){this[ht]=vt}}});utils$1.freezeMethods(AxiosHeaders);function transformData(_e,$){const ht=this||defaults,vt=$||ht,bt=AxiosHeaders.from(vt.headers);let wt=vt.data;return utils$1.forEach(_e,function(Et){wt=Et.call(ht,wt,bt.normalize(),$?$.status:void 0)}),bt.normalize(),wt}function isCancel(_e){return!!(_e&&_e.__CANCEL__)}function CanceledError(_e,$,ht){AxiosError.call(this,_e??"canceled",AxiosError.ERR_CANCELED,$,ht),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(_e,$,ht){const vt=ht.config.validateStatus;!ht.status||!vt||vt(ht.status)?_e(ht):$(new AxiosError("Request failed with status code "+ht.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(ht.status/100)-4],ht.config,ht.request,ht))}function parseProtocol(_e){const $=/^([-+\w]{1,25})(:?\/\/|:)/.exec(_e);return $&&$[1]||""}function speedometer(_e,$){_e=_e||10;const ht=new Array(_e),vt=new Array(_e);let bt=0,wt=0,At;return $=$!==void 0?$:1e3,function(St){const Ct=Date.now(),xt=vt[wt];At||(At=Ct),ht[bt]=St,vt[bt]=Ct;let Pt=wt,kt=0;for(;Pt!==bt;)kt+=ht[Pt++],Pt=Pt%_e;if(bt=(bt+1)%_e,bt===wt&&(wt=(wt+1)%_e),Ct-At<$)return;const Rt=xt&&Ct-xt;return Rt?Math.round(kt*1e3/Rt):void 0}}function throttle(_e,$){let ht=0;const vt=1e3/$;let bt=null;return function(){const At=this===!0,Et=Date.now();if(At||Et-ht>vt)return bt&&(clearTimeout(bt),bt=null),ht=Et,_e.apply(null,arguments);bt||(bt=setTimeout(()=>(bt=null,ht=Date.now(),_e.apply(null,arguments)),vt-(Et-ht)))}}const progressEventReducer=(_e,$,ht=3)=>{let vt=0;const bt=speedometer(50,250);return throttle(wt=>{const At=wt.loaded,Et=wt.lengthComputable?wt.total:void 0,St=At-vt,Ct=bt(St),xt=At<=Et;vt=At;const Pt={loaded:At,total:Et,progress:Et?At/Et:void 0,bytes:St,rate:Ct||void 0,estimated:Ct&&Et&&xt?(Et-At)/Ct:void 0,event:wt,lengthComputable:Et!=null};Pt[$?"download":"upload"]=!0,_e(Pt)},ht)},isURLSameOrigin=platform.hasStandardBrowserEnv?function(){const $=/(msie|trident)/i.test(navigator.userAgent),ht=document.createElement("a");let vt;function bt(wt){let At=wt;return $&&(ht.setAttribute("href",At),At=ht.href),ht.setAttribute("href",At),{href:ht.href,protocol:ht.protocol?ht.protocol.replace(/:$/,""):"",host:ht.host,search:ht.search?ht.search.replace(/^\?/,""):"",hash:ht.hash?ht.hash.replace(/^#/,""):"",hostname:ht.hostname,port:ht.port,pathname:ht.pathname.charAt(0)==="/"?ht.pathname:"/"+ht.pathname}}return vt=bt(window.location.href),function(At){const Et=utils$1.isString(At)?bt(At):At;return Et.protocol===vt.protocol&&Et.host===vt.host}}():function(){return function(){return!0}}(),cookies=platform.hasStandardBrowserEnv?{write(_e,$,ht,vt,bt,wt){const At=[_e+"="+encodeURIComponent($)];utils$1.isNumber(ht)&&At.push("expires="+new Date(ht).toGMTString()),utils$1.isString(vt)&&At.push("path="+vt),utils$1.isString(bt)&&At.push("domain="+bt),wt===!0&&At.push("secure"),document.cookie=At.join("; ")},read(_e){const $=document.cookie.match(new RegExp("(^|;\\s*)("+_e+")=([^;]*)"));return $?decodeURIComponent($[3]):null},remove(_e){this.write(_e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(_e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_e)}function combineURLs(_e,$){return $?_e.replace(/\/?\/$/,"")+"/"+$.replace(/^\/+/,""):_e}function buildFullPath(_e,$){return _e&&!isAbsoluteURL($)?combineURLs(_e,$):$}const headersToObject=_e=>_e instanceof AxiosHeaders?{..._e}:_e;function mergeConfig(_e,$){$=$||{};const ht={};function vt(Ct,xt,Pt){return utils$1.isPlainObject(Ct)&&utils$1.isPlainObject(xt)?utils$1.merge.call({caseless:Pt},Ct,xt):utils$1.isPlainObject(xt)?utils$1.merge({},xt):utils$1.isArray(xt)?xt.slice():xt}function bt(Ct,xt,Pt){if(utils$1.isUndefined(xt)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct,Pt)}else return vt(Ct,xt,Pt)}function wt(Ct,xt){if(!utils$1.isUndefined(xt))return vt(void 0,xt)}function At(Ct,xt){if(utils$1.isUndefined(xt)){if(!utils$1.isUndefined(Ct))return vt(void 0,Ct)}else return vt(void 0,xt)}function Et(Ct,xt,Pt){if(Pt in $)return vt(Ct,xt);if(Pt in _e)return vt(void 0,Ct)}const St={url:wt,method:wt,data:wt,baseURL:At,transformRequest:At,transformResponse:At,paramsSerializer:At,timeout:At,timeoutMessage:At,withCredentials:At,withXSRFToken:At,adapter:At,responseType:At,xsrfCookieName:At,xsrfHeaderName:At,onUploadProgress:At,onDownloadProgress:At,decompress:At,maxContentLength:At,maxBodyLength:At,beforeRedirect:At,transport:At,httpAgent:At,httpsAgent:At,cancelToken:At,socketPath:At,responseEncoding:At,validateStatus:Et,headers:(Ct,xt)=>bt(headersToObject(Ct),headersToObject(xt),!0)};return utils$1.forEach(Object.keys(Object.assign({},_e,$)),function(xt){const Pt=St[xt]||bt,kt=Pt(_e[xt],$[xt],xt);utils$1.isUndefined(kt)&&Pt!==Et||(ht[xt]=kt)}),ht}const resolveConfig=_e=>{const $=mergeConfig({},_e);let{data:ht,withXSRFToken:vt,xsrfHeaderName:bt,xsrfCookieName:wt,headers:At,auth:Et}=$;$.headers=At=AxiosHeaders.from(At),$.url=buildURL(buildFullPath($.baseURL,$.url),_e.params,_e.paramsSerializer),Et&&At.set("Authorization","Basic "+btoa((Et.username||"")+":"+(Et.password?unescape(encodeURIComponent(Et.password)):"")));let St;if(utils$1.isFormData(ht)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)At.setContentType(void 0);else if((St=At.getContentType())!==!1){const[Ct,...xt]=St?St.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];At.setContentType([Ct||"multipart/form-data",...xt].join("; "))}}if(platform.hasStandardBrowserEnv&&(vt&&utils$1.isFunction(vt)&&(vt=vt($)),vt||vt!==!1&&isURLSameOrigin($.url))){const Ct=bt&&wt&&cookies.read(wt);Ct&&At.set(bt,Ct)}return $},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(_e){return new Promise(function(ht,vt){const bt=resolveConfig(_e);let wt=bt.data;const At=AxiosHeaders.from(bt.headers).normalize();let{responseType:Et}=bt,St;function Ct(){bt.cancelToken&&bt.cancelToken.unsubscribe(St),bt.signal&&bt.signal.removeEventListener("abort",St)}let xt=new XMLHttpRequest;xt.open(bt.method.toUpperCase(),bt.url,!0),xt.timeout=bt.timeout;function Pt(){if(!xt)return;const Rt=AxiosHeaders.from("getAllResponseHeaders"in xt&&xt.getAllResponseHeaders()),Ft={data:!Et||Et==="text"||Et==="json"?xt.responseText:xt.response,status:xt.status,statusText:xt.statusText,headers:Rt,config:_e,request:xt};settle(function(Lt){ht(Lt),Ct()},function(Lt){vt(Lt),Ct()},Ft),xt=null}"onloadend"in xt?xt.onloadend=Pt:xt.onreadystatechange=function(){!xt||xt.readyState!==4||xt.status===0&&!(xt.responseURL&&xt.responseURL.indexOf("file:")===0)||setTimeout(Pt)},xt.onabort=function(){xt&&(vt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,bt,xt)),xt=null)},xt.onerror=function(){vt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,bt,xt)),xt=null},xt.ontimeout=function(){let Mt=bt.timeout?"timeout of "+bt.timeout+"ms exceeded":"timeout exceeded";const Ft=bt.transitional||transitionalDefaults;bt.timeoutErrorMessage&&(Mt=bt.timeoutErrorMessage),vt(new AxiosError(Mt,Ft.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,bt,xt)),xt=null},wt===void 0&&At.setContentType(null),"setRequestHeader"in xt&&utils$1.forEach(At.toJSON(),function(Mt,Ft){xt.setRequestHeader(Ft,Mt)}),utils$1.isUndefined(bt.withCredentials)||(xt.withCredentials=!!bt.withCredentials),Et&&Et!=="json"&&(xt.responseType=bt.responseType),typeof bt.onDownloadProgress=="function"&&xt.addEventListener("progress",progressEventReducer(bt.onDownloadProgress,!0)),typeof bt.onUploadProgress=="function"&&xt.upload&&xt.upload.addEventListener("progress",progressEventReducer(bt.onUploadProgress)),(bt.cancelToken||bt.signal)&&(St=Rt=>{xt&&(vt(!Rt||Rt.type?new CanceledError(null,_e,xt):Rt),xt.abort(),xt=null)},bt.cancelToken&&bt.cancelToken.subscribe(St),bt.signal&&(bt.signal.aborted?St():bt.signal.addEventListener("abort",St)));const kt=parseProtocol(bt.url);if(kt&&platform.protocols.indexOf(kt)===-1){vt(new AxiosError("Unsupported protocol "+kt+":",AxiosError.ERR_BAD_REQUEST,_e));return}xt.send(wt||null)})},composeSignals=(_e,$)=>{let ht=new AbortController,vt;const bt=function(St){if(!vt){vt=!0,At();const Ct=St instanceof Error?St:this.reason;ht.abort(Ct instanceof AxiosError?Ct:new CanceledError(Ct instanceof Error?Ct.message:Ct))}};let wt=$&&setTimeout(()=>{bt(new AxiosError(`timeout ${$} of ms exceeded`,AxiosError.ETIMEDOUT))},$);const At=()=>{_e&&(wt&&clearTimeout(wt),wt=null,_e.forEach(St=>{St&&(St.removeEventListener?St.removeEventListener("abort",bt):St.unsubscribe(bt))}),_e=null)};_e.forEach(St=>St&&St.addEventListener&&St.addEventListener("abort",bt));const{signal:Et}=ht;return Et.unsubscribe=At,[Et,()=>{wt&&clearTimeout(wt),wt=null}]},streamChunk=function*(_e,$){let ht=_e.byteLength;if(ht<$){yield _e;return}let vt=0,bt;for(;vt<ht;)bt=vt+$,yield _e.slice(vt,bt),vt=bt},readBytes=async function*(_e,$,ht){for await(const vt of _e)yield*streamChunk(ArrayBuffer.isView(vt)?vt:await ht(String(vt)),$)},trackStream=(_e,$,ht,vt,bt)=>{const wt=readBytes(_e,$,bt);let At=0;return new ReadableStream({type:"bytes",async pull(Et){const{done:St,value:Ct}=await wt.next();if(St){Et.close(),vt();return}let xt=Ct.byteLength;ht&&ht(At+=xt),Et.enqueue(new Uint8Array(Ct))},cancel(Et){return vt(Et),wt.return()}},{highWaterMark:2})},fetchProgressDecorator=(_e,$)=>{const ht=_e!=null;return vt=>setTimeout(()=>$({lengthComputable:ht,total:_e,loaded:vt}))},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(_e=>$=>_e.encode($))(new TextEncoder):async _e=>new Uint8Array(await new Response(_e).arrayBuffer())),supportsRequestStream=isReadableStreamSupported&&(()=>{let _e=!1;const $=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return _e=!0,"half"}}).headers.has("Content-Type");return _e&&!$})(),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&!!(()=>{try{return utils$1.isReadableStream(new Response("").body)}catch{}})(),resolvers={stream:supportsResponseStream&&(_e=>_e.body)};isFetchSupported&&(_e=>{["text","arrayBuffer","blob","formData","stream"].forEach($=>{!resolvers[$]&&(resolvers[$]=utils$1.isFunction(_e[$])?ht=>ht[$]():(ht,vt)=>{throw new AxiosError(`Response type '${$}' is not supported`,AxiosError.ERR_NOT_SUPPORT,vt)})})})(new Response);const getBodyLength=async _e=>{if(_e==null)return 0;if(utils$1.isBlob(_e))return _e.size;if(utils$1.isSpecCompliantForm(_e))return(await new Request(_e).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(_e))return _e.byteLength;if(utils$1.isURLSearchParams(_e)&&(_e=_e+""),utils$1.isString(_e))return(await encodeText(_e)).byteLength},resolveBodyLength=async(_e,$)=>{const ht=utils$1.toFiniteNumber(_e.getContentLength());return ht??getBodyLength($)},fetchAdapter=isFetchSupported&&(async _e=>{let{url:$,method:ht,data:vt,signal:bt,cancelToken:wt,timeout:At,onDownloadProgress:Et,onUploadProgress:St,responseType:Ct,headers:xt,withCredentials:Pt="same-origin",fetchOptions:kt}=resolveConfig(_e);Ct=Ct?(Ct+"").toLowerCase():"text";let[Rt,Mt]=bt||wt||At?composeSignals([bt,wt],At):[],Ft,$t;const Lt=()=>{!Ft&&setTimeout(()=>{Rt&&Rt.unsubscribe()}),Ft=!0};let Dt;try{if(St&&supportsRequestStream&&ht!=="get"&&ht!=="head"&&(Dt=await resolveBodyLength(xt,vt))!==0){let Ht=new Request($,{method:"POST",body:vt,duplex:"half"}),Vt;utils$1.isFormData(vt)&&(Vt=Ht.headers.get("content-type"))&&xt.setContentType(Vt),Ht.body&&(vt=trackStream(Ht.body,DEFAULT_CHUNK_SIZE,fetchProgressDecorator(Dt,progressEventReducer(St)),null,encodeText))}utils$1.isString(Pt)||(Pt=Pt?"cors":"omit"),$t=new Request($,{...kt,signal:Rt,method:ht.toUpperCase(),headers:xt.normalize().toJSON(),body:vt,duplex:"half",withCredentials:Pt});let Ot=await fetch($t);const Bt=supportsResponseStream&&(Ct==="stream"||Ct==="response");if(supportsResponseStream&&(Et||Bt)){const Ht={};["status","statusText","headers"].forEach(jt=>{Ht[jt]=Ot[jt]});const Vt=utils$1.toFiniteNumber(Ot.headers.get("content-length"));Ot=new Response(trackStream(Ot.body,DEFAULT_CHUNK_SIZE,Et&&fetchProgressDecorator(Vt,progressEventReducer(Et,!0)),Bt&&Lt,encodeText),Ht)}Ct=Ct||"text";let Nt=await resolvers[utils$1.findKey(resolvers,Ct)||"text"](Ot,_e);return!Bt&&Lt(),Mt&&Mt(),await new Promise((Ht,Vt)=>{settle(Ht,Vt,{data:Nt,headers:AxiosHeaders.from(Ot.headers),status:Ot.status,statusText:Ot.statusText,config:_e,request:$t})})}catch(Ot){throw Lt(),Ot&&Ot.name==="TypeError"&&/fetch/i.test(Ot.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,_e,$t),{cause:Ot.cause||Ot}):AxiosError.from(Ot,Ot&&Ot.code,_e,$t)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(_e,$)=>{if(_e){try{Object.defineProperty(_e,"name",{value:$})}catch{}Object.defineProperty(_e,"adapterName",{value:$})}});const renderReason=_e=>`- ${_e}`,isResolvedHandle=_e=>utils$1.isFunction(_e)||_e===null||_e===!1,adapters={getAdapter:_e=>{_e=utils$1.isArray(_e)?_e:[_e];const{length:$}=_e;let ht,vt;const bt={};for(let wt=0;wt<$;wt++){ht=_e[wt];let At;if(vt=ht,!isResolvedHandle(ht)&&(vt=knownAdapters[(At=String(ht)).toLowerCase()],vt===void 0))throw new AxiosError(`Unknown adapter '${At}'`);if(vt)break;bt[At||"#"+wt]=vt}if(!vt){const wt=Object.entries(bt).map(([Et,St])=>`adapter ${Et} `+(St===!1?"is not supported by the environment":"is not available in the build"));let At=$?wt.length>1?`since :
`+wt.map(renderReason).join(`
`):" "+renderReason(wt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+At,"ERR_NOT_SUPPORT")}return vt},adapters:knownAdapters};function throwIfCancellationRequested(_e){if(_e.cancelToken&&_e.cancelToken.throwIfRequested(),_e.signal&&_e.signal.aborted)throw new CanceledError(null,_e)}function dispatchRequest(_e){return throwIfCancellationRequested(_e),_e.headers=AxiosHeaders.from(_e.headers),_e.data=transformData.call(_e,_e.transformRequest),["post","put","patch"].indexOf(_e.method)!==-1&&_e.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(_e.adapter||defaults.adapter)(_e).then(function(vt){return throwIfCancellationRequested(_e),vt.data=transformData.call(_e,_e.transformResponse,vt),vt.headers=AxiosHeaders.from(vt.headers),vt},function(vt){return isCancel(vt)||(throwIfCancellationRequested(_e),vt&&vt.response&&(vt.response.data=transformData.call(_e,_e.transformResponse,vt.response),vt.response.headers=AxiosHeaders.from(vt.response.headers))),Promise.reject(vt)})}const VERSION="1.7.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((_e,$)=>{validators$1[_e]=function(vt){return typeof vt===_e||"a"+($<1?"n ":" ")+_e}});const deprecatedWarnings={};validators$1.transitional=function($,ht,vt){function bt(wt,At){return"[Axios v"+VERSION+"] Transitional option '"+wt+"'"+At+(vt?". "+vt:"")}return(wt,At,Et)=>{if($===!1)throw new AxiosError(bt(At," has been removed"+(ht?" in "+ht:"")),AxiosError.ERR_DEPRECATED);return ht&&!deprecatedWarnings[At]&&(deprecatedWarnings[At]=!0,console.warn(bt(At," has been deprecated since v"+ht+" and will be removed in the near future"))),$?$(wt,At,Et):!0}};function assertOptions(_e,$,ht){if(typeof _e!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const vt=Object.keys(_e);let bt=vt.length;for(;bt-- >0;){const wt=vt[bt],At=$[wt];if(At){const Et=_e[wt],St=Et===void 0||At(Et,wt,_e);if(St!==!0)throw new AxiosError("option "+wt+" must be "+St,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(ht!==!0)throw new AxiosError("Unknown option "+wt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor($){this.defaults=$,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request($,ht){try{return await this._request($,ht)}catch(vt){if(vt instanceof Error){let bt;Error.captureStackTrace?Error.captureStackTrace(bt={}):bt=new Error;const wt=bt.stack?bt.stack.replace(/^.+\n/,""):"";try{vt.stack?wt&&!String(vt.stack).endsWith(wt.replace(/^.+\n.+\n/,""))&&(vt.stack+=`
`+wt):vt.stack=wt}catch{}}throw vt}}_request($,ht){typeof $=="string"?(ht=ht||{},ht.url=$):ht=$||{},ht=mergeConfig(this.defaults,ht);const{transitional:vt,paramsSerializer:bt,headers:wt}=ht;vt!==void 0&&validator.assertOptions(vt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),bt!=null&&(utils$1.isFunction(bt)?ht.paramsSerializer={serialize:bt}:validator.assertOptions(bt,{encode:validators.function,serialize:validators.function},!0)),ht.method=(ht.method||this.defaults.method||"get").toLowerCase();let At=wt&&utils$1.merge(wt.common,wt[ht.method]);wt&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Mt=>{delete wt[Mt]}),ht.headers=AxiosHeaders.concat(At,wt);const Et=[];let St=!0;this.interceptors.request.forEach(function(Ft){typeof Ft.runWhen=="function"&&Ft.runWhen(ht)===!1||(St=St&&Ft.synchronous,Et.unshift(Ft.fulfilled,Ft.rejected))});const Ct=[];this.interceptors.response.forEach(function(Ft){Ct.push(Ft.fulfilled,Ft.rejected)});let xt,Pt=0,kt;if(!St){const Mt=[dispatchRequest.bind(this),void 0];for(Mt.unshift.apply(Mt,Et),Mt.push.apply(Mt,Ct),kt=Mt.length,xt=Promise.resolve(ht);Pt<kt;)xt=xt.then(Mt[Pt++],Mt[Pt++]);return xt}kt=Et.length;let Rt=ht;for(Pt=0;Pt<kt;){const Mt=Et[Pt++],Ft=Et[Pt++];try{Rt=Mt(Rt)}catch($t){Ft.call(this,$t);break}}try{xt=dispatchRequest.call(this,Rt)}catch(Mt){return Promise.reject(Mt)}for(Pt=0,kt=Ct.length;Pt<kt;)xt=xt.then(Ct[Pt++],Ct[Pt++]);return xt}getUri($){$=mergeConfig(this.defaults,$);const ht=buildFullPath($.baseURL,$.url);return buildURL(ht,$.params,$.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function($){Axios.prototype[$]=function(ht,vt){return this.request(mergeConfig(vt||{},{method:$,url:ht,data:(vt||{}).data}))}});utils$1.forEach(["post","put","patch"],function($){function ht(vt){return function(wt,At,Et){return this.request(mergeConfig(Et||{},{method:$,headers:vt?{"Content-Type":"multipart/form-data"}:{},url:wt,data:At}))}}Axios.prototype[$]=ht(),Axios.prototype[$+"Form"]=ht(!0)});class CancelToken{constructor($){if(typeof $!="function")throw new TypeError("executor must be a function.");let ht;this.promise=new Promise(function(wt){ht=wt});const vt=this;this.promise.then(bt=>{if(!vt._listeners)return;let wt=vt._listeners.length;for(;wt-- >0;)vt._listeners[wt](bt);vt._listeners=null}),this.promise.then=bt=>{let wt;const At=new Promise(Et=>{vt.subscribe(Et),wt=Et}).then(bt);return At.cancel=function(){vt.unsubscribe(wt)},At},$(function(wt,At,Et){vt.reason||(vt.reason=new CanceledError(wt,At,Et),ht(vt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe($){if(this.reason){$(this.reason);return}this._listeners?this._listeners.push($):this._listeners=[$]}unsubscribe($){if(!this._listeners)return;const ht=this._listeners.indexOf($);ht!==-1&&this._listeners.splice(ht,1)}static source(){let $;return{token:new CancelToken(function(bt){$=bt}),cancel:$}}}function spread(_e){return function(ht){return _e.apply(null,ht)}}function isAxiosError(_e){return utils$1.isObject(_e)&&_e.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([_e,$])=>{HttpStatusCode[$]=_e});function createInstance(_e){const $=new Axios(_e),ht=bind(Axios.prototype.request,$);return utils$1.extend(ht,Axios.prototype,$,{allOwnKeys:!0}),utils$1.extend(ht,$,null,{allOwnKeys:!0}),ht.create=function(bt){return createInstance(mergeConfig(_e,bt))},ht}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function($){return Promise.all($)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=_e=>formDataToJSON(utils$1.isHTMLForm(_e)?new FormData(_e):_e);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;/*!
* sweetalert2 v11.14.2
* Released under the MIT License.
*/function _assertClassBrand(_e,$,ht){if(typeof _e=="function"?_e===$:_e.has($))return arguments.length<3?$:ht;throw new TypeError("Private element is not present on this object")}function _checkPrivateRedeclaration(_e,$){if($.has(_e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet2(_e,$){return _e.get(_assertClassBrand(_e,$))}function _classPrivateFieldInitSpec(_e,$,ht){_checkPrivateRedeclaration(_e,$),$.set(_e,ht)}function _classPrivateFieldSet2(_e,$,ht){return _e.set(_assertClassBrand(_e,$),ht),ht}const RESTORE_FOCUS_TIMEOUT=100,globalState={},focusPreviousActiveElement=()=>{globalState.previousActiveElement instanceof HTMLElement?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus()},restoreActiveElement=_e=>new Promise($=>{if(!_e)return $();const ht=window.scrollX,vt=window.scrollY;globalState.restoreFocusTimeout=setTimeout(()=>{focusPreviousActiveElement(),$()},RESTORE_FOCUS_TIMEOUT),window.scrollTo(ht,vt)}),swalPrefix="swal2-",classNames=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],swalClasses=classNames.reduce((_e,$)=>(_e[$]=swalPrefix+$,_e),{}),icons=["success","warning","info","question","error"],iconTypes=icons.reduce((_e,$)=>(_e[$]=swalPrefix+$,_e),{}),consolePrefix="SweetAlert2:",capitalizeFirstLetter=_e=>_e.charAt(0).toUpperCase()+_e.slice(1),warn$1=_e=>{console.warn(`${consolePrefix} ${typeof _e=="object"?_e.join(" "):_e}`)},error=_e=>{console.error(`${consolePrefix} ${_e}`)},previousWarnOnceMessages=[],warnOnce=_e=>{previousWarnOnceMessages.includes(_e)||(previousWarnOnceMessages.push(_e),warn$1(_e))},warnAboutDeprecation=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;warnOnce(`"${_e}" is deprecated and will be removed in the next major release.${$?` Use "${$}" instead.`:""}`)},callIfFunction=_e=>typeof _e=="function"?_e():_e,hasToPromiseFn=_e=>_e&&typeof _e.toPromise=="function",asPromise=_e=>hasToPromiseFn(_e)?_e.toPromise():Promise.resolve(_e),isPromise=_e=>_e&&Promise.resolve(_e)===_e,getContainer=()=>document.body.querySelector(`.${swalClasses.container}`),elementBySelector=_e=>{const $=getContainer();return $?$.querySelector(_e):null},elementByClass=_e=>elementBySelector(`.${_e}`),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getIconContent=()=>elementByClass(swalClasses["icon-content"]),getTitle=()=>elementByClass(swalClasses.title),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`),getCancelButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`),getDenyButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`),getInputLabel=()=>elementByClass(swalClasses["input-label"]),getLoader=()=>elementBySelector(`.${swalClasses.loader}`),getActions=()=>elementByClass(swalClasses.actions),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),focusable=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,getFocusableElements=()=>{const _e=getPopup();if(!_e)return[];const $=_e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),ht=Array.from($).sort((wt,At)=>{const Et=parseInt(wt.getAttribute("tabindex")||"0"),St=parseInt(At.getAttribute("tabindex")||"0");return Et>St?1:Et<St?-1:0}),vt=_e.querySelectorAll(focusable),bt=Array.from(vt).filter(wt=>wt.getAttribute("tabindex")!=="-1");return[...new Set(ht.concat(bt))].filter(wt=>isVisible$1(wt))},isModal=()=>hasClass(document.body,swalClasses.shown)&&!hasClass(document.body,swalClasses["toast-shown"])&&!hasClass(document.body,swalClasses["no-backdrop"]),isToast=()=>{const _e=getPopup();return _e?hasClass(_e,swalClasses.toast):!1},isLoading=()=>{const _e=getPopup();return _e?_e.hasAttribute("data-loading"):!1},setInnerHtml=(_e,$)=>{if(_e.textContent="",$){const vt=new DOMParser().parseFromString($,"text/html"),bt=vt.querySelector("head");bt&&Array.from(bt.childNodes).forEach(At=>{_e.appendChild(At)});const wt=vt.querySelector("body");wt&&Array.from(wt.childNodes).forEach(At=>{At instanceof HTMLVideoElement||At instanceof HTMLAudioElement?_e.appendChild(At.cloneNode(!0)):_e.appendChild(At)})}},hasClass=(_e,$)=>{if(!$)return!1;const ht=$.split(/\s+/);for(let vt=0;vt<ht.length;vt++)if(!_e.classList.contains(ht[vt]))return!1;return!0},removeCustomClasses=(_e,$)=>{Array.from(_e.classList).forEach(ht=>{!Object.values(swalClasses).includes(ht)&&!Object.values(iconTypes).includes(ht)&&!Object.values($.showClass||{}).includes(ht)&&_e.classList.remove(ht)})},applyCustomClass=(_e,$,ht)=>{if(removeCustomClasses(_e,$),!$.customClass)return;const vt=$.customClass[ht];if(vt){if(typeof vt!="string"&&!vt.forEach){warn$1(`Invalid type of customClass.${ht}! Expected string or iterable object, got "${typeof vt}"`);return}addClass(_e,vt)}},getInput$1=(_e,$)=>{if(!$)return null;switch($){case"select":case"textarea":case"file":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses[$]}`);case"checkbox":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);case"radio":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`)||_e.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);case"range":return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);default:return _e.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`)}},focusInput=_e=>{if(_e.focus(),_e.type!=="file"){const $=_e.value;_e.value="",_e.value=$}},toggleClass=(_e,$,ht)=>{!_e||!$||(typeof $=="string"&&($=$.split(/\s+/).filter(Boolean)),$.forEach(vt=>{Array.isArray(_e)?_e.forEach(bt=>{ht?bt.classList.add(vt):bt.classList.remove(vt)}):ht?_e.classList.add(vt):_e.classList.remove(vt)}))},addClass=(_e,$)=>{toggleClass(_e,$,!0)},removeClass=(_e,$)=>{toggleClass(_e,$,!1)},getDirectChildByClass=(_e,$)=>{const ht=Array.from(_e.children);for(let vt=0;vt<ht.length;vt++){const bt=ht[vt];if(bt instanceof HTMLElement&&hasClass(bt,$))return bt}},applyNumericalStyle=(_e,$,ht)=>{ht===`${parseInt(ht)}`&&(ht=parseInt(ht)),ht||parseInt(ht)===0?_e.style.setProperty($,typeof ht=="number"?`${ht}px`:ht):_e.style.removeProperty($)},show=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";_e&&(_e.style.display=$)},hide=_e=>{_e&&(_e.style.display="none")},showWhenInnerHtmlPresent=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";_e&&new MutationObserver(()=>{toggle(_e,_e.innerHTML,$)}).observe(_e,{childList:!0,subtree:!0})},setStyle=(_e,$,ht,vt)=>{const bt=_e.querySelector($);bt&&bt.style.setProperty(ht,vt)},toggle=function(_e,$){let ht=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";$?show(_e,ht):hide(_e)},isVisible$1=_e=>!!(_e&&(_e.offsetWidth||_e.offsetHeight||_e.getClientRects().length)),allButtonsAreHidden=()=>!isVisible$1(getConfirmButton())&&!isVisible$1(getDenyButton())&&!isVisible$1(getCancelButton()),isScrollable=_e=>_e.scrollHeight>_e.clientHeight,hasCssAnimation=_e=>{const $=window.getComputedStyle(_e),ht=parseFloat($.getPropertyValue("animation-duration")||"0"),vt=parseFloat($.getPropertyValue("transition-duration")||"0");return ht>0||vt>0},animateTimerProgressBar=function(_e){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ht=getTimerProgressBar();ht&&isVisible$1(ht)&&($&&(ht.style.transition="none",ht.style.width="100%"),setTimeout(()=>{ht.style.transition=`width ${_e/1e3}s linear`,ht.style.width="0%"},10))},stopTimerProgressBar=()=>{const _e=getTimerProgressBar();if(!_e)return;const $=parseInt(window.getComputedStyle(_e).width);_e.style.removeProperty("transition"),_e.style.width="100%";const ht=parseInt(window.getComputedStyle(_e).width),vt=$/ht*100;_e.style.width=`${vt}%`},isNodeEnv=()=>typeof window>"u"||typeof document>"u",sweetHTML=`
 <div aria-labelledby="${swalClasses.title}" aria-describedby="${swalClasses["html-container"]}" class="${swalClasses.popup}" tabindex="-1">
   <button type="button" class="${swalClasses.close}"></button>
   <ul class="${swalClasses["progress-steps"]}"></ul>
   <div class="${swalClasses.icon}"></div>
   <img class="${swalClasses.image}" />
   <h2 class="${swalClasses.title}" id="${swalClasses.title}"></h2>
   <div class="${swalClasses["html-container"]}" id="${swalClasses["html-container"]}"></div>
   <input class="${swalClasses.input}" id="${swalClasses.input}" />
   <input type="file" class="${swalClasses.file}" />
   <div class="${swalClasses.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${swalClasses.select}" id="${swalClasses.select}"></select>
   <div class="${swalClasses.radio}"></div>
   <label class="${swalClasses.checkbox}">
     <input type="checkbox" id="${swalClasses.checkbox}" />
     <span class="${swalClasses.label}"></span>
   </label>
   <textarea class="${swalClasses.textarea}" id="${swalClasses.textarea}"></textarea>
   <div class="${swalClasses["validation-message"]}" id="${swalClasses["validation-message"]}"></div>
   <div class="${swalClasses.actions}">
     <div class="${swalClasses.loader}"></div>
     <button type="button" class="${swalClasses.confirm}"></button>
     <button type="button" class="${swalClasses.deny}"></button>
     <button type="button" class="${swalClasses.cancel}"></button>
   </div>
   <div class="${swalClasses.footer}"></div>
   <div class="${swalClasses["timer-progress-bar-container"]}">
     <div class="${swalClasses["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),resetOldContainer=()=>{const _e=getContainer();return _e?(_e.remove(),removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0):!1},resetValidationMessage$1=()=>{globalState.currentInstance.resetValidationMessage()},addInputChangeListeners=()=>{const _e=getPopup(),$=getDirectChildByClass(_e,swalClasses.input),ht=getDirectChildByClass(_e,swalClasses.file),vt=_e.querySelector(`.${swalClasses.range} input`),bt=_e.querySelector(`.${swalClasses.range} output`),wt=getDirectChildByClass(_e,swalClasses.select),At=_e.querySelector(`.${swalClasses.checkbox} input`),Et=getDirectChildByClass(_e,swalClasses.textarea);$.oninput=resetValidationMessage$1,ht.onchange=resetValidationMessage$1,wt.onchange=resetValidationMessage$1,At.onchange=resetValidationMessage$1,Et.oninput=resetValidationMessage$1,vt.oninput=()=>{resetValidationMessage$1(),bt.value=vt.value},vt.onchange=()=>{resetValidationMessage$1(),bt.value=vt.value}},getTarget=_e=>typeof _e=="string"?document.querySelector(_e):_e,setupAccessibility=_e=>{const $=getPopup();$.setAttribute("role",_e.toast?"alert":"dialog"),$.setAttribute("aria-live",_e.toast?"polite":"assertive"),_e.toast||$.setAttribute("aria-modal","true")},setupRTL=_e=>{window.getComputedStyle(_e).direction==="rtl"&&addClass(getContainer(),swalClasses.rtl)},init=_e=>{const $=resetOldContainer();if(isNodeEnv()){error("SweetAlert2 requires document to initialize");return}const ht=document.createElement("div");ht.className=swalClasses.container,$&&addClass(ht,swalClasses["no-transition"]),setInnerHtml(ht,sweetHTML);const vt=getTarget(_e.target);vt.appendChild(ht),setupAccessibility(_e),setupRTL(vt),addInputChangeListeners()},parseHtmlToContainer=(_e,$)=>{_e instanceof HTMLElement?$.appendChild(_e):typeof _e=="object"?handleObject(_e,$):_e&&setInnerHtml($,_e)},handleObject=(_e,$)=>{_e.jquery?handleJqueryElem($,_e):setInnerHtml($,_e.toString())},handleJqueryElem=(_e,$)=>{if(_e.textContent="",0 in $)for(let ht=0;ht in $;ht++)_e.appendChild($[ht].cloneNode(!0));else _e.appendChild($.cloneNode(!0))},renderActions=(_e,$)=>{const ht=getActions(),vt=getLoader();!ht||!vt||(!$.showConfirmButton&&!$.showDenyButton&&!$.showCancelButton?hide(ht):show(ht),applyCustomClass(ht,$,"actions"),renderButtons(ht,vt,$),setInnerHtml(vt,$.loaderHtml||""),applyCustomClass(vt,$,"loader"))};function renderButtons(_e,$,ht){const vt=getConfirmButton(),bt=getDenyButton(),wt=getCancelButton();!vt||!bt||!wt||(renderButton(vt,"confirm",ht),renderButton(bt,"deny",ht),renderButton(wt,"cancel",ht),handleButtonsStyling(vt,bt,wt,ht),ht.reverseButtons&&(ht.toast?(_e.insertBefore(wt,vt),_e.insertBefore(bt,vt)):(_e.insertBefore(wt,$),_e.insertBefore(bt,$),_e.insertBefore(vt,$))))}function handleButtonsStyling(_e,$,ht,vt){if(!vt.buttonsStyling){removeClass([_e,$,ht],swalClasses.styled);return}addClass([_e,$,ht],swalClasses.styled),vt.confirmButtonColor&&(_e.style.backgroundColor=vt.confirmButtonColor,addClass(_e,swalClasses["default-outline"])),vt.denyButtonColor&&($.style.backgroundColor=vt.denyButtonColor,addClass($,swalClasses["default-outline"])),vt.cancelButtonColor&&(ht.style.backgroundColor=vt.cancelButtonColor,addClass(ht,swalClasses["default-outline"]))}function renderButton(_e,$,ht){const vt=capitalizeFirstLetter($);toggle(_e,ht[`show${vt}Button`],"inline-block"),setInnerHtml(_e,ht[`${$}ButtonText`]||""),_e.setAttribute("aria-label",ht[`${$}ButtonAriaLabel`]||""),_e.className=swalClasses[$],applyCustomClass(_e,ht,`${$}Button`)}const renderCloseButton=(_e,$)=>{const ht=getCloseButton();ht&&(setInnerHtml(ht,$.closeButtonHtml||""),applyCustomClass(ht,$,"closeButton"),toggle(ht,$.showCloseButton),ht.setAttribute("aria-label",$.closeButtonAriaLabel||""))},renderContainer=(_e,$)=>{const ht=getContainer();ht&&(handleBackdropParam(ht,$.backdrop),handlePositionParam(ht,$.position),handleGrowParam(ht,$.grow),applyCustomClass(ht,$,"container"))};function handleBackdropParam(_e,$){typeof $=="string"?_e.style.background=$:$||addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}function handlePositionParam(_e,$){$&&($ in swalClasses?addClass(_e,swalClasses[$]):(warn$1('The "position" parameter is not valid, defaulting to "center"'),addClass(_e,swalClasses.center)))}function handleGrowParam(_e,$){$&&addClass(_e,swalClasses[`grow-${$}`])}var privateProps={innerParams:new WeakMap,domCache:new WeakMap};const inputClasses=["input","file","range","select","radio","checkbox","textarea"],renderInput=(_e,$)=>{const ht=getPopup();if(!ht)return;const vt=privateProps.innerParams.get(_e),bt=!vt||$.input!==vt.input;inputClasses.forEach(wt=>{const At=getDirectChildByClass(ht,swalClasses[wt]);At&&(setAttributes(wt,$.inputAttributes),At.className=swalClasses[wt],bt&&hide(At))}),$.input&&(bt&&showInput($),setCustomClass($))},showInput=_e=>{if(!_e.input)return;if(!renderInputType[_e.input]){error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(" | ")}, got "${_e.input}"`);return}const $=getInputContainer(_e.input);if(!$)return;const ht=renderInputType[_e.input]($,_e);show($),_e.inputAutoFocus&&setTimeout(()=>{focusInput(ht)})},removeAttributes=_e=>{for(let $=0;$<_e.attributes.length;$++){const ht=_e.attributes[$].name;["id","type","value","style"].includes(ht)||_e.removeAttribute(ht)}},setAttributes=(_e,$)=>{const ht=getPopup();if(!ht)return;const vt=getInput$1(ht,_e);if(vt){removeAttributes(vt);for(const bt in $)vt.setAttribute(bt,$[bt])}},setCustomClass=_e=>{if(!_e.input)return;const $=getInputContainer(_e.input);$&&applyCustomClass($,_e,"input")},setInputPlaceholder=(_e,$)=>{!_e.placeholder&&$.inputPlaceholder&&(_e.placeholder=$.inputPlaceholder)},setInputLabel=(_e,$,ht)=>{if(ht.inputLabel){const vt=document.createElement("label"),bt=swalClasses["input-label"];vt.setAttribute("for",_e.id),vt.className=bt,typeof ht.customClass=="object"&&addClass(vt,ht.customClass.inputLabel),vt.innerText=ht.inputLabel,$.insertAdjacentElement("beforebegin",vt)}},getInputContainer=_e=>{const $=getPopup();if($)return getDirectChildByClass($,swalClasses[_e]||swalClasses.input)},checkAndSetInputValue=(_e,$)=>{["string","number"].includes(typeof $)?_e.value=`${$}`:isPromise($)||warn$1(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof $}"`)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=renderInputType.search=renderInputType.date=renderInputType["datetime-local"]=renderInputType.time=renderInputType.week=renderInputType.month=(_e,$)=>(checkAndSetInputValue(_e,$.inputValue),setInputLabel(_e,_e,$),setInputPlaceholder(_e,$),_e.type=$.input,_e);renderInputType.file=(_e,$)=>(setInputLabel(_e,_e,$),setInputPlaceholder(_e,$),_e);renderInputType.range=(_e,$)=>{const ht=_e.querySelector("input"),vt=_e.querySelector("output");return checkAndSetInputValue(ht,$.inputValue),ht.type=$.input,checkAndSetInputValue(vt,$.inputValue),setInputLabel(ht,_e,$),_e};renderInputType.select=(_e,$)=>{if(_e.textContent="",$.inputPlaceholder){const ht=document.createElement("option");setInnerHtml(ht,$.inputPlaceholder),ht.value="",ht.disabled=!0,ht.selected=!0,_e.appendChild(ht)}return setInputLabel(_e,_e,$),_e};renderInputType.radio=_e=>(_e.textContent="",_e);renderInputType.checkbox=(_e,$)=>{const ht=getInput$1(getPopup(),"checkbox");ht.value="1",ht.checked=!!$.inputValue;const vt=_e.querySelector("span");return setInnerHtml(vt,$.inputPlaceholder||$.inputLabel),ht};renderInputType.textarea=(_e,$)=>{checkAndSetInputValue(_e,$.inputValue),setInputPlaceholder(_e,$),setInputLabel(_e,_e,$);const ht=vt=>parseInt(window.getComputedStyle(vt).marginLeft)+parseInt(window.getComputedStyle(vt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const vt=parseInt(window.getComputedStyle(getPopup()).width),bt=()=>{if(!document.body.contains(_e))return;const wt=_e.offsetWidth+ht(_e);wt>vt?getPopup().style.width=`${wt}px`:applyNumericalStyle(getPopup(),"width",$.width)};new MutationObserver(bt).observe(_e,{attributes:!0,attributeFilter:["style"]})}}),_e};const renderContent=(_e,$)=>{const ht=getHtmlContainer();ht&&(showWhenInnerHtmlPresent(ht),applyCustomClass(ht,$,"htmlContainer"),$.html?(parseHtmlToContainer($.html,ht),show(ht,"block")):$.text?(ht.textContent=$.text,show(ht,"block")):hide(ht),renderInput(_e,$))},renderFooter=(_e,$)=>{const ht=getFooter();ht&&(showWhenInnerHtmlPresent(ht),toggle(ht,$.footer,"block"),$.footer&&parseHtmlToContainer($.footer,ht),applyCustomClass(ht,$,"footer"))},renderIcon=(_e,$)=>{const ht=privateProps.innerParams.get(_e),vt=getIcon();if(vt){if(ht&&$.icon===ht.icon){setContent(vt,$),applyStyles(vt,$);return}if(!$.icon&&!$.iconHtml){hide(vt);return}if($.icon&&Object.keys(iconTypes).indexOf($.icon)===-1){error(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${$.icon}"`),hide(vt);return}show(vt),setContent(vt,$),applyStyles(vt,$),addClass(vt,$.showClass&&$.showClass.icon)}},applyStyles=(_e,$)=>{for(const[ht,vt]of Object.entries(iconTypes))$.icon!==ht&&removeClass(_e,vt);addClass(_e,$.icon&&iconTypes[$.icon]),setColor(_e,$),adjustSuccessIconBackgroundColor(),applyCustomClass(_e,$,"icon")},adjustSuccessIconBackgroundColor=()=>{const _e=getPopup();if(!_e)return;const $=window.getComputedStyle(_e).getPropertyValue("background-color"),ht=_e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let vt=0;vt<ht.length;vt++)ht[vt].style.backgroundColor=$},successIconHtml=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,errorIconHtml=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,setContent=(_e,$)=>{if(!$.icon&&!$.iconHtml)return;let ht=_e.innerHTML,vt="";$.iconHtml?vt=iconContent($.iconHtml):$.icon==="success"?(vt=successIconHtml,ht=ht.replace(/ style=".*?"/g,"")):$.icon==="error"?vt=errorIconHtml:$.icon&&(vt=iconContent({question:"?",warning:"!",info:"i"}[$.icon])),ht.trim()!==vt.trim()&&setInnerHtml(_e,vt)},setColor=(_e,$)=>{if($.iconColor){_e.style.color=$.iconColor,_e.style.borderColor=$.iconColor;for(const ht of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(_e,ht,"background-color",$.iconColor);setStyle(_e,".swal2-success-ring","border-color",$.iconColor)}},iconContent=_e=>`<div class="${swalClasses["icon-content"]}">${_e}</div>`,renderImage=(_e,$)=>{const ht=getImage();if(ht){if(!$.imageUrl){hide(ht);return}show(ht,""),ht.setAttribute("src",$.imageUrl),ht.setAttribute("alt",$.imageAlt||""),applyNumericalStyle(ht,"width",$.imageWidth),applyNumericalStyle(ht,"height",$.imageHeight),ht.className=swalClasses.image,applyCustomClass(ht,$,"image")}},renderPopup=(_e,$)=>{const ht=getContainer(),vt=getPopup();if(!(!ht||!vt)){if($.toast){applyNumericalStyle(ht,"width",$.width),vt.style.width="100%";const bt=getLoader();bt&&vt.insertBefore(bt,getIcon())}else applyNumericalStyle(vt,"width",$.width);applyNumericalStyle(vt,"padding",$.padding),$.color&&(vt.style.color=$.color),$.background&&(vt.style.background=$.background),hide(getValidationMessage()),addClasses$1(vt,$)}},addClasses$1=(_e,$)=>{const ht=$.showClass||{};_e.className=`${swalClasses.popup} ${isVisible$1(_e)?ht.popup:""}`,$.toast?(addClass([document.documentElement,document.body],swalClasses["toast-shown"]),addClass(_e,swalClasses.toast)):addClass(_e,swalClasses.modal),applyCustomClass(_e,$,"popup"),typeof $.customClass=="string"&&addClass(_e,$.customClass),$.icon&&addClass(_e,swalClasses[`icon-${$.icon}`])},renderProgressSteps=(_e,$)=>{const ht=getProgressSteps();if(!ht)return;const{progressSteps:vt,currentProgressStep:bt}=$;if(!vt||vt.length===0||bt===void 0){hide(ht);return}show(ht),ht.textContent="",bt>=vt.length&&warn$1("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),vt.forEach((wt,At)=>{const Et=createStepElement(wt);if(ht.appendChild(Et),At===bt&&addClass(Et,swalClasses["active-progress-step"]),At!==vt.length-1){const St=createLineElement($);ht.appendChild(St)}})},createStepElement=_e=>{const $=document.createElement("li");return addClass($,swalClasses["progress-step"]),setInnerHtml($,_e),$},createLineElement=_e=>{const $=document.createElement("li");return addClass($,swalClasses["progress-step-line"]),_e.progressStepsDistance&&applyNumericalStyle($,"width",_e.progressStepsDistance),$},renderTitle=(_e,$)=>{const ht=getTitle();ht&&(showWhenInnerHtmlPresent(ht),toggle(ht,$.title||$.titleText,"block"),$.title&&parseHtmlToContainer($.title,ht),$.titleText&&(ht.innerText=$.titleText),applyCustomClass(ht,$,"title"))},render=(_e,$)=>{renderPopup(_e,$),renderContainer(_e,$),renderProgressSteps(_e,$),renderIcon(_e,$),renderImage(_e,$),renderTitle(_e,$),renderCloseButton(_e,$),renderContent(_e,$),renderActions(_e,$),renderFooter(_e,$);const ht=getPopup();typeof $.didRender=="function"&&ht&&$.didRender(ht),globalState.eventEmitter.emit("didRender",ht)},isVisible=()=>isVisible$1(getPopup()),clickConfirm=()=>{var _e;return(_e=getConfirmButton())===null||_e===void 0?void 0:_e.click()},clickDeny=()=>{var _e;return(_e=getDenyButton())===null||_e===void 0?void 0:_e.click()},clickCancel=()=>{var _e;return(_e=getCancelButton())===null||_e===void 0?void 0:_e.click()},DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),removeKeydownHandler=_e=>{_e.keydownTarget&&_e.keydownHandlerAdded&&(_e.keydownTarget.removeEventListener("keydown",_e.keydownHandler,{capture:_e.keydownListenerCapture}),_e.keydownHandlerAdded=!1)},addKeydownHandler=(_e,$,ht)=>{removeKeydownHandler(_e),$.toast||(_e.keydownHandler=vt=>keydownHandler($,vt,ht),_e.keydownTarget=$.keydownListenerCapture?window:getPopup(),_e.keydownListenerCapture=$.keydownListenerCapture,_e.keydownTarget.addEventListener("keydown",_e.keydownHandler,{capture:_e.keydownListenerCapture}),_e.keydownHandlerAdded=!0)},setFocus=(_e,$)=>{var ht;const vt=getFocusableElements();if(vt.length){_e=_e+$,_e===vt.length?_e=0:_e===-1&&(_e=vt.length-1),vt[_e].focus();return}(ht=getPopup())===null||ht===void 0||ht.focus()},arrowKeysNextButton=["ArrowRight","ArrowDown"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp"],keydownHandler=(_e,$,ht)=>{_e&&($.isComposing||$.keyCode===229||(_e.stopKeydownPropagation&&$.stopPropagation(),$.key==="Enter"?handleEnter($,_e):$.key==="Tab"?handleTab($):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes($.key)?handleArrows($.key):$.key==="Escape"&&handleEsc($,_e,ht)))},handleEnter=(_e,$)=>{if(!callIfFunction($.allowEnterKey))return;const ht=getInput$1(getPopup(),$.input);if(_e.target&&ht&&_e.target instanceof HTMLElement&&_e.target.outerHTML===ht.outerHTML){if(["textarea","file"].includes($.input))return;clickConfirm(),_e.preventDefault()}},handleTab=_e=>{const $=_e.target,ht=getFocusableElements();let vt=-1;for(let bt=0;bt<ht.length;bt++)if($===ht[bt]){vt=bt;break}_e.shiftKey?setFocus(vt,-1):setFocus(vt,1),_e.stopPropagation(),_e.preventDefault()},handleArrows=_e=>{const $=getActions(),ht=getConfirmButton(),vt=getDenyButton(),bt=getCancelButton();if(!$||!ht||!vt||!bt)return;const wt=[ht,vt,bt];if(document.activeElement instanceof HTMLElement&&!wt.includes(document.activeElement))return;const At=arrowKeysNextButton.includes(_e)?"nextElementSibling":"previousElementSibling";let Et=document.activeElement;if(Et){for(let St=0;St<$.children.length;St++){if(Et=Et[At],!Et)return;if(Et instanceof HTMLButtonElement&&isVisible$1(Et))break}Et instanceof HTMLButtonElement&&Et.focus()}},handleEsc=(_e,$,ht)=>{callIfFunction($.allowEscapeKey)&&(_e.preventDefault(),ht(DismissReason.esc))};var privateMethods={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const setAriaHidden=()=>{const _e=getContainer();Array.from(document.body.children).forEach(ht=>{ht.contains(_e)||(ht.hasAttribute("aria-hidden")&&ht.setAttribute("data-previous-aria-hidden",ht.getAttribute("aria-hidden")||""),ht.setAttribute("aria-hidden","true"))})},unsetAriaHidden=()=>{Array.from(document.body.children).forEach($=>{$.hasAttribute("data-previous-aria-hidden")?($.setAttribute("aria-hidden",$.getAttribute("data-previous-aria-hidden")||""),$.removeAttribute("data-previous-aria-hidden")):$.removeAttribute("aria-hidden")})},isSafariOrIOS=typeof window<"u"&&!!window.GestureEvent,iOSfix=()=>{if(isSafariOrIOS&&!hasClass(document.body,swalClasses.iosfix)){const _e=document.body.scrollTop;document.body.style.top=`${_e*-1}px`,addClass(document.body,swalClasses.iosfix),lockBodyScroll()}},lockBodyScroll=()=>{const _e=getContainer();if(!_e)return;let $;_e.ontouchstart=ht=>{$=shouldPreventTouchMove(ht)},_e.ontouchmove=ht=>{$&&(ht.preventDefault(),ht.stopPropagation())}},shouldPreventTouchMove=_e=>{const $=_e.target,ht=getContainer(),vt=getHtmlContainer();return!ht||!vt||isStylus(_e)||isZoom(_e)?!1:$===ht||!isScrollable(ht)&&$ instanceof HTMLElement&&$.tagName!=="INPUT"&&$.tagName!=="TEXTAREA"&&!(isScrollable(vt)&&vt.contains($))},isStylus=_e=>_e.touches&&_e.touches.length&&_e.touches[0].touchType==="stylus",isZoom=_e=>_e.touches&&_e.touches.length>1,undoIOSfix=()=>{if(hasClass(document.body,swalClasses.iosfix)){const _e=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=_e*-1}},measureScrollbar=()=>{const _e=document.createElement("div");_e.className=swalClasses["scrollbar-measure"],document.body.appendChild(_e);const $=_e.getBoundingClientRect().width-_e.clientWidth;return document.body.removeChild(_e),$};let previousBodyPadding=null;const replaceScrollbarWithPadding=_e=>{previousBodyPadding===null&&(document.body.scrollHeight>window.innerHeight||_e==="scroll")&&(previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${previousBodyPadding+measureScrollbar()}px`)},undoReplaceScrollbarWithPadding=()=>{previousBodyPadding!==null&&(document.body.style.paddingRight=`${previousBodyPadding}px`,previousBodyPadding=null)};function removePopupAndResetState(_e,$,ht,vt){isToast()?triggerDidCloseAndDispose(_e,vt):(restoreActiveElement(ht).then(()=>triggerDidCloseAndDispose(_e,vt)),removeKeydownHandler(globalState)),isSafariOrIOS?($.setAttribute("style","display:none !important"),$.removeAttribute("class"),$.innerHTML=""):$.remove(),isModal()&&(undoReplaceScrollbarWithPadding(),undoIOSfix(),unsetAriaHidden()),removeBodyClasses()}function removeBodyClasses(){removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}function close(_e){_e=prepareResolveValue(_e);const $=privateMethods.swalPromiseResolve.get(this),ht=triggerClosePopup(this);this.isAwaitingPromise?_e.isDismissed||(handleAwaitingPromise(this),$(_e)):ht&&$(_e)}const triggerClosePopup=_e=>{const $=getPopup();if(!$)return!1;const ht=privateProps.innerParams.get(_e);if(!ht||hasClass($,ht.hideClass.popup))return!1;removeClass($,ht.showClass.popup),addClass($,ht.hideClass.popup);const vt=getContainer();return removeClass(vt,ht.showClass.backdrop),addClass(vt,ht.hideClass.backdrop),handlePopupAnimation(_e,$,ht),!0};function rejectPromise(_e){const $=privateMethods.swalPromiseReject.get(this);handleAwaitingPromise(this),$&&$(_e)}const handleAwaitingPromise=_e=>{_e.isAwaitingPromise&&(delete _e.isAwaitingPromise,privateProps.innerParams.get(_e)||_e._destroy())},prepareResolveValue=_e=>typeof _e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},_e),handlePopupAnimation=(_e,$,ht)=>{const vt=getContainer(),bt=hasCssAnimation($);typeof ht.willClose=="function"&&ht.willClose($),globalState.eventEmitter.emit("willClose",$),bt?animatePopup(_e,$,vt,ht.returnFocus,ht.didClose):removePopupAndResetState(_e,vt,ht.returnFocus,ht.didClose)},animatePopup=(_e,$,ht,vt,bt)=>{globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,_e,ht,vt,bt),$.addEventListener("animationend",function(wt){wt.target===$&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback)})},triggerDidCloseAndDispose=(_e,$)=>{setTimeout(()=>{typeof $=="function"&&$.bind(_e.params)(),globalState.eventEmitter.emit("didClose"),_e._destroy&&_e._destroy()})},showLoading=_e=>{let $=getPopup();if($||new Swal,$=getPopup(),!$)return;const ht=getLoader();isToast()?hide(getIcon()):replaceButton($,_e),show(ht),$.setAttribute("data-loading","true"),$.setAttribute("aria-busy","true"),$.focus()},replaceButton=(_e,$)=>{const ht=getActions(),vt=getLoader();!ht||!vt||(!$&&isVisible$1(getConfirmButton())&&($=getConfirmButton()),show(ht),$&&(hide($),vt.setAttribute("data-button-to-replace",$.className),ht.insertBefore(vt,$)),addClass([_e,ht],swalClasses.loading))},handleInputOptionsAndValue=(_e,$)=>{$.input==="select"||$.input==="radio"?handleInputOptions(_e,$):["text","email","number","tel","textarea"].some(ht=>ht===$.input)&&(hasToPromiseFn($.inputValue)||isPromise($.inputValue))&&(showLoading(getConfirmButton()),handleInputValue(_e,$))},getInputValue=(_e,$)=>{const ht=_e.getInput();if(!ht)return null;switch($.input){case"checkbox":return getCheckboxValue(ht);case"radio":return getRadioValue(ht);case"file":return getFileValue(ht);default:return $.inputAutoTrim?ht.value.trim():ht.value}},getCheckboxValue=_e=>_e.checked?1:0,getRadioValue=_e=>_e.checked?_e.value:null,getFileValue=_e=>_e.files&&_e.files.length?_e.getAttribute("multiple")!==null?_e.files:_e.files[0]:null,handleInputOptions=(_e,$)=>{const ht=getPopup();if(!ht)return;const vt=bt=>{$.input==="select"?populateSelectOptions(ht,formatInputOptions(bt),$):$.input==="radio"&&populateRadioOptions(ht,formatInputOptions(bt),$)};hasToPromiseFn($.inputOptions)||isPromise($.inputOptions)?(showLoading(getConfirmButton()),asPromise($.inputOptions).then(bt=>{_e.hideLoading(),vt(bt)})):typeof $.inputOptions=="object"?vt($.inputOptions):error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof $.inputOptions}`)},handleInputValue=(_e,$)=>{const ht=_e.getInput();ht&&(hide(ht),asPromise($.inputValue).then(vt=>{ht.value=$.input==="number"?`${parseFloat(vt)||0}`:`${vt}`,show(ht),ht.focus(),_e.hideLoading()}).catch(vt=>{error(`Error in inputValue promise: ${vt}`),ht.value="",show(ht),ht.focus(),_e.hideLoading()}))};function populateSelectOptions(_e,$,ht){const vt=getDirectChildByClass(_e,swalClasses.select);if(!vt)return;const bt=(wt,At,Et)=>{const St=document.createElement("option");St.value=Et,setInnerHtml(St,At),St.selected=isSelected(Et,ht.inputValue),wt.appendChild(St)};$.forEach(wt=>{const At=wt[0],Et=wt[1];if(Array.isArray(Et)){const St=document.createElement("optgroup");St.label=At,St.disabled=!1,vt.appendChild(St),Et.forEach(Ct=>bt(St,Ct[1],Ct[0]))}else bt(vt,Et,At)}),vt.focus()}function populateRadioOptions(_e,$,ht){const vt=getDirectChildByClass(_e,swalClasses.radio);if(!vt)return;$.forEach(wt=>{const At=wt[0],Et=wt[1],St=document.createElement("input"),Ct=document.createElement("label");St.type="radio",St.name=swalClasses.radio,St.value=At,isSelected(At,ht.inputValue)&&(St.checked=!0);const xt=document.createElement("span");setInnerHtml(xt,Et),xt.className=swalClasses.label,Ct.appendChild(St),Ct.appendChild(xt),vt.appendChild(Ct)});const bt=vt.querySelectorAll("input");bt.length&&bt[0].focus()}const formatInputOptions=_e=>{const $=[];return _e instanceof Map?_e.forEach((ht,vt)=>{let bt=ht;typeof bt=="object"&&(bt=formatInputOptions(bt)),$.push([vt,bt])}):Object.keys(_e).forEach(ht=>{let vt=_e[ht];typeof vt=="object"&&(vt=formatInputOptions(vt)),$.push([ht,vt])}),$},isSelected=(_e,$)=>!!$&&$.toString()===_e.toString(),handleConfirmButtonClick=_e=>{const $=privateProps.innerParams.get(_e);_e.disableButtons(),$.input?handleConfirmOrDenyWithInput(_e,"confirm"):confirm(_e,!0)},handleDenyButtonClick=_e=>{const $=privateProps.innerParams.get(_e);_e.disableButtons(),$.returnInputValueOnDeny?handleConfirmOrDenyWithInput(_e,"deny"):deny(_e,!1)},handleCancelButtonClick=(_e,$)=>{_e.disableButtons(),$(DismissReason.cancel)},handleConfirmOrDenyWithInput=(_e,$)=>{const ht=privateProps.innerParams.get(_e);if(!ht.input){error(`The "input" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter($)}`);return}const vt=_e.getInput(),bt=getInputValue(_e,ht);ht.inputValidator?handleInputValidator(_e,bt,$):vt&&!vt.checkValidity()?(_e.enableButtons(),_e.showValidationMessage(ht.validationMessage||vt.validationMessage)):$==="deny"?deny(_e,bt):confirm(_e,bt)},handleInputValidator=(_e,$,ht)=>{const vt=privateProps.innerParams.get(_e);_e.disableInput(),Promise.resolve().then(()=>asPromise(vt.inputValidator($,vt.validationMessage))).then(wt=>{_e.enableButtons(),_e.enableInput(),wt?_e.showValidationMessage(wt):ht==="deny"?deny(_e,$):confirm(_e,$)})},deny=(_e,$)=>{const ht=privateProps.innerParams.get(_e||void 0);ht.showLoaderOnDeny&&showLoading(getDenyButton()),ht.preDeny?(_e.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(ht.preDeny($,ht.validationMessage))).then(bt=>{bt===!1?(_e.hideLoading(),handleAwaitingPromise(_e)):_e.close({isDenied:!0,value:typeof bt>"u"?$:bt})}).catch(bt=>rejectWith(_e||void 0,bt))):_e.close({isDenied:!0,value:$})},succeedWith=(_e,$)=>{_e.close({isConfirmed:!0,value:$})},rejectWith=(_e,$)=>{_e.rejectPromise($)},confirm=(_e,$)=>{const ht=privateProps.innerParams.get(_e||void 0);ht.showLoaderOnConfirm&&showLoading(),ht.preConfirm?(_e.resetValidationMessage(),_e.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(ht.preConfirm($,ht.validationMessage))).then(bt=>{isVisible$1(getValidationMessage())||bt===!1?(_e.hideLoading(),handleAwaitingPromise(_e)):succeedWith(_e,typeof bt>"u"?$:bt)}).catch(bt=>rejectWith(_e||void 0,bt))):succeedWith(_e,$)};function hideLoading(){const _e=privateProps.innerParams.get(this);if(!_e)return;const $=privateProps.domCache.get(this);hide($.loader),isToast()?_e.icon&&show(getIcon()):showRelatedButton($),removeClass([$.popup,$.actions],swalClasses.loading),$.popup.removeAttribute("aria-busy"),$.popup.removeAttribute("data-loading"),$.confirmButton.disabled=!1,$.denyButton.disabled=!1,$.cancelButton.disabled=!1}const showRelatedButton=_e=>{const $=_e.popup.getElementsByClassName(_e.loader.getAttribute("data-button-to-replace"));$.length?show($[0],"inline-block"):allButtonsAreHidden()&&hide(_e.actions)};function getInput(){const _e=privateProps.innerParams.get(this),$=privateProps.domCache.get(this);return $?getInput$1($.popup,_e.input):null}function setButtonsDisabled(_e,$,ht){const vt=privateProps.domCache.get(_e);$.forEach(bt=>{vt[bt].disabled=ht})}function setInputDisabled(_e,$){const ht=getPopup();if(!(!ht||!_e))if(_e.type==="radio"){const vt=ht.querySelectorAll(`[name="${swalClasses.radio}"]`);for(let bt=0;bt<vt.length;bt++)vt[bt].disabled=$}else _e.disabled=$}function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)}function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)}function enableInput(){setInputDisabled(this.getInput(),!1)}function disableInput(){setInputDisabled(this.getInput(),!0)}function showValidationMessage(_e){const $=privateProps.domCache.get(this),ht=privateProps.innerParams.get(this);setInnerHtml($.validationMessage,_e),$.validationMessage.className=swalClasses["validation-message"],ht.customClass&&ht.customClass.validationMessage&&addClass($.validationMessage,ht.customClass.validationMessage),show($.validationMessage);const vt=this.getInput();vt&&(vt.setAttribute("aria-invalid","true"),vt.setAttribute("aria-describedby",swalClasses["validation-message"]),focusInput(vt),addClass(vt,swalClasses.inputerror))}function resetValidationMessage(){const _e=privateProps.domCache.get(this);_e.validationMessage&&hide(_e.validationMessage);const $=this.getInput();$&&($.removeAttribute("aria-invalid"),$.removeAttribute("aria-describedby"),removeClass($,swalClasses.inputerror))}const defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={allowEnterKey:void 0},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=_e=>Object.prototype.hasOwnProperty.call(defaultParams,_e),isUpdatableParameter=_e=>updatableParams.indexOf(_e)!==-1,isDeprecatedParameter=_e=>deprecatedParams[_e],checkIfParamIsValid=_e=>{isValidParameter(_e)||warn$1(`Unknown parameter "${_e}"`)},checkIfToastParamIsValid=_e=>{toastIncompatibleParams.includes(_e)&&warn$1(`The parameter "${_e}" is incompatible with toasts`)},checkIfParamIsDeprecated=_e=>{const $=isDeprecatedParameter(_e);$&&warnAboutDeprecation(_e,$)},showWarningsForParams=_e=>{_e.backdrop===!1&&_e.allowOutsideClick&&warn$1('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const $ in _e)checkIfParamIsValid($),_e.toast&&checkIfToastParamIsValid($),checkIfParamIsDeprecated($)};function update(_e){const $=getPopup(),ht=privateProps.innerParams.get(this);if(!$||hasClass($,ht.hideClass.popup)){warn$1("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const vt=filterValidParams(_e),bt=Object.assign({},ht,vt);render(this,bt),privateProps.innerParams.set(this,bt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,_e),writable:!1,enumerable:!0}})}const filterValidParams=_e=>{const $={};return Object.keys(_e).forEach(ht=>{isUpdatableParameter(ht)?$[ht]=_e[ht]:warn$1(`Invalid parameter to update: ${ht}`)}),$};function _destroy(){const _e=privateProps.domCache.get(this),$=privateProps.innerParams.get(this);if(!$){disposeWeakMaps(this);return}_e.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),typeof $.didDestroy=="function"&&$.didDestroy(),globalState.eventEmitter.emit("didDestroy"),disposeSwal(this)}const disposeSwal=_e=>{disposeWeakMaps(_e),delete _e.params,delete globalState.keydownHandler,delete globalState.keydownTarget,delete globalState.currentInstance},disposeWeakMaps=_e=>{_e.isAwaitingPromise?(unsetWeakMaps(privateProps,_e),_e.isAwaitingPromise=!0):(unsetWeakMaps(privateMethods,_e),unsetWeakMaps(privateProps,_e),delete _e.isAwaitingPromise,delete _e.disableButtons,delete _e.enableButtons,delete _e.getInput,delete _e.disableInput,delete _e.enableInput,delete _e.hideLoading,delete _e.disableLoading,delete _e.showValidationMessage,delete _e.resetValidationMessage,delete _e.close,delete _e.closePopup,delete _e.closeModal,delete _e.closeToast,delete _e.rejectPromise,delete _e.update,delete _e._destroy)},unsetWeakMaps=(_e,$)=>{for(const ht in _e)_e[ht].delete($)};var instanceMethods=Object.freeze({__proto__:null,_destroy,close,closeModal:close,closePopup:close,closeToast:close,disableButtons,disableInput,disableLoading:hideLoading,enableButtons,enableInput,getInput,handleAwaitingPromise,hideLoading,rejectPromise,resetValidationMessage,showValidationMessage,update});const handlePopupClick=(_e,$,ht)=>{_e.toast?handleToastClick(_e,$,ht):(handleModalMousedown($),handleContainerMousedown($),handleModalClick(_e,$,ht))},handleToastClick=(_e,$,ht)=>{$.popup.onclick=()=>{_e&&(isAnyButtonShown(_e)||_e.timer||_e.input)||ht(DismissReason.close)}},isAnyButtonShown=_e=>!!(_e.showConfirmButton||_e.showDenyButton||_e.showCancelButton||_e.showCloseButton);let ignoreOutsideClick=!1;const handleModalMousedown=_e=>{_e.popup.onmousedown=()=>{_e.container.onmouseup=function($){_e.container.onmouseup=()=>{},$.target===_e.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=_e=>{_e.container.onmousedown=$=>{$.target===_e.container&&$.preventDefault(),_e.popup.onmouseup=function(ht){_e.popup.onmouseup=()=>{},(ht.target===_e.popup||ht.target instanceof HTMLElement&&_e.popup.contains(ht.target))&&(ignoreOutsideClick=!0)}}},handleModalClick=(_e,$,ht)=>{$.container.onclick=vt=>{if(ignoreOutsideClick){ignoreOutsideClick=!1;return}vt.target===$.container&&callIfFunction(_e.allowOutsideClick)&&ht(DismissReason.backdrop)}},isJqueryElement=_e=>typeof _e=="object"&&_e.jquery,isElement=_e=>_e instanceof Element||isJqueryElement(_e),argsToParams=_e=>{const $={};return typeof _e[0]=="object"&&!isElement(_e[0])?Object.assign($,_e[0]):["title","html","icon"].forEach((ht,vt)=>{const bt=_e[vt];typeof bt=="string"||isElement(bt)?$[ht]=bt:bt!==void 0&&error(`Unexpected type of ${ht}! Expected "string" or "Element", got ${typeof bt}`)}),$};function fire(){for(var _e=arguments.length,$=new Array(_e),ht=0;ht<_e;ht++)$[ht]=arguments[ht];return new this(...$)}function mixin(_e){class $ extends this{_main(vt,bt){return super._main(vt,Object.assign({},_e,bt))}}return $}const getTimerLeft=()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer=()=>{if(globalState.timeout)return stopTimerProgressBar(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){const _e=globalState.timeout.start();return animateTimerProgressBar(_e),_e}},toggleTimer=()=>{const _e=globalState.timeout;return _e&&(_e.running?stopTimer():resumeTimer())},increaseTimer=_e=>{if(globalState.timeout){const $=globalState.timeout.increase(_e);return animateTimerProgressBar($,!0),$}},isTimerRunning=()=>!!(globalState.timeout&&globalState.timeout.isRunning());let bodyClickListenerAdded=!1;const clickHandlers={};function bindClickHandler(){let _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";clickHandlers[_e]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}const bodyClickListener=_e=>{for(let $=_e.target;$&&$!==document;$=$.parentNode)for(const ht in clickHandlers){const vt=$.getAttribute(ht);if(vt){clickHandlers[ht].fire({template:vt});return}}};class EventEmitter{constructor(){this.events={}}_getHandlersByEventName($){return typeof this.events[$]>"u"&&(this.events[$]=[]),this.events[$]}on($,ht){const vt=this._getHandlersByEventName($);vt.includes(ht)||vt.push(ht)}once($,ht){var vt=this;const bt=function(){vt.removeListener($,bt);for(var wt=arguments.length,At=new Array(wt),Et=0;Et<wt;Et++)At[Et]=arguments[Et];ht.apply(vt,At)};this.on($,bt)}emit($){for(var ht=arguments.length,vt=new Array(ht>1?ht-1:0),bt=1;bt<ht;bt++)vt[bt-1]=arguments[bt];this._getHandlersByEventName($).forEach(wt=>{try{wt.apply(this,vt)}catch(At){console.error(At)}})}removeListener($,ht){const vt=this._getHandlersByEventName($),bt=vt.indexOf(ht);bt>-1&&vt.splice(bt,1)}removeAllListeners($){this.events[$]!==void 0&&(this.events[$].length=0)}reset(){this.events={}}}globalState.eventEmitter=new EventEmitter;const on=(_e,$)=>{globalState.eventEmitter.on(_e,$)},once=(_e,$)=>{globalState.eventEmitter.once(_e,$)},off=(_e,$)=>{if(!_e){globalState.eventEmitter.reset();return}$?globalState.eventEmitter.removeListener(_e,$):globalState.eventEmitter.removeAllListeners(_e)};var staticMethods=Object.freeze({__proto__:null,argsToParams,bindClickHandler,clickCancel,clickConfirm,clickDeny,enableLoading:showLoading,fire,getActions,getCancelButton,getCloseButton,getConfirmButton,getContainer,getDenyButton,getFocusableElements,getFooter,getHtmlContainer,getIcon,getIconContent,getImage,getInputLabel,getLoader,getPopup,getProgressSteps,getTimerLeft,getTimerProgressBar,getTitle,getValidationMessage,increaseTimer,isDeprecatedParameter,isLoading,isTimerRunning,isUpdatableParameter,isValidParameter,isVisible,mixin,off,on,once,resumeTimer,showLoading,stopTimer,toggleTimer});class Timer{constructor($,ht){this.callback=$,this.remaining=ht,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase($){const ht=this.running;return ht&&this.stop(),this.remaining+=$,ht&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const swalStringParams=["swal-title","swal-html","swal-footer"],getTemplateParams=_e=>{const $=typeof _e.template=="string"?document.querySelector(_e.template):_e.template;if(!$)return{};const ht=$.content;return showWarningsForElements(ht),Object.assign(getSwalParams(ht),getSwalFunctionParams(ht),getSwalButtons(ht),getSwalImage(ht),getSwalIcon(ht),getSwalInput(ht),getSwalStringParams(ht,swalStringParams))},getSwalParams=_e=>{const $={};return Array.from(_e.querySelectorAll("swal-param")).forEach(vt=>{showWarningsForAttributes(vt,["name","value"]);const bt=vt.getAttribute("name"),wt=vt.getAttribute("value");!bt||!wt||(typeof defaultParams[bt]=="boolean"?$[bt]=wt!=="false":typeof defaultParams[bt]=="object"?$[bt]=JSON.parse(wt):$[bt]=wt)}),$},getSwalFunctionParams=_e=>{const $={};return Array.from(_e.querySelectorAll("swal-function-param")).forEach(vt=>{const bt=vt.getAttribute("name"),wt=vt.getAttribute("value");!bt||!wt||($[bt]=new Function(`return ${wt}`)())}),$},getSwalButtons=_e=>{const $={};return Array.from(_e.querySelectorAll("swal-button")).forEach(vt=>{showWarningsForAttributes(vt,["type","color","aria-label"]);const bt=vt.getAttribute("type");!bt||!["confirm","cancel","deny"].includes(bt)||($[`${bt}ButtonText`]=vt.innerHTML,$[`show${capitalizeFirstLetter(bt)}Button`]=!0,vt.hasAttribute("color")&&($[`${bt}ButtonColor`]=vt.getAttribute("color")),vt.hasAttribute("aria-label")&&($[`${bt}ButtonAriaLabel`]=vt.getAttribute("aria-label")))}),$},getSwalImage=_e=>{const $={},ht=_e.querySelector("swal-image");return ht&&(showWarningsForAttributes(ht,["src","width","height","alt"]),ht.hasAttribute("src")&&($.imageUrl=ht.getAttribute("src")||void 0),ht.hasAttribute("width")&&($.imageWidth=ht.getAttribute("width")||void 0),ht.hasAttribute("height")&&($.imageHeight=ht.getAttribute("height")||void 0),ht.hasAttribute("alt")&&($.imageAlt=ht.getAttribute("alt")||void 0)),$},getSwalIcon=_e=>{const $={},ht=_e.querySelector("swal-icon");return ht&&(showWarningsForAttributes(ht,["type","color"]),ht.hasAttribute("type")&&($.icon=ht.getAttribute("type")),ht.hasAttribute("color")&&($.iconColor=ht.getAttribute("color")),$.iconHtml=ht.innerHTML),$},getSwalInput=_e=>{const $={},ht=_e.querySelector("swal-input");ht&&(showWarningsForAttributes(ht,["type","label","placeholder","value"]),$.input=ht.getAttribute("type")||"text",ht.hasAttribute("label")&&($.inputLabel=ht.getAttribute("label")),ht.hasAttribute("placeholder")&&($.inputPlaceholder=ht.getAttribute("placeholder")),ht.hasAttribute("value")&&($.inputValue=ht.getAttribute("value")));const vt=Array.from(_e.querySelectorAll("swal-input-option"));return vt.length&&($.inputOptions={},vt.forEach(bt=>{showWarningsForAttributes(bt,["value"]);const wt=bt.getAttribute("value");if(!wt)return;const At=bt.innerHTML;$.inputOptions[wt]=At})),$},getSwalStringParams=(_e,$)=>{const ht={};for(const vt in $){const bt=$[vt],wt=_e.querySelector(bt);wt&&(showWarningsForAttributes(wt,[]),ht[bt.replace(/^swal-/,"")]=wt.innerHTML.trim())}return ht},showWarningsForElements=_e=>{const $=swalStringParams.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(_e.children).forEach(ht=>{const vt=ht.tagName.toLowerCase();$.includes(vt)||warn$1(`Unrecognized element <${vt}>`)})},showWarningsForAttributes=(_e,$)=>{Array.from(_e.attributes).forEach(ht=>{$.indexOf(ht.name)===-1&&warn$1([`Unrecognized attribute "${ht.name}" on <${_e.tagName.toLowerCase()}>.`,`${$.length?`Allowed attributes are: ${$.join(", ")}`:"To set the value, use HTML within the element."}`])})},SHOW_CLASS_TIMEOUT=10,openPopup=_e=>{const $=getContainer(),ht=getPopup();typeof _e.willOpen=="function"&&_e.willOpen(ht),globalState.eventEmitter.emit("willOpen",ht);const bt=window.getComputedStyle(document.body).overflowY;addClasses($,ht,_e),setTimeout(()=>{setScrollingVisibility($,ht)},SHOW_CLASS_TIMEOUT),isModal()&&(fixScrollContainer($,_e.scrollbarPadding,bt),setAriaHidden()),!isToast()&&!globalState.previousActiveElement&&(globalState.previousActiveElement=document.activeElement),typeof _e.didOpen=="function"&&setTimeout(()=>_e.didOpen(ht)),globalState.eventEmitter.emit("didOpen",ht),removeClass($,swalClasses["no-transition"])},swalOpenAnimationFinished=_e=>{const $=getPopup();if(_e.target!==$)return;const ht=getContainer();$.removeEventListener("animationend",swalOpenAnimationFinished),ht.style.overflowY="auto"},setScrollingVisibility=(_e,$)=>{hasCssAnimation($)?(_e.style.overflowY="hidden",$.addEventListener("animationend",swalOpenAnimationFinished)):_e.style.overflowY="auto"},fixScrollContainer=(_e,$,ht)=>{iOSfix(),$&&ht!=="hidden"&&replaceScrollbarWithPadding(ht),setTimeout(()=>{_e.scrollTop=0})},addClasses=(_e,$,ht)=>{addClass(_e,ht.showClass.backdrop),ht.animation?($.style.setProperty("opacity","0","important"),show($,"grid"),setTimeout(()=>{addClass($,ht.showClass.popup),$.style.removeProperty("opacity")},SHOW_CLASS_TIMEOUT)):show($,"grid"),addClass([document.documentElement,document.body],swalClasses.shown),ht.heightAuto&&ht.backdrop&&!ht.toast&&addClass([document.documentElement,document.body],swalClasses["height-auto"])};var defaultInputValidators={email:(_e,$)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(_e)?Promise.resolve():Promise.resolve($||"Invalid email address"),url:(_e,$)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(_e)?Promise.resolve():Promise.resolve($||"Invalid URL")};function setDefaultInputValidators(_e){_e.inputValidator||(_e.input==="email"&&(_e.inputValidator=defaultInputValidators.email),_e.input==="url"&&(_e.inputValidator=defaultInputValidators.url))}function validateCustomTargetElement(_e){(!_e.target||typeof _e.target=="string"&&!document.querySelector(_e.target)||typeof _e.target!="string"&&!_e.target.appendChild)&&(warn$1('Target parameter is not valid, defaulting to "body"'),_e.target="body")}function setParameters(_e){setDefaultInputValidators(_e),_e.showLoaderOnConfirm&&!_e.preConfirm&&warn$1(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),validateCustomTargetElement(_e),typeof _e.title=="string"&&(_e.title=_e.title.split(`
`).join("<br />")),init(_e)}let currentInstance;var _promise=new WeakMap;class SweetAlert{constructor(){if(_classPrivateFieldInitSpec(this,_promise,void 0),typeof window>"u")return;currentInstance=this;for(var $=arguments.length,ht=new Array($),vt=0;vt<$;vt++)ht[vt]=arguments[vt];const bt=Object.freeze(this.constructor.argsToParams(ht));this.params=bt,this.isAwaitingPromise=!1,_classPrivateFieldSet2(_promise,this,this._main(currentInstance.params))}_main($){let ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(showWarningsForParams(Object.assign({},ht,$)),globalState.currentInstance){const wt=privateMethods.swalPromiseResolve.get(globalState.currentInstance),{isAwaitingPromise:At}=globalState.currentInstance;globalState.currentInstance._destroy(),At||wt({isDismissed:!0}),isModal()&&unsetAriaHidden()}globalState.currentInstance=currentInstance;const vt=prepareParams($,ht);setParameters(vt),Object.freeze(vt),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);const bt=populateDomCache(currentInstance);return render(currentInstance,vt),privateProps.innerParams.set(currentInstance,vt),swalPromise(currentInstance,bt,vt)}then($){return _classPrivateFieldGet2(_promise,this).then($)}finally($){return _classPrivateFieldGet2(_promise,this).finally($)}}const swalPromise=(_e,$,ht)=>new Promise((vt,bt)=>{const wt=At=>{_e.close({isDismissed:!0,dismiss:At})};privateMethods.swalPromiseResolve.set(_e,vt),privateMethods.swalPromiseReject.set(_e,bt),$.confirmButton.onclick=()=>{handleConfirmButtonClick(_e)},$.denyButton.onclick=()=>{handleDenyButtonClick(_e)},$.cancelButton.onclick=()=>{handleCancelButtonClick(_e,wt)},$.closeButton.onclick=()=>{wt(DismissReason.close)},handlePopupClick(ht,$,wt),addKeydownHandler(globalState,ht,wt),handleInputOptionsAndValue(_e,ht),openPopup(ht),setupTimer(globalState,ht,wt),initFocus($,ht),setTimeout(()=>{$.container.scrollTop=0})}),prepareParams=(_e,$)=>{const ht=getTemplateParams(_e),vt=Object.assign({},defaultParams,$,ht,_e);return vt.showClass=Object.assign({},defaultParams.showClass,vt.showClass),vt.hideClass=Object.assign({},defaultParams.hideClass,vt.hideClass),vt.animation===!1&&(vt.showClass={backdrop:"swal2-noanimation"},vt.hideClass={}),vt},populateDomCache=_e=>{const $={popup:getPopup(),container:getContainer(),actions:getActions(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};return privateProps.domCache.set(_e,$),$},setupTimer=(_e,$,ht)=>{const vt=getTimerProgressBar();hide(vt),$.timer&&(_e.timeout=new Timer(()=>{ht("timer"),delete _e.timeout},$.timer),$.timerProgressBar&&(show(vt),applyCustomClass(vt,$,"timerProgressBar"),setTimeout(()=>{_e.timeout&&_e.timeout.running&&animateTimerProgressBar($.timer)})))},initFocus=(_e,$)=>{if(!$.toast){if(!callIfFunction($.allowEnterKey)){warnAboutDeprecation("allowEnterKey"),blurActiveElement();return}focusAutofocus(_e)||focusButton(_e,$)||setFocus(-1,1)}},focusAutofocus=_e=>{const $=_e.popup.querySelectorAll("[autofocus]");for(const ht of $)if(ht instanceof HTMLElement&&isVisible$1(ht))return ht.focus(),!0;return!1},focusButton=(_e,$)=>$.focusDeny&&isVisible$1(_e.denyButton)?(_e.denyButton.focus(),!0):$.focusCancel&&isVisible$1(_e.cancelButton)?(_e.cancelButton.focus(),!0):$.focusConfirm&&isVisible$1(_e.confirmButton)?(_e.confirmButton.focus(),!0):!1,blurActiveElement=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const _e=new Date,$=localStorage.getItem("swal-initiation");$?(_e.getTime()-Date.parse($))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const ht=document.createElement("audio");ht.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",ht.loop=!0,document.body.appendChild(ht),setTimeout(()=>{ht.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${_e}`)}SweetAlert.prototype.disableButtons=disableButtons;SweetAlert.prototype.enableButtons=enableButtons;SweetAlert.prototype.getInput=getInput;SweetAlert.prototype.disableInput=disableInput;SweetAlert.prototype.enableInput=enableInput;SweetAlert.prototype.hideLoading=hideLoading;SweetAlert.prototype.disableLoading=hideLoading;SweetAlert.prototype.showValidationMessage=showValidationMessage;SweetAlert.prototype.resetValidationMessage=resetValidationMessage;SweetAlert.prototype.close=close;SweetAlert.prototype.closePopup=close;SweetAlert.prototype.closeModal=close;SweetAlert.prototype.closeToast=close;SweetAlert.prototype.rejectPromise=rejectPromise;SweetAlert.prototype.update=update;SweetAlert.prototype._destroy=_destroy;Object.assign(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(_e=>{SweetAlert[_e]=function(){return currentInstance&&currentInstance[_e]?currentInstance[_e](...arguments):null}});SweetAlert.DismissReason=DismissReason;SweetAlert.version="11.14.2";const Swal=SweetAlert;Swal.default=Swal;typeof document<"u"&&function(_e,$){var ht=_e.createElement("style");if(_e.getElementsByTagName("head")[0].appendChild(ht),ht.styleSheet)ht.styleSheet.disabled||(ht.styleSheet.cssText=$);else try{ht.innerHTML=$}catch{ht.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=_e=>_e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mergeClasses=(..._e)=>_e.filter(($,ht,vt)=>!!$&&vt.indexOf($)===ht).join(" ");/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:_e="currentColor",size:$=24,strokeWidth:ht=2,absoluteStrokeWidth:vt,className:bt="",children:wt,iconNode:At,...Et},St)=>reactExports.createElement("svg",{ref:St,...defaultAttributes,width:$,height:$,stroke:_e,strokeWidth:vt?Number(ht)*24/Number($):ht,className:mergeClasses("lucide",bt),...Et},[...At.map(([Ct,xt])=>reactExports.createElement(Ct,xt)),...Array.isArray(wt)?wt:[wt]]));/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(_e,$)=>{const ht=reactExports.forwardRef(({className:vt,...bt},wt)=>reactExports.createElement(Icon,{ref:wt,iconNode:$,className:mergeClasses(`lucide-${toKebabCase(_e)}`,vt),...bt}));return ht.displayName=`${_e}`,ht};/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LineChart=createLucideIcon("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loader=createLucideIcon("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MessageCircle=createLucideIcon("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Send=createLucideIcon("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.403.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(_e,$){if(_e==null)return{};var ht=_objectWithoutPropertiesLoose(_e,$),vt,bt;if(Object.getOwnPropertySymbols){var wt=Object.getOwnPropertySymbols(_e);for(bt=0;bt<wt.length;bt++)vt=wt[bt],!($.indexOf(vt)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,vt)&&(ht[vt]=_e[vt])}return ht}function _objectWithoutPropertiesLoose(_e,$){if(_e==null)return{};var ht={};for(var vt in _e)if(Object.prototype.hasOwnProperty.call(_e,vt)){if($.indexOf(vt)>=0)continue;ht[vt]=_e[vt]}return ht}function _extends(){return _extends=Object.assign?Object.assign.bind():function(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$];for(var vt in ht)Object.prototype.hasOwnProperty.call(ht,vt)&&(_e[vt]=ht[vt])}return _e},_extends.apply(this,arguments)}function ownKeys(_e,$){var ht=Object.keys(_e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols(_e);$&&(vt=vt.filter(function(bt){return Object.getOwnPropertyDescriptor(_e,bt).enumerable})),ht.push.apply(ht,vt)}return ht}function _objectSpread(_e){for(var $=1;$<arguments.length;$++){var ht=arguments[$]!=null?arguments[$]:{};$%2?ownKeys(Object(ht),!0).forEach(function(vt){_defineProperty(_e,vt,ht[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(ht)):ownKeys(Object(ht)).forEach(function(vt){Object.defineProperty(_e,vt,Object.getOwnPropertyDescriptor(ht,vt))})}return _e}function _defineProperty(_e,$,ht){return $=_toPropertyKey($),$ in _e?Object.defineProperty(_e,$,{value:ht,enumerable:!0,configurable:!0,writable:!0}):_e[$]=ht,_e}function _toPropertyKey(_e){var $=_toPrimitive(_e,"string");return typeof $=="symbol"?$:$+""}function _toPrimitive(_e,$){if(typeof _e!="object"||!_e)return _e;var ht=_e[Symbol.toPrimitive];if(ht!==void 0){var vt=ht.call(_e,$||"default");if(typeof vt!="object")return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(_e)}function Tree2Element(_e){return _e&&_e.map(($,ht)=>React.createElement($.tag,_objectSpread({key:ht},$.attr),Tree2Element($.child)))}function GenIcon(_e){return $=>React.createElement(IconBase,_extends({attr:_objectSpread({},_e.attr)},$),Tree2Element(_e.child))}function IconBase(_e){var $=ht=>{var{attr:vt,size:bt,title:wt}=_e,At=_objectWithoutProperties(_e,_excluded),Et=bt||ht.size||"1em",St;return ht.className&&(St=ht.className),_e.className&&(St=(St?St+" ":"")+_e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},ht.attr,vt,At,{className:St,style:_objectSpread(_objectSpread({color:_e.color||ht.color},ht.style),_e.style),height:Et,width:Et,xmlns:"http://www.w3.org/2000/svg"}),wt&&React.createElement("title",null,wt),_e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,ht=>$(ht)):$(DefaultContext)}function FaEdit(_e){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(_e)}const MotionConfigContext=reactExports.createContext({transformPagePoint:_e=>_e,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=_e=>_e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};class Queue{constructor(){this.order=[],this.scheduled=new Set}add($){if(!this.scheduled.has($))return this.scheduled.add($),this.order.push($),!0}remove($){const ht=this.order.indexOf($);ht!==-1&&(this.order.splice(ht,1),this.scheduled.delete($))}clear(){this.order.length=0,this.scheduled.clear()}}function createRenderStep(_e){let $=new Queue,ht=new Queue,vt=0,bt=!1,wt=!1;const At=new WeakSet,Et={schedule:(St,Ct=!1,xt=!1)=>{const Pt=xt&&bt,kt=Pt?$:ht;return Ct&&At.add(St),kt.add(St)&&Pt&&bt&&(vt=$.order.length),St},cancel:St=>{ht.remove(St),At.delete(St)},process:St=>{if(bt){wt=!0;return}if(bt=!0,[$,ht]=[ht,$],ht.clear(),vt=$.order.length,vt)for(let Ct=0;Ct<vt;Ct++){const xt=$.order[Ct];At.has(xt)&&(Et.schedule(xt),_e()),xt(St)}bt=!1,wt&&(wt=!1,Et.process(St))}};return Et}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(_e,$){let ht=!1,vt=!0;const bt={delta:0,timestamp:0,isProcessing:!1},wt=stepsOrder.reduce((Pt,kt)=>(Pt[kt]=createRenderStep(()=>ht=!0),Pt),{}),At=Pt=>{wt[Pt].process(bt)},Et=()=>{const Pt=performance.now();ht=!1,bt.delta=vt?1e3/60:Math.max(Math.min(Pt-bt.timestamp,maxElapsed),1),bt.timestamp=Pt,bt.isProcessing=!0,stepsOrder.forEach(At),bt.isProcessing=!1,ht&&$&&(vt=!1,_e(Et))},St=()=>{ht=!0,vt=!0,bt.isProcessing||_e(Et)};return{schedule:stepsOrder.reduce((Pt,kt)=>{const Rt=wt[kt];return Pt[kt]=(Mt,Ft=!1,$t=!1)=>(ht||St(),Rt.schedule(Mt,Ft,$t)),Pt},{}),cancel:Pt=>stepsOrder.forEach(kt=>wt[kt].cancel(Pt)),state:bt,steps:wt}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(_e){return _e&&typeof _e=="object"&&Object.prototype.hasOwnProperty.call(_e,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(_e,$,ht,vt,bt){const{visualElement:wt}=reactExports.useContext(MotionContext),At=reactExports.useContext(LazyContext),Et=reactExports.useContext(PresenceContext),St=reactExports.useContext(MotionConfigContext).reducedMotion,Ct=reactExports.useRef();vt=vt||At.renderer,!Ct.current&&vt&&(Ct.current=vt(_e,{visualState:$,parent:wt,props:ht,presenceContext:Et,blockInitialAnimation:Et?Et.initial===!1:!1,reducedMotionConfig:St}));const xt=Ct.current,Pt=reactExports.useContext(SwitchLayoutGroupContext);xt&&!xt.projection&&bt&&(xt.type==="html"||xt.type==="svg")&&createProjectionNode$1(Ct.current,ht,bt,Pt),reactExports.useInsertionEffect(()=>{xt&&xt.update(ht,Et)});const kt=reactExports.useRef(!!(ht[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{xt&&(xt.updateFeatures(),microtask.render(xt.render),kt.current&&xt.animationState&&xt.animationState.animateChanges())}),reactExports.useEffect(()=>{xt&&(!kt.current&&xt.animationState&&xt.animationState.animateChanges(),kt.current&&(kt.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff))))}),xt}function completeHandoff(){window.HandoffComplete=!0}function createProjectionNode$1(_e,$,ht,vt){const{layoutId:bt,layout:wt,drag:At,dragConstraints:Et,layoutScroll:St,layoutRoot:Ct}=$;_e.projection=new ht(_e.latestValues,$["data-framer-portal-id"]?void 0:getClosestProjectingNode(_e.parent)),_e.projection.setOptions({layoutId:bt,layout:wt,alwaysMeasureLayout:!!At||Et&&isRefObject(Et),visualElement:_e,scheduleRender:()=>_e.scheduleRender(),animationType:typeof wt=="string"?wt:"both",initialPromotionConfig:vt,layoutScroll:St,layoutRoot:Ct})}function getClosestProjectingNode(_e){if(_e)return _e.options.allowProjection!==!1?_e.projection:getClosestProjectingNode(_e.parent)}function useMotionRef(_e,$,ht){return reactExports.useCallback(vt=>{vt&&_e.mount&&_e.mount(vt),$&&(vt?$.mount(vt):$.unmount()),ht&&(typeof ht=="function"?ht(vt):isRefObject(ht)&&(ht.current=vt))},[$])}function isVariantLabel(_e){return typeof _e=="string"||Array.isArray(_e)}function isAnimationControls(_e){return _e!==null&&typeof _e=="object"&&typeof _e.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(_e){return isAnimationControls(_e.animate)||variantProps.some($=>isVariantLabel(_e[$]))}function isVariantNode(_e){return!!(isControllingVariants(_e)||_e.variants)}function getCurrentTreeVariants(_e,$){if(isControllingVariants(_e)){const{initial:ht,animate:vt}=_e;return{initial:ht===!1||isVariantLabel(ht)?ht:void 0,animate:isVariantLabel(vt)?vt:void 0}}return _e.inherit!==!1?$:{}}function useCreateMotionContext(_e){const{initial:$,animate:ht}=getCurrentTreeVariants(_e,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:$,animate:ht}),[variantLabelsAsDependency($),variantLabelsAsDependency(ht)])}function variantLabelsAsDependency(_e){return Array.isArray(_e)?_e.join(" "):_e}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const _e in featureProps)featureDefinitions[_e]={isEnabled:$=>featureProps[_e].some(ht=>!!$[ht])};function loadFeatures(_e){for(const $ in _e)featureDefinitions[$]={...featureDefinitions[$],..._e[$]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop=_e=>_e;let invariant=noop;function createMotionComponent({preloadedFeatures:_e,createVisualElement:$,useRender:ht,useVisualState:vt,Component:bt}){_e&&loadFeatures(_e);function wt(Et,St){let Ct;const xt={...reactExports.useContext(MotionConfigContext),...Et,layoutId:useLayoutId(Et)},{isStatic:Pt}=xt,kt=useCreateMotionContext(Et),Rt=vt(Et,Pt);if(!Pt&&isBrowser){useStrictMode();const Mt=getProjectionFunctionality(xt);Ct=Mt.MeasureLayout,kt.visualElement=useVisualElement(bt,Rt,xt,$,Mt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:kt,children:[Ct&&kt.visualElement?jsxRuntimeExports.jsx(Ct,{visualElement:kt.visualElement,...xt}):null,ht(bt,Et,useMotionRef(Rt,kt.visualElement,St),Rt,Pt,kt.visualElement)]})}const At=reactExports.forwardRef(wt);return At[motionComponentSymbol]=bt,At}function useLayoutId({layoutId:_e}){const $=reactExports.useContext(LayoutGroupContext).id;return $&&_e!==void 0?$+"-"+_e:_e}function useStrictMode(_e,$){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(_e){const{drag:$,layout:ht}=featureDefinitions;if(!$&&!ht)return{};const vt={...$,...ht};return{MeasureLayout:$!=null&&$.isEnabled(_e)||ht!=null&&ht.isEnabled(_e)?vt.MeasureLayout:void 0,ProjectionNode:vt.ProjectionNode}}function createMotionProxy(_e){function $(vt,bt={}){return createMotionComponent(_e(vt,bt))}if(typeof Proxy>"u")return $;const ht=new Map;return new Proxy($,{get:(vt,bt)=>(ht.has(bt)||ht.set(bt,$(bt)),ht.get(bt))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_e){return typeof _e!="string"||_e.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_e)>-1||/[A-Z]/u.test(_e))}const scaleCorrectors={};function addScaleCorrector(_e){Object.assign(scaleCorrectors,_e)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_e,{layout:$,layoutId:ht}){return transformProps.has(_e)||_e.startsWith("origin")||($||ht!==void 0)&&(!!scaleCorrectors[_e]||_e==="opacity")}const isMotionValue=_e=>!!(_e&&_e.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(_e,{enableHardwareAcceleration:$=!0,allowTransformNone:ht=!0},vt,bt){let wt="";for(let At=0;At<numTransforms;At++){const Et=transformPropOrder[At];if(_e[Et]!==void 0){const St=translateAlias[Et]||Et;wt+=`${St}(${_e[Et]}) `}}return $&&!_e.z&&(wt+="translateZ(0)"),wt=wt.trim(),bt?wt=bt(_e,vt?"":wt):ht&&vt&&(wt="none"),wt}const checkStringStartsWith=_e=>$=>typeof $=="string"&&$.startsWith(_e),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=_e=>startsAsVariableToken(_e)?singleCssVariableRegex.test(_e.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(_e,$)=>$&&typeof _e=="number"?$.transform(_e):_e,clamp=(_e,$,ht)=>ht>$?$:ht<_e?_e:ht,number={test:_e=>typeof _e=="number",parse:parseFloat,transform:_e=>_e},alpha={...number,transform:_e=>clamp(0,1,_e)},scale={...number,default:1},sanitize=_e=>Math.round(_e*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString(_e){return typeof _e=="string"}function isNullish(_e){return _e==null}const createUnitType=_e=>({test:$=>isString($)&&$.endsWith(_e)&&$.split(" ").length===1,parse:parseFloat,transform:$=>`${$}${_e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_e=>percent.parse(_e)/100,transform:_e=>percent.transform(_e*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(_e,$,ht,vt){const{style:bt,vars:wt,transform:At,transformOrigin:Et}=_e;let St=!1,Ct=!1,xt=!0;for(const Pt in $){const kt=$[Pt];if(isCSSVariableName(Pt)){wt[Pt]=kt;continue}const Rt=numberValueTypes[Pt],Mt=getValueAsType(kt,Rt);if(transformProps.has(Pt)){if(St=!0,At[Pt]=Mt,!xt)continue;kt!==(Rt.default||0)&&(xt=!1)}else Pt.startsWith("origin")?(Ct=!0,Et[Pt]=Mt):bt[Pt]=Mt}if($.transform||(St||vt?bt.transform=buildTransform(_e.transform,ht,xt,vt):bt.transform&&(bt.transform="none")),Ct){const{originX:Pt="50%",originY:kt="50%",originZ:Rt=0}=Et;bt.transformOrigin=`${Pt} ${kt} ${Rt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(_e,$,ht){for(const vt in $)!isMotionValue($[vt])&&!isForcedMotionValue(vt,ht)&&(_e[vt]=$[vt])}function useInitialMotionValues({transformTemplate:_e},$,ht){return reactExports.useMemo(()=>{const vt=createHtmlRenderState();return buildHTMLStyles(vt,$,{enableHardwareAcceleration:!ht},_e),Object.assign({},vt.vars,vt.style)},[$])}function useStyle(_e,$,ht){const vt=_e.style||{},bt={};return copyRawValuesOnly(bt,vt,_e),Object.assign(bt,useInitialMotionValues(_e,$,ht)),bt}function useHTMLProps(_e,$,ht){const vt={},bt=useStyle(_e,$,ht);return _e.drag&&_e.dragListener!==!1&&(vt.draggable=!1,bt.userSelect=bt.WebkitUserSelect=bt.WebkitTouchCallout="none",bt.touchAction=_e.drag===!0?"none":`pan-${_e.drag==="x"?"y":"x"}`),_e.tabIndex===void 0&&(_e.onTap||_e.onTapStart||_e.whileTap)&&(vt.tabIndex=0),vt.style=bt,vt}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(_e){return _e.startsWith("while")||_e.startsWith("drag")&&_e!=="draggable"||_e.startsWith("layout")||_e.startsWith("onTap")||_e.startsWith("onPan")||_e.startsWith("onLayout")||validMotionProps.has(_e)}let shouldForward=_e=>!isValidMotionProp(_e);function loadExternalIsValidProp(_e){_e&&(shouldForward=$=>$.startsWith("on")?!isValidMotionProp($):_e($))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(_e,$,ht){const vt={};for(const bt in _e)bt==="values"&&typeof _e.values=="object"||(shouldForward(bt)||ht===!0&&isValidMotionProp(bt)||!$&&!isValidMotionProp(bt)||_e.draggable&&bt.startsWith("onDrag"))&&(vt[bt]=_e[bt]);return vt}function calcOrigin$1(_e,$,ht){return typeof _e=="string"?_e:px.transform($+ht*_e)}function calcSVGTransformOrigin(_e,$,ht){const vt=calcOrigin$1($,_e.x,_e.width),bt=calcOrigin$1(ht,_e.y,_e.height);return`${vt} ${bt}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_e,$,ht=1,vt=0,bt=!0){_e.pathLength=1;const wt=bt?dashKeys:camelKeys;_e[wt.offset]=px.transform(-vt);const At=px.transform($),Et=px.transform(ht);_e[wt.array]=`${At} ${Et}`}function buildSVGAttrs(_e,{attrX:$,attrY:ht,attrScale:vt,originX:bt,originY:wt,pathLength:At,pathSpacing:Et=1,pathOffset:St=0,...Ct},xt,Pt,kt){if(buildHTMLStyles(_e,Ct,xt,kt),Pt){_e.style.viewBox&&(_e.attrs.viewBox=_e.style.viewBox);return}_e.attrs=_e.style,_e.style={};const{attrs:Rt,style:Mt,dimensions:Ft}=_e;Rt.transform&&(Ft&&(Mt.transform=Rt.transform),delete Rt.transform),Ft&&(bt!==void 0||wt!==void 0||Mt.transform)&&(Mt.transformOrigin=calcSVGTransformOrigin(Ft,bt!==void 0?bt:.5,wt!==void 0?wt:.5)),$!==void 0&&(Rt.x=$),ht!==void 0&&(Rt.y=ht),vt!==void 0&&(Rt.scale=vt),At!==void 0&&buildSVGPath(Rt,At,Et,St,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_e=>typeof _e=="string"&&_e.toLowerCase()==="svg";function useSVGProps(_e,$,ht,vt){const bt=reactExports.useMemo(()=>{const wt=createSvgRenderState();return buildSVGAttrs(wt,$,{enableHardwareAcceleration:!1},isSVGTag(vt),_e.transformTemplate),{...wt.attrs,style:{...wt.style}}},[$]);if(_e.style){const wt={};copyRawValuesOnly(wt,_e.style,_e),bt.style={...wt,...bt.style}}return bt}function createUseRender(_e=!1){return(ht,vt,bt,{latestValues:wt},At)=>{const St=(isSVGComponent(ht)?useSVGProps:useHTMLProps)(vt,wt,At,ht),Ct=filterProps(vt,typeof ht=="string",_e),xt=ht!==reactExports.Fragment?{...Ct,...St,ref:bt}:{},{children:Pt}=vt,kt=reactExports.useMemo(()=>isMotionValue(Pt)?Pt.get():Pt,[Pt]);return reactExports.createElement(ht,{...xt,children:kt})}}function renderHTML(_e,{style:$,vars:ht},vt,bt){Object.assign(_e.style,$,bt&&bt.getProjectionStyles(vt));for(const wt in ht)_e.style.setProperty(wt,ht[wt])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_e,$,ht,vt){renderHTML(_e,$,void 0,vt);for(const bt in $.attrs)_e.setAttribute(camelCaseAttributes.has(bt)?bt:camelToDash(bt),$.attrs[bt])}function scrapeMotionValuesFromProps$1(_e,$,ht){var vt;const{style:bt}=_e,wt={};for(const At in bt)(isMotionValue(bt[At])||$.style&&isMotionValue($.style[At])||isForcedMotionValue(At,_e)||((vt=ht==null?void 0:ht.getValue(At))===null||vt===void 0?void 0:vt.liveStyle)!==void 0)&&(wt[At]=bt[At]);return wt}function scrapeMotionValuesFromProps(_e,$,ht){const vt=scrapeMotionValuesFromProps$1(_e,$,ht);for(const bt in _e)if(isMotionValue(_e[bt])||isMotionValue($[bt])){const wt=transformPropOrder.indexOf(bt)!==-1?"attr"+bt.charAt(0).toUpperCase()+bt.substring(1):bt;vt[wt]=_e[bt]}return vt}function getValueState(_e){const $=[{},{}];return _e==null||_e.values.forEach((ht,vt)=>{$[0][vt]=ht.get(),$[1][vt]=ht.getVelocity()}),$}function resolveVariantFromProps(_e,$,ht,vt){if(typeof $=="function"){const[bt,wt]=getValueState(vt);$=$(ht!==void 0?ht:_e.custom,bt,wt)}if(typeof $=="string"&&($=_e.variants&&_e.variants[$]),typeof $=="function"){const[bt,wt]=getValueState(vt);$=$(ht!==void 0?ht:_e.custom,bt,wt)}return $}function useConstant(_e){const $=reactExports.useRef(null);return $.current===null&&($.current=_e()),$.current}const isKeyframesTarget=_e=>Array.isArray(_e),isCustomValue=_e=>!!(_e&&typeof _e=="object"&&_e.mix&&_e.toValue),resolveFinalValueInKeyframes=_e=>isKeyframesTarget(_e)?_e[_e.length-1]||0:_e;function resolveMotionValue(_e){const $=isMotionValue(_e)?_e.get():_e;return isCustomValue($)?$.toValue():$}function makeState({scrapeMotionValuesFromProps:_e,createRenderState:$,onMount:ht},vt,bt,wt){const At={latestValues:makeLatestValues(vt,bt,wt,_e),renderState:$()};return ht&&(At.mount=Et=>ht(vt,Et,At)),At}const makeUseVisualState=_e=>($,ht)=>{const vt=reactExports.useContext(MotionContext),bt=reactExports.useContext(PresenceContext),wt=()=>makeState(_e,$,vt,bt);return ht?wt():useConstant(wt)};function makeLatestValues(_e,$,ht,vt){const bt={},wt=vt(_e,{});for(const kt in wt)bt[kt]=resolveMotionValue(wt[kt]);let{initial:At,animate:Et}=_e;const St=isControllingVariants(_e),Ct=isVariantNode(_e);$&&Ct&&!St&&_e.inherit!==!1&&(At===void 0&&(At=$.initial),Et===void 0&&(Et=$.animate));let xt=ht?ht.initial===!1:!1;xt=xt||At===!1;const Pt=xt?Et:At;return Pt&&typeof Pt!="boolean"&&!isAnimationControls(Pt)&&(Array.isArray(Pt)?Pt:[Pt]).forEach(Rt=>{const Mt=resolveVariantFromProps(_e,Rt);if(!Mt)return;const{transitionEnd:Ft,transition:$t,...Lt}=Mt;for(const Dt in Lt){let Ot=Lt[Dt];if(Array.isArray(Ot)){const Bt=xt?Ot.length-1:0;Ot=Ot[Bt]}Ot!==null&&(bt[Dt]=Ot)}for(const Dt in Ft)bt[Dt]=Ft[Dt]}),bt}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_e,$,{renderState:ht,latestValues:vt})=>{frame.read(()=>{try{ht.dimensions=typeof $.getBBox=="function"?$.getBBox():$.getBoundingClientRect()}catch{ht.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(ht,vt,{enableHardwareAcceleration:!1},isSVGTag($.tagName),_e.transformTemplate),renderSVG($,ht)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_e,{forwardMotionProps:$=!1},ht,vt){return{...isSVGComponent(_e)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:ht,useRender:createUseRender($),createVisualElement:vt,Component:_e}}function addDomEvent(_e,$,ht,vt={passive:!0}){return _e.addEventListener($,ht,vt),()=>_e.removeEventListener($,ht)}const isPrimaryPointer=_e=>_e.pointerType==="mouse"?typeof _e.button!="number"||_e.button<=0:_e.isPrimary!==!1;function extractEventInfo(_e,$="page"){return{point:{x:_e[`${$}X`],y:_e[`${$}Y`]}}}const addPointerInfo=_e=>$=>isPrimaryPointer($)&&_e($,extractEventInfo($));function addPointerEvent(_e,$,ht,vt){return addDomEvent(_e,$,addPointerInfo(ht),vt)}const combineFunctions=(_e,$)=>ht=>$(_e(ht)),pipe=(..._e)=>_e.reduce(combineFunctions);function createLock(_e){let $=null;return()=>{const ht=()=>{$=null};return $===null?($=_e,ht):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_e){let $=!1;if(_e==="y")$=globalVerticalLock();else if(_e==="x")$=globalHorizontalLock();else{const ht=globalHorizontalLock(),vt=globalVerticalLock();ht&&vt?$=()=>{ht(),vt()}:(ht&&ht(),vt&&vt())}return $}function isDragActive(){const _e=getGlobalLock(!0);return _e?(_e(),!1):!0}class Feature{constructor($){this.isMounted=!1,this.node=$}update(){}}function addHoverEvent(_e,$){const ht=$?"pointerenter":"pointerleave",vt=$?"onHoverStart":"onHoverEnd",bt=(wt,At)=>{if(wt.pointerType==="touch"||isDragActive())return;const Et=_e.getProps();_e.animationState&&Et.whileHover&&_e.animationState.setActive("whileHover",$);const St=Et[vt];St&&frame.postRender(()=>St(wt,At))};return addPointerEvent(_e.current,ht,bt,{passive:!_e.getProps()[vt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let $=!1;try{$=this.node.current.matches(":focus-visible")}catch{$=!0}!$||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(_e,$)=>$?_e===$?!0:isNodeOrChild(_e,$.parentElement):!1;function fireSyntheticPointerEvent(_e,$){if(!$)return;const ht=new PointerEvent("pointer"+_e);$(ht,extractEventInfo(ht))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop,this.removeEndListeners=noop,this.removeAccessibleListeners=noop,this.startPointerPress=($,ht)=>{if(this.isPressing)return;this.removeEndListeners();const vt=this.node.getProps(),wt=addPointerEvent(window,"pointerup",(Et,St)=>{if(!this.checkPressEnd())return;const{onTap:Ct,onTapCancel:xt,globalTapTarget:Pt}=this.node.getProps(),kt=!Pt&&!isNodeOrChild(this.node.current,Et.target)?xt:Ct;kt&&frame.update(()=>kt(Et,St))},{passive:!(vt.onTap||vt.onPointerUp)}),At=addPointerEvent(window,"pointercancel",(Et,St)=>this.cancelPress(Et,St),{passive:!(vt.onTapCancel||vt.onPointerCancel)});this.removeEndListeners=pipe(wt,At),this.startPress($,ht)},this.startAccessiblePress=()=>{const $=wt=>{if(wt.key!=="Enter"||this.isPressing)return;const At=Et=>{Et.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(St,Ct)=>{const{onTap:xt}=this.node.getProps();xt&&frame.postRender(()=>xt(St,Ct))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",At),fireSyntheticPointerEvent("down",(Et,St)=>{this.startPress(Et,St)})},ht=addDomEvent(this.node.current,"keydown",$),vt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(wt,At)=>this.cancelPress(wt,At))},bt=addDomEvent(this.node.current,"blur",vt);this.removeAccessibleListeners=pipe(ht,bt)}}startPress($,ht){this.isPressing=!0;const{onTapStart:vt,whileTap:bt}=this.node.getProps();bt&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),vt&&frame.postRender(()=>vt($,ht))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress($,ht){if(!this.checkPressEnd())return;const{onTapCancel:vt}=this.node.getProps();vt&&frame.postRender(()=>vt($,ht))}mount(){const $=this.node.getProps(),ht=addPointerEvent($.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!($.onTapStart||$.onPointerStart)}),vt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(ht,vt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_e=>{const $=observerCallbacks.get(_e.target);$&&$(_e)},fireAllObserverCallbacks=_e=>{_e.forEach(fireObserverCallback)};function initIntersectionObserver({root:_e,...$}){const ht=_e||document;observers.has(ht)||observers.set(ht,{});const vt=observers.get(ht),bt=JSON.stringify($);return vt[bt]||(vt[bt]=new IntersectionObserver(fireAllObserverCallbacks,{root:_e,...$})),vt[bt]}function observeIntersection(_e,$,ht){const vt=initIntersectionObserver($);return observerCallbacks.set(_e,ht),vt.observe(_e),()=>{observerCallbacks.delete(_e),vt.unobserve(_e)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:$={}}=this.node.getProps(),{root:ht,margin:vt,amount:bt="some",once:wt}=$,At={root:ht?ht.current:void 0,rootMargin:vt,threshold:typeof bt=="number"?bt:thresholdNames[bt]},Et=St=>{const{isIntersecting:Ct}=St;if(this.isInView===Ct||(this.isInView=Ct,wt&&!Ct&&this.hasEnteredView))return;Ct&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Ct);const{onViewportEnter:xt,onViewportLeave:Pt}=this.node.getProps(),kt=Ct?xt:Pt;kt&&kt(St)};return observeIntersection(this.node.current,At,Et)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:$,prevProps:ht}=this.node;["amount","margin","root"].some(hasViewportOptionChanged($,ht))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:_e={}},{viewport:$={}}={}){return ht=>_e[ht]!==$[ht]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(_e,$){if(!Array.isArray($))return!1;const ht=$.length;if(ht!==_e.length)return!1;for(let vt=0;vt<ht;vt++)if($[vt]!==_e[vt])return!1;return!0}function resolveVariant(_e,$,ht){const vt=_e.getProps();return resolveVariantFromProps(vt,$,ht!==void 0?ht:vt.custom,_e)}const secondsToMilliseconds=_e=>_e*1e3,millisecondsToSeconds=_e=>_e/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=_e=>({type:"spring",stiffness:550,damping:_e===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(_e,{keyframes:$})=>$.length>2?keyframesTransition:transformProps.has(_e)?_e.startsWith("scale")?criticallyDampedSpring($[1]):underDampedSpring:ease;function isTransitionDefined({when:_e,delay:$,delayChildren:ht,staggerChildren:vt,staggerDirection:bt,repeat:wt,repeatType:At,repeatDelay:Et,from:St,elapsed:Ct,...xt}){return!!Object.keys(xt).length}function getValueTransition(_e,$){return _e[$]||_e.default||_e}const isNotNull=_e=>_e!==null;function getFinalKeyframe(_e,{repeat:$,repeatType:ht="loop"},vt){const bt=_e.filter(isNotNull),wt=$&&ht!=="loop"&&$%2===1?0:bt.length-1;return!wt||vt===void 0?bt[wt]:vt}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:_e=>{now=_e,queueMicrotask(clearTime)}},isZeroValueString=_e=>/^0[^.\s]+$/u.test(_e);function isNone(_e){return typeof _e=="number"?_e===0:_e!==null?_e==="none"||_e==="0"||isZeroValueString(_e):!0}const isNumericalString=_e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(_e),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(_e){const $=splitCSSVariableRegex.exec(_e);if(!$)return[,];const[,ht,vt,bt]=$;return[`--${ht??vt}`,bt]}function getVariableValue(_e,$,ht=1){const[vt,bt]=parseCSSVariable(_e);if(!vt)return;const wt=window.getComputedStyle($).getPropertyValue(vt);if(wt){const At=wt.trim();return isNumericalString(At)?parseFloat(At):At}return isCSSVariableToken(bt)?getVariableValue(bt,$,ht+1):bt}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=_e=>_e===number||_e===px,getPosFromMatrix=(_e,$)=>parseFloat(_e.split(", ")[$]),getTranslateFromMatrix=(_e,$)=>(ht,{transform:vt})=>{if(vt==="none"||!vt)return 0;const bt=vt.match(/^matrix3d\((.+)\)$/u);if(bt)return getPosFromMatrix(bt[1],$);{const wt=vt.match(/^matrix\((.+)\)$/u);return wt?getPosFromMatrix(wt[1],_e):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_e=>!transformKeys.has(_e));function removeNonTranslationalTransform(_e){const $=[];return nonTranslationalTransformKeys.forEach(ht=>{const vt=_e.getValue(ht);vt!==void 0&&($.push([ht,vt.get()]),vt.set(ht.startsWith("scale")?1:0))}),$}const positionalValues={width:({x:_e},{paddingLeft:$="0",paddingRight:ht="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(ht),height:({y:_e},{paddingTop:$="0",paddingBottom:ht="0"})=>_e.max-_e.min-parseFloat($)-parseFloat(ht),top:(_e,{top:$})=>parseFloat($),left:(_e,{left:$})=>parseFloat($),bottom:({y:_e},{top:$})=>parseFloat($)+(_e.max-_e.min),right:({x:_e},{left:$})=>parseFloat($)+(_e.max-_e.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=_e=>$=>$.test(_e),auto={test:_e=>_e==="auto",parse:_e=>_e},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=_e=>dimensionValueTypes.find(testValueType(_e)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const _e=Array.from(toResolve).filter(vt=>vt.needsMeasurement),$=new Set(_e.map(vt=>vt.element)),ht=new Map;$.forEach(vt=>{const bt=removeNonTranslationalTransform(vt);bt.length&&(ht.set(vt,bt),vt.render())}),_e.forEach(vt=>vt.measureInitialState()),$.forEach(vt=>{vt.render();const bt=ht.get(vt);bt&&bt.forEach(([wt,At])=>{var Et;(Et=vt.getValue(wt))===null||Et===void 0||Et.set(At)})}),_e.forEach(vt=>vt.measureEndState()),_e.forEach(vt=>{vt.suspendedScrollY!==void 0&&window.scrollTo(0,vt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(_e=>_e.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(_e=>{_e.readKeyframes(),_e.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor($,ht,vt,bt,wt,At=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...$],this.onComplete=ht,this.name=vt,this.motionValue=bt,this.element=wt,this.isAsync=At}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:$,name:ht,element:vt,motionValue:bt}=this;for(let wt=0;wt<$.length;wt++)if($[wt]===null)if(wt===0){const At=bt==null?void 0:bt.get(),Et=$[$.length-1];if(At!==void 0)$[0]=At;else if(vt&&ht){const St=vt.readValue(ht,Et);St!=null&&($[0]=St)}$[0]===void 0&&($[0]=Et),bt&&At===void 0&&bt.set($[0])}else $[wt]=$[wt-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(_e,$)=>ht=>!!(isString(ht)&&singleColorRegex.test(ht)&&ht.startsWith(_e)||$&&!isNullish(ht)&&Object.prototype.hasOwnProperty.call(ht,$)),splitColor=(_e,$,ht)=>vt=>{if(!isString(vt))return vt;const[bt,wt,At,Et]=vt.match(floatRegex);return{[_e]:parseFloat(bt),[$]:parseFloat(wt),[ht]:parseFloat(At),alpha:Et!==void 0?parseFloat(Et):1}},clampRgbUnit=_e=>clamp(0,255,_e),rgbUnit={...number,transform:_e=>Math.round(clampRgbUnit(_e))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_e,green:$,blue:ht,alpha:vt=1})=>"rgba("+rgbUnit.transform(_e)+", "+rgbUnit.transform($)+", "+rgbUnit.transform(ht)+", "+sanitize(alpha.transform(vt))+")"};function parseHex(_e){let $="",ht="",vt="",bt="";return _e.length>5?($=_e.substring(1,3),ht=_e.substring(3,5),vt=_e.substring(5,7),bt=_e.substring(7,9)):($=_e.substring(1,2),ht=_e.substring(2,3),vt=_e.substring(3,4),bt=_e.substring(4,5),$+=$,ht+=ht,vt+=vt,bt+=bt),{red:parseInt($,16),green:parseInt(ht,16),blue:parseInt(vt,16),alpha:bt?parseInt(bt,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_e,saturation:$,lightness:ht,alpha:vt=1})=>"hsla("+Math.round(_e)+", "+percent.transform(sanitize($))+", "+percent.transform(sanitize(ht))+", "+sanitize(alpha.transform(vt))+")"},color={test:_e=>rgba.test(_e)||hex.test(_e)||hsla.test(_e),parse:_e=>rgba.test(_e)?rgba.parse(_e):hsla.test(_e)?hsla.parse(_e):hex.parse(_e),transform:_e=>isString(_e)?_e:_e.hasOwnProperty("red")?rgba.transform(_e):hsla.transform(_e)};function test(_e){var $,ht;return isNaN(_e)&&isString(_e)&&((($=_e.match(floatRegex))===null||$===void 0?void 0:$.length)||0)+(((ht=_e.match(colorRegex))===null||ht===void 0?void 0:ht.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(_e){const $=_e.toString(),ht=[],vt={color:[],number:[],var:[]},bt=[];let wt=0;const Et=$.replace(complexRegex,St=>(color.test(St)?(vt.color.push(wt),bt.push(COLOR_TOKEN),ht.push(color.parse(St))):St.startsWith(VAR_FUNCTION_TOKEN)?(vt.var.push(wt),bt.push(VAR_TOKEN),ht.push(St)):(vt.number.push(wt),bt.push(NUMBER_TOKEN),ht.push(parseFloat(St))),++wt,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:ht,split:Et,indexes:vt,types:bt}}function parseComplexValue(_e){return analyseComplexValue(_e).values}function createTransformer(_e){const{split:$,types:ht}=analyseComplexValue(_e),vt=$.length;return bt=>{let wt="";for(let At=0;At<vt;At++)if(wt+=$[At],bt[At]!==void 0){const Et=ht[At];Et===NUMBER_TOKEN?wt+=sanitize(bt[At]):Et===COLOR_TOKEN?wt+=color.transform(bt[At]):wt+=bt[At]}return wt}}const convertNumbersToZero=_e=>typeof _e=="number"?0:_e;function getAnimatableNone$1(_e){const $=parseComplexValue(_e);return createTransformer(_e)($.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_e){const[$,ht]=_e.slice(0,-1).split("(");if($==="drop-shadow")return _e;const[vt]=ht.match(floatRegex)||[];if(!vt)return _e;const bt=ht.replace(vt,"");let wt=maxDefaults.has($)?1:0;return vt!==ht&&(wt*=100),$+"("+wt+bt+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:_e=>{const $=_e.match(functionRegex);return $?$.map(applyDefaultFilter).join(" "):_e}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=_e=>defaultValueTypes[_e];function getAnimatableNone(_e,$){let ht=getDefaultValueType(_e);return ht!==filter&&(ht=complex),ht.getAnimatableNone?ht.getAnimatableNone($):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(_e,$,ht){let vt=0,bt;for(;vt<_e.length&&!bt;){const wt=_e[vt];typeof wt=="string"&&!invalidTemplates.has(wt)&&analyseComplexValue(wt).values.length&&(bt=_e[vt]),vt++}if(bt&&ht)for(const wt of $)_e[wt]=getAnimatableNone(ht,bt)}class DOMKeyframesResolver extends KeyframeResolver{constructor($,ht,vt,bt){super($,ht,vt,bt,bt==null?void 0:bt.owner,!0)}readKeyframes(){const{unresolvedKeyframes:$,element:ht,name:vt}=this;if(!ht.current)return;super.readKeyframes();for(let St=0;St<$.length;St++){let Ct=$[St];if(typeof Ct=="string"&&(Ct=Ct.trim(),isCSSVariableToken(Ct))){const xt=getVariableValue(Ct,ht.current);xt!==void 0&&($[St]=xt),St===$.length-1&&(this.finalKeyframe=Ct)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(vt)||$.length!==2)return;const[bt,wt]=$,At=findDimensionValueType(bt),Et=findDimensionValueType(wt);if(At!==Et)if(isNumOrPxType(At)&&isNumOrPxType(Et))for(let St=0;St<$.length;St++){const Ct=$[St];typeof Ct=="string"&&($[St]=parseFloat(Ct))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:$,name:ht}=this,vt=[];for(let bt=0;bt<$.length;bt++)isNone($[bt])&&vt.push(bt);vt.length&&makeNoneKeyframesAnimatable($,vt,ht)}measureInitialState(){const{element:$,unresolvedKeyframes:ht,name:vt}=this;if(!$.current)return;vt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[vt]($.measureViewportBox(),window.getComputedStyle($.current)),ht[0]=this.measuredOrigin;const bt=ht[ht.length-1];bt!==void 0&&$.getValue(vt,bt).jump(bt,!1)}measureEndState(){var $;const{element:ht,name:vt,unresolvedKeyframes:bt}=this;if(!ht.current)return;const wt=ht.getValue(vt);wt&&wt.jump(this.measuredOrigin,!1);const At=bt.length-1,Et=bt[At];bt[At]=positionalValues[vt](ht.measureViewportBox(),window.getComputedStyle(ht.current)),Et!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Et),!(($=this.removedTransforms)===null||$===void 0)&&$.length&&this.removedTransforms.forEach(([St,Ct])=>{ht.getValue(St).set(Ct)}),this.resolveNoneKeyframes()}}function memo(_e){let $;return()=>($===void 0&&($=_e()),$)}const isAnimatable=(_e,$)=>$==="zIndex"?!1:!!(typeof _e=="number"||Array.isArray(_e)||typeof _e=="string"&&(complex.test(_e)||_e==="0")&&!_e.startsWith("url("));function hasKeyframesChanged(_e){const $=_e[0];if(_e.length===1)return!0;for(let ht=0;ht<_e.length;ht++)if(_e[ht]!==$)return!0}function canAnimate(_e,$,ht,vt){const bt=_e[0];if(bt===null)return!1;if($==="display"||$==="visibility")return!0;const wt=_e[_e.length-1],At=isAnimatable(bt,$),Et=isAnimatable(wt,$);return!At||!Et?!1:hasKeyframesChanged(_e)||ht==="spring"&&vt}class BaseAnimation{constructor({autoplay:$=!0,delay:ht=0,type:vt="keyframes",repeat:bt=0,repeatDelay:wt=0,repeatType:At="loop",...Et}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:$,delay:ht,type:vt,repeat:bt,repeatDelay:wt,repeatType:At,...Et},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved($,ht){this.hasAttemptedResolve=!0;const{name:vt,type:bt,velocity:wt,delay:At,onComplete:Et,onUpdate:St,isGenerator:Ct}=this.options;if(!Ct&&!canAnimate($,vt,bt,wt))if(At)this.options.duration=0;else{St==null||St(getFinalKeyframe($,this.options,ht)),Et==null||Et(),this.resolveFinishedPromise();return}const xt=this.initPlayback($,ht);xt!==!1&&(this._resolved={keyframes:$,finalKeyframe:ht,...xt},this.onPostResolved())}onPostResolved(){}then($,ht){return this.currentFinishedPromise.then($,ht)}updateFinishedPromise(){this.currentFinishedPromise=new Promise($=>{this.resolveFinishedPromise=$})}}function velocityPerSecond(_e,$){return $?_e*(1e3/$):0}const velocitySampleDuration=5;function calcGeneratorVelocity(_e,$,ht){const vt=Math.max($-velocitySampleDuration,0);return velocityPerSecond(ht-_e(vt),$-vt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:_e=800,bounce:$=.25,velocity:ht=0,mass:vt=1}){let bt,wt,At=1-$;At=clamp(minDamping,maxDamping,At),_e=clamp(minDuration,maxDuration$1,millisecondsToSeconds(_e)),At<1?(bt=Ct=>{const xt=Ct*At,Pt=xt*_e,kt=xt-ht,Rt=calcAngularFreq(Ct,At),Mt=Math.exp(-Pt);return safeMin-kt/Rt*Mt},wt=Ct=>{const Pt=Ct*At*_e,kt=Pt*ht+ht,Rt=Math.pow(At,2)*Math.pow(Ct,2)*_e,Mt=Math.exp(-Pt),Ft=calcAngularFreq(Math.pow(Ct,2),At);return(-bt(Ct)+safeMin>0?-1:1)*((kt-Rt)*Mt)/Ft}):(bt=Ct=>{const xt=Math.exp(-Ct*_e),Pt=(Ct-ht)*_e+1;return-safeMin+xt*Pt},wt=Ct=>{const xt=Math.exp(-Ct*_e),Pt=(ht-Ct)*(_e*_e);return xt*Pt});const Et=5/_e,St=approximateRoot(bt,wt,Et);if(_e=secondsToMilliseconds(_e),isNaN(St))return{stiffness:100,damping:10,duration:_e};{const Ct=Math.pow(St,2)*vt;return{stiffness:Ct,damping:At*2*Math.sqrt(vt*Ct),duration:_e}}}const rootIterations=12;function approximateRoot(_e,$,ht){let vt=ht;for(let bt=1;bt<rootIterations;bt++)vt=vt-_e(vt)/$(vt);return vt}function calcAngularFreq(_e,$){return _e*Math.sqrt(1-$*$)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_e,$){return $.some(ht=>_e[ht]!==void 0)}function getSpringOptions(_e){let $={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._e};if(!isSpringType(_e,physicsKeys)&&isSpringType(_e,durationKeys)){const ht=findSpring(_e);$={...$,...ht,mass:1},$.isResolvedFromDuration=!0}return $}function spring({keyframes:_e,restDelta:$,restSpeed:ht,...vt}){const bt=_e[0],wt=_e[_e.length-1],At={done:!1,value:bt},{stiffness:Et,damping:St,mass:Ct,duration:xt,velocity:Pt,isResolvedFromDuration:kt}=getSpringOptions({...vt,velocity:-millisecondsToSeconds(vt.velocity||0)}),Rt=Pt||0,Mt=St/(2*Math.sqrt(Et*Ct)),Ft=wt-bt,$t=millisecondsToSeconds(Math.sqrt(Et/Ct)),Lt=Math.abs(Ft)<5;ht||(ht=Lt?.01:2),$||($=Lt?.005:.5);let Dt;if(Mt<1){const Ot=calcAngularFreq($t,Mt);Dt=Bt=>{const Nt=Math.exp(-Mt*$t*Bt);return wt-Nt*((Rt+Mt*$t*Ft)/Ot*Math.sin(Ot*Bt)+Ft*Math.cos(Ot*Bt))}}else if(Mt===1)Dt=Ot=>wt-Math.exp(-$t*Ot)*(Ft+(Rt+$t*Ft)*Ot);else{const Ot=$t*Math.sqrt(Mt*Mt-1);Dt=Bt=>{const Nt=Math.exp(-Mt*$t*Bt),Ht=Math.min(Ot*Bt,300);return wt-Nt*((Rt+Mt*$t*Ft)*Math.sinh(Ht)+Ot*Ft*Math.cosh(Ht))/Ot}}return{calculatedDuration:kt&&xt||null,next:Ot=>{const Bt=Dt(Ot);if(kt)At.done=Ot>=xt;else{let Nt=Rt;Ot!==0&&(Mt<1?Nt=calcGeneratorVelocity(Dt,Ot,Bt):Nt=0);const Ht=Math.abs(Nt)<=ht,Vt=Math.abs(wt-Bt)<=$;At.done=Ht&&Vt}return At.value=At.done?wt:Bt,At}}}function inertia({keyframes:_e,velocity:$=0,power:ht=.8,timeConstant:vt=325,bounceDamping:bt=10,bounceStiffness:wt=500,modifyTarget:At,min:Et,max:St,restDelta:Ct=.5,restSpeed:xt}){const Pt=_e[0],kt={done:!1,value:Pt},Rt=jt=>Et!==void 0&&jt<Et||St!==void 0&&jt>St,Mt=jt=>Et===void 0?St:St===void 0||Math.abs(Et-jt)<Math.abs(St-jt)?Et:St;let Ft=ht*$;const $t=Pt+Ft,Lt=At===void 0?$t:At($t);Lt!==$t&&(Ft=Lt-Pt);const Dt=jt=>-Ft*Math.exp(-jt/vt),Ot=jt=>Lt+Dt(jt),Bt=jt=>{const qt=Dt(jt),Jt=Ot(jt);kt.done=Math.abs(qt)<=Ct,kt.value=kt.done?Lt:Jt};let Nt,Ht;const Vt=jt=>{Rt(kt.value)&&(Nt=jt,Ht=spring({keyframes:[kt.value,Mt(kt.value)],velocity:calcGeneratorVelocity(Ot,jt,kt.value),damping:bt,stiffness:wt,restDelta:Ct,restSpeed:xt}))};return Vt(0),{calculatedDuration:null,next:jt=>{let qt=!1;return!Ht&&Nt===void 0&&(qt=!0,Bt(jt),Vt(jt)),Nt!==void 0&&jt>=Nt?Ht.next(jt-Nt):(!qt&&Bt(jt),kt)}}}const calcBezier=(_e,$,ht)=>(((1-3*ht+3*$)*_e+(3*ht-6*$))*_e+3*$)*_e,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_e,$,ht,vt,bt){let wt,At,Et=0;do At=$+(ht-$)/2,wt=calcBezier(At,vt,bt)-_e,wt>0?ht=At:$=At;while(Math.abs(wt)>subdivisionPrecision&&++Et<subdivisionMaxIterations);return At}function cubicBezier(_e,$,ht,vt){if(_e===$&&ht===vt)return noop;const bt=wt=>binarySubdivide(wt,0,1,_e,ht);return wt=>wt===0||wt===1?wt:calcBezier(bt(wt),$,vt)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=_e=>Array.isArray(_e)&&typeof _e[0]!="number",mirrorEasing=_e=>$=>$<=.5?_e(2*$)/2:(2-_e(2*(1-$)))/2,reverseEasing=_e=>$=>1-_e(1-$),circIn=_e=>1-Math.sin(Math.acos(_e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_e=>(_e*=2)<1?.5*backIn(_e):.5*(2-Math.pow(2,-10*(_e-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_e=>{if(Array.isArray(_e)){invariant(_e.length===4);const[$,ht,vt,bt]=_e;return cubicBezier($,ht,vt,bt)}else if(typeof _e=="string")return invariant(easingLookup[_e]!==void 0),easingLookup[_e];return _e},progress=(_e,$,ht)=>{const vt=$-_e;return vt===0?1:(ht-_e)/vt},mixNumber$1=(_e,$,ht)=>_e+($-_e)*ht;function hueToRgb(_e,$,ht){return ht<0&&(ht+=1),ht>1&&(ht-=1),ht<1/6?_e+($-_e)*6*ht:ht<1/2?$:ht<2/3?_e+($-_e)*(2/3-ht)*6:_e}function hslaToRgba({hue:_e,saturation:$,lightness:ht,alpha:vt}){_e/=360,$/=100,ht/=100;let bt=0,wt=0,At=0;if(!$)bt=wt=At=ht;else{const Et=ht<.5?ht*(1+$):ht+$-ht*$,St=2*ht-Et;bt=hueToRgb(St,Et,_e+1/3),wt=hueToRgb(St,Et,_e),At=hueToRgb(St,Et,_e-1/3)}return{red:Math.round(bt*255),green:Math.round(wt*255),blue:Math.round(At*255),alpha:vt}}function mixImmediate(_e,$){return ht=>ht>0?$:_e}const mixLinearColor=(_e,$,ht)=>{const vt=_e*_e,bt=ht*($*$-vt)+vt;return bt<0?0:Math.sqrt(bt)},colorTypes=[hex,rgba,hsla],getColorType=_e=>colorTypes.find($=>$.test(_e));function asRGBA(_e){const $=getColorType(_e);if(!$)return!1;let ht=$.parse(_e);return $===hsla&&(ht=hslaToRgba(ht)),ht}const mixColor=(_e,$)=>{const ht=asRGBA(_e),vt=asRGBA($);if(!ht||!vt)return mixImmediate(_e,$);const bt={...ht};return wt=>(bt.red=mixLinearColor(ht.red,vt.red,wt),bt.green=mixLinearColor(ht.green,vt.green,wt),bt.blue=mixLinearColor(ht.blue,vt.blue,wt),bt.alpha=mixNumber$1(ht.alpha,vt.alpha,wt),rgba.transform(bt))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(_e,$){return invisibleValues.has(_e)?ht=>ht<=0?_e:$:ht=>ht>=1?$:_e}function mixNumber(_e,$){return ht=>mixNumber$1(_e,$,ht)}function getMixer(_e){return typeof _e=="number"?mixNumber:typeof _e=="string"?isCSSVariableToken(_e)?mixImmediate:color.test(_e)?mixColor:mixComplex:Array.isArray(_e)?mixArray:typeof _e=="object"?color.test(_e)?mixColor:mixObject:mixImmediate}function mixArray(_e,$){const ht=[..._e],vt=ht.length,bt=_e.map((wt,At)=>getMixer(wt)(wt,$[At]));return wt=>{for(let At=0;At<vt;At++)ht[At]=bt[At](wt);return ht}}function mixObject(_e,$){const ht={..._e,...$},vt={};for(const bt in ht)_e[bt]!==void 0&&$[bt]!==void 0&&(vt[bt]=getMixer(_e[bt])(_e[bt],$[bt]));return bt=>{for(const wt in vt)ht[wt]=vt[wt](bt);return ht}}function matchOrder(_e,$){var ht;const vt=[],bt={color:0,var:0,number:0};for(let wt=0;wt<$.values.length;wt++){const At=$.types[wt],Et=_e.indexes[At][bt[At]],St=(ht=_e.values[Et])!==null&&ht!==void 0?ht:0;vt[wt]=St,bt[At]++}return vt}const mixComplex=(_e,$)=>{const ht=complex.createTransformer($),vt=analyseComplexValue(_e),bt=analyseComplexValue($);return vt.indexes.var.length===bt.indexes.var.length&&vt.indexes.color.length===bt.indexes.color.length&&vt.indexes.number.length>=bt.indexes.number.length?invisibleValues.has(_e)&&!bt.values.length||invisibleValues.has($)&&!vt.values.length?mixVisibility(_e,$):pipe(mixArray(matchOrder(vt,bt),bt.values),ht):mixImmediate(_e,$)};function mix(_e,$,ht){return typeof _e=="number"&&typeof $=="number"&&typeof ht=="number"?mixNumber$1(_e,$,ht):getMixer(_e)(_e,$)}function createMixers(_e,$,ht){const vt=[],bt=ht||mix,wt=_e.length-1;for(let At=0;At<wt;At++){let Et=bt(_e[At],_e[At+1]);if($){const St=Array.isArray($)?$[At]||noop:$;Et=pipe(St,Et)}vt.push(Et)}return vt}function interpolate(_e,$,{clamp:ht=!0,ease:vt,mixer:bt}={}){const wt=_e.length;if(invariant(wt===$.length),wt===1)return()=>$[0];if(wt===2&&_e[0]===_e[1])return()=>$[1];_e[0]>_e[wt-1]&&(_e=[..._e].reverse(),$=[...$].reverse());const At=createMixers($,vt,bt),Et=At.length,St=Ct=>{let xt=0;if(Et>1)for(;xt<_e.length-2&&!(Ct<_e[xt+1]);xt++);const Pt=progress(_e[xt],_e[xt+1],Ct);return At[xt](Pt)};return ht?Ct=>St(clamp(_e[0],_e[wt-1],Ct)):St}function fillOffset(_e,$){const ht=_e[_e.length-1];for(let vt=1;vt<=$;vt++){const bt=progress(0,$,vt);_e.push(mixNumber$1(ht,1,bt))}}function defaultOffset(_e){const $=[0];return fillOffset($,_e.length-1),$}function convertOffsetToTimes(_e,$){return _e.map(ht=>ht*$)}function defaultEasing(_e,$){return _e.map(()=>$||easeInOut).splice(0,_e.length-1)}function keyframes({duration:_e=300,keyframes:$,times:ht,ease:vt="easeInOut"}){const bt=isEasingArray(vt)?vt.map(easingDefinitionToFunction):easingDefinitionToFunction(vt),wt={done:!1,value:$[0]},At=convertOffsetToTimes(ht&&ht.length===$.length?ht:defaultOffset($),_e),Et=interpolate(At,$,{ease:Array.isArray(bt)?bt:defaultEasing($,bt)});return{calculatedDuration:_e,next:St=>(wt.value=Et(St),wt.done=St>=_e,wt)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(_e){let $=0;const ht=50;let vt=_e.next($);for(;!vt.done&&$<maxGeneratorDuration;)$+=ht,vt=_e.next($);return $>=maxGeneratorDuration?1/0:$}const frameloopDriver=_e=>{const $=({timestamp:ht})=>_e(ht);return{start:()=>frame.update($,!0),stop:()=>cancelFrame($),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=_e=>_e/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:$=KeyframeResolver,...ht}){super(ht),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Et}=this.options;Et&&Et()};const{name:vt,motionValue:bt,keyframes:wt}=this.options,At=(Et,St)=>this.onKeyframesResolved(Et,St);vt&&bt&&bt.owner?this.resolver=bt.owner.resolveKeyframes(wt,At,vt,bt):this.resolver=new $(wt,At,vt,bt),this.resolver.scheduleResolve()}initPlayback($){const{type:ht="keyframes",repeat:vt=0,repeatDelay:bt=0,repeatType:wt,velocity:At=0}=this.options,Et=generators[ht]||keyframes;let St,Ct;Et!==keyframes&&typeof $[0]!="number"&&(St=pipe(percentToProgress,mix($[0],$[1])),$=[0,100]);const xt=Et({...this.options,keyframes:$});wt==="mirror"&&(Ct=Et({...this.options,keyframes:[...$].reverse(),velocity:-At})),xt.calculatedDuration===null&&(xt.calculatedDuration=calcGeneratorDuration(xt));const{calculatedDuration:Pt}=xt,kt=Pt+bt,Rt=kt*(vt+1)-bt;return{generator:xt,mirroredGenerator:Ct,mapPercentToKeyframes:St,calculatedDuration:Pt,resolvedDuration:kt,totalDuration:Rt}}onPostResolved(){const{autoplay:$=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!$?this.pause():this.state=this.pendingPlayState}tick($,ht=!1){const{resolved:vt}=this;if(!vt){const{keyframes:jt}=this.options;return{done:!0,value:jt[jt.length-1]}}const{finalKeyframe:bt,generator:wt,mirroredGenerator:At,mapPercentToKeyframes:Et,keyframes:St,calculatedDuration:Ct,totalDuration:xt,resolvedDuration:Pt}=vt;if(this.startTime===null)return wt.next(0);const{delay:kt,repeat:Rt,repeatType:Mt,repeatDelay:Ft,onUpdate:$t}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,$):this.speed<0&&(this.startTime=Math.min($-xt/this.speed,this.startTime)),ht?this.currentTime=$:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round($-this.startTime)*this.speed;const Lt=this.currentTime-kt*(this.speed>=0?1:-1),Dt=this.speed>=0?Lt<0:Lt>xt;this.currentTime=Math.max(Lt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=xt);let Ot=this.currentTime,Bt=wt;if(Rt){const jt=Math.min(this.currentTime,xt)/Pt;let qt=Math.floor(jt),Jt=jt%1;!Jt&&jt>=1&&(Jt=1),Jt===1&&qt--,qt=Math.min(qt,Rt+1),!!(qt%2)&&(Mt==="reverse"?(Jt=1-Jt,Ft&&(Jt-=Ft/Pt)):Mt==="mirror"&&(Bt=At)),Ot=clamp(0,1,Jt)*Pt}const Nt=Dt?{done:!1,value:St[0]}:Bt.next(Ot);Et&&(Nt.value=Et(Nt.value));let{done:Ht}=Nt;!Dt&&Ct!==null&&(Ht=this.speed>=0?this.currentTime>=xt:this.currentTime<=0);const Vt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Ht);return Vt&&bt!==void 0&&(Nt.value=getFinalKeyframe(St,this.options,bt)),$t&&$t(Nt.value),Vt&&this.finish(),Nt}get duration(){const{resolved:$}=this;return $?millisecondsToSeconds($.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time($){$=secondsToMilliseconds($),this.currentTime=$,this.holdTime!==null||this.speed===0?this.holdTime=$:this.driver&&(this.startTime=this.driver.now()-$/this.speed)}get speed(){return this.playbackSpeed}set speed($){const ht=this.playbackSpeed!==$;this.playbackSpeed=$,ht&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:$=frameloopDriver,onPlay:ht}=this.options;this.driver||(this.driver=$(bt=>this.tick(bt))),ht&&ht();const vt=this.driver.now();this.holdTime!==null?this.startTime=vt-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=vt),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var $;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=($=this.currentTime)!==null&&$!==void 0?$:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:$}=this.options;$&&$()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample($){return this.startTime=0,this.tick($,!0)}}const isBezierDefinition=_e=>Array.isArray(_e)&&typeof _e[0]=="number";function isWaapiSupportedEasing(_e){return!!(!_e||typeof _e=="string"&&_e in supportedWaapiEasing||isBezierDefinition(_e)||Array.isArray(_e)&&_e.every(isWaapiSupportedEasing))}const cubicBezierAsString=([_e,$,ht,vt])=>`cubic-bezier(${_e}, ${$}, ${ht}, ${vt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(_e){return mapEasingToNativeEasing(_e)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(_e){if(_e)return isBezierDefinition(_e)?cubicBezierAsString(_e):Array.isArray(_e)?_e.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[_e]}function animateStyle(_e,$,ht,{delay:vt=0,duration:bt=300,repeat:wt=0,repeatType:At="loop",ease:Et,times:St}={}){const Ct={[$]:ht};St&&(Ct.offset=St);const xt=mapEasingToNativeEasing(Et);return Array.isArray(xt)&&(Ct.easing=xt),_e.animate(Ct,{delay:vt,duration:bt,easing:Array.isArray(xt)?"linear":xt,fill:"both",iterations:wt+1,direction:At==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(_e){return _e.type==="spring"||_e.name==="backgroundColor"||!isWaapiSupportedEasing(_e.ease)}function pregenerateKeyframes(_e,$){const ht=new MainThreadAnimation({...$,keyframes:_e,repeat:0,delay:0,isGenerator:!0});let vt={done:!1,value:_e[0]};const bt=[];let wt=0;for(;!vt.done&&wt<maxDuration;)vt=ht.sample(wt),bt.push(vt.value),wt+=sampleDelta;return{times:void 0,keyframes:bt,duration:wt-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor($){super($);const{name:ht,motionValue:vt,keyframes:bt}=this.options;this.resolver=new DOMKeyframesResolver(bt,(wt,At)=>this.onKeyframesResolved(wt,At),ht,vt),this.resolver.scheduleResolve()}initPlayback($,ht){var vt;let{duration:bt=300,times:wt,ease:At,type:Et,motionValue:St,name:Ct}=this.options;if(!(!((vt=St.owner)===null||vt===void 0)&&vt.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:Pt,onUpdate:kt,motionValue:Rt,...Mt}=this.options,Ft=pregenerateKeyframes($,Mt);$=Ft.keyframes,$.length===1&&($[1]=$[0]),bt=Ft.duration,wt=Ft.times,At=Ft.ease,Et="keyframes"}const xt=animateStyle(St.owner.current,Ct,$,{...this.options,duration:bt,times:wt,ease:At});return xt.startTime=time.now(),this.pendingTimeline?(xt.timeline=this.pendingTimeline,this.pendingTimeline=void 0):xt.onfinish=()=>{const{onComplete:Pt}=this.options;St.set(getFinalKeyframe($,this.options,ht)),Pt&&Pt(),this.cancel(),this.resolveFinishedPromise()},{animation:xt,duration:bt,times:wt,type:Et,ease:At,keyframes:$}}get duration(){const{resolved:$}=this;if(!$)return 0;const{duration:ht}=$;return millisecondsToSeconds(ht)}get time(){const{resolved:$}=this;if(!$)return 0;const{animation:ht}=$;return millisecondsToSeconds(ht.currentTime||0)}set time($){const{resolved:ht}=this;if(!ht)return;const{animation:vt}=ht;vt.currentTime=secondsToMilliseconds($)}get speed(){const{resolved:$}=this;if(!$)return 1;const{animation:ht}=$;return ht.playbackRate}set speed($){const{resolved:ht}=this;if(!ht)return;const{animation:vt}=ht;vt.playbackRate=$}get state(){const{resolved:$}=this;if(!$)return"idle";const{animation:ht}=$;return ht.playState}attachTimeline($){if(!this._resolved)this.pendingTimeline=$;else{const{resolved:ht}=this;if(!ht)return noop;const{animation:vt}=ht;vt.timeline=$,vt.onfinish=null}return noop}play(){if(this.isStopped)return;const{resolved:$}=this;if(!$)return;const{animation:ht}=$;ht.playState==="finished"&&this.updateFinishedPromise(),ht.play()}pause(){const{resolved:$}=this;if(!$)return;const{animation:ht}=$;ht.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:$}=this;if(!$)return;const{animation:ht,keyframes:vt,duration:bt,type:wt,ease:At,times:Et}=$;if(!(ht.playState==="idle"||ht.playState==="finished")){if(this.time){const{motionValue:St,onUpdate:Ct,onComplete:xt,...Pt}=this.options,kt=new MainThreadAnimation({...Pt,keyframes:vt,duration:bt,type:wt,ease:At,times:Et,isGenerator:!0}),Rt=secondsToMilliseconds(this.time);St.setWithVelocity(kt.sample(Rt-sampleDelta).value,kt.sample(Rt).value,sampleDelta)}this.cancel()}}complete(){const{resolved:$}=this;$&&$.animation.finish()}cancel(){const{resolved:$}=this;$&&$.animation.cancel()}static supports($){const{motionValue:ht,name:vt,repeatDelay:bt,repeatType:wt,damping:At,type:Et}=$;return supportsWaapi()&&vt&&acceleratedValues.has(vt)&&ht&&ht.owner&&ht.owner.current instanceof HTMLElement&&!ht.owner.getProps().onUpdate&&!bt&&wt!=="mirror"&&At!==0&&Et!=="inertia"}}function observeTimeline(_e,$){let ht;const vt=()=>{const{currentTime:bt}=$,At=(bt===null?0:bt.value)/100;ht!==At&&_e(At),ht=At};return frame.update(vt,!0),()=>cancelFrame(vt)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor($){this.stop=()=>this.runAll("stop"),this.animations=$.filter(Boolean)}then($,ht){return Promise.all(this.animations).then($).catch(ht)}getAll($){return this.animations[0][$]}setAll($,ht){for(let vt=0;vt<this.animations.length;vt++)this.animations[vt][$]=ht}attachTimeline($){const ht=this.animations.map(vt=>{if(supportsScrollTimeline()&&vt.attachTimeline)vt.attachTimeline($);else return vt.pause(),observeTimeline(bt=>{vt.time=vt.duration*bt},$)});return()=>{ht.forEach((vt,bt)=>{vt&&vt(),this.animations[bt].stop()})}}get time(){return this.getAll("time")}set time($){this.setAll("time",$)}get speed(){return this.getAll("speed")}set speed($){this.setAll("speed",$)}get duration(){let $=0;for(let ht=0;ht<this.animations.length;ht++)$=Math.max($,this.animations[ht].duration);return $}runAll($){this.animations.forEach(ht=>ht[$]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(_e,$,ht,vt={},bt,wt)=>At=>{const Et=getValueTransition(vt,_e)||{},St=Et.delay||vt.delay||0;let{elapsed:Ct=0}=vt;Ct=Ct-secondsToMilliseconds(St);let xt={keyframes:Array.isArray(ht)?ht:[null,ht],ease:"easeOut",velocity:$.getVelocity(),...Et,delay:-Ct,onUpdate:kt=>{$.set(kt),Et.onUpdate&&Et.onUpdate(kt)},onComplete:()=>{At(),Et.onComplete&&Et.onComplete()},name:_e,motionValue:$,element:wt?void 0:bt};isTransitionDefined(Et)||(xt={...xt,...getDefaultTransition(_e,xt)}),xt.duration&&(xt.duration=secondsToMilliseconds(xt.duration)),xt.repeatDelay&&(xt.repeatDelay=secondsToMilliseconds(xt.repeatDelay)),xt.from!==void 0&&(xt.keyframes[0]=xt.from);let Pt=!1;if((xt.type===!1||xt.duration===0&&!xt.repeatDelay)&&(xt.duration=0,xt.delay===0&&(Pt=!0)),Pt&&!wt&&$.get()!==void 0){const kt=getFinalKeyframe(xt.keyframes,Et);if(kt!==void 0)return frame.update(()=>{xt.onUpdate(kt),xt.onComplete()}),new GroupPlaybackControls([])}return!wt&&AcceleratedAnimation.supports(xt)?new AcceleratedAnimation(xt):new MainThreadAnimation(xt)};function isWillChangeMotionValue(_e){return!!(isMotionValue(_e)&&_e.add)}function addUniqueItem(_e,$){_e.indexOf($)===-1&&_e.push($)}function removeItem(_e,$){const ht=_e.indexOf($);ht>-1&&_e.splice(ht,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add($){return addUniqueItem(this.subscriptions,$),()=>removeItem(this.subscriptions,$)}notify($,ht,vt){const bt=this.subscriptions.length;if(bt)if(bt===1)this.subscriptions[0]($,ht,vt);else for(let wt=0;wt<bt;wt++){const At=this.subscriptions[wt];At&&At($,ht,vt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=_e=>!isNaN(parseFloat(_e));class MotionValue{constructor($,ht={}){this.version="11.2.13",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(vt,bt=!0)=>{const wt=time.now();this.updatedAt!==wt&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(vt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),bt&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent($),this.owner=ht.owner}setCurrent($){this.current=$,this.updatedAt=time.now(),this.canTrackVelocity===null&&$!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue($=this.current){this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt}onChange($){return this.on("change",$)}on($,ht){this.events[$]||(this.events[$]=new SubscriptionManager);const vt=this.events[$].add(ht);return $==="change"?()=>{vt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:vt}clearListeners(){for(const $ in this.events)this.events[$].clear()}attach($,ht){this.passiveEffect=$,this.stopPassiveEffect=ht}set($,ht=!0){!ht||!this.passiveEffect?this.updateAndNotify($,ht):this.passiveEffect($,this.updateAndNotify)}setWithVelocity($,ht,vt){this.set(ht),this.prev=void 0,this.prevFrameValue=$,this.prevUpdatedAt=this.updatedAt-vt}jump($,ht=!0){this.updateAndNotify($),this.prev=$,this.prevUpdatedAt=this.prevFrameValue=void 0,ht&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const $=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||$-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const ht=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),ht)}start($){return this.stop(),new Promise(ht=>{this.hasAnimated=!0,this.animation=$(ht),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_e,$){return new MotionValue(_e,$)}function setMotionValue(_e,$,ht){_e.hasValue($)?_e.getValue($).set(ht):_e.addValue($,motionValue(ht))}function setTarget(_e,$){const ht=resolveVariant(_e,$);let{transitionEnd:vt={},transition:bt={},...wt}=ht||{};wt={...wt,...vt};for(const At in wt){const Et=resolveFinalValueInKeyframes(wt[At]);setMotionValue(_e,At,Et)}}function getOptimisedAppearId(_e){return _e.getProps()[optimizedAppearDataAttribute]}function shouldBlockAnimation({protectedKeys:_e,needsAnimating:$},ht){const vt=_e.hasOwnProperty(ht)&&$[ht]!==!0;return $[ht]=!1,vt}function animateTarget(_e,$,{delay:ht=0,transitionOverride:vt,type:bt}={}){var wt;let{transition:At=_e.getDefaultTransition(),transitionEnd:Et,...St}=$;const Ct=_e.getValue("willChange");vt&&(At=vt);const xt=[],Pt=bt&&_e.animationState&&_e.animationState.getState()[bt];for(const kt in St){const Rt=_e.getValue(kt,(wt=_e.latestValues[kt])!==null&&wt!==void 0?wt:null),Mt=St[kt];if(Mt===void 0||Pt&&shouldBlockAnimation(Pt,kt))continue;const Ft={delay:ht,elapsed:0,...getValueTransition(At||{},kt)};let $t=!1;if(window.HandoffAppearAnimations){const Dt=getOptimisedAppearId(_e);if(Dt){const Ot=window.HandoffAppearAnimations(Dt,kt,Rt,frame);Ot!==null&&(Ft.elapsed=Ot,$t=!0)}}Rt.start(animateMotionValue(kt,Rt,Mt,_e.shouldReduceMotion&&transformProps.has(kt)?{type:!1}:Ft,_e,$t));const Lt=Rt.animation;Lt&&(isWillChangeMotionValue(Ct)&&(Ct.add(kt),Lt.then(()=>Ct.remove(kt))),xt.push(Lt))}return Et&&Promise.all(xt).then(()=>{frame.update(()=>{Et&&setTarget(_e,Et)})}),xt}function animateVariant(_e,$,ht={}){var vt;const bt=resolveVariant(_e,$,ht.type==="exit"?(vt=_e.presenceContext)===null||vt===void 0?void 0:vt.custom:void 0);let{transition:wt=_e.getDefaultTransition()||{}}=bt||{};ht.transitionOverride&&(wt=ht.transitionOverride);const At=bt?()=>Promise.all(animateTarget(_e,bt,ht)):()=>Promise.resolve(),Et=_e.variantChildren&&_e.variantChildren.size?(Ct=0)=>{const{delayChildren:xt=0,staggerChildren:Pt,staggerDirection:kt}=wt;return animateChildren(_e,$,xt+Ct,Pt,kt,ht)}:()=>Promise.resolve(),{when:St}=wt;if(St){const[Ct,xt]=St==="beforeChildren"?[At,Et]:[Et,At];return Ct().then(()=>xt())}else return Promise.all([At(),Et(ht.delay)])}function animateChildren(_e,$,ht=0,vt=0,bt=1,wt){const At=[],Et=(_e.variantChildren.size-1)*vt,St=bt===1?(Ct=0)=>Ct*vt:(Ct=0)=>Et-Ct*vt;return Array.from(_e.variantChildren).sort(sortByTreeOrder).forEach((Ct,xt)=>{Ct.notify("AnimationStart",$),At.push(animateVariant(Ct,$,{...wt,delay:ht+St(xt)}).then(()=>Ct.notify("AnimationComplete",$)))}),Promise.all(At)}function sortByTreeOrder(_e,$){return _e.sortNodePosition($)}function animateVisualElement(_e,$,ht={}){_e.notify("AnimationStart",$);let vt;if(Array.isArray($)){const bt=$.map(wt=>animateVariant(_e,wt,ht));vt=Promise.all(bt)}else if(typeof $=="string")vt=animateVariant(_e,$,ht);else{const bt=typeof $=="function"?resolveVariant(_e,$,ht.custom):$;vt=Promise.all(animateTarget(_e,bt,ht))}return vt.then(()=>{frame.postRender(()=>{_e.notify("AnimationComplete",$)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_e){return $=>Promise.all($.map(({animation:ht,options:vt})=>animateVisualElement(_e,ht,vt)))}function createAnimationState(_e){let $=animateList(_e),ht=createState(),vt=!0;const bt=St=>(Ct,xt)=>{var Pt;const kt=resolveVariant(_e,xt,St==="exit"?(Pt=_e.presenceContext)===null||Pt===void 0?void 0:Pt.custom:void 0);if(kt){const{transition:Rt,transitionEnd:Mt,...Ft}=kt;Ct={...Ct,...Ft,...Mt}}return Ct};function wt(St){$=St(_e)}function At(St){const Ct=_e.getProps(),xt=_e.getVariantContext(!0)||{},Pt=[],kt=new Set;let Rt={},Mt=1/0;for(let $t=0;$t<numAnimationTypes;$t++){const Lt=reversePriorityOrder[$t],Dt=ht[Lt],Ot=Ct[Lt]!==void 0?Ct[Lt]:xt[Lt],Bt=isVariantLabel(Ot),Nt=Lt===St?Dt.isActive:null;Nt===!1&&(Mt=$t);let Ht=Ot===xt[Lt]&&Ot!==Ct[Lt]&&Bt;if(Ht&&vt&&_e.manuallyAnimateOnMount&&(Ht=!1),Dt.protectedKeys={...Rt},!Dt.isActive&&Nt===null||!Ot&&!Dt.prevProp||isAnimationControls(Ot)||typeof Ot=="boolean")continue;let jt=checkVariantsDidChange(Dt.prevProp,Ot)||Lt===St&&Dt.isActive&&!Ht&&Bt||$t>Mt&&Bt,qt=!1;const Jt=Array.isArray(Ot)?Ot:[Ot];let Gt=Jt.reduce(bt(Lt),{});Nt===!1&&(Gt={});const{prevResolvedValues:en={}}=Dt,an={...en,...Gt},Sn=cn=>{jt=!0,kt.has(cn)&&(qt=!0,kt.delete(cn)),Dt.needsAnimating[cn]=!0;const An=_e.getValue(cn);An&&(An.liveStyle=!1)};for(const cn in an){const An=Gt[cn],dn=en[cn];if(Rt.hasOwnProperty(cn))continue;let fn=!1;isKeyframesTarget(An)&&isKeyframesTarget(dn)?fn=!shallowCompare(An,dn):fn=An!==dn,fn?An!=null?Sn(cn):kt.add(cn):An!==void 0&&kt.has(cn)?Sn(cn):Dt.protectedKeys[cn]=!0}Dt.prevProp=Ot,Dt.prevResolvedValues=Gt,Dt.isActive&&(Rt={...Rt,...Gt}),vt&&_e.blockInitialAnimation&&(jt=!1),jt&&(!Ht||qt)&&Pt.push(...Jt.map(cn=>({animation:cn,options:{type:Lt}})))}if(kt.size){const $t={};kt.forEach(Lt=>{const Dt=_e.getBaseTarget(Lt),Ot=_e.getValue(Lt);Ot&&(Ot.liveStyle=!0),$t[Lt]=Dt??null}),Pt.push({animation:$t})}let Ft=!!Pt.length;return vt&&(Ct.initial===!1||Ct.initial===Ct.animate)&&!_e.manuallyAnimateOnMount&&(Ft=!1),vt=!1,Ft?$(Pt):Promise.resolve()}function Et(St,Ct){var xt;if(ht[St].isActive===Ct)return Promise.resolve();(xt=_e.variantChildren)===null||xt===void 0||xt.forEach(kt=>{var Rt;return(Rt=kt.animationState)===null||Rt===void 0?void 0:Rt.setActive(St,Ct)}),ht[St].isActive=Ct;const Pt=At(St);for(const kt in ht)ht[kt].protectedKeys={};return Pt}return{animateChanges:At,setActive:Et,setAnimateFunction:wt,getState:()=>ht,reset:()=>{ht=createState(),vt=!0}}}function checkVariantsDidChange(_e,$){return typeof $=="string"?$!==_e:Array.isArray($)?!shallowCompare($,_e):!1}function createTypeState(_e=!1){return{isActive:_e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor($){super($),$.animationState||($.animationState=createAnimationState($))}updateAnimationControlsSubscription(){const{animate:$}=this.node.getProps();isAnimationControls($)&&(this.unmountControls=$.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:$}=this.node.getProps(),{animate:ht}=this.node.prevProps||{};$!==ht&&this.updateAnimationControlsSubscription()}unmount(){var $;this.node.animationState.reset(),($=this.unmountControls)===null||$===void 0||$.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:$,onExitComplete:ht}=this.node.presenceContext,{isPresent:vt}=this.node.prevPresenceContext||{};if(!this.node.animationState||$===vt)return;const bt=this.node.animationState.setActive("exit",!$);ht&&!$&&bt.then(()=>ht(this.id))}mount(){const{register:$}=this.node.presenceContext||{};$&&(this.unmount=$(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(_e,$)=>Math.abs(_e-$);function distance2D(_e,$){const ht=distance(_e.x,$.x),vt=distance(_e.y,$.y);return Math.sqrt(ht**2+vt**2)}class PanSession{constructor($,ht,{transformPagePoint:vt,contextWindow:bt,dragSnapToOrigin:wt=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Pt=getPanInfo(this.lastMoveEventInfo,this.history),kt=this.startEvent!==null,Rt=distance2D(Pt.offset,{x:0,y:0})>=3;if(!kt&&!Rt)return;const{point:Mt}=Pt,{timestamp:Ft}=frameData;this.history.push({...Mt,timestamp:Ft});const{onStart:$t,onMove:Lt}=this.handlers;kt||($t&&$t(this.lastMoveEvent,Pt),this.startEvent=this.lastMoveEvent),Lt&&Lt(this.lastMoveEvent,Pt)},this.handlePointerMove=(Pt,kt)=>{this.lastMoveEvent=Pt,this.lastMoveEventInfo=transformPoint(kt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Pt,kt)=>{this.end();const{onEnd:Rt,onSessionEnd:Mt,resumeAnimation:Ft}=this.handlers;if(this.dragSnapToOrigin&&Ft&&Ft(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $t=getPanInfo(Pt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(kt,this.transformPagePoint),this.history);this.startEvent&&Rt&&Rt(Pt,$t),Mt&&Mt(Pt,$t)},!isPrimaryPointer($))return;this.dragSnapToOrigin=wt,this.handlers=ht,this.transformPagePoint=vt,this.contextWindow=bt||window;const At=extractEventInfo($),Et=transformPoint(At,this.transformPagePoint),{point:St}=Et,{timestamp:Ct}=frameData;this.history=[{...St,timestamp:Ct}];const{onSessionStart:xt}=ht;xt&&xt($,getPanInfo(Et,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers($){this.handlers=$}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(_e,$){return $?{point:$(_e.point)}:_e}function subtractPoint(_e,$){return{x:_e.x-$.x,y:_e.y-$.y}}function getPanInfo({point:_e},$){return{point:_e,delta:subtractPoint(_e,lastDevicePoint($)),offset:subtractPoint(_e,startDevicePoint($)),velocity:getVelocity($,.1)}}function startDevicePoint(_e){return _e[0]}function lastDevicePoint(_e){return _e[_e.length-1]}function getVelocity(_e,$){if(_e.length<2)return{x:0,y:0};let ht=_e.length-1,vt=null;const bt=lastDevicePoint(_e);for(;ht>=0&&(vt=_e[ht],!(bt.timestamp-vt.timestamp>secondsToMilliseconds($)));)ht--;if(!vt)return{x:0,y:0};const wt=millisecondsToSeconds(bt.timestamp-vt.timestamp);if(wt===0)return{x:0,y:0};const At={x:(bt.x-vt.x)/wt,y:(bt.y-vt.y)/wt};return At.x===1/0&&(At.x=0),At.y===1/0&&(At.y=0),At}function calcLength(_e){return _e.max-_e.min}function isNear(_e,$=0,ht=.01){return Math.abs(_e-$)<=ht}function calcAxisDelta(_e,$,ht,vt=.5){_e.origin=vt,_e.originPoint=mixNumber$1($.min,$.max,_e.origin),_e.scale=calcLength(ht)/calcLength($),(isNear(_e.scale,1,1e-4)||isNaN(_e.scale))&&(_e.scale=1),_e.translate=mixNumber$1(ht.min,ht.max,_e.origin)-_e.originPoint,(isNear(_e.translate)||isNaN(_e.translate))&&(_e.translate=0)}function calcBoxDelta(_e,$,ht,vt){calcAxisDelta(_e.x,$.x,ht.x,vt?vt.originX:void 0),calcAxisDelta(_e.y,$.y,ht.y,vt?vt.originY:void 0)}function calcRelativeAxis(_e,$,ht){_e.min=ht.min+$.min,_e.max=_e.min+calcLength($)}function calcRelativeBox(_e,$,ht){calcRelativeAxis(_e.x,$.x,ht.x),calcRelativeAxis(_e.y,$.y,ht.y)}function calcRelativeAxisPosition(_e,$,ht){_e.min=$.min-ht.min,_e.max=_e.min+calcLength($)}function calcRelativePosition(_e,$,ht){calcRelativeAxisPosition(_e.x,$.x,ht.x),calcRelativeAxisPosition(_e.y,$.y,ht.y)}function applyConstraints(_e,{min:$,max:ht},vt){return $!==void 0&&_e<$?_e=vt?mixNumber$1($,_e,vt.min):Math.max(_e,$):ht!==void 0&&_e>ht&&(_e=vt?mixNumber$1(ht,_e,vt.max):Math.min(_e,ht)),_e}function calcRelativeAxisConstraints(_e,$,ht){return{min:$!==void 0?_e.min+$:void 0,max:ht!==void 0?_e.max+ht-(_e.max-_e.min):void 0}}function calcRelativeConstraints(_e,{top:$,left:ht,bottom:vt,right:bt}){return{x:calcRelativeAxisConstraints(_e.x,ht,bt),y:calcRelativeAxisConstraints(_e.y,$,vt)}}function calcViewportAxisConstraints(_e,$){let ht=$.min-_e.min,vt=$.max-_e.max;return $.max-$.min<_e.max-_e.min&&([ht,vt]=[vt,ht]),{min:ht,max:vt}}function calcViewportConstraints(_e,$){return{x:calcViewportAxisConstraints(_e.x,$.x),y:calcViewportAxisConstraints(_e.y,$.y)}}function calcOrigin(_e,$){let ht=.5;const vt=calcLength(_e),bt=calcLength($);return bt>vt?ht=progress($.min,$.max-vt,_e.min):vt>bt&&(ht=progress(_e.min,_e.max-bt,$.min)),clamp(0,1,ht)}function rebaseAxisConstraints(_e,$){const ht={};return $.min!==void 0&&(ht.min=$.min-_e.min),$.max!==void 0&&(ht.max=$.max-_e.min),ht}const defaultElastic=.35;function resolveDragElastic(_e=defaultElastic){return _e===!1?_e=0:_e===!0&&(_e=defaultElastic),{x:resolveAxisElastic(_e,"left","right"),y:resolveAxisElastic(_e,"top","bottom")}}function resolveAxisElastic(_e,$,ht){return{min:resolvePointElastic(_e,$),max:resolvePointElastic(_e,ht)}}function resolvePointElastic(_e,$){return typeof _e=="number"?_e:_e[$]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_e){return[_e("x"),_e("y")]}function convertBoundingBoxToBox({top:_e,left:$,right:ht,bottom:vt}){return{x:{min:$,max:ht},y:{min:_e,max:vt}}}function convertBoxToBoundingBox({x:_e,y:$}){return{top:$.min,right:_e.max,bottom:$.max,left:_e.min}}function transformBoxPoints(_e,$){if(!$)return _e;const ht=$({x:_e.left,y:_e.top}),vt=$({x:_e.right,y:_e.bottom});return{top:ht.y,left:ht.x,bottom:vt.y,right:vt.x}}function isIdentityScale(_e){return _e===void 0||_e===1}function hasScale({scale:_e,scaleX:$,scaleY:ht}){return!isIdentityScale(_e)||!isIdentityScale($)||!isIdentityScale(ht)}function hasTransform(_e){return hasScale(_e)||has2DTranslate(_e)||_e.z||_e.rotate||_e.rotateX||_e.rotateY||_e.skewX||_e.skewY}function has2DTranslate(_e){return is2DTranslate(_e.x)||is2DTranslate(_e.y)}function is2DTranslate(_e){return _e&&_e!=="0%"}function scalePoint(_e,$,ht){const vt=_e-ht,bt=$*vt;return ht+bt}function applyPointDelta(_e,$,ht,vt,bt){return bt!==void 0&&(_e=scalePoint(_e,bt,vt)),scalePoint(_e,ht,vt)+$}function applyAxisDelta(_e,$=0,ht=1,vt,bt){_e.min=applyPointDelta(_e.min,$,ht,vt,bt),_e.max=applyPointDelta(_e.max,$,ht,vt,bt)}function applyBoxDelta(_e,{x:$,y:ht}){applyAxisDelta(_e.x,$.translate,$.scale,$.originPoint),applyAxisDelta(_e.y,ht.translate,ht.scale,ht.originPoint)}function applyTreeDeltas(_e,$,ht,vt=!1){const bt=ht.length;if(!bt)return;$.x=$.y=1;let wt,At;for(let Et=0;Et<bt;Et++){wt=ht[Et],At=wt.projectionDelta;const St=wt.instance;St&&St.style&&St.style.display==="contents"||(vt&&wt.options.layoutScroll&&wt.scroll&&wt!==wt.root&&transformBox(_e,{x:-wt.scroll.offset.x,y:-wt.scroll.offset.y}),At&&($.x*=At.x.scale,$.y*=At.y.scale,applyBoxDelta(_e,At)),vt&&hasTransform(wt.latestValues)&&transformBox(_e,wt.latestValues))}$.x=snapToDefault($.x),$.y=snapToDefault($.y)}function snapToDefault(_e){return Number.isInteger(_e)||_e>1.0000000000001||_e<.999999999999?_e:1}function translateAxis(_e,$){_e.min=_e.min+$,_e.max=_e.max+$}function transformAxis(_e,$,[ht,vt,bt]){const wt=$[bt]!==void 0?$[bt]:.5,At=mixNumber$1(_e.min,_e.max,wt);applyAxisDelta(_e,$[ht],$[vt],At,$.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_e,$){transformAxis(_e.x,$,xKeys$1),transformAxis(_e.y,$,yKeys$1)}function measureViewportBox(_e,$){return convertBoundingBoxToBox(transformBoxPoints(_e.getBoundingClientRect(),$))}function measurePageBox(_e,$,ht){const vt=measureViewportBox(_e,ht),{scroll:bt}=$;return bt&&(translateAxis(vt.x,bt.offset.x),translateAxis(vt.y,bt.offset.y)),vt}const getContextWindow=({current:_e})=>_e?_e.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor($){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=$}start($,{snapToCursor:ht=!1}={}){const{presenceContext:vt}=this.visualElement;if(vt&&vt.isPresent===!1)return;const bt=xt=>{const{dragSnapToOrigin:Pt}=this.getProps();Pt?this.pauseAnimation():this.stopAnimation(),ht&&this.snapToCursor(extractEventInfo(xt,"page").point)},wt=(xt,Pt)=>{const{drag:kt,dragPropagation:Rt,onDragStart:Mt}=this.getProps();if(kt&&!Rt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(kt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis($t=>{let Lt=this.getAxisMotionValue($t).get()||0;if(percent.test(Lt)){const{projection:Dt}=this.visualElement;if(Dt&&Dt.layout){const Ot=Dt.layout.layoutBox[$t];Ot&&(Lt=calcLength(Ot)*(parseFloat(Lt)/100))}}this.originPoint[$t]=Lt}),Mt&&frame.postRender(()=>Mt(xt,Pt));const{animationState:Ft}=this.visualElement;Ft&&Ft.setActive("whileDrag",!0)},At=(xt,Pt)=>{const{dragPropagation:kt,dragDirectionLock:Rt,onDirectionLock:Mt,onDrag:Ft}=this.getProps();if(!kt&&!this.openGlobalLock)return;const{offset:$t}=Pt;if(Rt&&this.currentDirection===null){this.currentDirection=getCurrentDirection($t),this.currentDirection!==null&&Mt&&Mt(this.currentDirection);return}this.updateAxis("x",Pt.point,$t),this.updateAxis("y",Pt.point,$t),this.visualElement.render(),Ft&&Ft(xt,Pt)},Et=(xt,Pt)=>this.stop(xt,Pt),St=()=>eachAxis(xt=>{var Pt;return this.getAnimationState(xt)==="paused"&&((Pt=this.getAxisMotionValue(xt).animation)===null||Pt===void 0?void 0:Pt.play())}),{dragSnapToOrigin:Ct}=this.getProps();this.panSession=new PanSession($,{onSessionStart:bt,onStart:wt,onMove:At,onSessionEnd:Et,resumeAnimation:St},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:Ct,contextWindow:getContextWindow(this.visualElement)})}stop($,ht){const vt=this.isDragging;if(this.cancel(),!vt)return;const{velocity:bt}=ht;this.startAnimation(bt);const{onDragEnd:wt}=this.getProps();wt&&frame.postRender(()=>wt($,ht))}cancel(){this.isDragging=!1;const{projection:$,animationState:ht}=this.visualElement;$&&($.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:vt}=this.getProps();!vt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),ht&&ht.setActive("whileDrag",!1)}updateAxis($,ht,vt){const{drag:bt}=this.getProps();if(!vt||!shouldDrag($,bt,this.currentDirection))return;const wt=this.getAxisMotionValue($);let At=this.originPoint[$]+vt[$];this.constraints&&this.constraints[$]&&(At=applyConstraints(At,this.constraints[$],this.elastic[$])),wt.set(At)}resolveConstraints(){var $;const{dragConstraints:ht,dragElastic:vt}=this.getProps(),bt=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):($=this.visualElement.projection)===null||$===void 0?void 0:$.layout,wt=this.constraints;ht&&isRefObject(ht)?this.constraints||(this.constraints=this.resolveRefConstraints()):ht&&bt?this.constraints=calcRelativeConstraints(bt.layoutBox,ht):this.constraints=!1,this.elastic=resolveDragElastic(vt),wt!==this.constraints&&bt&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(At=>{this.constraints!==!1&&this.getAxisMotionValue(At)&&(this.constraints[At]=rebaseAxisConstraints(bt.layoutBox[At],this.constraints[At]))})}resolveRefConstraints(){const{dragConstraints:$,onMeasureDragConstraints:ht}=this.getProps();if(!$||!isRefObject($))return!1;const vt=$.current,{projection:bt}=this.visualElement;if(!bt||!bt.layout)return!1;const wt=measurePageBox(vt,bt.root,this.visualElement.getTransformPagePoint());let At=calcViewportConstraints(bt.layout.layoutBox,wt);if(ht){const Et=ht(convertBoxToBoundingBox(At));this.hasMutatedConstraints=!!Et,Et&&(At=convertBoundingBoxToBox(Et))}return At}startAnimation($){const{drag:ht,dragMomentum:vt,dragElastic:bt,dragTransition:wt,dragSnapToOrigin:At,onDragTransitionEnd:Et}=this.getProps(),St=this.constraints||{},Ct=eachAxis(xt=>{if(!shouldDrag(xt,ht,this.currentDirection))return;let Pt=St&&St[xt]||{};At&&(Pt={min:0,max:0});const kt=bt?200:1e6,Rt=bt?40:1e7,Mt={type:"inertia",velocity:vt?$[xt]:0,bounceStiffness:kt,bounceDamping:Rt,timeConstant:750,restDelta:1,restSpeed:10,...wt,...Pt};return this.startAxisValueAnimation(xt,Mt)});return Promise.all(Ct).then(Et)}startAxisValueAnimation($,ht){const vt=this.getAxisMotionValue($);return vt.start(animateMotionValue($,vt,0,ht,this.visualElement))}stopAnimation(){eachAxis($=>this.getAxisMotionValue($).stop())}pauseAnimation(){eachAxis($=>{var ht;return(ht=this.getAxisMotionValue($).animation)===null||ht===void 0?void 0:ht.pause()})}getAnimationState($){var ht;return(ht=this.getAxisMotionValue($).animation)===null||ht===void 0?void 0:ht.state}getAxisMotionValue($){const ht=`_drag${$.toUpperCase()}`,vt=this.visualElement.getProps(),bt=vt[ht];return bt||this.visualElement.getValue($,(vt.initial?vt.initial[$]:void 0)||0)}snapToCursor($){eachAxis(ht=>{const{drag:vt}=this.getProps();if(!shouldDrag(ht,vt,this.currentDirection))return;const{projection:bt}=this.visualElement,wt=this.getAxisMotionValue(ht);if(bt&&bt.layout){const{min:At,max:Et}=bt.layout.layoutBox[ht];wt.set($[ht]-mixNumber$1(At,Et,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:$,dragConstraints:ht}=this.getProps(),{projection:vt}=this.visualElement;if(!isRefObject(ht)||!vt||!this.constraints)return;this.stopAnimation();const bt={x:0,y:0};eachAxis(At=>{const Et=this.getAxisMotionValue(At);if(Et&&this.constraints!==!1){const St=Et.get();bt[At]=calcOrigin({min:St,max:St},this.constraints[At])}});const{transformTemplate:wt}=this.visualElement.getProps();this.visualElement.current.style.transform=wt?wt({},""):"none",vt.root&&vt.root.updateScroll(),vt.updateLayout(),this.resolveConstraints(),eachAxis(At=>{if(!shouldDrag(At,$,null))return;const Et=this.getAxisMotionValue(At),{min:St,max:Ct}=this.constraints[At];Et.set(mixNumber$1(St,Ct,bt[At]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const $=this.visualElement.current,ht=addPointerEvent($,"pointerdown",St=>{const{drag:Ct,dragListener:xt=!0}=this.getProps();Ct&&xt&&this.start(St)}),vt=()=>{const{dragConstraints:St}=this.getProps();isRefObject(St)&&St.current&&(this.constraints=this.resolveRefConstraints())},{projection:bt}=this.visualElement,wt=bt.addEventListener("measure",vt);bt&&!bt.layout&&(bt.root&&bt.root.updateScroll(),bt.updateLayout()),frame.read(vt);const At=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Et=bt.addEventListener("didUpdate",({delta:St,hasLayoutChanged:Ct})=>{this.isDragging&&Ct&&(eachAxis(xt=>{const Pt=this.getAxisMotionValue(xt);Pt&&(this.originPoint[xt]+=St[xt].translate,Pt.set(Pt.get()+St[xt].translate))}),this.visualElement.render())});return()=>{At(),ht(),wt(),Et&&Et()}}getProps(){const $=this.visualElement.getProps(),{drag:ht=!1,dragDirectionLock:vt=!1,dragPropagation:bt=!1,dragConstraints:wt=!1,dragElastic:At=defaultElastic,dragMomentum:Et=!0}=$;return{...$,drag:ht,dragDirectionLock:vt,dragPropagation:bt,dragConstraints:wt,dragElastic:At,dragMomentum:Et}}}function shouldDrag(_e,$,ht){return($===!0||$===_e)&&(ht===null||ht===_e)}function getCurrentDirection(_e,$=10){let ht=null;return Math.abs(_e.y)>$?ht="y":Math.abs(_e.x)>$&&(ht="x"),ht}class DragGesture extends Feature{constructor($){super($),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls($)}mount(){const{dragControls:$}=this.node.getProps();$&&(this.removeGroupControls=$.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=_e=>($,ht)=>{_e&&frame.postRender(()=>_e($,ht))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown($){this.session=new PanSession($,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:$,onPanStart:ht,onPan:vt,onPanEnd:bt}=this.node.getProps();return{onSessionStart:asyncHandler($),onStart:asyncHandler(ht),onMove:vt,onEnd:(wt,At)=>{delete this.session,bt&&frame.postRender(()=>bt(wt,At))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",$=>this.onPointerDown($))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:$,onExitComplete:ht,register:vt}=_e,bt=reactExports.useId();return reactExports.useEffect(()=>vt(bt),[]),!$&&ht?[!1,()=>ht&&ht(bt)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(_e,$){return $.max===$.min?0:_e/($.max-$.min)*100}const correctBorderRadius={correct:(_e,$)=>{if(!$.target)return _e;if(typeof _e=="string")if(px.test(_e))_e=parseFloat(_e);else return _e;const ht=pixelsToPercent(_e,$.target.x),vt=pixelsToPercent(_e,$.target.y);return`${ht}% ${vt}%`}},correctBoxShadow={correct:(_e,{treeScale:$,projectionDelta:ht})=>{const vt=_e,bt=complex.parse(_e);if(bt.length>5)return vt;const wt=complex.createTransformer(_e),At=typeof bt[0]!="number"?1:0,Et=ht.x.scale*$.x,St=ht.y.scale*$.y;bt[0+At]/=Et,bt[1+At]/=St;const Ct=mixNumber$1(Et,St,.5);return typeof bt[2+At]=="number"&&(bt[2+At]/=Ct),typeof bt[3+At]=="number"&&(bt[3+At]/=Ct),wt(bt)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:$,layoutGroup:ht,switchLayoutGroup:vt,layoutId:bt}=this.props,{projection:wt}=$;addScaleCorrector(defaultScaleCorrectors),wt&&(ht.group&&ht.group.add(wt),vt&&vt.register&&bt&&vt.register(wt),wt.root.didUpdate(),wt.addEventListener("animationComplete",()=>{this.safeToRemove()}),wt.setOptions({...wt.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate($){const{layoutDependency:ht,visualElement:vt,drag:bt,isPresent:wt}=this.props,At=vt.projection;return At&&(At.isPresent=wt,bt||$.layoutDependency!==ht||ht===void 0?At.willUpdate():this.safeToRemove(),$.isPresent!==wt&&(wt?At.promote():At.relegate()||frame.postRender(()=>{const Et=At.getStack();(!Et||!Et.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:$}=this.props.visualElement;$&&($.root.didUpdate(),microtask.postRender(()=>{!$.currentAnimation&&$.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:$,layoutGroup:ht,switchLayoutGroup:vt}=this.props,{projection:bt}=$;bt&&(bt.scheduleCheckAfterUnmount(),ht&&ht.group&&ht.group.remove(bt),vt&&vt.deregister&&vt.deregister(bt))}safeToRemove(){const{safeToRemove:$}=this.props;$&&$()}render(){return null}}function MeasureLayout(_e){const[$,ht]=usePresence(),vt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{..._e,layoutGroup:vt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:$,safeToRemove:ht})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=_e=>typeof _e=="string"?parseFloat(_e):_e,isPx=_e=>typeof _e=="number"||px.test(_e);function mixValues(_e,$,ht,vt,bt,wt){bt?(_e.opacity=mixNumber$1(0,ht.opacity!==void 0?ht.opacity:1,easeCrossfadeIn(vt)),_e.opacityExit=mixNumber$1($.opacity!==void 0?$.opacity:1,0,easeCrossfadeOut(vt))):wt&&(_e.opacity=mixNumber$1($.opacity!==void 0?$.opacity:1,ht.opacity!==void 0?ht.opacity:1,vt));for(let At=0;At<numBorders;At++){const Et=`border${borders[At]}Radius`;let St=getRadius($,Et),Ct=getRadius(ht,Et);if(St===void 0&&Ct===void 0)continue;St||(St=0),Ct||(Ct=0),St===0||Ct===0||isPx(St)===isPx(Ct)?(_e[Et]=Math.max(mixNumber$1(asNumber(St),asNumber(Ct),vt),0),(percent.test(Ct)||percent.test(St))&&(_e[Et]+="%")):_e[Et]=Ct}($.rotate||ht.rotate)&&(_e.rotate=mixNumber$1($.rotate||0,ht.rotate||0,vt))}function getRadius(_e,$){return _e[$]!==void 0?_e[$]:_e.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(_e,$,ht){return vt=>vt<_e?0:vt>$?1:ht(progress(_e,$,vt))}function copyAxisInto(_e,$){_e.min=$.min,_e.max=$.max}function copyBoxInto(_e,$){copyAxisInto(_e.x,$.x),copyAxisInto(_e.y,$.y)}function removePointDelta(_e,$,ht,vt,bt){return _e-=$,_e=scalePoint(_e,1/ht,vt),bt!==void 0&&(_e=scalePoint(_e,1/bt,vt)),_e}function removeAxisDelta(_e,$=0,ht=1,vt=.5,bt,wt=_e,At=_e){if(percent.test($)&&($=parseFloat($),$=mixNumber$1(At.min,At.max,$/100)-At.min),typeof $!="number")return;let Et=mixNumber$1(wt.min,wt.max,vt);_e===wt&&(Et-=$),_e.min=removePointDelta(_e.min,$,ht,Et,bt),_e.max=removePointDelta(_e.max,$,ht,Et,bt)}function removeAxisTransforms(_e,$,[ht,vt,bt],wt,At){removeAxisDelta(_e,$[ht],$[vt],$[bt],$.scale,wt,At)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_e,$,ht,vt){removeAxisTransforms(_e.x,$,xKeys,ht?ht.x:void 0,vt?vt.x:void 0),removeAxisTransforms(_e.y,$,yKeys,ht?ht.y:void 0,vt?vt.y:void 0)}function isAxisDeltaZero(_e){return _e.translate===0&&_e.scale===1}function isDeltaZero(_e){return isAxisDeltaZero(_e.x)&&isAxisDeltaZero(_e.y)}function boxEquals(_e,$){return _e.x.min===$.x.min&&_e.x.max===$.x.max&&_e.y.min===$.y.min&&_e.y.max===$.y.max}function boxEqualsRounded(_e,$){return Math.round(_e.x.min)===Math.round($.x.min)&&Math.round(_e.x.max)===Math.round($.x.max)&&Math.round(_e.y.min)===Math.round($.y.min)&&Math.round(_e.y.max)===Math.round($.y.max)}function aspectRatio(_e){return calcLength(_e.x)/calcLength(_e.y)}class NodeStack{constructor(){this.members=[]}add($){addUniqueItem(this.members,$),$.scheduleRender()}remove($){if(removeItem(this.members,$),$===this.prevLead&&(this.prevLead=void 0),$===this.lead){const ht=this.members[this.members.length-1];ht&&this.promote(ht)}}relegate($){const ht=this.members.findIndex(bt=>$===bt);if(ht===0)return!1;let vt;for(let bt=ht;bt>=0;bt--){const wt=this.members[bt];if(wt.isPresent!==!1){vt=wt;break}}return vt?(this.promote(vt),!0):!1}promote($,ht){const vt=this.lead;if($!==vt&&(this.prevLead=vt,this.lead=$,$.show(),vt)){vt.instance&&vt.scheduleRender(),$.scheduleRender(),$.resumeFrom=vt,ht&&($.resumeFrom.preserveOpacity=!0),vt.snapshot&&($.snapshot=vt.snapshot,$.snapshot.latestValues=vt.animationValues||vt.latestValues),$.root&&$.root.isUpdating&&($.isLayoutDirty=!0);const{crossfade:bt}=$.options;bt===!1&&vt.hide()}}exitAnimationComplete(){this.members.forEach($=>{const{options:ht,resumingFrom:vt}=$;ht.onExitComplete&&ht.onExitComplete(),vt&&vt.options.onExitComplete&&vt.options.onExitComplete()})}scheduleRender(){this.members.forEach($=>{$.instance&&$.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_e,$,ht){let vt="";const bt=_e.x.translate/$.x,wt=_e.y.translate/$.y,At=(ht==null?void 0:ht.z)||0;if((bt||wt||At)&&(vt=`translate3d(${bt}px, ${wt}px, ${At}px) `),($.x!==1||$.y!==1)&&(vt+=`scale(${1/$.x}, ${1/$.y}) `),ht){const{transformPerspective:Ct,rotate:xt,rotateX:Pt,rotateY:kt,skewX:Rt,skewY:Mt}=ht;Ct&&(vt=`perspective(${Ct}px) ${vt}`),xt&&(vt+=`rotate(${xt}deg) `),Pt&&(vt+=`rotateX(${Pt}deg) `),kt&&(vt+=`rotateY(${kt}deg) `),Rt&&(vt+=`skewX(${Rt}deg) `),Mt&&(vt+=`skewY(${Mt}deg) `)}const Et=_e.x.scale*$.x,St=_e.y.scale*$.y;return(Et!==1||St!==1)&&(vt+=`scale(${Et}, ${St})`),vt||"none"}const compareByDepth=(_e,$)=>_e.depth-$.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add($){addUniqueItem(this.children,$),this.isDirty=!0}remove($){removeItem(this.children,$),this.isDirty=!0}forEach($){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach($)}}function delay(_e,$){const ht=time.now(),vt=({timestamp:bt})=>{const wt=bt-ht;wt>=$&&(cancelFrame(vt),_e(wt-$))};return frame.read(vt,!0),()=>cancelFrame(vt)}function record(_e){window.MotionDebug&&window.MotionDebug.record(_e)}function isSVGElement(_e){return _e instanceof SVGElement&&_e.tagName!=="svg"}function animateSingleValue(_e,$,ht){const vt=isMotionValue(_e)?_e:motionValue(_e);return vt.start(animateMotionValue("",vt,$,ht)),vt.animation}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;const projectionFrameData={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function resetDistortingTransform(_e,$,ht,vt){const{latestValues:bt}=$;bt[_e]&&(ht[_e]=bt[_e],$.setStaticValue(_e,0),vt&&(vt[_e]=0))}function isOptimisedAppearTree(_e){if(_e.hasCheckedOptimisedAppear=!0,_e.root===_e)return!1;const{visualElement:$}=_e.options;return $?getOptimisedAppearId($)?!0:_e.parent&&!_e.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(_e.parent):!1:!1}function createProjectionNode({attachResizeListener:_e,defaultParent:$,measureScroll:ht,checkIsScrollRoot:vt,resetTransform:bt}){return class{constructor(At={},Et=$==null?void 0:$()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,projectionFrameData.totalNodes=projectionFrameData.resolvedTargetDeltas=projectionFrameData.recalculatedProjection=0,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),record(projectionFrameData)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=At,this.root=Et?Et.root||Et:this,this.path=Et?[...Et.path,Et]:[],this.parent=Et,this.depth=Et?Et.depth+1:0;for(let St=0;St<this.path.length;St++)this.path[St].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(At,Et){return this.eventHandlers.has(At)||this.eventHandlers.set(At,new SubscriptionManager),this.eventHandlers.get(At).add(Et)}notifyListeners(At,...Et){const St=this.eventHandlers.get(At);St&&St.notify(...Et)}hasListeners(At){return this.eventHandlers.has(At)}mount(At,Et=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(At),this.instance=At;const{layoutId:St,layout:Ct,visualElement:xt}=this.options;if(xt&&!xt.current&&xt.mount(At),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Et&&(Ct||St)&&(this.isLayoutDirty=!0),_e){let Pt;const kt=()=>this.root.updateBlockedByResize=!1;_e(At,()=>{this.root.updateBlockedByResize=!0,Pt&&Pt(),Pt=delay(kt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}St&&this.root.registerSharedNode(St,this),this.options.animate!==!1&&xt&&(St||Ct)&&this.addEventListener("didUpdate",({delta:Pt,hasLayoutChanged:kt,hasRelativeTargetChanged:Rt,layout:Mt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ft=this.options.transition||xt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:$t,onLayoutAnimationComplete:Lt}=xt.getProps(),Dt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Mt)||Rt,Ot=!kt&&Rt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Ot||kt&&(Dt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(Pt,Ot);const Bt={...getValueTransition(Ft,"layout"),onPlay:$t,onComplete:Lt};(xt.shouldReduceMotion||this.options.layoutRoot)&&(Bt.delay=0,Bt.type=!1),this.startAnimation(Bt)}else kt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Mt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const At=this.getStack();At&&At.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:At}=this.options;return At&&At.getProps().transformTemplate}willUpdate(At=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let xt=0;xt<this.path.length;xt++){const Pt=this.path[xt];Pt.shouldResetTransform=!0,Pt.updateScroll("snapshot"),Pt.options.layoutRoot&&Pt.willUpdate(!1)}const{layoutId:Et,layout:St}=this.options;if(Et===void 0&&!St)return;const Ct=this.getTransformTemplate();this.prevTransformTemplateValue=Ct?Ct(this.latestValues,""):void 0,this.updateSnapshot(),At&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Et=time.now();frameData.delta=clamp(0,1e3/60,Et-frameData.timestamp),frameData.timestamp=Et,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let St=0;St<this.path.length;St++)this.path[St].updateScroll();const At=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Et}=this.options;Et&&Et.notify("LayoutMeasure",this.layout.layoutBox,At?At.layoutBox:void 0)}updateScroll(At="measure"){let Et=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===At&&(Et=!1),Et&&(this.scroll={animationId:this.root.animationId,phase:At,isRoot:vt(this.instance),offset:ht(this.instance)})}resetTransform(){if(!bt)return;const At=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Et=this.projectionDelta&&!isDeltaZero(this.projectionDelta),St=this.getTransformTemplate(),Ct=St?St(this.latestValues,""):void 0,xt=Ct!==this.prevTransformTemplateValue;At&&(Et||hasTransform(this.latestValues)||xt)&&(bt(this.instance,Ct),this.shouldResetTransform=!1,this.scheduleRender())}measure(At=!0){const Et=this.measurePageBox();let St=this.removeElementScroll(Et);return At&&(St=this.removeTransform(St)),roundBox(St),{animationId:this.root.animationId,measuredBox:Et,layoutBox:St,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:At}=this.options;if(!At)return createBox();const Et=At.measureViewportBox(),{scroll:St}=this.root;return St&&(translateAxis(Et.x,St.offset.x),translateAxis(Et.y,St.offset.y)),Et}removeElementScroll(At){const Et=createBox();copyBoxInto(Et,At);for(let St=0;St<this.path.length;St++){const Ct=this.path[St],{scroll:xt,options:Pt}=Ct;if(Ct!==this.root&&xt&&Pt.layoutScroll){if(xt.isRoot){copyBoxInto(Et,At);const{scroll:kt}=this.root;kt&&(translateAxis(Et.x,-kt.offset.x),translateAxis(Et.y,-kt.offset.y))}translateAxis(Et.x,xt.offset.x),translateAxis(Et.y,xt.offset.y)}}return Et}applyTransform(At,Et=!1){const St=createBox();copyBoxInto(St,At);for(let Ct=0;Ct<this.path.length;Ct++){const xt=this.path[Ct];!Et&&xt.options.layoutScroll&&xt.scroll&&xt!==xt.root&&transformBox(St,{x:-xt.scroll.offset.x,y:-xt.scroll.offset.y}),hasTransform(xt.latestValues)&&transformBox(St,xt.latestValues)}return hasTransform(this.latestValues)&&transformBox(St,this.latestValues),St}removeTransform(At){const Et=createBox();copyBoxInto(Et,At);for(let St=0;St<this.path.length;St++){const Ct=this.path[St];if(!Ct.instance||!hasTransform(Ct.latestValues))continue;hasScale(Ct.latestValues)&&Ct.updateSnapshot();const xt=createBox(),Pt=Ct.measurePageBox();copyBoxInto(xt,Pt),removeBoxTransforms(Et,Ct.latestValues,Ct.snapshot?Ct.snapshot.layoutBox:void 0,xt)}return hasTransform(this.latestValues)&&removeBoxTransforms(Et,this.latestValues),Et}setTargetDelta(At){this.targetDelta=At,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(At){this.options={...this.options,...At,crossfade:At.crossfade!==void 0?At.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(At=!1){var Et;const St=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=St.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=St.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=St.isSharedProjectionDirty);const Ct=!!this.resumingFrom||this!==St;if(!(At||Ct&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Et=this.parent)===null||Et===void 0)&&Et.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:Pt,layoutId:kt}=this.options;if(!(!this.layout||!(Pt||kt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Rt=this.getClosestProjectingParent();Rt&&Rt.layout&&this.animationProgress!==1?(this.relativeParent=Rt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Rt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const Rt=this.getClosestProjectingParent();Rt&&!!Rt.resumingFrom==!!this.resumingFrom&&!Rt.options.layoutScroll&&Rt.target&&this.animationProgress!==1?(this.relativeParent=Rt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Rt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}projectionFrameData.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var At;const Et=this.getLead(),St=!!this.resumingFrom||this!==Et;let Ct=!0;if((this.isProjectionDirty||!((At=this.parent)===null||At===void 0)&&At.isProjectionDirty)&&(Ct=!1),St&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Ct=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Ct=!1),Ct)return;const{layout:xt,layoutId:Pt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(xt||Pt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const kt=this.treeScale.x,Rt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,St),Et.layout&&!Et.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Et.target=Et.layout.layoutBox,Et.targetWithTransforms=createBox());const{target:Mt}=Et;if(!Mt){this.projectionTransform&&(this.projectionDelta=createDelta(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const Ft=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,Mt,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==Ft||this.treeScale.x!==kt||this.treeScale.y!==Rt)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Mt)),projectionFrameData.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(At=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),At){const Et=this.getStack();Et&&Et.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(At,Et=!1){const St=this.snapshot,Ct=St?St.latestValues:{},xt={...this.latestValues},Pt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Et;const kt=createBox(),Rt=St?St.source:void 0,Mt=this.layout?this.layout.source:void 0,Ft=Rt!==Mt,$t=this.getStack(),Lt=!$t||$t.members.length<=1,Dt=!!(Ft&&!Lt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Ot;this.mixTargetDelta=Bt=>{const Nt=Bt/1e3;mixAxisDelta(Pt.x,At.x,Nt),mixAxisDelta(Pt.y,At.y,Nt),this.setTargetDelta(Pt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(kt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,kt,Nt),Ot&&boxEquals(this.relativeTarget,Ot)&&(this.isProjectionDirty=!1),Ot||(Ot=createBox()),copyBoxInto(Ot,this.relativeTarget)),Ft&&(this.animationValues=xt,mixValues(xt,Ct,this.latestValues,Nt,Dt,Lt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(At){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...At,onUpdate:Et=>{this.mixTargetDelta(Et),At.onUpdate&&At.onUpdate(Et)},onComplete:()=>{At.onComplete&&At.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const At=this.getStack();At&&At.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const At=this.getLead();let{targetWithTransforms:Et,target:St,layout:Ct,latestValues:xt}=At;if(!(!Et||!St||!Ct)){if(this!==At&&this.layout&&Ct&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Ct.layoutBox)){St=this.target||createBox();const Pt=calcLength(this.layout.layoutBox.x);St.x.min=At.target.x.min,St.x.max=St.x.min+Pt;const kt=calcLength(this.layout.layoutBox.y);St.y.min=At.target.y.min,St.y.max=St.y.min+kt}copyBoxInto(Et,St),transformBox(Et,xt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Et,xt)}}registerSharedNode(At,Et){this.sharedNodes.has(At)||this.sharedNodes.set(At,new NodeStack),this.sharedNodes.get(At).add(Et);const Ct=Et.options.initialPromotionConfig;Et.promote({transition:Ct?Ct.transition:void 0,preserveFollowOpacity:Ct&&Ct.shouldPreserveFollowOpacity?Ct.shouldPreserveFollowOpacity(Et):void 0})}isLead(){const At=this.getStack();return At?At.lead===this:!0}getLead(){var At;const{layoutId:Et}=this.options;return Et?((At=this.getStack())===null||At===void 0?void 0:At.lead)||this:this}getPrevLead(){var At;const{layoutId:Et}=this.options;return Et?(At=this.getStack())===null||At===void 0?void 0:At.prevLead:void 0}getStack(){const{layoutId:At}=this.options;if(At)return this.root.sharedNodes.get(At)}promote({needsReset:At,transition:Et,preserveFollowOpacity:St}={}){const Ct=this.getStack();Ct&&Ct.promote(this,St),At&&(this.projectionDelta=void 0,this.needsReset=!0),Et&&this.setOptions({transition:Et})}relegate(){const At=this.getStack();return At?At.relegate(this):!1}resetSkewAndRotation(){const{visualElement:At}=this.options;if(!At)return;let Et=!1;const{latestValues:St}=At;if((St.z||St.rotate||St.rotateX||St.rotateY||St.rotateZ||St.skewX||St.skewY)&&(Et=!0),!Et)return;const Ct={};St.z&&resetDistortingTransform("z",At,Ct,this.animationValues);for(let xt=0;xt<transformAxes.length;xt++)resetDistortingTransform(`rotate${transformAxes[xt]}`,At,Ct,this.animationValues),resetDistortingTransform(`skew${transformAxes[xt]}`,At,Ct,this.animationValues);At.render();for(const xt in Ct)At.setStaticValue(xt,Ct[xt]),this.animationValues&&(this.animationValues[xt]=Ct[xt]);At.scheduleRender()}getProjectionStyles(At){var Et,St;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const Ct={visibility:""},xt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Ct.opacity="",Ct.pointerEvents=resolveMotionValue(At==null?void 0:At.pointerEvents)||"",Ct.transform=xt?xt(this.latestValues,""):"none",Ct;const Pt=this.getLead();if(!this.projectionDelta||!this.layout||!Pt.target){const Ft={};return this.options.layoutId&&(Ft.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Ft.pointerEvents=resolveMotionValue(At==null?void 0:At.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Ft.transform=xt?xt({},""):"none",this.hasProjected=!1),Ft}const kt=Pt.animationValues||Pt.latestValues;this.applyTransformsToTarget(),Ct.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,kt),xt&&(Ct.transform=xt(kt,Ct.transform));const{x:Rt,y:Mt}=this.projectionDelta;Ct.transformOrigin=`${Rt.origin*100}% ${Mt.origin*100}% 0`,Pt.animationValues?Ct.opacity=Pt===this?(St=(Et=kt.opacity)!==null&&Et!==void 0?Et:this.latestValues.opacity)!==null&&St!==void 0?St:1:this.preserveOpacity?this.latestValues.opacity:kt.opacityExit:Ct.opacity=Pt===this?kt.opacity!==void 0?kt.opacity:"":kt.opacityExit!==void 0?kt.opacityExit:0;for(const Ft in scaleCorrectors){if(kt[Ft]===void 0)continue;const{correct:$t,applyTo:Lt}=scaleCorrectors[Ft],Dt=Ct.transform==="none"?kt[Ft]:$t(kt[Ft],Pt);if(Lt){const Ot=Lt.length;for(let Bt=0;Bt<Ot;Bt++)Ct[Lt[Bt]]=Dt}else Ct[Ft]=Dt}return this.options.layoutId&&(Ct.pointerEvents=Pt===this?resolveMotionValue(At==null?void 0:At.pointerEvents)||"":"none"),Ct}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(At=>{var Et;return(Et=At.currentAnimation)===null||Et===void 0?void 0:Et.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_e){_e.updateLayout()}function notifyLayoutUpdate(_e){var $;const ht=(($=_e.resumeFrom)===null||$===void 0?void 0:$.snapshot)||_e.snapshot;if(_e.isLead()&&_e.layout&&ht&&_e.hasListeners("didUpdate")){const{layoutBox:vt,measuredBox:bt}=_e.layout,{animationType:wt}=_e.options,At=ht.source!==_e.layout.source;wt==="size"?eachAxis(Pt=>{const kt=At?ht.measuredBox[Pt]:ht.layoutBox[Pt],Rt=calcLength(kt);kt.min=vt[Pt].min,kt.max=kt.min+Rt}):shouldAnimatePositionOnly(wt,ht.layoutBox,vt)&&eachAxis(Pt=>{const kt=At?ht.measuredBox[Pt]:ht.layoutBox[Pt],Rt=calcLength(vt[Pt]);kt.max=kt.min+Rt,_e.relativeTarget&&!_e.currentAnimation&&(_e.isProjectionDirty=!0,_e.relativeTarget[Pt].max=_e.relativeTarget[Pt].min+Rt)});const Et=createDelta();calcBoxDelta(Et,vt,ht.layoutBox);const St=createDelta();At?calcBoxDelta(St,_e.applyTransform(bt,!0),ht.measuredBox):calcBoxDelta(St,vt,ht.layoutBox);const Ct=!isDeltaZero(Et);let xt=!1;if(!_e.resumeFrom){const Pt=_e.getClosestProjectingParent();if(Pt&&!Pt.resumeFrom){const{snapshot:kt,layout:Rt}=Pt;if(kt&&Rt){const Mt=createBox();calcRelativePosition(Mt,ht.layoutBox,kt.layoutBox);const Ft=createBox();calcRelativePosition(Ft,vt,Rt.layoutBox),boxEqualsRounded(Mt,Ft)||(xt=!0),Pt.options.layoutRoot&&(_e.relativeTarget=Ft,_e.relativeTargetOrigin=Mt,_e.relativeParent=Pt)}}}_e.notifyListeners("didUpdate",{layout:vt,snapshot:ht,delta:St,layoutDelta:Et,hasLayoutChanged:Ct,hasRelativeTargetChanged:xt})}else if(_e.isLead()){const{onExitComplete:vt}=_e.options;vt&&vt()}_e.options.transition=void 0}function propagateDirtyNodes(_e){projectionFrameData.totalNodes++,_e.parent&&(_e.isProjecting()||(_e.isProjectionDirty=_e.parent.isProjectionDirty),_e.isSharedProjectionDirty||(_e.isSharedProjectionDirty=!!(_e.isProjectionDirty||_e.parent.isProjectionDirty||_e.parent.isSharedProjectionDirty)),_e.isTransformDirty||(_e.isTransformDirty=_e.parent.isTransformDirty))}function cleanDirtyNodes(_e){_e.isProjectionDirty=_e.isSharedProjectionDirty=_e.isTransformDirty=!1}function clearSnapshot(_e){_e.clearSnapshot()}function clearMeasurements(_e){_e.clearMeasurements()}function clearIsLayoutDirty(_e){_e.isLayoutDirty=!1}function resetTransformStyle(_e){const{visualElement:$}=_e.options;$&&$.getProps().onBeforeLayoutMeasure&&$.notify("BeforeLayoutMeasure"),_e.resetTransform()}function finishAnimation(_e){_e.finishAnimation(),_e.targetDelta=_e.relativeTarget=_e.target=void 0,_e.isProjectionDirty=!0}function resolveTargetDelta(_e){_e.resolveTargetDelta()}function calcProjection(_e){_e.calcProjection()}function resetSkewAndRotation(_e){_e.resetSkewAndRotation()}function removeLeadSnapshots(_e){_e.removeLeadSnapshot()}function mixAxisDelta(_e,$,ht){_e.translate=mixNumber$1($.translate,0,ht),_e.scale=mixNumber$1($.scale,1,ht),_e.origin=$.origin,_e.originPoint=$.originPoint}function mixAxis(_e,$,ht,vt){_e.min=mixNumber$1($.min,ht.min,vt),_e.max=mixNumber$1($.max,ht.max,vt)}function mixBox(_e,$,ht,vt){mixAxis(_e.x,$.x,ht.x,vt),mixAxis(_e.y,$.y,ht.y,vt)}function hasOpacityCrossfade(_e){return _e.animationValues&&_e.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=_e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(_e),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(_e){_e.min=roundPoint(_e.min),_e.max=roundPoint(_e.max)}function roundBox(_e){roundAxis(_e.x),roundAxis(_e.y)}function shouldAnimatePositionOnly(_e,$,ht){return _e==="position"||_e==="preserve-aspect"&&!isNear(aspectRatio($),aspectRatio(ht),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_e,$)=>addDomEvent(_e,"resize",$),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_e=>({x:_e.scrollLeft,y:_e.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _e=new DocumentProjectionNode({});_e.mount(window),_e.setOptions({layoutScroll:!0}),rootProjectionNode.current=_e}return rootProjectionNode.current},resetTransform:(_e,$)=>{_e.style.transform=$!==void 0?$:"none"},checkIsScrollRoot:_e=>window.getComputedStyle(_e).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const _e=window.matchMedia("(prefers-reduced-motion)"),$=()=>prefersReducedMotion.current=_e.matches;_e.addListener($),$()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_e,$,ht){const{willChange:vt}=$;for(const bt in $){const wt=$[bt],At=ht[bt];if(isMotionValue(wt))_e.addValue(bt,wt),isWillChangeMotionValue(vt)&&vt.add(bt);else if(isMotionValue(At))_e.addValue(bt,motionValue(wt,{owner:_e})),isWillChangeMotionValue(vt)&&vt.remove(bt);else if(At!==wt)if(_e.hasValue(bt)){const Et=_e.getValue(bt);Et.liveStyle===!0?Et.jump(wt):Et.hasAnimated||Et.set(wt)}else{const Et=_e.getStaticValue(bt);_e.addValue(bt,motionValue(Et!==void 0?Et:wt,{owner:_e}))}}for(const bt in ht)$[bt]===void 0&&_e.removeValue(bt);return $}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=_e=>valueTypes.find(testValueType(_e)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps($,ht,vt){return{}}constructor({parent:$,props:ht,presenceContext:vt,reducedMotionConfig:bt,blockInitialAnimation:wt,visualState:At},Et={}){this.resolveKeyframes=(kt,Rt,Mt,Ft)=>new this.KeyframeResolver(kt,Rt,Mt,Ft,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>frame.render(this.render,!1,!0);const{latestValues:St,renderState:Ct}=At;this.latestValues=St,this.baseTarget={...St},this.initialValues=ht.initial?{...St}:{},this.renderState=Ct,this.parent=$,this.props=ht,this.presenceContext=vt,this.depth=$?$.depth+1:0,this.reducedMotionConfig=bt,this.options=Et,this.blockInitialAnimation=!!wt,this.isControllingVariants=isControllingVariants(ht),this.isVariantNode=isVariantNode(ht),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!($&&$.current);const{willChange:xt,...Pt}=this.scrapeMotionValuesFromProps(ht,{},this);for(const kt in Pt){const Rt=Pt[kt];St[kt]!==void 0&&isMotionValue(Rt)&&(Rt.set(St[kt],!1),isWillChangeMotionValue(xt)&&xt.add(kt))}}mount($){this.current=$,visualElementStore.set($,this),this.projection&&!this.projection.instance&&this.projection.mount($),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((ht,vt)=>this.bindToMotionValue(vt,ht)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach($=>$()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const $ in this.events)this.events[$].clear();for(const $ in this.features){const ht=this.features[$];ht&&(ht.unmount(),ht.isMounted=!1)}this.current=null}bindToMotionValue($,ht){const vt=transformProps.has($),bt=ht.on("change",At=>{this.latestValues[$]=At,this.props.onUpdate&&frame.preRender(this.notifyUpdate),vt&&this.projection&&(this.projection.isTransformDirty=!0)}),wt=ht.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set($,()=>{bt(),wt(),ht.owner&&ht.stop()})}sortNodePosition($){return!this.current||!this.sortInstanceNodePosition||this.type!==$.type?0:this.sortInstanceNodePosition(this.current,$.current)}updateFeatures(){let $="animation";for($ in featureDefinitions){const ht=featureDefinitions[$];if(!ht)continue;const{isEnabled:vt,Feature:bt}=ht;if(!this.features[$]&&bt&&vt(this.props)&&(this.features[$]=new bt(this)),this.features[$]){const wt=this.features[$];wt.isMounted?wt.update():(wt.mount(),wt.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue($){return this.latestValues[$]}setStaticValue($,ht){this.latestValues[$]=ht}update($,ht){($.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=$,this.prevPresenceContext=this.presenceContext,this.presenceContext=ht;for(let vt=0;vt<propEventHandlers.length;vt++){const bt=propEventHandlers[vt];this.propEventSubscriptions[bt]&&(this.propEventSubscriptions[bt](),delete this.propEventSubscriptions[bt]);const wt="on"+bt,At=$[wt];At&&(this.propEventSubscriptions[bt]=this.on(bt,At))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps($,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant($){return this.props.variants?this.props.variants[$]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext($=!1){if($)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const vt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(vt.initial=this.props.initial),vt}const ht={};for(let vt=0;vt<numVariantProps;vt++){const bt=variantProps[vt],wt=this.props[bt];(isVariantLabel(wt)||wt===!1)&&(ht[bt]=wt)}return ht}addVariantChild($){const ht=this.getClosestVariantNode();if(ht)return ht.variantChildren&&ht.variantChildren.add($),()=>ht.variantChildren.delete($)}addValue($,ht){const vt=this.values.get($);ht!==vt&&(vt&&this.removeValue($),this.bindToMotionValue($,ht),this.values.set($,ht),this.latestValues[$]=ht.get())}removeValue($){this.values.delete($);const ht=this.valueSubscriptions.get($);ht&&(ht(),this.valueSubscriptions.delete($)),delete this.latestValues[$],this.removeValueFromRenderState($,this.renderState)}hasValue($){return this.values.has($)}getValue($,ht){if(this.props.values&&this.props.values[$])return this.props.values[$];let vt=this.values.get($);return vt===void 0&&ht!==void 0&&(vt=motionValue(ht===null?void 0:ht,{owner:this}),this.addValue($,vt)),vt}readValue($,ht){var vt;let bt=this.latestValues[$]!==void 0||!this.current?this.latestValues[$]:(vt=this.getBaseTargetFromProps(this.props,$))!==null&&vt!==void 0?vt:this.readValueFromInstance(this.current,$,this.options);return bt!=null&&(typeof bt=="string"&&(isNumericalString(bt)||isZeroValueString(bt))?bt=parseFloat(bt):!findValueType(bt)&&complex.test(ht)&&(bt=getAnimatableNone($,ht)),this.setBaseTarget($,isMotionValue(bt)?bt.get():bt)),isMotionValue(bt)?bt.get():bt}setBaseTarget($,ht){this.baseTarget[$]=ht}getBaseTarget($){var ht;const{initial:vt}=this.props;let bt;if(typeof vt=="string"||typeof vt=="object"){const At=resolveVariantFromProps(this.props,vt,(ht=this.presenceContext)===null||ht===void 0?void 0:ht.custom);At&&(bt=At[$])}if(vt&&bt!==void 0)return bt;const wt=this.getBaseTargetFromProps(this.props,$);return wt!==void 0&&!isMotionValue(wt)?wt:this.initialValues[$]!==void 0&&bt===void 0?void 0:this.baseTarget[$]}on($,ht){return this.events[$]||(this.events[$]=new SubscriptionManager),this.events[$].add(ht)}notify($,...ht){this.events[$]&&this.events[$].notify(...ht)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition($,ht){return $.compareDocumentPosition(ht)&2?1:-1}getBaseTargetFromProps($,ht){return $.style?$.style[ht]:void 0}removeValueFromRenderState($,{vars:ht,style:vt}){delete ht[$],delete vt[$]}}function getComputedStyle$1(_e){return window.getComputedStyle(_e)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html"}readValueFromInstance($,ht){if(transformProps.has(ht)){const vt=getDefaultValueType(ht);return vt&&vt.default||0}else{const vt=getComputedStyle$1($),bt=(isCSSVariableName(ht)?vt.getPropertyValue(ht):vt[ht])||0;return typeof bt=="string"?bt.trim():bt}}measureInstanceViewportBox($,{transformPagePoint:ht}){return measureViewportBox($,ht)}build($,ht,vt,bt){buildHTMLStyles($,ht,vt,bt.transformTemplate)}scrapeMotionValuesFromProps($,ht,vt){return scrapeMotionValuesFromProps$1($,ht,vt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:$}=this.props;isMotionValue($)&&(this.childSubscription=$.on("change",ht=>{this.current&&(this.current.textContent=`${ht}`)}))}renderInstance($,ht,vt,bt){renderHTML($,ht,vt,bt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps($,ht){return $[ht]}readValueFromInstance($,ht){if(transformProps.has(ht)){const vt=getDefaultValueType(ht);return vt&&vt.default||0}return ht=camelCaseAttributes.has(ht)?ht:camelToDash(ht),$.getAttribute(ht)}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps($,ht,vt){return scrapeMotionValuesFromProps($,ht,vt)}build($,ht,vt,bt){buildSVGAttrs($,ht,vt,this.isSVGTag,bt.transformTemplate)}renderInstance($,ht,vt,bt){renderSVG($,ht,vt,bt)}mount($){this.isSVGTag=isSVGTag($.tagName),super.mount($)}}const createDomVisualElement=(_e,$)=>isSVGComponent(_e)?new SVGVisualElement($,{enableHardwareAcceleration:!1}):new HTMLVisualElement($,{allowProjection:_e!==reactExports.Fragment,enableHardwareAcceleration:!0}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((_e,$)=>createDomMotionConfig(_e,$,preloadedFeatures,createDomVisualElement));function useIsMounted(){const _e=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(_e.current=!0,()=>{_e.current=!1}),[]),_e}function useForceUpdate(){const _e=useIsMounted(),[$,ht]=reactExports.useState(0),vt=reactExports.useCallback(()=>{_e.current&&ht($+1)},[$]);return[reactExports.useCallback(()=>frame.postRender(vt),[vt]),$]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate($){const ht=this.props.childRef.current;if(ht&&$.isPresent&&!this.props.isPresent){const vt=this.props.sizeRef.current;vt.height=ht.offsetHeight||0,vt.width=ht.offsetWidth||0,vt.top=ht.offsetTop,vt.left=ht.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_e,isPresent:$}){const ht=reactExports.useId(),vt=reactExports.useRef(null),bt=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:wt}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:At,height:Et,top:St,left:Ct}=bt.current;if($||!vt.current||!At||!Et)return;vt.current.dataset.motionPopId=ht;const xt=document.createElement("style");return wt&&(xt.nonce=wt),document.head.appendChild(xt),xt.sheet&&xt.sheet.insertRule(`
          [data-motion-pop-id="${ht}"] {
            position: absolute !important;
            width: ${At}px !important;
            height: ${Et}px !important;
            top: ${St}px !important;
            left: ${Ct}px !important;
          }
        `),()=>{document.head.removeChild(xt)}},[$]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:$,childRef:vt,sizeRef:bt,children:reactExports.cloneElement(_e,{ref:vt})})}const PresenceChild=({children:_e,initial:$,isPresent:ht,onExitComplete:vt,custom:bt,presenceAffectsLayout:wt,mode:At})=>{const Et=useConstant(newChildrenMap),St=reactExports.useId(),Ct=reactExports.useMemo(()=>({id:St,initial:$,isPresent:ht,custom:bt,onExitComplete:xt=>{Et.set(xt,!0);for(const Pt of Et.values())if(!Pt)return;vt&&vt()},register:xt=>(Et.set(xt,!1),()=>Et.delete(xt))}),wt?[Math.random()]:[ht]);return reactExports.useMemo(()=>{Et.forEach((xt,Pt)=>Et.set(Pt,!1))},[ht]),reactExports.useEffect(()=>{!ht&&!Et.size&&vt&&vt()},[ht]),At==="popLayout"&&(_e=jsxRuntimeExports.jsx(PopChild,{isPresent:ht,children:_e})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Ct,children:_e})};function newChildrenMap(){return new Map}function useUnmountEffect(_e){return reactExports.useEffect(()=>()=>_e(),[])}const getChildKey=_e=>_e.key||"";function updateChildLookup(_e,$){_e.forEach(ht=>{const vt=getChildKey(ht);$.set(vt,ht)})}function onlyElements(_e){const $=[];return reactExports.Children.forEach(_e,ht=>{reactExports.isValidElement(ht)&&$.push(ht)}),$}const AnimatePresence=({children:_e,custom:$,initial:ht=!0,onExitComplete:vt,exitBeforeEnter:bt,presenceAffectsLayout:wt=!0,mode:At="sync"})=>{const Et=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],St=useIsMounted(),Ct=onlyElements(_e);let xt=Ct;const Pt=reactExports.useRef(new Map).current,kt=reactExports.useRef(xt),Rt=reactExports.useRef(new Map).current,Mt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{Mt.current=!1,updateChildLookup(Ct,Rt),kt.current=xt}),useUnmountEffect(()=>{Mt.current=!0,Rt.clear(),Pt.clear()}),Mt.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:xt.map(Dt=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:ht?void 0:!1,presenceAffectsLayout:wt,mode:At,children:Dt},getChildKey(Dt)))});xt=[...xt];const Ft=kt.current.map(getChildKey),$t=Ct.map(getChildKey),Lt=Ft.length;for(let Dt=0;Dt<Lt;Dt++){const Ot=Ft[Dt];$t.indexOf(Ot)===-1&&!Pt.has(Ot)&&Pt.set(Ot,void 0)}return At==="wait"&&Pt.size&&(xt=[]),Pt.forEach((Dt,Ot)=>{if($t.indexOf(Ot)!==-1)return;const Bt=Rt.get(Ot);if(!Bt)return;const Nt=Ft.indexOf(Ot);let Ht=Dt;if(!Ht){const Vt=()=>{Pt.delete(Ot);const jt=Array.from(Rt.keys()).filter(qt=>!$t.includes(qt));if(jt.forEach(qt=>Rt.delete(qt)),kt.current=Ct.filter(qt=>{const Jt=getChildKey(qt);return Jt===Ot||jt.includes(Jt)}),!Pt.size){if(St.current===!1)return;Et(),vt&&vt()}};Ht=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:Vt,custom:$,presenceAffectsLayout:wt,mode:At,children:Bt},getChildKey(Bt)),Pt.set(Ot,Ht)}xt.splice(Nt,0,Ht)}),xt=xt.map(Dt=>{const Ot=Dt.key;return Pt.has(Ot)?Dt:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:wt,mode:At,children:Dt},getChildKey(Dt))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Pt.size?xt:xt.map(Dt=>reactExports.cloneElement(Dt))})},scriptRel="modulepreload",assetsURL=function(_e){return"/Oldage--Home-Management/"+_e},seen={},__vitePreload=function($,ht,vt){let bt=Promise.resolve();if(ht&&ht.length>0){document.getElementsByTagName("link");const At=document.querySelector("meta[property=csp-nonce]"),Et=(At==null?void 0:At.nonce)||(At==null?void 0:At.getAttribute("nonce"));bt=Promise.allSettled(ht.map(St=>{if(St=assetsURL(St),St in seen)return;seen[St]=!0;const Ct=St.endsWith(".css"),xt=Ct?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${St}"]${xt}`))return;const Pt=document.createElement("link");if(Pt.rel=Ct?"stylesheet":scriptRel,Ct||(Pt.as="script"),Pt.crossOrigin="",Pt.href=St,Et&&Pt.setAttribute("nonce",Et),document.head.appendChild(Pt),Ct)return new Promise((kt,Rt)=>{Pt.addEventListener("load",kt),Pt.addEventListener("error",()=>Rt(new Error(`Unable to preload CSS for ${St}`)))})}))}function wt(At){const Et=new Event("vite:preloadError",{cancelable:!0});if(Et.payload=At,window.dispatchEvent(Et),!Et.defaultPrevented)throw At}return bt.then(At=>{for(const Et of At||[])Et.status==="rejected"&&wt(Et.reason);return $().catch(wt)})};var __webpack_require__={};__webpack_require__.d=(_e,$)=>{for(var ht in $)__webpack_require__.o($,ht)&&!__webpack_require__.o(_e,ht)&&Object.defineProperty(_e,ht,{enumerable:!0,get:$[ht]})};__webpack_require__.o=(_e,$)=>Object.prototype.hasOwnProperty.call(_e,$);var __webpack_exports__=globalThis.pdfjsLib={};__webpack_require__.d(__webpack_exports__,{AbortException:()=>AbortException,AnnotationEditorLayer:()=>AnnotationEditorLayer,AnnotationEditorParamsType:()=>AnnotationEditorParamsType,AnnotationEditorType:()=>AnnotationEditorType,AnnotationEditorUIManager:()=>AnnotationEditorUIManager,AnnotationLayer:()=>AnnotationLayer,AnnotationMode:()=>AnnotationMode,CMapCompressionType:()=>CMapCompressionType,ColorPicker:()=>ColorPicker,DOMSVGFactory:()=>DOMSVGFactory,DrawLayer:()=>DrawLayer,FeatureTest:()=>util_FeatureTest,GlobalWorkerOptions:()=>GlobalWorkerOptions,ImageKind:()=>util_ImageKind,InvalidPDFException:()=>InvalidPDFException,MissingPDFException:()=>MissingPDFException,OPS:()=>OPS,Outliner:()=>Outliner,PDFDataRangeTransport:()=>PDFDataRangeTransport,PDFDateString:()=>PDFDateString,PDFWorker:()=>PDFWorker,PasswordResponses:()=>PasswordResponses,PermissionFlag:()=>PermissionFlag,PixelsPerInch:()=>PixelsPerInch,RenderingCancelledException:()=>RenderingCancelledException,TextLayer:()=>TextLayer,UnexpectedResponseException:()=>UnexpectedResponseException,Util:()=>Util,VerbosityLevel:()=>VerbosityLevel,XfaLayer:()=>XfaLayer,build:()=>build,createValidAbsoluteUrl:()=>createValidAbsoluteUrl,fetchData:()=>fetchData,getDocument:()=>getDocument,getFilenameFromUrl:()=>getFilenameFromUrl,getPdfFilenameFromUrl:()=>getPdfFilenameFromUrl,getXfaPageViewport:()=>getXfaPageViewport,isDataScheme:()=>isDataScheme,isPdfFile:()=>isPdfFile,noContextMenu:()=>noContextMenu,normalizeUnicode:()=>normalizeUnicode,renderTextLayer:()=>renderTextLayer,setLayerDimensions:()=>setLayerDimensions,shadow:()=>shadow,updateTextLayer:()=>updateTextLayer,version:()=>version});const isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(_e){Number.isInteger(_e)&&(verbosity=_e)}function getVerbosityLevel(){return verbosity}function info(_e){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${_e}`)}function warn(_e){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${_e}`)}function unreachable(_e){throw new Error(_e)}function assert(_e,$){_e||unreachable($)}function _isValidProtocol(_e){switch(_e==null?void 0:_e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(_e,$=null,ht=null){if(!_e)return null;try{if(ht&&typeof _e=="string"){if(ht.addDefaultProtocol&&_e.startsWith("www.")){const bt=_e.match(/\./g);(bt==null?void 0:bt.length)>=2&&(_e=`http://${_e}`)}if(ht.tryConvertEncoding)try{_e=stringToUTF8String(_e)}catch{}}const vt=$?new URL(_e,$):new URL(_e);if(_isValidProtocol(vt))return vt}catch{}return null}function shadow(_e,$,ht,vt=!1){return Object.defineProperty(_e,$,{value:ht,enumerable:!vt,configurable:!0,writable:!1}),ht}const BaseException=function(){function $(ht,vt){this.constructor===$&&unreachable("Cannot initialize BaseException."),this.message=ht,this.name=vt}return $.prototype=new Error,$.constructor=$,$}();class PasswordException extends BaseException{constructor($,ht){super($,"PasswordException"),this.code=ht}}class UnknownErrorException extends BaseException{constructor($,ht){super($,"UnknownErrorException"),this.details=ht}}class InvalidPDFException extends BaseException{constructor($){super($,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor($){super($,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor($,ht){super($,"UnexpectedResponseException"),this.status=ht}}class FormatError extends BaseException{constructor($){super($,"FormatError")}}class AbortException extends BaseException{constructor($){super($,"AbortException")}}function bytesToString(_e){(typeof _e!="object"||(_e==null?void 0:_e.length)===void 0)&&unreachable("Invalid argument for bytesToString");const $=_e.length,ht=8192;if($<ht)return String.fromCharCode.apply(null,_e);const vt=[];for(let bt=0;bt<$;bt+=ht){const wt=Math.min(bt+ht,$),At=_e.subarray(bt,wt);vt.push(String.fromCharCode.apply(null,At))}return vt.join("")}function stringToBytes(_e){typeof _e!="string"&&unreachable("Invalid argument for stringToBytes");const $=_e.length,ht=new Uint8Array($);for(let vt=0;vt<$;++vt)ht[vt]=_e.charCodeAt(vt)&255;return ht}function string32(_e){return String.fromCharCode(_e>>24&255,_e>>16&255,_e>>8&255,_e&255)}function objectFromMap(_e){const $=Object.create(null);for(const[ht,vt]of _e)$[ht]=vt;return $}function isLittleEndian(){const _e=new Uint8Array(4);return _e[0]=1,new Uint32Array(_e.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var $,ht;return shadow(this,"isCSSRoundSupported",(ht=($=globalThis.CSS)==null?void 0:$.supports)==null?void 0:ht.call($,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),_e=>_e.toString(16).padStart(2,"0"));var hu,d0,Tw;class Util{static makeHexColor($,ht,vt){return`#${hexNumbers[$]}${hexNumbers[ht]}${hexNumbers[vt]}`}static scaleMinMax($,ht){let vt;$[0]?($[0]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[0],ht[2]*=$[0],$[3]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[3],ht[3]*=$[3]):(vt=ht[0],ht[0]=ht[1],ht[1]=vt,vt=ht[2],ht[2]=ht[3],ht[3]=vt,$[1]<0&&(vt=ht[1],ht[1]=ht[3],ht[3]=vt),ht[1]*=$[1],ht[3]*=$[1],$[2]<0&&(vt=ht[0],ht[0]=ht[2],ht[2]=vt),ht[0]*=$[2],ht[2]*=$[2]),ht[0]+=$[4],ht[1]+=$[5],ht[2]+=$[4],ht[3]+=$[5]}static transform($,ht){return[$[0]*ht[0]+$[2]*ht[1],$[1]*ht[0]+$[3]*ht[1],$[0]*ht[2]+$[2]*ht[3],$[1]*ht[2]+$[3]*ht[3],$[0]*ht[4]+$[2]*ht[5]+$[4],$[1]*ht[4]+$[3]*ht[5]+$[5]]}static applyTransform($,ht){const vt=$[0]*ht[0]+$[1]*ht[2]+ht[4],bt=$[0]*ht[1]+$[1]*ht[3]+ht[5];return[vt,bt]}static applyInverseTransform($,ht){const vt=ht[0]*ht[3]-ht[1]*ht[2],bt=($[0]*ht[3]-$[1]*ht[2]+ht[2]*ht[5]-ht[4]*ht[3])/vt,wt=(-$[0]*ht[1]+$[1]*ht[0]+ht[4]*ht[1]-ht[5]*ht[0])/vt;return[bt,wt]}static getAxialAlignedBoundingBox($,ht){const vt=this.applyTransform($,ht),bt=this.applyTransform($.slice(2,4),ht),wt=this.applyTransform([$[0],$[3]],ht),At=this.applyTransform([$[2],$[1]],ht);return[Math.min(vt[0],bt[0],wt[0],At[0]),Math.min(vt[1],bt[1],wt[1],At[1]),Math.max(vt[0],bt[0],wt[0],At[0]),Math.max(vt[1],bt[1],wt[1],At[1])]}static inverseTransform($){const ht=$[0]*$[3]-$[1]*$[2];return[$[3]/ht,-$[1]/ht,-$[2]/ht,$[0]/ht,($[2]*$[5]-$[4]*$[3])/ht,($[4]*$[1]-$[5]*$[0])/ht]}static singularValueDecompose2dScale($){const ht=[$[0],$[2],$[1],$[3]],vt=$[0]*ht[0]+$[1]*ht[2],bt=$[0]*ht[1]+$[1]*ht[3],wt=$[2]*ht[0]+$[3]*ht[2],At=$[2]*ht[1]+$[3]*ht[3],Et=(vt+At)/2,St=Math.sqrt((vt+At)**2-4*(vt*At-wt*bt))/2,Ct=Et+St||1,xt=Et-St||1;return[Math.sqrt(Ct),Math.sqrt(xt)]}static normalizeRect($){const ht=$.slice(0);return $[0]>$[2]&&(ht[0]=$[2],ht[2]=$[0]),$[1]>$[3]&&(ht[1]=$[3],ht[3]=$[1]),ht}static intersect($,ht){const vt=Math.max(Math.min($[0],$[2]),Math.min(ht[0],ht[2])),bt=Math.min(Math.max($[0],$[2]),Math.max(ht[0],ht[2]));if(vt>bt)return null;const wt=Math.max(Math.min($[1],$[3]),Math.min(ht[1],ht[3])),At=Math.min(Math.max($[1],$[3]),Math.max(ht[1],ht[3]));return wt>At?null:[vt,wt,bt,At]}static bezierBoundingBox($,ht,vt,bt,wt,At,Et,St,Ct){return Ct?(Ct[0]=Math.min(Ct[0],$,Et),Ct[1]=Math.min(Ct[1],ht,St),Ct[2]=Math.max(Ct[2],$,Et),Ct[3]=Math.max(Ct[3],ht,St)):Ct=[Math.min($,Et),Math.min(ht,St),Math.max($,Et),Math.max(ht,St)],Ut(this,hu,Tw).call(this,$,vt,wt,Et,ht,bt,At,St,3*(-$+3*(vt-wt)+Et),6*($-2*vt+wt),3*(vt-$),Ct),Ut(this,hu,Tw).call(this,$,vt,wt,Et,ht,bt,At,St,3*(-ht+3*(bt-At)+St),6*(ht-2*bt+At),3*(bt-ht),Ct),Ct}}hu=new WeakSet,d0=function($,ht,vt,bt,wt,At,Et,St,Ct,xt){if(Ct<=0||Ct>=1)return;const Pt=1-Ct,kt=Ct*Ct,Rt=kt*Ct,Mt=Pt*(Pt*(Pt*$+3*Ct*ht)+3*kt*vt)+Rt*bt,Ft=Pt*(Pt*(Pt*wt+3*Ct*At)+3*kt*Et)+Rt*St;xt[0]=Math.min(xt[0],Mt),xt[1]=Math.min(xt[1],Ft),xt[2]=Math.max(xt[2],Mt),xt[3]=Math.max(xt[3],Ft)},Tw=function($,ht,vt,bt,wt,At,Et,St,Ct,xt,Pt,kt){if(Math.abs(Ct)<1e-12){Math.abs(xt)>=1e-12&&Ut(this,hu,d0).call(this,$,ht,vt,bt,wt,At,Et,St,-Pt/xt,kt);return}const Rt=xt**2-4*Pt*Ct;if(Rt<0)return;const Mt=Math.sqrt(Rt),Ft=2*Ct;Ut(this,hu,d0).call(this,$,ht,vt,bt,wt,At,Et,St,(-xt+Mt)/Ft,kt),Ut(this,hu,d0).call(this,$,ht,vt,bt,wt,At,Et,St,(-xt-Mt)/Ft,kt)},Kt(Util,hu);function stringToUTF8String(_e){return decodeURIComponent(escape(_e))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(_e){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ﬅ","ſt"]])),_e.replaceAll(NormalizeRegex,($,ht,vt)=>ht?ht.normalize("NFKC"):NormalizationMap.get(vt))}function getUuid(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const _e=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(_e);else for(let $=0;$<32;$++)_e[$]=Math.floor(Math.random()*255);return bytesToString(_e)}const AnnotationPrefix="pdfjs_internal_id_",FontRenderOps={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class BaseFilterFactory{constructor(){this.constructor===BaseFilterFactory&&unreachable("Cannot initialize BaseFilterFactory.")}addFilter($){return"none"}addHCMFilter($,ht){return"none"}addAlphaFilter($){return"none"}addLuminosityFilter($){return"none"}addHighlightHCMFilter($,ht,vt,bt,wt){return"none"}destroy($=!1){}}class BaseCanvasFactory{constructor(){this.constructor===BaseCanvasFactory&&unreachable("Cannot initialize BaseCanvasFactory.")}create($,ht){if($<=0||ht<=0)throw new Error("Invalid canvas size");const vt=this._createCanvas($,ht);return{canvas:vt,context:vt.getContext("2d")}}reset($,ht,vt){if(!$.canvas)throw new Error("Canvas is not specified");if(ht<=0||vt<=0)throw new Error("Invalid canvas size");$.canvas.width=ht,$.canvas.height=vt}destroy($){if(!$.canvas)throw new Error("Canvas is not specified");$.canvas.width=0,$.canvas.height=0,$.canvas=null,$.context=null}_createCanvas($,ht){unreachable("Abstract method `_createCanvas` called.")}}class BaseCMapReaderFactory{constructor({baseUrl:$=null,isCompressed:ht=!0}){this.constructor===BaseCMapReaderFactory&&unreachable("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=$,this.isCompressed=ht}async fetch({name:$}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!$)throw new Error("CMap name must be specified.");const ht=this.baseUrl+$+(this.isCompressed?".bcmap":""),vt=this.isCompressed?CMapCompressionType.BINARY:CMapCompressionType.NONE;return this._fetchData(ht,vt).catch(bt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ht}`)})}_fetchData($,ht){unreachable("Abstract method `_fetchData` called.")}}class BaseStandardFontDataFactory{constructor({baseUrl:$=null}){this.constructor===BaseStandardFontDataFactory&&unreachable("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=$}async fetch({filename:$}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!$)throw new Error("Font filename must be specified.");const ht=`${this.baseUrl}${$}`;return this._fetchData(ht).catch(vt=>{throw new Error(`Unable to load font data at: ${ht}`)})}_fetchData($){unreachable("Abstract method `_fetchData` called.")}}class BaseSVGFactory{constructor(){this.constructor===BaseSVGFactory&&unreachable("Cannot initialize BaseSVGFactory.")}create($,ht,vt=!1){if($<=0||ht<=0)throw new Error("Invalid SVG dimensions");const bt=this._createSVG("svg:svg");return bt.setAttribute("version","1.1"),vt||(bt.setAttribute("width",`${$}px`),bt.setAttribute("height",`${ht}px`)),bt.setAttribute("preserveAspectRatio","none"),bt.setAttribute("viewBox",`0 0 ${$} ${ht}`),bt}createElement($){if(typeof $!="string")throw new Error("Invalid SVG element type");return this._createSVG($)}_createSVG($){unreachable("Abstract method `_createSVG` called.")}}const SVG_NS="http://www.w3.org/2000/svg",Qu=class Qu{};xr(Qu,"CSS",96),xr(Qu,"PDF",72),xr(Qu,"PDF_TO_CSS_UNITS",Qu.CSS/Qu.PDF);let PixelsPerInch=Qu;var _d,xa,Hl,wo,X0,_h,Fr,uo,Zp,Qp,h0,TE,Pw,Jp,iv,rv,kw,sv;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:ht,ownerDocument:vt=globalThis.document}={}){super();Kt(this,Fr);Kt(this,_d);Kt(this,xa);Kt(this,Hl);Kt(this,wo);Kt(this,X0);Kt(this,_h,0);zt(this,Hl,ht),zt(this,wo,vt)}addFilter(ht){if(!ht)return"none";let vt=_t(this,Fr,uo).get(ht);if(vt)return vt;const[bt,wt,At]=Ut(this,Fr,h0).call(this,ht),Et=ht.length===1?bt:`${bt}${wt}${At}`;if(vt=_t(this,Fr,uo).get(Et),vt)return _t(this,Fr,uo).set(ht,vt),vt;const St=`g_${_t(this,Hl)}_transfer_map_${to(this,_h)._++}`,Ct=`url(#${St})`;_t(this,Fr,uo).set(ht,Ct),_t(this,Fr,uo).set(Et,Ct);const xt=Ut(this,Fr,Jp).call(this,St);return Ut(this,Fr,rv).call(this,bt,wt,At,xt),Ct}addHCMFilter(ht,vt){var Mt;const bt=`${ht}-${vt}`,wt="base";let At=_t(this,Fr,Zp).get(wt);if((At==null?void 0:At.key)===bt||(At?((Mt=At.filter)==null||Mt.remove(),At.key=bt,At.url="none",At.filter=null):(At={key:bt,url:"none",filter:null},_t(this,Fr,Zp).set(wt,At)),!ht||!vt))return At.url;const Et=Ut(this,Fr,sv).call(this,ht);ht=Util.makeHexColor(...Et);const St=Ut(this,Fr,sv).call(this,vt);if(vt=Util.makeHexColor(...St),_t(this,Fr,Qp).style.color="",ht==="#000000"&&vt==="#ffffff"||ht===vt)return At.url;const Ct=new Array(256);for(let Ft=0;Ft<=255;Ft++){const $t=Ft/255;Ct[Ft]=$t<=.03928?$t/12.92:(($t+.055)/1.055)**2.4}const xt=Ct.join(","),Pt=`g_${_t(this,Hl)}_hcm_filter`,kt=At.filter=Ut(this,Fr,Jp).call(this,Pt);Ut(this,Fr,rv).call(this,xt,xt,xt,kt),Ut(this,Fr,Pw).call(this,kt);const Rt=(Ft,$t)=>{const Lt=Et[Ft]/255,Dt=St[Ft]/255,Ot=new Array($t+1);for(let Bt=0;Bt<=$t;Bt++)Ot[Bt]=Lt+Bt/$t*(Dt-Lt);return Ot.join(",")};return Ut(this,Fr,rv).call(this,Rt(0,5),Rt(1,5),Rt(2,5),kt),At.url=`url(#${Pt})`,At.url}addAlphaFilter(ht){let vt=_t(this,Fr,uo).get(ht);if(vt)return vt;const[bt]=Ut(this,Fr,h0).call(this,[ht]),wt=`alpha_${bt}`;if(vt=_t(this,Fr,uo).get(wt),vt)return _t(this,Fr,uo).set(ht,vt),vt;const At=`g_${_t(this,Hl)}_alpha_map_${to(this,_h)._++}`,Et=`url(#${At})`;_t(this,Fr,uo).set(ht,Et),_t(this,Fr,uo).set(wt,Et);const St=Ut(this,Fr,Jp).call(this,At);return Ut(this,Fr,kw).call(this,bt,St),Et}addLuminosityFilter(ht){let vt=_t(this,Fr,uo).get(ht||"luminosity");if(vt)return vt;let bt,wt;if(ht?([bt]=Ut(this,Fr,h0).call(this,[ht]),wt=`luminosity_${bt}`):wt="luminosity",vt=_t(this,Fr,uo).get(wt),vt)return _t(this,Fr,uo).set(ht,vt),vt;const At=`g_${_t(this,Hl)}_luminosity_map_${to(this,_h)._++}`,Et=`url(#${At})`;_t(this,Fr,uo).set(ht,Et),_t(this,Fr,uo).set(wt,Et);const St=Ut(this,Fr,Jp).call(this,At);return Ut(this,Fr,TE).call(this,St),ht&&Ut(this,Fr,kw).call(this,bt,St),Et}addHighlightHCMFilter(ht,vt,bt,wt,At){var Dt;const Et=`${vt}-${bt}-${wt}-${At}`;let St=_t(this,Fr,Zp).get(ht);if((St==null?void 0:St.key)===Et||(St?((Dt=St.filter)==null||Dt.remove(),St.key=Et,St.url="none",St.filter=null):(St={key:Et,url:"none",filter:null},_t(this,Fr,Zp).set(ht,St)),!vt||!bt))return St.url;const[Ct,xt]=[vt,bt].map(Ut(this,Fr,sv).bind(this));let Pt=Math.round(.2126*Ct[0]+.7152*Ct[1]+.0722*Ct[2]),kt=Math.round(.2126*xt[0]+.7152*xt[1]+.0722*xt[2]),[Rt,Mt]=[wt,At].map(Ut(this,Fr,sv).bind(this));kt<Pt&&([Pt,kt,Rt,Mt]=[kt,Pt,Mt,Rt]),_t(this,Fr,Qp).style.color="";const Ft=(Ot,Bt,Nt)=>{const Ht=new Array(256),Vt=(kt-Pt)/Nt,jt=Ot/255,qt=(Bt-Ot)/(255*Nt);let Jt=0;for(let Gt=0;Gt<=Nt;Gt++){const en=Math.round(Pt+Gt*Vt),an=jt+Gt*qt;for(let Sn=Jt;Sn<=en;Sn++)Ht[Sn]=an;Jt=en+1}for(let Gt=Jt;Gt<256;Gt++)Ht[Gt]=Ht[Jt-1];return Ht.join(",")},$t=`g_${_t(this,Hl)}_hcm_${ht}_filter`,Lt=St.filter=Ut(this,Fr,Jp).call(this,$t);return Ut(this,Fr,Pw).call(this,Lt),Ut(this,Fr,rv).call(this,Ft(Rt[0],Mt[0],5),Ft(Rt[1],Mt[1],5),Ft(Rt[2],Mt[2],5),Lt),St.url=`url(#${$t})`,St.url}destroy(ht=!1){ht&&_t(this,Fr,Zp).size!==0||(_t(this,xa)&&(_t(this,xa).parentNode.parentNode.remove(),zt(this,xa,null)),_t(this,_d)&&(_t(this,_d).clear(),zt(this,_d,null)),zt(this,_h,0))}}_d=new WeakMap,xa=new WeakMap,Hl=new WeakMap,wo=new WeakMap,X0=new WeakMap,_h=new WeakMap,Fr=new WeakSet,uo=function(){return _t(this,_d)||zt(this,_d,new Map)},Zp=function(){return _t(this,X0)||zt(this,X0,new Map)},Qp=function(){if(!_t(this,xa)){const ht=_t(this,wo).createElement("div"),{style:vt}=ht;vt.visibility="hidden",vt.contain="strict",vt.width=vt.height=0,vt.position="absolute",vt.top=vt.left=0,vt.zIndex=-1;const bt=_t(this,wo).createElementNS(SVG_NS,"svg");bt.setAttribute("width",0),bt.setAttribute("height",0),zt(this,xa,_t(this,wo).createElementNS(SVG_NS,"defs")),ht.append(bt),bt.append(_t(this,xa)),_t(this,wo).body.append(ht)}return _t(this,xa)},h0=function(ht){if(ht.length===1){const Ct=ht[0],xt=new Array(256);for(let kt=0;kt<256;kt++)xt[kt]=Ct[kt]/255;const Pt=xt.join(",");return[Pt,Pt,Pt]}const[vt,bt,wt]=ht,At=new Array(256),Et=new Array(256),St=new Array(256);for(let Ct=0;Ct<256;Ct++)At[Ct]=vt[Ct]/255,Et[Ct]=bt[Ct]/255,St[Ct]=wt[Ct]/255;return[At.join(","),Et.join(","),St.join(",")]},TE=function(ht){const vt=_t(this,wo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),ht.append(vt)},Pw=function(ht){const vt=_t(this,wo).createElementNS(SVG_NS,"feColorMatrix");vt.setAttribute("type","matrix"),vt.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),ht.append(vt)},Jp=function(ht){const vt=_t(this,wo).createElementNS(SVG_NS,"filter");return vt.setAttribute("color-interpolation-filters","sRGB"),vt.setAttribute("id",ht),_t(this,Fr,Qp).append(vt),vt},iv=function(ht,vt,bt){const wt=_t(this,wo).createElementNS(SVG_NS,vt);wt.setAttribute("type","discrete"),wt.setAttribute("tableValues",bt),ht.append(wt)},rv=function(ht,vt,bt,wt){const At=_t(this,wo).createElementNS(SVG_NS,"feComponentTransfer");wt.append(At),Ut(this,Fr,iv).call(this,At,"feFuncR",ht),Ut(this,Fr,iv).call(this,At,"feFuncG",vt),Ut(this,Fr,iv).call(this,At,"feFuncB",bt)},kw=function(ht,vt){const bt=_t(this,wo).createElementNS(SVG_NS,"feComponentTransfer");vt.append(bt),Ut(this,Fr,iv).call(this,bt,"feFuncA",ht)},sv=function(ht){return _t(this,Fr,Qp).style.color=ht,getRGB(getComputedStyle(_t(this,Fr,Qp)).getPropertyValue("color"))};class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:$=globalThis.document}={}){super(),this._document=$}_createCanvas($,ht){const vt=this._document.createElement("canvas");return vt.width=$,vt.height=ht,vt}}async function fetchData(_e,$="text"){if(isValidFetchUrl(_e,document.baseURI)){const ht=await fetch(_e);if(!ht.ok)throw new Error(ht.statusText);switch($){case"arraybuffer":return ht.arrayBuffer();case"blob":return ht.blob();case"json":return ht.json()}return ht.text()}return new Promise((ht,vt)=>{const bt=new XMLHttpRequest;bt.open("GET",_e,!0),bt.responseType=$,bt.onreadystatechange=()=>{if(bt.readyState===XMLHttpRequest.DONE){if(bt.status===200||bt.status===0){switch($){case"arraybuffer":case"blob":case"json":ht(bt.response);return}ht(bt.responseText);return}vt(new Error(bt.statusText))}},bt.send(null)})}class DOMCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return fetchData($,this.isCompressed?"arraybuffer":"text").then(vt=>({cMapData:vt instanceof ArrayBuffer?new Uint8Array(vt):stringToBytes(vt),compressionType:ht}))}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return fetchData($,"arraybuffer").then(ht=>new Uint8Array(ht))}}class DOMSVGFactory extends BaseSVGFactory{_createSVG($){return document.createElementNS(SVG_NS,$)}}class PageViewport{constructor({viewBox:$,scale:ht,rotation:vt,offsetX:bt=0,offsetY:wt=0,dontFlip:At=!1}){this.viewBox=$,this.scale=ht,this.rotation=vt,this.offsetX=bt,this.offsetY=wt;const Et=($[2]+$[0])/2,St=($[3]+$[1])/2;let Ct,xt,Pt,kt;switch(vt%=360,vt<0&&(vt+=360),vt){case 180:Ct=-1,xt=0,Pt=0,kt=1;break;case 90:Ct=0,xt=1,Pt=1,kt=0;break;case 270:Ct=0,xt=-1,Pt=-1,kt=0;break;case 0:Ct=1,xt=0,Pt=0,kt=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}At&&(Pt=-Pt,kt=-kt);let Rt,Mt,Ft,$t;Ct===0?(Rt=Math.abs(St-$[1])*ht+bt,Mt=Math.abs(Et-$[0])*ht+wt,Ft=($[3]-$[1])*ht,$t=($[2]-$[0])*ht):(Rt=Math.abs(Et-$[0])*ht+bt,Mt=Math.abs(St-$[1])*ht+wt,Ft=($[2]-$[0])*ht,$t=($[3]-$[1])*ht),this.transform=[Ct*ht,xt*ht,Pt*ht,kt*ht,Rt-Ct*ht*Et-Pt*ht*St,Mt-xt*ht*Et-kt*ht*St],this.width=Ft,this.height=$t}get rawDims(){const{viewBox:$}=this;return shadow(this,"rawDims",{pageWidth:$[2]-$[0],pageHeight:$[3]-$[1],pageX:$[0],pageY:$[1]})}clone({scale:$=this.scale,rotation:ht=this.rotation,offsetX:vt=this.offsetX,offsetY:bt=this.offsetY,dontFlip:wt=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),scale:$,rotation:ht,offsetX:vt,offsetY:bt,dontFlip:wt})}convertToViewportPoint($,ht){return Util.applyTransform([$,ht],this.transform)}convertToViewportRectangle($){const ht=Util.applyTransform([$[0],$[1]],this.transform),vt=Util.applyTransform([$[2],$[3]],this.transform);return[ht[0],ht[1],vt[0],vt[1]]}convertToPdfPoint($,ht){return Util.applyInverseTransform([$,ht],this.transform)}}class RenderingCancelledException extends BaseException{constructor($,ht=0){super($,"RenderingCancelledException"),this.extraDelay=ht}}function isDataScheme(_e){const $=_e.length;let ht=0;for(;ht<$&&_e[ht].trim()==="";)ht++;return _e.substring(ht,ht+5).toLowerCase()==="data:"}function isPdfFile(_e){return typeof _e=="string"&&/\.pdf$/i.test(_e)}function getFilenameFromUrl(_e){return[_e]=_e.split(/[#?]/,1),_e.substring(_e.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(_e,$="document.pdf"){if(typeof _e!="string")return $;if(isDataScheme(_e))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),$;const ht=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,bt=ht.exec(_e);let wt=vt.exec(bt[1])||vt.exec(bt[2])||vt.exec(bt[3]);if(wt&&(wt=wt[0],wt.includes("%")))try{wt=vt.exec(decodeURIComponent(wt))[0]}catch{}return wt||$}class StatTimer{constructor(){xr(this,"started",Object.create(null));xr(this,"times",[])}time($){$ in this.started&&warn(`Timer is already running for ${$}`),this.started[$]=Date.now()}timeEnd($){$ in this.started||warn(`Timer has not been started for ${$}`),this.times.push({name:$,start:this.started[$],end:Date.now()}),delete this.started[$]}toString(){const $=[];let ht=0;for(const{name:vt}of this.times)ht=Math.max(vt.length,ht);for(const{name:vt,start:bt,end:wt}of this.times)$.push(`${vt.padEnd(ht)} ${wt-bt}ms
`);return $.join("")}}function isValidFetchUrl(_e,$){try{const{protocol:ht}=$?new URL(_e,$):new URL(_e);return ht==="http:"||ht==="https:"}catch{return!1}}function noContextMenu(_e){_e.preventDefault()}function deprecated(_e){console.log("Deprecated API usage: "+_e)}let pdfDateStringRegex;class PDFDateString{static toDateObject($){if(!$||typeof $!="string")return null;pdfDateStringRegex||(pdfDateStringRegex=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const ht=pdfDateStringRegex.exec($);if(!ht)return null;const vt=parseInt(ht[1],10);let bt=parseInt(ht[2],10);bt=bt>=1&&bt<=12?bt-1:0;let wt=parseInt(ht[3],10);wt=wt>=1&&wt<=31?wt:1;let At=parseInt(ht[4],10);At=At>=0&&At<=23?At:0;let Et=parseInt(ht[5],10);Et=Et>=0&&Et<=59?Et:0;let St=parseInt(ht[6],10);St=St>=0&&St<=59?St:0;const Ct=ht[7]||"Z";let xt=parseInt(ht[8],10);xt=xt>=0&&xt<=23?xt:0;let Pt=parseInt(ht[9],10)||0;return Pt=Pt>=0&&Pt<=59?Pt:0,Ct==="-"?(At+=xt,Et+=Pt):Ct==="+"&&(At-=xt,Et-=Pt),new Date(Date.UTC(vt,bt,wt,At,Et,St))}}function getXfaPageViewport(_e,{scale:$=1,rotation:ht=0}){const{width:vt,height:bt}=_e.attributes.style,wt=[0,0,parseInt(vt),parseInt(bt)];return new PageViewport({viewBox:wt,scale:$,rotation:ht})}function getRGB(_e){if(_e.startsWith("#")){const $=parseInt(_e.slice(1),16);return[($&16711680)>>16,($&65280)>>8,$&255]}return _e.startsWith("rgb(")?_e.slice(4,-1).split(",").map($=>parseInt($)):_e.startsWith("rgba(")?_e.slice(5,-1).split(",").map($=>parseInt($)).slice(0,3):(warn(`Not a valid color format: "${_e}"`),[0,0,0])}function getColorValues(_e){const $=document.createElement("span");$.style.visibility="hidden",document.body.append($);for(const ht of _e.keys()){$.style.color=ht;const vt=window.getComputedStyle($).color;_e.set(ht,getRGB(vt))}$.remove()}function getCurrentTransform(_e){const{a:$,b:ht,c:vt,d:bt,e:wt,f:At}=_e.getTransform();return[$,ht,vt,bt,wt,At]}function getCurrentTransformInverse(_e){const{a:$,b:ht,c:vt,d:bt,e:wt,f:At}=_e.getTransform().invertSelf();return[$,ht,vt,bt,wt,At]}function setLayerDimensions(_e,$,ht=!1,vt=!0){if($ instanceof PageViewport){const{pageWidth:bt,pageHeight:wt}=$.rawDims,{style:At}=_e,Et=util_FeatureTest.isCSSRoundSupported,St=`var(--scale-factor) * ${bt}px`,Ct=`var(--scale-factor) * ${wt}px`,xt=Et?`round(${St}, 1px)`:`calc(${St})`,Pt=Et?`round(${Ct}, 1px)`:`calc(${Ct})`;!ht||$.rotation%180===0?(At.width=xt,At.height=Pt):(At.width=Pt,At.height=xt)}vt&&_e.setAttribute("data-main-rotation",$.rotation)}var _f,ep,$a,tp,Y0,PE,vo,kE,RE,f0,ME,Rw;const Z0=class Z0{constructor($){Kt(this,vo);Kt(this,_f,null);Kt(this,ep,null);Kt(this,$a);Kt(this,tp,null);zt(this,$a,$)}render(){const $=zt(this,_f,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",Ut(Z0,Y0,PE));const ht=zt(this,tp,document.createElement("div"));ht.className="buttons",$.append(ht);const vt=_t(this,$a).toolbarPosition;if(vt){const{style:bt}=$,wt=_t(this,$a)._uiManager.direction==="ltr"?1-vt[0]:vt[0];bt.insetInlineEnd=`${100*wt}%`,bt.top=`calc(${100*vt[1]}% + var(--editor-toolbar-vert-offset))`}return Ut(this,vo,ME).call(this),$}hide(){var $;_t(this,_f).classList.add("hidden"),($=_t(this,ep))==null||$.hideDropdown()}show(){_t(this,_f).classList.remove("hidden")}addAltTextButton($){Ut(this,vo,f0).call(this,$),_t(this,tp).prepend($,_t(this,vo,Rw))}addColorPicker($){zt(this,ep,$);const ht=$.renderButton();Ut(this,vo,f0).call(this,ht),_t(this,tp).prepend(ht,_t(this,vo,Rw))}remove(){var $;_t(this,_f).remove(),($=_t(this,ep))==null||$.destroy(),zt(this,ep,null)}};_f=new WeakMap,ep=new WeakMap,$a=new WeakMap,tp=new WeakMap,Y0=new WeakSet,PE=function($){$.stopPropagation()},vo=new WeakSet,kE=function($){_t(this,$a)._focusEventsAllowed=!1,$.preventDefault(),$.stopPropagation()},RE=function($){_t(this,$a)._focusEventsAllowed=!0,$.preventDefault(),$.stopPropagation()},f0=function($){$.addEventListener("focusin",Ut(this,vo,kE).bind(this),{capture:!0}),$.addEventListener("focusout",Ut(this,vo,RE).bind(this),{capture:!0}),$.addEventListener("contextmenu",noContextMenu)},ME=function(){const $=document.createElement("button");$.className="delete",$.tabIndex=0,$.setAttribute("data-l10n-id",`pdfjs-editor-remove-${_t(this,$a).editorType}-button`),Ut(this,vo,f0).call(this,$),$.addEventListener("click",ht=>{_t(this,$a)._uiManager.delete()}),_t(this,tp).append($)},Rw=function(){const $=document.createElement("div");return $.className="divider",$},Kt(Z0,Y0);let EditorToolbar=Z0;var _v,np,xv,zu,LE,FE,DE;class HighlightToolbar{constructor($){Kt(this,zu);Kt(this,_v,null);Kt(this,np,null);Kt(this,xv);zt(this,xv,$)}show($,ht,vt){const[bt,wt]=Ut(this,zu,FE).call(this,ht,vt),{style:At}=_t(this,np)||zt(this,np,Ut(this,zu,LE).call(this));$.append(_t(this,np)),At.insetInlineEnd=`${100*bt}%`,At.top=`calc(${100*wt}% + var(--editor-toolbar-vert-offset))`}hide(){_t(this,np).remove()}}_v=new WeakMap,np=new WeakMap,xv=new WeakMap,zu=new WeakSet,LE=function(){const $=zt(this,np,document.createElement("div"));$.className="editToolbar",$.setAttribute("role","toolbar"),$.addEventListener("contextmenu",noContextMenu);const ht=zt(this,_v,document.createElement("div"));return ht.className="buttons",$.append(ht),Ut(this,zu,DE).call(this),$},FE=function($,ht){let vt=0,bt=0;for(const wt of $){const At=wt.y+wt.height;if(At<vt)continue;const Et=wt.x+(ht?wt.width:0);if(At>vt){bt=Et,vt=At;continue}ht?Et>bt&&(bt=Et):Et<bt&&(bt=Et)}return[ht?1-bt:bt,vt]},DE=function(){const $=document.createElement("button");$.className="highlightButton",$.tabIndex=0,$.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const ht=document.createElement("span");$.append(ht),ht.className="visuallyHidden",ht.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),$.addEventListener("contextmenu",noContextMenu),$.addEventListener("click",()=>{_t(this,xv).highlightSelection("floating_button")}),_t(this,_v).append($)};function bindEvents(_e,$,ht){for(const vt of ht)$.addEventListener(vt,_e[vt].bind(_e))}function opacityToHex(_e){return Math.round(Math.min(255,Math.max(1,255*_e))).toString(16).padStart(2,"0")}var Q0;class IdManager{constructor(){Kt(this,Q0,0)}get id(){return`${AnnotationEditorPrefix}${to(this,Q0)._++}`}}Q0=new WeakMap;var Cv,J0,Do,Tv,Mw;const rE=class rE{constructor(){Kt(this,Tv);Kt(this,Cv,getUuid());Kt(this,J0,0);Kt(this,Do,null)}static get _isSVGFittingCanvas(){const $='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',vt=new OffscreenCanvas(1,3).getContext("2d"),bt=new Image;bt.src=$;const wt=bt.decode().then(()=>(vt.drawImage(bt,0,0,1,1,0,0,1,3),new Uint32Array(vt.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",wt)}async getFromFile($){const{lastModified:ht,name:vt,size:bt,type:wt}=$;return Ut(this,Tv,Mw).call(this,`${ht}_${vt}_${bt}_${wt}`,$)}async getFromUrl($){return Ut(this,Tv,Mw).call(this,$,$)}async getFromId($){_t(this,Do)||zt(this,Do,new Map);const ht=_t(this,Do).get($);return ht?ht.bitmap?(ht.refCounter+=1,ht):ht.file?this.getFromFile(ht.file):this.getFromUrl(ht.url):null}getSvgUrl($){const ht=_t(this,Do).get($);return ht!=null&&ht.isSvg?ht.svgUrl:null}deleteId($){_t(this,Do)||zt(this,Do,new Map);const ht=_t(this,Do).get($);ht&&(ht.refCounter-=1,ht.refCounter===0&&(ht.bitmap=null))}isValidId($){return $.startsWith(`image_${_t(this,Cv)}_`)}};Cv=new WeakMap,J0=new WeakMap,Do=new WeakMap,Tv=new WeakSet,Mw=async function($,ht){_t(this,Do)||zt(this,Do,new Map);let vt=_t(this,Do).get($);if(vt===null)return null;if(vt!=null&&vt.bitmap)return vt.refCounter+=1,vt;try{vt||(vt={bitmap:null,id:`image_${_t(this,Cv)}_${to(this,J0)._++}`,refCounter:0,isSvg:!1});let bt;if(typeof ht=="string"?(vt.url=ht,bt=await fetchData(ht,"blob")):bt=vt.file=ht,bt.type==="image/svg+xml"){const wt=rE._isSVGFittingCanvas,At=new FileReader,Et=new Image,St=new Promise((Ct,xt)=>{Et.onload=()=>{vt.bitmap=Et,vt.isSvg=!0,Ct()},At.onload=async()=>{const Pt=vt.svgUrl=At.result;Et.src=await wt?`${Pt}#svgView(preserveAspectRatio(none))`:Pt},Et.onerror=At.onerror=xt});At.readAsDataURL(bt),await St}else vt.bitmap=await createImageBitmap(bt);vt.refCounter=1}catch(bt){console.error(bt),vt=null}return _t(this,Do).set($,vt),vt&&_t(this,Do).set(vt.id,vt),vt};let ImageManager=rE;var Qs,Su,Pv,Js;class CommandManager{constructor($=128){Kt(this,Qs,[]);Kt(this,Su,!1);Kt(this,Pv);Kt(this,Js,-1);zt(this,Pv,$)}add({cmd:$,undo:ht,post:vt,mustExec:bt,type:wt=NaN,overwriteIfSameType:At=!1,keepUndo:Et=!1}){if(bt&&$(),_t(this,Su))return;const St={cmd:$,undo:ht,post:vt,type:wt};if(_t(this,Js)===-1){_t(this,Qs).length>0&&(_t(this,Qs).length=0),zt(this,Js,0),_t(this,Qs).push(St);return}if(At&&_t(this,Qs)[_t(this,Js)].type===wt){Et&&(St.undo=_t(this,Qs)[_t(this,Js)].undo),_t(this,Qs)[_t(this,Js)]=St;return}const Ct=_t(this,Js)+1;Ct===_t(this,Pv)?_t(this,Qs).splice(0,1):(zt(this,Js,Ct),Ct<_t(this,Qs).length&&_t(this,Qs).splice(Ct)),_t(this,Qs).push(St)}undo(){if(_t(this,Js)===-1)return;zt(this,Su,!0);const{undo:$,post:ht}=_t(this,Qs)[_t(this,Js)];$(),ht==null||ht(),zt(this,Su,!1),zt(this,Js,_t(this,Js)-1)}redo(){if(_t(this,Js)<_t(this,Qs).length-1){zt(this,Js,_t(this,Js)+1),zt(this,Su,!0);const{cmd:$,post:ht}=_t(this,Qs)[_t(this,Js)];$(),ht==null||ht(),zt(this,Su,!1)}}hasSomethingToUndo(){return _t(this,Js)!==-1}hasSomethingToRedo(){return _t(this,Js)<_t(this,Qs).length-1}destroy(){zt(this,Qs,null)}}Qs=new WeakMap,Su=new WeakMap,Pv=new WeakMap,Js=new WeakMap;var _b,IE;class KeyboardManager{constructor($){Kt(this,_b);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:ht}=util_FeatureTest.platform;for(const[vt,bt,wt={}]of $)for(const At of vt){const Et=At.startsWith("mac+");ht&&Et?(this.callbacks.set(At.slice(4),{callback:bt,options:wt}),this.allKeys.add(At.split("+").at(-1))):!ht&&!Et&&(this.callbacks.set(At,{callback:bt,options:wt}),this.allKeys.add(At.split("+").at(-1)))}}exec($,ht){if(!this.allKeys.has(ht.key))return;const vt=this.callbacks.get(Ut(this,_b,IE).call(this,ht));if(!vt)return;const{callback:bt,options:{bubbles:wt=!1,args:At=[],checker:Et=null}}=vt;Et&&!Et($,ht)||(bt.bind($,...At,ht)(),wt||(ht.stopPropagation(),ht.preventDefault()))}}_b=new WeakSet,IE=function($){$.altKey&&this.buffer.push("alt"),$.ctrlKey&&this.buffer.push("ctrl"),$.metaKey&&this.buffer.push("meta"),$.shiftKey&&this.buffer.push("shift"),this.buffer.push($.key);const ht=this.buffer.join("+");return this.buffer.length=0,ht};const ew=class ew{get _colors(){const $=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues($),shadow(this,"_colors",$)}convert($){const ht=getRGB($);if(!window.matchMedia("(forced-colors: active)").matches)return ht;for(const[vt,bt]of this._colors)if(bt.every((wt,At)=>wt===ht[At]))return ew._colorsMapping.get(vt);return ht}getHexCode($){const ht=this._colors.get($);return ht?Util.makeHexColor(...ht):$}};xr(ew,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=ew;var Co,Gs,io,cm,Ul,um,zo,dm,ip,yl,zl,rp,kv,Rv,wl,hm,_u,Al,tw,xu,Mv,sp,Lv,fm,ro,As,Wl,op,Fv,Dv,Iv,$v,Ov,Nv,Bv,Vv,Hv,jv,Uv,zv,Wv,Gv,Cu,El,Gl,Kv,Er,p0,$E,OE,m0,NE,BE,VE,Lw,Fw,Dw,Iw,$w,fo,Au,HE,jE,Ow,UE,ov,Nw;const lm=class lm{constructor($,ht,vt,bt,wt,At,Et,St,Ct){Kt(this,Er);Kt(this,Co,null);Kt(this,Gs,new Map);Kt(this,io,new Map);Kt(this,cm,null);Kt(this,Ul,null);Kt(this,um,null);Kt(this,zo,new CommandManager);Kt(this,dm,0);Kt(this,ip,new Set);Kt(this,yl,null);Kt(this,zl,null);Kt(this,rp,new Set);Kt(this,kv,!1);Kt(this,Rv,null);Kt(this,wl,null);Kt(this,hm,null);Kt(this,_u,!1);Kt(this,Al,null);Kt(this,tw,new IdManager);Kt(this,xu,!1);Kt(this,Mv,!1);Kt(this,sp,null);Kt(this,Lv,null);Kt(this,fm,null);Kt(this,ro,AnnotationEditorType.NONE);Kt(this,As,new Set);Kt(this,Wl,null);Kt(this,op,null);Kt(this,Fv,null);Kt(this,Dv,this.blur.bind(this));Kt(this,Iv,this.focus.bind(this));Kt(this,$v,this.copy.bind(this));Kt(this,Ov,this.cut.bind(this));Kt(this,Nv,this.paste.bind(this));Kt(this,Bv,this.keydown.bind(this));Kt(this,Vv,this.keyup.bind(this));Kt(this,Hv,this.onEditingAction.bind(this));Kt(this,jv,this.onPageChanging.bind(this));Kt(this,Uv,this.onScaleChanging.bind(this));Kt(this,zv,Ut(this,Er,OE).bind(this));Kt(this,Wv,this.onRotationChanging.bind(this));Kt(this,Gv,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Kt(this,Cu,[0,0]);Kt(this,El,null);Kt(this,Gl,null);Kt(this,Kv,null);zt(this,Gl,$),zt(this,Kv,ht),zt(this,cm,vt),this._eventBus=bt,this._eventBus._on("editingaction",_t(this,Hv)),this._eventBus._on("pagechanging",_t(this,jv)),this._eventBus._on("scalechanging",_t(this,Uv)),this._eventBus._on("rotationchanging",_t(this,Wv)),Ut(this,Er,NE).call(this),Ut(this,Er,Fw).call(this),zt(this,Ul,wt.annotationStorage),zt(this,Rv,wt.filterFactory),zt(this,op,At),zt(this,hm,Et||null),zt(this,kv,St),zt(this,fm,Ct||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const $=lm.prototype,ht=At=>_t(At,Gl).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&At.hasSomethingToControl(),vt=(At,{target:Et})=>{if(Et instanceof HTMLInputElement){const{type:St}=Et;return St!=="text"&&St!=="number"}return!0},bt=this.TRANSLATE_SMALL,wt=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],$.selectAll,{checker:vt}],[["ctrl+z","mac+meta+z"],$.undo,{checker:vt}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$.redo,{checker:vt}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$.delete,{checker:vt}],[["Enter","mac+Enter"],$.addNewEditorFromKeyboard,{checker:(At,{target:Et})=>!(Et instanceof HTMLButtonElement)&&_t(At,Gl).contains(Et)&&!At.isEnterHandled}],[[" ","mac+ "],$.addNewEditorFromKeyboard,{checker:(At,{target:Et})=>!(Et instanceof HTMLButtonElement)&&_t(At,Gl).contains(document.activeElement)}],[["Escape","mac+Escape"],$.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$.translateSelectedEditors,{args:[-bt,0],checker:ht}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$.translateSelectedEditors,{args:[-wt,0],checker:ht}],[["ArrowRight","mac+ArrowRight"],$.translateSelectedEditors,{args:[bt,0],checker:ht}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$.translateSelectedEditors,{args:[wt,0],checker:ht}],[["ArrowUp","mac+ArrowUp"],$.translateSelectedEditors,{args:[0,-bt],checker:ht}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$.translateSelectedEditors,{args:[0,-wt],checker:ht}],[["ArrowDown","mac+ArrowDown"],$.translateSelectedEditors,{args:[0,bt],checker:ht}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$.translateSelectedEditors,{args:[0,wt],checker:ht}]]))}destroy(){var $,ht;Ut(this,Er,Dw).call(this),Ut(this,Er,Lw).call(this),this._eventBus._off("editingaction",_t(this,Hv)),this._eventBus._off("pagechanging",_t(this,jv)),this._eventBus._off("scalechanging",_t(this,Uv)),this._eventBus._off("rotationchanging",_t(this,Wv));for(const vt of _t(this,io).values())vt.destroy();_t(this,io).clear(),_t(this,Gs).clear(),_t(this,rp).clear(),zt(this,Co,null),_t(this,As).clear(),_t(this,zo).destroy(),($=_t(this,cm))==null||$.destroy(),(ht=_t(this,Al))==null||ht.hide(),zt(this,Al,null),_t(this,wl)&&(clearTimeout(_t(this,wl)),zt(this,wl,null)),_t(this,El)&&(clearTimeout(_t(this,El)),zt(this,El,null)),Ut(this,Er,BE).call(this)}async mlGuess($){var ht;return((ht=_t(this,fm))==null?void 0:ht.guess($))||null}get hasMLManager(){return!!_t(this,fm)}get hcmFilter(){return shadow(this,"hcmFilter",_t(this,op)?_t(this,Rv).addHCMFilter(_t(this,op).foreground,_t(this,op).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(_t(this,Gl)).direction)}get highlightColors(){return shadow(this,"highlightColors",_t(this,hm)?new Map(_t(this,hm).split(",").map($=>$.split("=").map(ht=>ht.trim()))):null)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,$=>$.reverse())):null)}setMainHighlightColorPicker($){zt(this,Lv,$)}editAltText($){var ht;(ht=_t(this,cm))==null||ht.editAltText(this,$)}onPageChanging({pageNumber:$}){zt(this,dm,$-1)}focusMainContainer(){_t(this,Gl).focus()}findParent($,ht){for(const vt of _t(this,io).values()){const{x:bt,y:wt,width:At,height:Et}=vt.div.getBoundingClientRect();if($>=bt&&$<=bt+At&&ht>=wt&&ht<=wt+Et)return vt}return null}disableUserSelect($=!1){_t(this,Kv).classList.toggle("noUserSelect",$)}addShouldRescale($){_t(this,rp).add($)}removeShouldRescale($){_t(this,rp).delete($)}onScaleChanging({scale:$}){this.commitOrRemove(),this.viewParameters.realScale=$*PixelsPerInch.PDF_TO_CSS_UNITS;for(const ht of _t(this,rp))ht.onScaleChanging()}onRotationChanging({pagesRotation:$}){this.commitOrRemove(),this.viewParameters.rotation=$}highlightSelection($=""){const ht=document.getSelection();if(!ht||ht.isCollapsed)return;const{anchorNode:vt,anchorOffset:bt,focusNode:wt,focusOffset:At}=ht,Et=ht.toString(),Ct=Ut(this,Er,p0).call(this,ht).closest(".textLayer"),xt=this.getSelectionBoxes(Ct);if(xt){ht.empty(),_t(this,ro)===AnnotationEditorType.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:AnnotationEditorType.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const Pt of _t(this,io).values())if(Pt.hasTextLayer(Ct)){Pt.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:$,boxes:xt,anchorNode:vt,anchorOffset:bt,focusNode:wt,focusOffset:At,text:Et});break}}}addToAnnotationStorage($){!$.isEmpty()&&_t(this,Ul)&&!_t(this,Ul).has($.id)&&_t(this,Ul).setValue($.id,$)}blur(){if(this.isShiftKeyDown=!1,_t(this,_u)&&(zt(this,_u,!1),Ut(this,Er,m0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:$}=document;for(const ht of _t(this,As))if(ht.div.contains($)){zt(this,sp,[ht,$]),ht._focusEventsAllowed=!1;break}}focus(){if(!_t(this,sp))return;const[$,ht]=_t(this,sp);zt(this,sp,null),ht.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus()}addEditListeners(){Ut(this,Er,Fw).call(this),Ut(this,Er,Iw).call(this)}removeEditListeners(){Ut(this,Er,Dw).call(this),Ut(this,Er,$w).call(this)}copy($){var vt;if($.preventDefault(),(vt=_t(this,Co))==null||vt.commitOrRemove(),!this.hasSelection)return;const ht=[];for(const bt of _t(this,As)){const wt=bt.serialize(!0);wt&&ht.push(wt)}ht.length!==0&&$.clipboardData.setData("application/pdfjs",JSON.stringify(ht))}cut($){this.copy($),this.delete()}paste($){$.preventDefault();const{clipboardData:ht}=$;for(const wt of ht.items)for(const At of _t(this,zl))if(At.isHandlingMimeForPasting(wt.type)){At.paste(wt,this.currentLayer);return}let vt=ht.getData("application/pdfjs");if(!vt)return;try{vt=JSON.parse(vt)}catch(wt){warn(`paste: "${wt.message}".`);return}if(!Array.isArray(vt))return;this.unselectAll();const bt=this.currentLayer;try{const wt=[];for(const St of vt){const Ct=bt.deserialize(St);if(!Ct)return;wt.push(Ct)}const At=()=>{for(const St of wt)Ut(this,Er,Ow).call(this,St);Ut(this,Er,Nw).call(this,wt)},Et=()=>{for(const St of wt)St.remove()};this.addCommands({cmd:At,undo:Et,mustExec:!0})}catch(wt){warn(`paste: "${wt.message}".`)}}keydown($){!this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!0),_t(this,ro)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&lm._keyboardManager.exec(this,$)}keyup($){this.isShiftKeyDown&&$.key==="Shift"&&(this.isShiftKeyDown=!1,_t(this,_u)&&(zt(this,_u,!1),Ut(this,Er,m0).call(this,"main_toolbar")))}onEditingAction({name:$}){switch($){case"undo":case"redo":case"delete":case"selectAll":this[$]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState($){$?(Ut(this,Er,VE).call(this),Ut(this,Er,Iw).call(this),Ut(this,Er,fo).call(this,{isEditing:_t(this,ro)!==AnnotationEditorType.NONE,isEmpty:Ut(this,Er,ov).call(this),hasSomethingToUndo:_t(this,zo).hasSomethingToUndo(),hasSomethingToRedo:_t(this,zo).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,Er,Lw).call(this),Ut(this,Er,$w).call(this),Ut(this,Er,fo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($){if(!_t(this,zl)){zt(this,zl,$);for(const ht of _t(this,zl))Ut(this,Er,Au).call(this,ht.defaultPropertiesToUpdate)}}getId(){return _t(this,tw).id}get currentLayer(){return _t(this,io).get(_t(this,dm))}getLayer($){return _t(this,io).get($)}get currentPageIndex(){return _t(this,dm)}addLayer($){_t(this,io).set($.pageIndex,$),_t(this,xu)?$.enable():$.disable()}removeLayer($){_t(this,io).delete($.pageIndex)}updateMode($,ht=null,vt=!1){if(_t(this,ro)!==$){if(zt(this,ro,$),$===AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,Er,jE).call(this);return}this.setEditingState(!0),Ut(this,Er,HE).call(this),this.unselectAll();for(const bt of _t(this,io).values())bt.updateMode($);if(!ht&&vt){this.addNewEditorFromKeyboard();return}if(ht){for(const bt of _t(this,Gs).values())if(bt.annotationElementId===ht){this.setSelected(bt),bt.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar($){$!==_t(this,ro)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$})}updateParams($,ht){var vt;if(_t(this,zl)){switch($){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:(vt=_t(this,Lv))==null||vt.updateColor(ht);break;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(_t(this,Fv)||zt(this,Fv,new Map)).set($,ht),this.showAllEditors("highlight",ht);break}for(const bt of _t(this,As))bt.updateParams($,ht);for(const bt of _t(this,zl))bt.updateDefaultParams($,ht)}}showAllEditors($,ht,vt=!1){var wt;for(const At of _t(this,Gs).values())At.editorType===$&&At.show(ht);(((wt=_t(this,Fv))==null?void 0:wt.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==ht&&Ut(this,Er,Au).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,ht]])}enableWaiting($=!1){if(_t(this,Mv)!==$){zt(this,Mv,$);for(const ht of _t(this,io).values())$?ht.disableClick():ht.enableClick(),ht.div.classList.toggle("waiting",$)}}getEditors($){const ht=[];for(const vt of _t(this,Gs).values())vt.pageIndex===$&&ht.push(vt);return ht}getEditor($){return _t(this,Gs).get($)}addEditor($){_t(this,Gs).set($.id,$)}removeEditor($){var ht;$.div.contains(document.activeElement)&&(_t(this,wl)&&clearTimeout(_t(this,wl)),zt(this,wl,setTimeout(()=>{this.focusMainContainer(),zt(this,wl,null)},0))),_t(this,Gs).delete($.id),this.unselect($),(!$.annotationElementId||!_t(this,ip).has($.annotationElementId))&&((ht=_t(this,Ul))==null||ht.remove($.id))}addDeletedAnnotationElement($){_t(this,ip).add($.annotationElementId),this.addChangedExistingAnnotation($),$.deleted=!0}isDeletedAnnotationElement($){return _t(this,ip).has($)}removeDeletedAnnotationElement($){_t(this,ip).delete($.annotationElementId),this.removeChangedExistingAnnotation($),$.deleted=!1}setActiveEditor($){_t(this,Co)!==$&&(zt(this,Co,$),$&&Ut(this,Er,Au).call(this,$.propertiesToUpdate))}updateUI($){_t(this,Er,UE)===$&&Ut(this,Er,Au).call(this,$.propertiesToUpdate)}toggleSelected($){if(_t(this,As).has($)){_t(this,As).delete($),$.unselect(),Ut(this,Er,fo).call(this,{hasSelectedEditor:this.hasSelection});return}_t(this,As).add($),$.select(),Ut(this,Er,Au).call(this,$.propertiesToUpdate),Ut(this,Er,fo).call(this,{hasSelectedEditor:!0})}setSelected($){for(const ht of _t(this,As))ht!==$&&ht.unselect();_t(this,As).clear(),_t(this,As).add($),$.select(),Ut(this,Er,Au).call(this,$.propertiesToUpdate),Ut(this,Er,fo).call(this,{hasSelectedEditor:!0})}isSelected($){return _t(this,As).has($)}get firstSelectedEditor(){return _t(this,As).values().next().value}unselect($){$.unselect(),_t(this,As).delete($),Ut(this,Er,fo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _t(this,As).size!==0}get isEnterHandled(){return _t(this,As).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){_t(this,zo).undo(),Ut(this,Er,fo).call(this,{hasSomethingToUndo:_t(this,zo).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,Er,ov).call(this)})}redo(){_t(this,zo).redo(),Ut(this,Er,fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_t(this,zo).hasSomethingToRedo(),isEmpty:Ut(this,Er,ov).call(this)})}addCommands($){_t(this,zo).add($),Ut(this,Er,fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,Er,ov).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $=[..._t(this,As)],ht=()=>{for(const bt of $)bt.remove()},vt=()=>{for(const bt of $)Ut(this,Er,Ow).call(this,bt)};this.addCommands({cmd:ht,undo:vt,mustExec:!0})}commitOrRemove(){var $;($=_t(this,Co))==null||$.commitOrRemove()}hasSomethingToControl(){return _t(this,Co)||this.hasSelection}selectAll(){for(const $ of _t(this,As))$.commit();Ut(this,Er,Nw).call(this,_t(this,Gs).values())}unselectAll(){if(!(_t(this,Co)&&(_t(this,Co).commitOrRemove(),_t(this,ro)!==AnnotationEditorType.NONE))&&this.hasSelection){for(const $ of _t(this,As))$.unselect();_t(this,As).clear(),Ut(this,Er,fo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($,ht,vt=!1){if(vt||this.commitOrRemove(),!this.hasSelection)return;_t(this,Cu)[0]+=$,_t(this,Cu)[1]+=ht;const[bt,wt]=_t(this,Cu),At=[..._t(this,As)],Et=1e3;_t(this,El)&&clearTimeout(_t(this,El)),zt(this,El,setTimeout(()=>{zt(this,El,null),_t(this,Cu)[0]=_t(this,Cu)[1]=0,this.addCommands({cmd:()=>{for(const St of At)_t(this,Gs).has(St.id)&&St.translateInPage(bt,wt)},undo:()=>{for(const St of At)_t(this,Gs).has(St.id)&&St.translateInPage(-bt,-wt)},mustExec:!1})},Et));for(const St of At)St.translateInPage($,ht)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),zt(this,yl,new Map);for(const $ of _t(this,As))_t(this,yl).set($,{savedX:$.x,savedY:$.y,savedPageIndex:$.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_t(this,yl))return!1;this.disableUserSelect(!1);const $=_t(this,yl);zt(this,yl,null);let ht=!1;for(const[{x:bt,y:wt,pageIndex:At},Et]of $)Et.newX=bt,Et.newY=wt,Et.newPageIndex=At,ht||(ht=bt!==Et.savedX||wt!==Et.savedY||At!==Et.savedPageIndex);if(!ht)return!1;const vt=(bt,wt,At,Et)=>{if(_t(this,Gs).has(bt.id)){const St=_t(this,io).get(Et);St?bt._setParentAndPosition(St,wt,At):(bt.pageIndex=Et,bt.x=wt,bt.y=At)}};return this.addCommands({cmd:()=>{for(const[bt,{newX:wt,newY:At,newPageIndex:Et}]of $)vt(bt,wt,At,Et)},undo:()=>{for(const[bt,{savedX:wt,savedY:At,savedPageIndex:Et}]of $)vt(bt,wt,At,Et)},mustExec:!0}),!0}dragSelectedEditors($,ht){if(_t(this,yl))for(const vt of _t(this,yl).keys())vt.drag($,ht)}rebuild($){if($.parent===null){const ht=this.getLayer($.pageIndex);ht?(ht.changeParent($),ht.addOrRebuild($)):(this.addEditor($),this.addToAnnotationStorage($),$.rebuild())}else $.parent.addOrRebuild($)}get isEditorHandlingKeyboard(){var $;return(($=this.getActive())==null?void 0:$.shouldGetKeyboardEvents())||_t(this,As).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive($){return _t(this,Co)===$}getActive(){return _t(this,Co)}getMode(){return _t(this,ro)}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes($){if(!$)return null;const ht=document.getSelection();for(let Ct=0,xt=ht.rangeCount;Ct<xt;Ct++)if(!$.contains(ht.getRangeAt(Ct).commonAncestorContainer))return null;const{x:vt,y:bt,width:wt,height:At}=$.getBoundingClientRect();let Et;switch($.getAttribute("data-main-rotation")){case"90":Et=(Ct,xt,Pt,kt)=>({x:(xt-bt)/At,y:1-(Ct+Pt-vt)/wt,width:kt/At,height:Pt/wt});break;case"180":Et=(Ct,xt,Pt,kt)=>({x:1-(Ct+Pt-vt)/wt,y:1-(xt+kt-bt)/At,width:Pt/wt,height:kt/At});break;case"270":Et=(Ct,xt,Pt,kt)=>({x:1-(xt+kt-bt)/At,y:(Ct-vt)/wt,width:kt/At,height:Pt/wt});break;default:Et=(Ct,xt,Pt,kt)=>({x:(Ct-vt)/wt,y:(xt-bt)/At,width:Pt/wt,height:kt/At});break}const St=[];for(let Ct=0,xt=ht.rangeCount;Ct<xt;Ct++){const Pt=ht.getRangeAt(Ct);if(!Pt.collapsed)for(const{x:kt,y:Rt,width:Mt,height:Ft}of Pt.getClientRects())Mt===0||Ft===0||St.push(Et(kt,Rt,Mt,Ft))}return St.length===0?null:St}addChangedExistingAnnotation({annotationElementId:$,id:ht}){(_t(this,um)||zt(this,um,new Map)).set($,ht)}removeChangedExistingAnnotation({annotationElementId:$}){var ht;(ht=_t(this,um))==null||ht.delete($)}renderAnnotationElement($){var bt;const ht=(bt=_t(this,um))==null?void 0:bt.get($.data.id);if(!ht)return;const vt=_t(this,Ul).getRawValue(ht);vt&&(_t(this,ro)===AnnotationEditorType.NONE&&!vt.hasBeenModified||vt.renderAnnotationElement($))}};Co=new WeakMap,Gs=new WeakMap,io=new WeakMap,cm=new WeakMap,Ul=new WeakMap,um=new WeakMap,zo=new WeakMap,dm=new WeakMap,ip=new WeakMap,yl=new WeakMap,zl=new WeakMap,rp=new WeakMap,kv=new WeakMap,Rv=new WeakMap,wl=new WeakMap,hm=new WeakMap,_u=new WeakMap,Al=new WeakMap,tw=new WeakMap,xu=new WeakMap,Mv=new WeakMap,sp=new WeakMap,Lv=new WeakMap,fm=new WeakMap,ro=new WeakMap,As=new WeakMap,Wl=new WeakMap,op=new WeakMap,Fv=new WeakMap,Dv=new WeakMap,Iv=new WeakMap,$v=new WeakMap,Ov=new WeakMap,Nv=new WeakMap,Bv=new WeakMap,Vv=new WeakMap,Hv=new WeakMap,jv=new WeakMap,Uv=new WeakMap,zv=new WeakMap,Wv=new WeakMap,Gv=new WeakMap,Cu=new WeakMap,El=new WeakMap,Gl=new WeakMap,Kv=new WeakMap,Er=new WeakSet,p0=function({anchorNode:$}){return $.nodeType===Node.TEXT_NODE?$.parentElement:$},$E=function(){const $=document.getSelection();if(!$||$.isCollapsed)return;const vt=Ut(this,Er,p0).call(this,$).closest(".textLayer"),bt=this.getSelectionBoxes(vt);bt&&(_t(this,Al)||zt(this,Al,new HighlightToolbar(this)),_t(this,Al).show(vt,bt,this.direction==="ltr"))},OE=function(){var wt,At,Et;const $=document.getSelection();if(!$||$.isCollapsed){_t(this,Wl)&&((wt=_t(this,Al))==null||wt.hide(),zt(this,Wl,null),Ut(this,Er,fo).call(this,{hasSelectedText:!1}));return}const{anchorNode:ht}=$;if(ht===_t(this,Wl))return;if(!Ut(this,Er,p0).call(this,$).closest(".textLayer")){_t(this,Wl)&&((At=_t(this,Al))==null||At.hide(),zt(this,Wl,null),Ut(this,Er,fo).call(this,{hasSelectedText:!1}));return}if((Et=_t(this,Al))==null||Et.hide(),zt(this,Wl,ht),Ut(this,Er,fo).call(this,{hasSelectedText:!0}),!(_t(this,ro)!==AnnotationEditorType.HIGHLIGHT&&_t(this,ro)!==AnnotationEditorType.NONE)&&(_t(this,ro)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),zt(this,_u,this.isShiftKeyDown),!this.isShiftKeyDown)){const St=Ct=>{Ct.type==="pointerup"&&Ct.button!==0||(window.removeEventListener("pointerup",St),window.removeEventListener("blur",St),Ct.type==="pointerup"&&Ut(this,Er,m0).call(this,"main_toolbar"))};window.addEventListener("pointerup",St),window.addEventListener("blur",St)}},m0=function($=""){_t(this,ro)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection($):_t(this,kv)&&Ut(this,Er,$E).call(this)},NE=function(){document.addEventListener("selectionchange",_t(this,zv))},BE=function(){document.removeEventListener("selectionchange",_t(this,zv))},VE=function(){window.addEventListener("focus",_t(this,Iv)),window.addEventListener("blur",_t(this,Dv))},Lw=function(){window.removeEventListener("focus",_t(this,Iv)),window.removeEventListener("blur",_t(this,Dv))},Fw=function(){window.addEventListener("keydown",_t(this,Bv)),window.addEventListener("keyup",_t(this,Vv))},Dw=function(){window.removeEventListener("keydown",_t(this,Bv)),window.removeEventListener("keyup",_t(this,Vv))},Iw=function(){document.addEventListener("copy",_t(this,$v)),document.addEventListener("cut",_t(this,Ov)),document.addEventListener("paste",_t(this,Nv))},$w=function(){document.removeEventListener("copy",_t(this,$v)),document.removeEventListener("cut",_t(this,Ov)),document.removeEventListener("paste",_t(this,Nv))},fo=function($){Object.entries($).some(([vt,bt])=>_t(this,Gv)[vt]!==bt)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_t(this,Gv),$)}),_t(this,ro)===AnnotationEditorType.HIGHLIGHT&&$.hasSelectedEditor===!1&&Ut(this,Er,Au).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},Au=function($){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$})},HE=function(){if(!_t(this,xu)){zt(this,xu,!0);for(const $ of _t(this,io).values())$.enable();for(const $ of _t(this,Gs).values())$.enable()}},jE=function(){if(this.unselectAll(),_t(this,xu)){zt(this,xu,!1);for(const $ of _t(this,io).values())$.disable();for(const $ of _t(this,Gs).values())$.disable()}},Ow=function($){const ht=_t(this,io).get($.pageIndex);ht?ht.addOrRebuild($):(this.addEditor($),this.addToAnnotationStorage($))},UE=function(){let $=null;for($ of _t(this,As));return $},ov=function(){if(_t(this,Gs).size===0)return!0;if(_t(this,Gs).size===1)for(const $ of _t(this,Gs).values())return $.isEmpty();return!1},Nw=function($){for(const ht of _t(this,As))ht.unselect();_t(this,As).clear();for(const ht of $)ht.isEmpty()||(_t(this,As).add(ht),ht.select());Ut(this,Er,fo).call(this,{hasSelectedEditor:this.hasSelection})},xr(lm,"TRANSLATE_SMALL",1),xr(lm,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=lm;var Kl,Xl,Wo,Yl,Go,pm,Zl,qv,Bw;const Nl=class Nl{constructor($){Kt(this,qv);Kt(this,Kl,"");Kt(this,Xl,!1);Kt(this,Wo,null);Kt(this,Yl,null);Kt(this,Go,null);Kt(this,pm,!1);Kt(this,Zl,null);zt(this,Zl,$)}static initialize($){Nl._l10nPromise||(Nl._l10nPromise=$)}async render(){const $=zt(this,Wo,document.createElement("button"));$.className="altText";const ht=await Nl._l10nPromise.get("pdfjs-editor-alt-text-button-label");$.textContent=ht,$.setAttribute("aria-label",ht),$.tabIndex="0",$.addEventListener("contextmenu",noContextMenu),$.addEventListener("pointerdown",bt=>bt.stopPropagation());const vt=bt=>{bt.preventDefault(),_t(this,Zl)._uiManager.editAltText(_t(this,Zl))};return $.addEventListener("click",vt,{capture:!0}),$.addEventListener("keydown",bt=>{bt.target===$&&bt.key==="Enter"&&(zt(this,pm,!0),vt(bt))}),await Ut(this,qv,Bw).call(this),$}finish(){_t(this,Wo)&&(_t(this,Wo).focus({focusVisible:_t(this,pm)}),zt(this,pm,!1))}isEmpty(){return!_t(this,Kl)&&!_t(this,Xl)}get data(){return{altText:_t(this,Kl),decorative:_t(this,Xl)}}set data({altText:$,decorative:ht}){_t(this,Kl)===$&&_t(this,Xl)===ht||(zt(this,Kl,$),zt(this,Xl,ht),Ut(this,qv,Bw).call(this))}toggle($=!1){_t(this,Wo)&&(!$&&_t(this,Go)&&(clearTimeout(_t(this,Go)),zt(this,Go,null)),_t(this,Wo).disabled=!$)}destroy(){var $;($=_t(this,Wo))==null||$.remove(),zt(this,Wo,null),zt(this,Yl,null)}};Kl=new WeakMap,Xl=new WeakMap,Wo=new WeakMap,Yl=new WeakMap,Go=new WeakMap,pm=new WeakMap,Zl=new WeakMap,qv=new WeakSet,Bw=async function(){var bt;const $=_t(this,Wo);if(!$)return;if(!_t(this,Kl)&&!_t(this,Xl)){$.classList.remove("done"),(bt=_t(this,Yl))==null||bt.remove();return}$.classList.add("done"),Nl._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(wt=>{$.setAttribute("aria-label",wt)});let ht=_t(this,Yl);if(!ht){zt(this,Yl,ht=document.createElement("span")),ht.className="tooltip",ht.setAttribute("role","tooltip");const wt=ht.id=`alt-text-tooltip-${_t(this,Zl).id}`;$.setAttribute("aria-describedby",wt);const At=100;$.addEventListener("mouseenter",()=>{zt(this,Go,setTimeout(()=>{zt(this,Go,null),_t(this,Yl).classList.add("show"),_t(this,Zl)._reportTelemetry({action:"alt_text_tooltip"})},At))}),$.addEventListener("mouseleave",()=>{var Et;_t(this,Go)&&(clearTimeout(_t(this,Go)),zt(this,Go,null)),(Et=_t(this,Yl))==null||Et.classList.remove("show")})}ht.innerText=_t(this,Xl)?await Nl._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):_t(this,Kl),ht.parentNode||$.append(ht);const vt=_t(this,Zl).getImageForAltText();vt==null||vt.setAttribute("aria-describedby",ht.id)},xr(Nl,"_l10nPromise",null);let AltText=Nl;var Ko,po,mm,ap,so,lp,gm,vm,ho,Xv,cp,Tu,Yv,up,Ql,Sl,ym,bm,Io,Zv,nw,os,Vw,Qv,Hw,jw,zE,WE,Uw,zw,Ww,GE,KE,qE,XE,Gw,av;const Ps=class Ps{constructor($){Kt(this,os);Kt(this,Ko,null);Kt(this,po,null);Kt(this,mm,!1);Kt(this,ap,!1);Kt(this,so,null);Kt(this,lp,null);Kt(this,gm,this.focusin.bind(this));Kt(this,vm,this.focusout.bind(this));Kt(this,ho,null);Kt(this,Xv,"");Kt(this,cp,!1);Kt(this,Tu,null);Kt(this,Yv,!1);Kt(this,up,!1);Kt(this,Ql,!1);Kt(this,Sl,null);Kt(this,ym,0);Kt(this,bm,0);Kt(this,Io,null);xr(this,"_initialOptions",Object.create(null));xr(this,"_isVisible",!0);xr(this,"_uiManager",null);xr(this,"_focusEventsAllowed",!0);xr(this,"_l10nPromise",null);Kt(this,Zv,!1);Kt(this,nw,Ps._zIndex++);this.constructor===Ps&&unreachable("Cannot initialize AnnotationEditor."),this.parent=$.parent,this.id=$.id,this.width=this.height=null,this.pageIndex=$.parent.pageIndex,this.name=$.name,this.div=null,this._uiManager=$.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=$.isCentered,this._structTreeParentId=null;const{rotation:ht,rawDims:{pageWidth:vt,pageHeight:bt,pageX:wt,pageY:At}}=this.parent.viewport;this.rotation=ht,this.pageRotation=(360+ht-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[vt,bt],this.pageTranslation=[wt,At];const[Et,St]=this.parentDimensions;this.x=$.x/Et,this.y=$.y/St,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const $=Ps.prototype._resizeWithKeyboard,ht=AnnotationEditorUIManager.TRANSLATE_SMALL,vt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],$,{args:[-ht,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$,{args:[-vt,0]}],[["ArrowRight","mac+ArrowRight"],$,{args:[ht,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$,{args:[vt,0]}],[["ArrowUp","mac+ArrowUp"],$,{args:[0,-ht]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$,{args:[0,-vt]}],[["ArrowDown","mac+ArrowDown"],$,{args:[0,ht]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$,{args:[0,vt]}],[["Escape","mac+Escape"],Ps.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement($){const ht=new FakeEditor({id:$.parent.getNextId(),parent:$.parent,uiManager:$._uiManager});ht.annotationElementId=$.annotationElementId,ht.deleted=!0,ht._uiManager.addToAnnotationStorage(ht)}static initialize($,ht,vt){if(Ps._l10nPromise||(Ps._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(wt=>[wt,$.get(wt.replaceAll(/([A-Z])/g,At=>`-${At.toLowerCase()}`))]))),vt!=null&&vt.strings)for(const wt of vt.strings)Ps._l10nPromise.set(wt,$.get(wt));if(Ps._borderLineWidth!==-1)return;const bt=getComputedStyle(document.documentElement);Ps._borderLineWidth=parseFloat(bt.getPropertyValue("--outline-width"))||0}static updateDefaultParams($,ht){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting($){return!1}static paste($,ht){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _t(this,Zv)}set _isDraggable($){var ht;zt(this,Zv,$),(ht=this.div)==null||ht.classList.toggle("draggable",$)}get isEnterHandled(){return!0}center(){const[$,ht]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*ht/($*2),this.y+=this.width*$/(ht*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*ht/($*2),this.y-=this.width*$/(ht*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands($){this._uiManager.addCommands($)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_t(this,nw)}setParent($){$!==null?(this.pageIndex=$.pageIndex,this.pageDimensions=$.pageDimensions):Ut(this,os,av).call(this),this.parent=$}focusin($){this._focusEventsAllowed&&(_t(this,cp)?zt(this,cp,!1):this.parent.setSelected(this))}focusout($){var vt;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const ht=$.relatedTarget;ht!=null&&ht.closest(`#${this.id}`)||($.preventDefault(),(vt=this.parent)!=null&&vt.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt($,ht,vt,bt){const[wt,At]=this.parentDimensions;[vt,bt]=this.screenToPageTranslation(vt,bt),this.x=($+vt)/wt,this.y=(ht+bt)/At,this.fixAndSetPosition()}translate($,ht){Ut(this,os,Vw).call(this,this.parentDimensions,$,ht)}translateInPage($,ht){_t(this,Tu)||zt(this,Tu,[this.x,this.y]),Ut(this,os,Vw).call(this,this.pageDimensions,$,ht),this.div.scrollIntoView({block:"nearest"})}drag($,ht){_t(this,Tu)||zt(this,Tu,[this.x,this.y]);const[vt,bt]=this.parentDimensions;if(this.x+=$/vt,this.y+=ht/bt,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Ct,y:xt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Ct,xt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:wt,y:At}=this;const[Et,St]=this.getBaseTranslation();wt+=Et,At+=St,this.div.style.left=`${(100*wt).toFixed(2)}%`,this.div.style.top=`${(100*At).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!_t(this,Tu)&&(_t(this,Tu)[0]!==this.x||_t(this,Tu)[1]!==this.y)}getBaseTranslation(){const[$,ht]=this.parentDimensions,{_borderLineWidth:vt}=Ps,bt=vt/$,wt=vt/ht;switch(this.rotation){case 90:return[-bt,wt];case 180:return[bt,wt];case 270:return[bt,-wt];default:return[-bt,-wt]}}get _mustFixPosition(){return!0}fixAndSetPosition($=this.rotation){const[ht,vt]=this.pageDimensions;let{x:bt,y:wt,width:At,height:Et}=this;if(At*=ht,Et*=vt,bt*=ht,wt*=vt,this._mustFixPosition)switch($){case 0:bt=Math.max(0,Math.min(ht-At,bt)),wt=Math.max(0,Math.min(vt-Et,wt));break;case 90:bt=Math.max(0,Math.min(ht-Et,bt)),wt=Math.min(vt,Math.max(At,wt));break;case 180:bt=Math.min(ht,Math.max(At,bt)),wt=Math.min(vt,Math.max(Et,wt));break;case 270:bt=Math.min(ht,Math.max(Et,bt)),wt=Math.max(0,Math.min(vt-At,wt));break}this.x=bt/=ht,this.y=wt/=vt;const[St,Ct]=this.getBaseTranslation();bt+=St,wt+=Ct;const{style:xt}=this.div;xt.left=`${(100*bt).toFixed(2)}%`,xt.top=`${(100*wt).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation($,ht){var vt;return Ut(vt=Ps,Qv,Hw).call(vt,$,ht,this.parentRotation)}pageTranslationToScreen($,ht){var vt;return Ut(vt=Ps,Qv,Hw).call(vt,$,ht,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:$,pageDimensions:[ht,vt]}=this,bt=ht*$,wt=vt*$;return util_FeatureTest.isCSSRoundSupported?[Math.round(bt),Math.round(wt)]:[bt,wt]}setDims($,ht){const[vt,bt]=this.parentDimensions;this.div.style.width=`${(100*$/vt).toFixed(2)}%`,_t(this,ap)||(this.div.style.height=`${(100*ht/bt).toFixed(2)}%`)}fixDims(){const{style:$}=this.div,{height:ht,width:vt}=$,bt=vt.endsWith("%"),wt=!_t(this,ap)&&ht.endsWith("%");if(bt&&wt)return;const[At,Et]=this.parentDimensions;bt||($.width=`${(100*parseFloat(vt)/At).toFixed(2)}%`),!_t(this,ap)&&!wt&&($.height=`${(100*parseFloat(ht)/Et).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var $;($=_t(this,po))==null||$.finish()}async addEditToolbar(){return _t(this,ho)||_t(this,up)?_t(this,ho):(zt(this,ho,new EditorToolbar(this)),this.div.append(_t(this,ho).render()),_t(this,po)&&_t(this,ho).addAltTextButton(await _t(this,po).render()),_t(this,ho))}removeEditToolbar(){var $;_t(this,ho)&&(_t(this,ho).remove(),zt(this,ho,null),($=_t(this,po))==null||$.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){_t(this,po)||(AltText.initialize(Ps._l10nPromise),zt(this,po,new AltText(this)),await this.addEditToolbar())}get altTextData(){var $;return($=_t(this,po))==null?void 0:$.data}set altTextData($){_t(this,po)&&(_t(this,po).data=$)}hasAltText(){var $;return!(($=_t(this,po))!=null&&$.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=_t(this,mm)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",_t(this,gm)),this.div.addEventListener("focusout",_t(this,vm));const[$,ht]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*ht/$).toFixed(2)}%`,this.div.style.maxHeight=`${(100*$/ht).toFixed(2)}%`);const[vt,bt]=this.getInitialTranslation();return this.translate(vt,bt),bindEvents(this,this.div,["pointerdown"]),this.div}pointerdown($){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht){$.preventDefault();return}if(zt(this,cp,!0),this._isDraggable){Ut(this,os,GE).call(this,$);return}Ut(this,os,Ww).call(this,$)}moveInDOM(){_t(this,Sl)&&clearTimeout(_t(this,Sl)),zt(this,Sl,setTimeout(()=>{var $;zt(this,Sl,null),($=this.parent)==null||$.moveEditorInDOM(this)},0))}_setParentAndPosition($,ht,vt){$.changeParent(this),this.x=ht,this.y=vt,this.fixAndSetPosition()}getRect($,ht,vt=this.rotation){const bt=this.parentScale,[wt,At]=this.pageDimensions,[Et,St]=this.pageTranslation,Ct=$/bt,xt=ht/bt,Pt=this.x*wt,kt=this.y*At,Rt=this.width*wt,Mt=this.height*At;switch(vt){case 0:return[Pt+Ct+Et,At-kt-xt-Mt+St,Pt+Ct+Rt+Et,At-kt-xt+St];case 90:return[Pt+xt+Et,At-kt+Ct+St,Pt+xt+Mt+Et,At-kt+Ct+Rt+St];case 180:return[Pt-Ct-Rt+Et,At-kt+xt+St,Pt-Ct+Et,At-kt+xt+Mt+St];case 270:return[Pt-xt-Mt+Et,At-kt-Ct-Rt+St,Pt-xt+Et,At-kt-Ct+St];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords($,ht){const[vt,bt,wt,At]=$,Et=wt-vt,St=At-bt;switch(this.rotation){case 0:return[vt,ht-At,Et,St];case 90:return[vt,ht-bt,St,Et];case 180:return[wt,ht-bt,Et,St];case 270:return[wt,ht-At,St,Et];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){zt(this,up,!0)}disableEditMode(){zt(this,up,!1)}isInEditMode(){return _t(this,up)}shouldGetKeyboardEvents(){return _t(this,Ql)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var $,ht;($=this.div)==null||$.addEventListener("focusin",_t(this,gm)),(ht=this.div)==null||ht.addEventListener("focusout",_t(this,vm))}rotate($){}serialize($=!1,ht=null){unreachable("An editor must be serializable")}static deserialize($,ht,vt){const bt=new this.prototype.constructor({parent:ht,id:ht.getNextId(),uiManager:vt});bt.rotation=$.rotation;const[wt,At]=bt.pageDimensions,[Et,St,Ct,xt]=bt.getRectInCurrentCoords($.rect,At);return bt.x=Et/wt,bt.y=St/At,bt.width=Ct/wt,bt.height=xt/At,bt}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",_t(this,gm)),this.div.removeEventListener("focusout",_t(this,vm)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),_t(this,Sl)&&(clearTimeout(_t(this,Sl)),zt(this,Sl,null)),Ut(this,os,av).call(this),this.removeEditToolbar(),_t(this,Io)){for(const $ of _t(this,Io).values())clearTimeout($);zt(this,Io,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,os,zE).call(this),_t(this,so).classList.remove("hidden"),bindEvents(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown($){if(!this.isResizable||$.target!==this.div||$.key!=="Enter")return;this._uiManager.setSelected(this),zt(this,lp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const ht=_t(this,so).children;if(!_t(this,Ko)){zt(this,Ko,Array.from(ht));const At=Ut(this,os,KE).bind(this),Et=Ut(this,os,qE).bind(this);for(const St of _t(this,Ko)){const Ct=St.getAttribute("data-resizer-name");St.setAttribute("role","spinbutton"),St.addEventListener("keydown",At),St.addEventListener("blur",Et),St.addEventListener("focus",Ut(this,os,XE).bind(this,Ct)),Ps._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(xt=>St.setAttribute("aria-label",xt))}}const vt=_t(this,Ko)[0];let bt=0;for(const At of ht){if(At===vt)break;bt++}const wt=(360-this.rotation+this.parentRotation)%360/90*(_t(this,Ko).length/4);if(wt!==bt){if(wt<bt)for(let Et=0;Et<bt-wt;Et++)_t(this,so).append(_t(this,so).firstChild);else if(wt>bt)for(let Et=0;Et<wt-bt;Et++)_t(this,so).firstChild.before(_t(this,so).lastChild);let At=0;for(const Et of ht){const Ct=_t(this,Ko)[At++].getAttribute("data-resizer-name");Ps._l10nPromise.get(`pdfjs-editor-resizer-label-${Ct}`).then(xt=>Et.setAttribute("aria-label",xt))}}Ut(this,os,Gw).call(this,0),zt(this,Ql,!0),_t(this,so).firstChild.focus({focusVisible:!0}),$.preventDefault(),$.stopImmediatePropagation()}_resizeWithKeyboard($,ht){_t(this,Ql)&&Ut(this,os,zw).call(this,_t(this,Xv),{movementX:$,movementY:ht})}_stopResizingWithKeyboard(){Ut(this,os,av).call(this),this.div.focus()}select(){var $,ht;if(this.makeResizable(),($=this.div)==null||$.classList.add("selectedEditor"),!_t(this,ho)){this.addEditToolbar().then(()=>{var vt,bt;(vt=this.div)!=null&&vt.classList.contains("selectedEditor")&&((bt=_t(this,ho))==null||bt.show())});return}(ht=_t(this,ho))==null||ht.show()}unselect(){var $,ht,vt,bt;($=_t(this,so))==null||$.classList.add("hidden"),(ht=this.div)==null||ht.classList.remove("selectedEditor"),(vt=this.div)!=null&&vt.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(bt=_t(this,ho))==null||bt.hide()}updateParams($,ht){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return _t(this,Yv)}set isEditing($){zt(this,Yv,$),this.parent&&($?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio($,ht){zt(this,ap,!0);const vt=$/ht,{style:bt}=this.div;bt.aspectRatio=vt,bt.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry($,ht=!1){if(ht){_t(this,Io)||zt(this,Io,new Map);const{action:vt}=$;let bt=_t(this,Io).get(vt);bt&&clearTimeout(bt),bt=setTimeout(()=>{this._reportTelemetry($),_t(this,Io).delete(vt),_t(this,Io).size===0&&zt(this,Io,null)},Ps._telemetryTimeout),_t(this,Io).set(vt,bt);return}$.type||($.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:$}})}show($=this._isVisible){this.div.classList.toggle("hidden",!$),this._isVisible=$}enable(){this.div&&(this.div.tabIndex=0),zt(this,mm,!1)}disable(){this.div&&(this.div.tabIndex=-1),zt(this,mm,!0)}renderAnnotationElement($){let ht=$.container.querySelector(".annotationContent");if(!ht)ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),$.container.prepend(ht);else if(ht.nodeName==="CANVAS"){const vt=ht;ht=document.createElement("div"),ht.classList.add("annotationContent",this.editorType),vt.before(ht)}return ht}resetAnnotationElement($){const{firstChild:ht}=$.container;ht.nodeName==="DIV"&&ht.classList.contains("annotationContent")&&ht.remove()}};Ko=new WeakMap,po=new WeakMap,mm=new WeakMap,ap=new WeakMap,so=new WeakMap,lp=new WeakMap,gm=new WeakMap,vm=new WeakMap,ho=new WeakMap,Xv=new WeakMap,cp=new WeakMap,Tu=new WeakMap,Yv=new WeakMap,up=new WeakMap,Ql=new WeakMap,Sl=new WeakMap,ym=new WeakMap,bm=new WeakMap,Io=new WeakMap,Zv=new WeakMap,nw=new WeakMap,os=new WeakSet,Vw=function([$,ht],vt,bt){[vt,bt]=this.screenToPageTranslation(vt,bt),this.x+=vt/$,this.y+=bt/ht,this.fixAndSetPosition()},Qv=new WeakSet,Hw=function($,ht,vt){switch(vt){case 90:return[ht,-$];case 180:return[-$,-ht];case 270:return[-ht,$];default:return[$,ht]}},jw=function($){switch($){case 90:{const[ht,vt]=this.pageDimensions;return[0,-ht/vt,vt/ht,0]}case 180:return[-1,0,0,-1];case 270:{const[ht,vt]=this.pageDimensions;return[0,ht/vt,-vt/ht,0]}default:return[1,0,0,1]}},zE=function(){if(_t(this,so))return;zt(this,so,document.createElement("div")),_t(this,so).classList.add("resizers");const $=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const ht of $){const vt=document.createElement("div");_t(this,so).append(vt),vt.classList.add("resizer",ht),vt.setAttribute("data-resizer-name",ht),vt.addEventListener("pointerdown",Ut(this,os,WE).bind(this,ht)),vt.addEventListener("contextmenu",noContextMenu),vt.tabIndex=-1}this.div.prepend(_t(this,so))},WE=function($,ht){var Mt;ht.preventDefault();const{isMac:vt}=util_FeatureTest.platform;if(ht.button!==0||ht.ctrlKey&&vt)return;(Mt=_t(this,po))==null||Mt.toggle(!1);const bt=Ut(this,os,zw).bind(this,$),wt=this._isDraggable;this._isDraggable=!1;const At={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",bt,At),window.addEventListener("contextmenu",noContextMenu);const Et=this.x,St=this.y,Ct=this.width,xt=this.height,Pt=this.parent.div.style.cursor,kt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(ht.target).cursor;const Rt=()=>{var Ft;this.parent.togglePointerEvents(!0),(Ft=_t(this,po))==null||Ft.toggle(!0),this._isDraggable=wt,window.removeEventListener("pointerup",Rt),window.removeEventListener("blur",Rt),window.removeEventListener("pointermove",bt,At),window.removeEventListener("contextmenu",noContextMenu),this.parent.div.style.cursor=Pt,this.div.style.cursor=kt,Ut(this,os,Uw).call(this,Et,St,Ct,xt)};window.addEventListener("pointerup",Rt),window.addEventListener("blur",Rt)},Uw=function($,ht,vt,bt){const wt=this.x,At=this.y,Et=this.width,St=this.height;wt===$&&At===ht&&Et===vt&&St===bt||this.addCommands({cmd:()=>{this.width=Et,this.height=St,this.x=wt,this.y=At;const[Ct,xt]=this.parentDimensions;this.setDims(Ct*Et,xt*St),this.fixAndSetPosition()},undo:()=>{this.width=vt,this.height=bt,this.x=$,this.y=ht;const[Ct,xt]=this.parentDimensions;this.setDims(Ct*vt,xt*bt),this.fixAndSetPosition()},mustExec:!0})},zw=function($,ht){const[vt,bt]=this.parentDimensions,wt=this.x,At=this.y,Et=this.width,St=this.height,Ct=Ps.MIN_SIZE/vt,xt=Ps.MIN_SIZE/bt,Pt=dn=>Math.round(dn*1e4)/1e4,kt=Ut(this,os,jw).call(this,this.rotation),Rt=(dn,fn)=>[kt[0]*dn+kt[2]*fn,kt[1]*dn+kt[3]*fn],Mt=Ut(this,os,jw).call(this,360-this.rotation),Ft=(dn,fn)=>[Mt[0]*dn+Mt[2]*fn,Mt[1]*dn+Mt[3]*fn];let $t,Lt,Dt=!1,Ot=!1;switch($){case"topLeft":Dt=!0,$t=(dn,fn)=>[0,0],Lt=(dn,fn)=>[dn,fn];break;case"topMiddle":$t=(dn,fn)=>[dn/2,0],Lt=(dn,fn)=>[dn/2,fn];break;case"topRight":Dt=!0,$t=(dn,fn)=>[dn,0],Lt=(dn,fn)=>[0,fn];break;case"middleRight":Ot=!0,$t=(dn,fn)=>[dn,fn/2],Lt=(dn,fn)=>[0,fn/2];break;case"bottomRight":Dt=!0,$t=(dn,fn)=>[dn,fn],Lt=(dn,fn)=>[0,0];break;case"bottomMiddle":$t=(dn,fn)=>[dn/2,fn],Lt=(dn,fn)=>[dn/2,0];break;case"bottomLeft":Dt=!0,$t=(dn,fn)=>[0,fn],Lt=(dn,fn)=>[dn,0];break;case"middleLeft":Ot=!0,$t=(dn,fn)=>[0,fn/2],Lt=(dn,fn)=>[dn,fn/2];break}const Bt=$t(Et,St),Nt=Lt(Et,St);let Ht=Rt(...Nt);const Vt=Pt(wt+Ht[0]),jt=Pt(At+Ht[1]);let qt=1,Jt=1,[Gt,en]=this.screenToPageTranslation(ht.movementX,ht.movementY);if([Gt,en]=Ft(Gt/vt,en/bt),Dt){const dn=Math.hypot(Et,St);qt=Jt=Math.max(Math.min(Math.hypot(Nt[0]-Bt[0]-Gt,Nt[1]-Bt[1]-en)/dn,1/Et,1/St),Ct/Et,xt/St)}else Ot?qt=Math.max(Ct,Math.min(1,Math.abs(Nt[0]-Bt[0]-Gt)))/Et:Jt=Math.max(xt,Math.min(1,Math.abs(Nt[1]-Bt[1]-en)))/St;const an=Pt(Et*qt),Sn=Pt(St*Jt);Ht=Rt(...Lt(an,Sn));const cn=Vt-Ht[0],An=jt-Ht[1];this.width=an,this.height=Sn,this.x=cn,this.y=An,this.setDims(vt*an,bt*Sn),this.fixAndSetPosition()},Ww=function($){const{isMac:ht}=util_FeatureTest.platform;$.ctrlKey&&!ht||$.shiftKey||$.metaKey&&ht?this.parent.toggleSelected(this):this.parent.setSelected(this)},GE=function($){const ht=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let vt,bt;ht&&(this.div.classList.add("moving"),vt={passive:!0,capture:!0},zt(this,ym,$.clientX),zt(this,bm,$.clientY),bt=At=>{const{clientX:Et,clientY:St}=At,[Ct,xt]=this.screenToPageTranslation(Et-_t(this,ym),St-_t(this,bm));zt(this,ym,Et),zt(this,bm,St),this._uiManager.dragSelectedEditors(Ct,xt)},window.addEventListener("pointermove",bt,vt));const wt=()=>{window.removeEventListener("pointerup",wt),window.removeEventListener("blur",wt),ht&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",bt,vt)),zt(this,cp,!1),this._uiManager.endDragSession()||Ut(this,os,Ww).call(this,$)};window.addEventListener("pointerup",wt),window.addEventListener("blur",wt)},KE=function($){Ps._resizerKeyboardManager.exec(this,$)},qE=function($){var ht;_t(this,Ql)&&((ht=$.relatedTarget)==null?void 0:ht.parentNode)!==_t(this,so)&&Ut(this,os,av).call(this)},XE=function($){zt(this,Xv,_t(this,Ql)?$:"")},Gw=function($){if(_t(this,Ko))for(const ht of _t(this,Ko))ht.tabIndex=$},av=function(){if(zt(this,Ql,!1),Ut(this,os,Gw).call(this,-1),_t(this,lp)){const{savedX:$,savedY:ht,savedWidth:vt,savedHeight:bt}=_t(this,lp);Ut(this,os,Uw).call(this,$,ht,vt,bt),zt(this,lp,null)}},Kt(Ps,Qv),xr(Ps,"_borderLineWidth",-1),xr(Ps,"_colorManager",new ColorManager),xr(Ps,"_zIndex",1),xr(Ps,"_telemetryTimeout",1e3);let AnnotationEditor=Ps;class FakeEditor extends AnnotationEditor{constructor($){super($),this.annotationElementId=$.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor($){this.h1=$?$&4294967295:SEED,this.h2=$?$&4294967295:SEED}update($){let ht,vt;if(typeof $=="string"){ht=new Uint8Array($.length*2),vt=0;for(let Ft=0,$t=$.length;Ft<$t;Ft++){const Lt=$.charCodeAt(Ft);Lt<=255?ht[vt++]=Lt:(ht[vt++]=Lt>>>8,ht[vt++]=Lt&255)}}else if(ArrayBuffer.isView($))ht=$.slice(),vt=ht.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const bt=vt>>2,wt=vt-bt*4,At=new Uint32Array(ht.buffer,0,bt);let Et=0,St=0,Ct=this.h1,xt=this.h2;const Pt=3432918353,kt=461845907,Rt=Pt&MASK_LOW,Mt=kt&MASK_LOW;for(let Ft=0;Ft<bt;Ft++)Ft&1?(Et=At[Ft],Et=Et*Pt&MASK_HIGH|Et*Rt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*kt&MASK_HIGH|Et*Mt&MASK_LOW,Ct^=Et,Ct=Ct<<13|Ct>>>19,Ct=Ct*5+3864292196):(St=At[Ft],St=St*Pt&MASK_HIGH|St*Rt&MASK_LOW,St=St<<15|St>>>17,St=St*kt&MASK_HIGH|St*Mt&MASK_LOW,xt^=St,xt=xt<<13|xt>>>19,xt=xt*5+3864292196);switch(Et=0,wt){case 3:Et^=ht[bt*4+2]<<16;case 2:Et^=ht[bt*4+1]<<8;case 1:Et^=ht[bt*4],Et=Et*Pt&MASK_HIGH|Et*Rt&MASK_LOW,Et=Et<<15|Et>>>17,Et=Et*kt&MASK_HIGH|Et*Mt&MASK_LOW,bt&1?Ct^=Et:xt^=Et}this.h1=Ct,this.h2=xt}hexdigest(){let $=this.h1,ht=this.h2;return $^=ht>>>1,$=$*3981806797&MASK_HIGH|$*36045&MASK_LOW,ht=ht*4283543511&MASK_HIGH|((ht<<16|$>>>16)*2950163797&MASK_HIGH)>>>16,$^=ht>>>1,$=$*444984403&MASK_HIGH|$*60499&MASK_LOW,ht=ht*3301882366&MASK_HIGH|((ht<<16|$>>>16)*3120437893&MASK_HIGH)>>>16,$^=ht>>>1,($>>>0).toString(16).padStart(8,"0")+(ht>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var dp,oo,iw,YE;class AnnotationStorage{constructor(){Kt(this,iw);Kt(this,dp,!1);Kt(this,oo,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue($,ht){const vt=_t(this,oo).get($);return vt===void 0?ht:Object.assign(ht,vt)}getRawValue($){return _t(this,oo).get($)}remove($){if(_t(this,oo).delete($),_t(this,oo).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const ht of _t(this,oo).values())if(ht instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue($,ht){const vt=_t(this,oo).get($);let bt=!1;if(vt!==void 0)for(const[wt,At]of Object.entries(ht))vt[wt]!==At&&(bt=!0,vt[wt]=At);else bt=!0,_t(this,oo).set($,ht);bt&&Ut(this,iw,YE).call(this),ht instanceof AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(ht.constructor._type)}has($){return _t(this,oo).has($)}getAll(){return _t(this,oo).size>0?objectFromMap(_t(this,oo)):null}setAll($){for(const[ht,vt]of Object.entries($))this.setValue(ht,vt)}get size(){return _t(this,oo).size}resetModified(){_t(this,dp)&&(zt(this,dp,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(_t(this,oo).size===0)return SerializableEmpty;const $=new Map,ht=new MurmurHash3_64,vt=[],bt=Object.create(null);let wt=!1;for(const[At,Et]of _t(this,oo)){const St=Et instanceof AnnotationEditor?Et.serialize(!1,bt):Et;St&&($.set(At,St),ht.update(`${At}:${JSON.stringify(St)}`),wt||(wt=!!St.bitmap))}if(wt)for(const At of $.values())At.bitmap&&vt.push(At.bitmap);return $.size>0?{map:$,hash:ht.hexdigest(),transfer:vt}:SerializableEmpty}get editorStats(){let $=null;const ht=new Map;for(const vt of _t(this,oo).values()){if(!(vt instanceof AnnotationEditor))continue;const bt=vt.telemetryFinalData;if(!bt)continue;const{type:wt}=bt;ht.has(wt)||ht.set(wt,Object.getPrototypeOf(vt).constructor),$||($=Object.create(null));const At=$[wt]||($[wt]=new Map);for(const[Et,St]of Object.entries(bt)){if(Et==="type")continue;let Ct=At.get(Et);Ct||(Ct=new Map,At.set(Et,Ct));const xt=Ct.get(St)??0;Ct.set(St,xt+1)}}for(const[vt,bt]of ht)$[vt]=bt.computeTelemetryFinalData($[vt]);return $}}dp=new WeakMap,oo=new WeakMap,iw=new WeakSet,YE=function(){_t(this,dp)||(zt(this,dp,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Jv;class PrintAnnotationStorage extends AnnotationStorage{constructor(ht){super();Kt(this,Jv);const{map:vt,hash:bt,transfer:wt}=ht.serializable,At=structuredClone(vt,wt?{transfer:wt}:null);zt(this,Jv,{map:At,hash:bt,transfer:wt})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return _t(this,Jv)}}Jv=new WeakMap;var wm;class FontLoader{constructor({ownerDocument:$=globalThis.document,styleElement:ht=null}){Kt(this,wm,new Set);this._document=$,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace($){this.nativeFontFaces.add($),this._document.fonts.add($)}removeNativeFontFace($){this.nativeFontFaces.delete($),this._document.fonts.delete($)}insertRule($){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ht=this.styleElement.sheet;ht.insertRule($,ht.cssRules.length)}clear(){for(const $ of this.nativeFontFaces)this._document.fonts.delete($);this.nativeFontFaces.clear(),_t(this,wm).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:$,_inspectFont:ht}){if(!(!$||_t(this,wm).has($.loadedName))){if(assert(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:vt,src:bt,style:wt}=$,At=new FontFace(vt,bt,wt);this.addNativeFontFace(At);try{await At.load(),_t(this,wm).add(vt),ht==null||ht($)}catch{warn(`Cannot load system font: ${$.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(At)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind($){if($.attached||$.missingFile&&!$.systemFontInfo)return;if($.attached=!0,$.systemFontInfo){await this.loadSystemFont($);return}if(this.isFontLoadingAPISupported){const vt=$.createNativeFontFace();if(vt){this.addNativeFontFace(vt);try{await vt.loaded}catch(bt){throw warn(`Failed to load font '${vt.family}': '${bt}'.`),$.disableFontFace=!0,bt}}return}const ht=$.createFontFaceRule();if(ht){if(this.insertRule(ht),this.isSyncFontLoadingSupported)return;await new Promise(vt=>{const bt=this._queueLoadingCallback(vt);this._prepareFontLoadEvent($,bt)})}}get isFontLoadingAPISupported(){var ht;const $=!!((ht=this._document)!=null&&ht.fonts);return shadow(this,"isFontLoadingAPISupported",$)}get isSyncFontLoadingSupported(){let $=!1;return(isNodeJS||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&($=!0),shadow(this,"isSyncFontLoadingSupported",$)}_queueLoadingCallback($){function ht(){for(assert(!bt.done,"completeRequest() cannot be called twice."),bt.done=!0;vt.length>0&&vt[0].done;){const wt=vt.shift();setTimeout(wt.callback,0)}}const{loadingRequests:vt}=this,bt={done:!1,complete:ht,callback:$};return vt.push(bt),bt}get _loadTestFont(){const $=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",$)}_prepareFontLoadEvent($,ht){function vt(Bt,Nt){return Bt.charCodeAt(Nt)<<24|Bt.charCodeAt(Nt+1)<<16|Bt.charCodeAt(Nt+2)<<8|Bt.charCodeAt(Nt+3)&255}function bt(Bt,Nt,Ht,Vt){const jt=Bt.substring(0,Nt),qt=Bt.substring(Nt+Ht);return jt+Vt+qt}let wt,At;const Et=this._document.createElement("canvas");Et.width=1,Et.height=1;const St=Et.getContext("2d");let Ct=0;function xt(Bt,Nt){if(++Ct>30){warn("Load test font never loaded."),Nt();return}if(St.font="30px "+Bt,St.fillText(".",0,20),St.getImageData(0,0,1,1).data[3]>0){Nt();return}setTimeout(xt.bind(null,Bt,Nt))}const Pt=`lt${Date.now()}${this.loadTestFontId++}`;let kt=this._loadTestFont;kt=bt(kt,976,Pt.length,Pt);const Mt=16,Ft=1482184792;let $t=vt(kt,Mt);for(wt=0,At=Pt.length-3;wt<At;wt+=4)$t=$t-Ft+vt(Pt,wt)|0;wt<Pt.length&&($t=$t-Ft+vt(Pt+"XXX",wt)|0),kt=bt(kt,Mt,4,string32($t));const Lt=`url(data:font/opentype;base64,${btoa(kt)});`,Dt=`@font-face {font-family:"${Pt}";src:${Lt}}`;this.insertRule(Dt);const Ot=this._document.createElement("div");Ot.style.visibility="hidden",Ot.style.width=Ot.style.height="10px",Ot.style.position="absolute",Ot.style.top=Ot.style.left="0px";for(const Bt of[$.loadedName,Pt]){const Nt=this._document.createElement("span");Nt.textContent="Hi",Nt.style.fontFamily=Bt,Ot.append(Nt)}this._document.body.append(Ot),xt(Pt,()=>{Ot.remove(),ht.complete()})}}wm=new WeakMap;class FontFaceObject{constructor($,{disableFontFace:ht=!1,inspectFont:vt=null}){this.compiledGlyphs=Object.create(null);for(const bt in $)this[bt]=$[bt];this.disableFontFace=ht===!0,this._inspectFont=vt}createNativeFontFace(){var ht;if(!this.data||this.disableFontFace)return null;let $;if(!this.cssFontInfo)$=new FontFace(this.loadedName,this.data,{});else{const vt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(vt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),$=new FontFace(this.cssFontInfo.fontFamily,this.data,vt)}return(ht=this._inspectFont)==null||ht.call(this,this),$}createFontFaceRule(){var bt;if(!this.data||this.disableFontFace)return null;const $=bytesToString(this.data),ht=`url(data:${this.mimetype};base64,${btoa($)});`;let vt;if(!this.cssFontInfo)vt=`@font-face {font-family:"${this.loadedName}";src:${ht}}`;else{let wt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(wt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),vt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${wt}src:${ht}}`}return(bt=this._inspectFont)==null||bt.call(this,this,ht),vt}getPathGenerator($,ht){if(this.compiledGlyphs[ht]!==void 0)return this.compiledGlyphs[ht];let vt;try{vt=$.get(this.loadedName+"_path_"+ht)}catch(wt){warn(`getPathGenerator - ignoring character: "${wt}".`)}if(!Array.isArray(vt)||vt.length===0)return this.compiledGlyphs[ht]=function(wt,At){};const bt=[];for(let wt=0,At=vt.length;wt<At;)switch(vt[wt++]){case FontRenderOps.BEZIER_CURVE_TO:{const[Et,St,Ct,xt,Pt,kt]=vt.slice(wt,wt+6);bt.push(Rt=>Rt.bezierCurveTo(Et,St,Ct,xt,Pt,kt)),wt+=6}break;case FontRenderOps.MOVE_TO:{const[Et,St]=vt.slice(wt,wt+2);bt.push(Ct=>Ct.moveTo(Et,St)),wt+=2}break;case FontRenderOps.LINE_TO:{const[Et,St]=vt.slice(wt,wt+2);bt.push(Ct=>Ct.lineTo(Et,St)),wt+=2}break;case FontRenderOps.QUADRATIC_CURVE_TO:{const[Et,St,Ct,xt]=vt.slice(wt,wt+4);bt.push(Pt=>Pt.quadraticCurveTo(Et,St,Ct,xt)),wt+=4}break;case FontRenderOps.RESTORE:bt.push(Et=>Et.restore());break;case FontRenderOps.SAVE:bt.push(Et=>Et.save());break;case FontRenderOps.SCALE:assert(bt.length===2,"Scale command is only valid at the third position.");break;case FontRenderOps.TRANSFORM:{const[Et,St,Ct,xt,Pt,kt]=vt.slice(wt,wt+6);bt.push(Rt=>Rt.transform(Et,St,Ct,xt,Pt,kt)),wt+=6}break;case FontRenderOps.TRANSLATE:{const[Et,St]=vt.slice(wt,wt+2);bt.push(Ct=>Ct.translate(Et,St)),wt+=2}break}return this.compiledGlyphs[ht]=function(At,Et){bt[0](At),bt[1](At),At.scale(Et,-Et);for(let St=2,Ct=bt.length;St<Ct;St++)bt[St](At)}}}if(isNodeJS){var packageCapability=Promise.withResolvers(),packageMap=null;(async()=>{const $=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),[]),ht=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),vt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0),bt=await __vitePreload(()=>Promise.resolve().then(()=>__viteBrowserExternal$1),void 0);let wt,At;return new Map(Object.entries({fs:$,http:ht,https:vt,url:bt,canvas:wt,path2d:At}))})().then($=>{packageMap=$,packageCapability.resolve()},$=>{warn(`loadPackages: ${$}`),packageMap=new Map,packageCapability.resolve()})}class NodePackages{static get promise(){return packageCapability.promise}static get($){return packageMap==null?void 0:packageMap.get($)}}const node_utils_fetchData=function(_e){return NodePackages.get("fs").promises.readFile(_e).then(ht=>new Uint8Array(ht))};class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas($,ht){return NodePackages.get("canvas").createCanvas($,ht)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{_fetchData($,ht){return node_utils_fetchData($).then(vt=>({cMapData:vt,compressionType:ht}))}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{_fetchData($){return node_utils_fetchData($)}}const PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(_e,$){if(!$)return;const ht=$[2]-$[0],vt=$[3]-$[1],bt=new Path2D;bt.rect($[0],$[1],ht,vt),_e.clip(bt)}class BaseShadingPattern{constructor(){this.constructor===BaseShadingPattern&&unreachable("Cannot initialize BaseShadingPattern.")}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor($){super(),this._type=$[1],this._bbox=$[2],this._colorStops=$[3],this._p0=$[4],this._p1=$[5],this._r0=$[6],this._r1=$[7],this.matrix=null}_createGradient($){let ht;this._type==="axial"?ht=$.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ht=$.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const vt of this._colorStops)ht.addColorStop(vt[0],vt[1]);return ht}getPattern($,ht,vt,bt){let wt;if(bt===PathType.STROKE||bt===PathType.FILL){const At=ht.current.getClippedPathBoundingBox(bt,getCurrentTransform($))||[0,0,0,0],Et=Math.ceil(At[2]-At[0])||1,St=Math.ceil(At[3]-At[1])||1,Ct=ht.cachedCanvases.getCanvas("pattern",Et,St,!0),xt=Ct.context;xt.clearRect(0,0,xt.canvas.width,xt.canvas.height),xt.beginPath(),xt.rect(0,0,xt.canvas.width,xt.canvas.height),xt.translate(-At[0],-At[1]),vt=Util.transform(vt,[1,0,0,1,At[0],At[1]]),xt.transform(...ht.baseTransform),this.matrix&&xt.transform(...this.matrix),applyBoundingBox(xt,this._bbox),xt.fillStyle=this._createGradient(xt),xt.fill(),wt=$.createPattern(Ct.canvas,"no-repeat");const Pt=new DOMMatrix(vt);wt.setTransform(Pt)}else applyBoundingBox($,this._bbox),wt=this._createGradient($);return wt}}function drawTriangle(_e,$,ht,vt,bt,wt,At,Et){const St=$.coords,Ct=$.colors,xt=_e.data,Pt=_e.width*4;let kt;St[ht+1]>St[vt+1]&&(kt=ht,ht=vt,vt=kt,kt=wt,wt=At,At=kt),St[vt+1]>St[bt+1]&&(kt=vt,vt=bt,bt=kt,kt=At,At=Et,Et=kt),St[ht+1]>St[vt+1]&&(kt=ht,ht=vt,vt=kt,kt=wt,wt=At,At=kt);const Rt=(St[ht]+$.offsetX)*$.scaleX,Mt=(St[ht+1]+$.offsetY)*$.scaleY,Ft=(St[vt]+$.offsetX)*$.scaleX,$t=(St[vt+1]+$.offsetY)*$.scaleY,Lt=(St[bt]+$.offsetX)*$.scaleX,Dt=(St[bt+1]+$.offsetY)*$.scaleY;if(Mt>=Dt)return;const Ot=Ct[wt],Bt=Ct[wt+1],Nt=Ct[wt+2],Ht=Ct[At],Vt=Ct[At+1],jt=Ct[At+2],qt=Ct[Et],Jt=Ct[Et+1],Gt=Ct[Et+2],en=Math.round(Mt),an=Math.round(Dt);let Sn,cn,An,dn,fn,nn,gn,Cn;for(let rn=en;rn<=an;rn++){if(rn<$t){const un=rn<Mt?0:(Mt-rn)/(Mt-$t);Sn=Rt-(Rt-Ft)*un,cn=Ot-(Ot-Ht)*un,An=Bt-(Bt-Vt)*un,dn=Nt-(Nt-jt)*un}else{let un;rn>Dt?un=1:$t===Dt?un=0:un=($t-rn)/($t-Dt),Sn=Ft-(Ft-Lt)*un,cn=Ht-(Ht-qt)*un,An=Vt-(Vt-Jt)*un,dn=jt-(jt-Gt)*un}let Xt;rn<Mt?Xt=0:rn>Dt?Xt=1:Xt=(Mt-rn)/(Mt-Dt),fn=Rt-(Rt-Lt)*Xt,nn=Ot-(Ot-qt)*Xt,gn=Bt-(Bt-Jt)*Xt,Cn=Nt-(Nt-Gt)*Xt;const Yt=Math.round(Math.min(Sn,fn)),tn=Math.round(Math.max(Sn,fn));let hn=Pt*rn+Yt*4;for(let un=Yt;un<=tn;un++)Xt=(Sn-un)/(Sn-fn),Xt<0?Xt=0:Xt>1&&(Xt=1),xt[hn++]=cn-(cn-nn)*Xt|0,xt[hn++]=An-(An-gn)*Xt|0,xt[hn++]=dn-(dn-Cn)*Xt|0,xt[hn++]=255}}function drawFigure(_e,$,ht){const vt=$.coords,bt=$.colors;let wt,At;switch($.type){case"lattice":const Et=$.verticesPerRow,St=Math.floor(vt.length/Et)-1,Ct=Et-1;for(wt=0;wt<St;wt++){let xt=wt*Et;for(let Pt=0;Pt<Ct;Pt++,xt++)drawTriangle(_e,ht,vt[xt],vt[xt+1],vt[xt+Et],bt[xt],bt[xt+1],bt[xt+Et]),drawTriangle(_e,ht,vt[xt+Et+1],vt[xt+1],vt[xt+Et],bt[xt+Et+1],bt[xt+1],bt[xt+Et])}break;case"triangles":for(wt=0,At=vt.length;wt<At;wt+=3)drawTriangle(_e,ht,vt[wt],vt[wt+1],vt[wt+2],bt[wt],bt[wt+1],bt[wt+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor($){super(),this._coords=$[2],this._colors=$[3],this._figures=$[4],this._bounds=$[5],this._bbox=$[7],this._background=$[8],this.matrix=null}_createMeshCanvas($,ht,vt){const Et=Math.floor(this._bounds[0]),St=Math.floor(this._bounds[1]),Ct=Math.ceil(this._bounds[2])-Et,xt=Math.ceil(this._bounds[3])-St,Pt=Math.min(Math.ceil(Math.abs(Ct*$[0]*1.1)),3e3),kt=Math.min(Math.ceil(Math.abs(xt*$[1]*1.1)),3e3),Rt=Ct/Pt,Mt=xt/kt,Ft={coords:this._coords,colors:this._colors,offsetX:-Et,offsetY:-St,scaleX:1/Rt,scaleY:1/Mt},$t=Pt+2*2,Lt=kt+2*2,Dt=vt.getCanvas("mesh",$t,Lt,!1),Ot=Dt.context,Bt=Ot.createImageData(Pt,kt);if(ht){const Ht=Bt.data;for(let Vt=0,jt=Ht.length;Vt<jt;Vt+=4)Ht[Vt]=ht[0],Ht[Vt+1]=ht[1],Ht[Vt+2]=ht[2],Ht[Vt+3]=255}for(const Ht of this._figures)drawFigure(Bt,Ht,Ft);return Ot.putImageData(Bt,2,2),{canvas:Dt.canvas,offsetX:Et-2*Rt,offsetY:St-2*Mt,scaleX:Rt,scaleY:Mt}}getPattern($,ht,vt,bt){applyBoundingBox($,this._bbox);let wt;if(bt===PathType.SHADING)wt=Util.singularValueDecompose2dScale(getCurrentTransform($));else if(wt=Util.singularValueDecompose2dScale(ht.baseTransform),this.matrix){const Et=Util.singularValueDecompose2dScale(this.matrix);wt=[wt[0]*Et[0],wt[1]*Et[1]]}const At=this._createMeshCanvas(wt,bt===PathType.SHADING?null:this._background,ht.cachedCanvases);return bt!==PathType.SHADING&&($.setTransform(...ht.baseTransform),this.matrix&&$.transform(...this.matrix)),$.translate(At.offsetX,At.offsetY),$.scale(At.scaleX,At.scaleY),$.createPattern(At.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(_e){switch(_e[0]){case"RadialAxial":return new RadialAxialShadingPattern(_e);case"Mesh":return new MeshShadingPattern(_e);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${_e[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},rw=class rw{constructor($,ht,vt,bt,wt){this.operatorList=$[2],this.matrix=$[3],this.bbox=$[4],this.xstep=$[5],this.ystep=$[6],this.paintType=$[7],this.tilingType=$[8],this.color=ht,this.ctx=vt,this.canvasGraphicsFactory=bt,this.baseTransform=wt}createPatternCanvas($){const ht=this.operatorList,vt=this.bbox,bt=this.xstep,wt=this.ystep,At=this.paintType,Et=this.tilingType,St=this.color,Ct=this.canvasGraphicsFactory;info("TilingType: "+Et);const xt=vt[0],Pt=vt[1],kt=vt[2],Rt=vt[3],Mt=Util.singularValueDecompose2dScale(this.matrix),Ft=Util.singularValueDecompose2dScale(this.baseTransform),$t=[Mt[0]*Ft[0],Mt[1]*Ft[1]],Lt=this.getSizeAndScale(bt,this.ctx.canvas.width,$t[0]),Dt=this.getSizeAndScale(wt,this.ctx.canvas.height,$t[1]),Ot=$.cachedCanvases.getCanvas("pattern",Lt.size,Dt.size,!0),Bt=Ot.context,Nt=Ct.createCanvasGraphics(Bt);Nt.groupLevel=$.groupLevel,this.setFillAndStrokeStyleToContext(Nt,At,St);let Ht=xt,Vt=Pt,jt=kt,qt=Rt;return xt<0&&(Ht=0,jt+=Math.abs(xt)),Pt<0&&(Vt=0,qt+=Math.abs(Pt)),Bt.translate(-(Lt.scale*Ht),-(Dt.scale*Vt)),Nt.transform(Lt.scale,0,0,Dt.scale,0,0),Bt.save(),this.clipBbox(Nt,Ht,Vt,jt,qt),Nt.baseTransform=getCurrentTransform(Nt.ctx),Nt.executeOperatorList(ht),Nt.endDrawing(),{canvas:Ot.canvas,scaleX:Lt.scale,scaleY:Dt.scale,offsetX:Ht,offsetY:Vt}}getSizeAndScale($,ht,vt){$=Math.abs($);const bt=Math.max(rw.MAX_PATTERN_SIZE,ht);let wt=Math.ceil($*vt);return wt>=bt?wt=bt:vt=wt/$,{scale:vt,size:wt}}clipBbox($,ht,vt,bt,wt){const At=bt-ht,Et=wt-vt;$.ctx.rect(ht,vt,At,Et),$.current.updateRectMinMax(getCurrentTransform($.ctx),[ht,vt,bt,wt]),$.clip(),$.endPath()}setFillAndStrokeStyleToContext($,ht,vt){const bt=$.ctx,wt=$.current;switch(ht){case PaintType.COLORED:const At=this.ctx;bt.fillStyle=At.fillStyle,bt.strokeStyle=At.strokeStyle,wt.fillColor=At.fillStyle,wt.strokeColor=At.strokeStyle;break;case PaintType.UNCOLORED:const Et=Util.makeHexColor(vt[0],vt[1],vt[2]);bt.fillStyle=Et,bt.strokeStyle=Et,wt.fillColor=Et,wt.strokeColor=Et;break;default:throw new FormatError(`Unsupported paint type: ${ht}`)}}getPattern($,ht,vt,bt){let wt=vt;bt!==PathType.SHADING&&(wt=Util.transform(wt,ht.baseTransform),this.matrix&&(wt=Util.transform(wt,this.matrix)));const At=this.createPatternCanvas(ht);let Et=new DOMMatrix(wt);Et=Et.translate(At.offsetX,At.offsetY),Et=Et.scale(1/At.scaleX,1/At.scaleY);const St=$.createPattern(At.canvas,"repeat");return St.setTransform(Et),St}};xr(rw,"MAX_PATTERN_SIZE",3e3);let TilingPattern=rw;function convertBlackAndWhiteToRGBA({src:_e,srcPos:$=0,dest:ht,width:vt,height:bt,nonBlackColor:wt=4294967295,inverseDecode:At=!1}){const Et=util_FeatureTest.isLittleEndian?4278190080:255,[St,Ct]=At?[wt,Et]:[Et,wt],xt=vt>>3,Pt=vt&7,kt=_e.length;ht=new Uint32Array(ht.buffer);let Rt=0;for(let Mt=0;Mt<bt;Mt++){for(const $t=$+xt;$<$t;$++){const Lt=$<kt?_e[$]:255;ht[Rt++]=Lt&128?Ct:St,ht[Rt++]=Lt&64?Ct:St,ht[Rt++]=Lt&32?Ct:St,ht[Rt++]=Lt&16?Ct:St,ht[Rt++]=Lt&8?Ct:St,ht[Rt++]=Lt&4?Ct:St,ht[Rt++]=Lt&2?Ct:St,ht[Rt++]=Lt&1?Ct:St}if(Pt===0)continue;const Ft=$<kt?_e[$++]:255;for(let $t=0;$t<Pt;$t++)ht[Rt++]=Ft&1<<7-$t?Ct:St}return{srcPos:$,destPos:Rt}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,MAX_SIZE_TO_COMPILE=1e3,FULL_CHUNK_HEIGHT=16;function mirrorContextOperations(_e,$){if(_e._removeMirroring)throw new Error("Context is already forwarding operations.");_e.__originalSave=_e.save,_e.__originalRestore=_e.restore,_e.__originalRotate=_e.rotate,_e.__originalScale=_e.scale,_e.__originalTranslate=_e.translate,_e.__originalTransform=_e.transform,_e.__originalSetTransform=_e.setTransform,_e.__originalResetTransform=_e.resetTransform,_e.__originalClip=_e.clip,_e.__originalMoveTo=_e.moveTo,_e.__originalLineTo=_e.lineTo,_e.__originalBezierCurveTo=_e.bezierCurveTo,_e.__originalRect=_e.rect,_e.__originalClosePath=_e.closePath,_e.__originalBeginPath=_e.beginPath,_e._removeMirroring=()=>{_e.save=_e.__originalSave,_e.restore=_e.__originalRestore,_e.rotate=_e.__originalRotate,_e.scale=_e.__originalScale,_e.translate=_e.__originalTranslate,_e.transform=_e.__originalTransform,_e.setTransform=_e.__originalSetTransform,_e.resetTransform=_e.__originalResetTransform,_e.clip=_e.__originalClip,_e.moveTo=_e.__originalMoveTo,_e.lineTo=_e.__originalLineTo,_e.bezierCurveTo=_e.__originalBezierCurveTo,_e.rect=_e.__originalRect,_e.closePath=_e.__originalClosePath,_e.beginPath=_e.__originalBeginPath,delete _e._removeMirroring},_e.save=function(){$.save(),this.__originalSave()},_e.restore=function(){$.restore(),this.__originalRestore()},_e.translate=function(vt,bt){$.translate(vt,bt),this.__originalTranslate(vt,bt)},_e.scale=function(vt,bt){$.scale(vt,bt),this.__originalScale(vt,bt)},_e.transform=function(vt,bt,wt,At,Et,St){$.transform(vt,bt,wt,At,Et,St),this.__originalTransform(vt,bt,wt,At,Et,St)},_e.setTransform=function(vt,bt,wt,At,Et,St){$.setTransform(vt,bt,wt,At,Et,St),this.__originalSetTransform(vt,bt,wt,At,Et,St)},_e.resetTransform=function(){$.resetTransform(),this.__originalResetTransform()},_e.rotate=function(vt){$.rotate(vt),this.__originalRotate(vt)},_e.clip=function(vt){$.clip(vt),this.__originalClip(vt)},_e.moveTo=function(ht,vt){$.moveTo(ht,vt),this.__originalMoveTo(ht,vt)},_e.lineTo=function(ht,vt){$.lineTo(ht,vt),this.__originalLineTo(ht,vt)},_e.bezierCurveTo=function(ht,vt,bt,wt,At,Et){$.bezierCurveTo(ht,vt,bt,wt,At,Et),this.__originalBezierCurveTo(ht,vt,bt,wt,At,Et)},_e.rect=function(ht,vt,bt,wt){$.rect(ht,vt,bt,wt),this.__originalRect(ht,vt,bt,wt)},_e.closePath=function(){$.closePath(),this.__originalClosePath()},_e.beginPath=function(){$.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor($){this.canvasFactory=$,this.cache=Object.create(null)}getCanvas($,ht,vt){let bt;return this.cache[$]!==void 0?(bt=this.cache[$],this.canvasFactory.reset(bt,ht,vt)):(bt=this.canvasFactory.create(ht,vt),this.cache[$]=bt),bt}delete($){delete this.cache[$]}clear(){for(const $ in this.cache){const ht=this.cache[$];this.canvasFactory.destroy(ht),delete this.cache[$]}}}function drawImageAtIntegerCoords(_e,$,ht,vt,bt,wt,At,Et,St,Ct){const[xt,Pt,kt,Rt,Mt,Ft]=getCurrentTransform(_e);if(Pt===0&&kt===0){const Dt=At*xt+Mt,Ot=Math.round(Dt),Bt=Et*Rt+Ft,Nt=Math.round(Bt),Ht=(At+St)*xt+Mt,Vt=Math.abs(Math.round(Ht)-Ot)||1,jt=(Et+Ct)*Rt+Ft,qt=Math.abs(Math.round(jt)-Nt)||1;return _e.setTransform(Math.sign(xt),0,0,Math.sign(Rt),Ot,Nt),_e.drawImage($,ht,vt,bt,wt,0,0,Vt,qt),_e.setTransform(xt,Pt,kt,Rt,Mt,Ft),[Vt,qt]}if(xt===0&&Rt===0){const Dt=Et*kt+Mt,Ot=Math.round(Dt),Bt=At*Pt+Ft,Nt=Math.round(Bt),Ht=(Et+Ct)*kt+Mt,Vt=Math.abs(Math.round(Ht)-Ot)||1,jt=(At+St)*Pt+Ft,qt=Math.abs(Math.round(jt)-Nt)||1;return _e.setTransform(0,Math.sign(Pt),Math.sign(kt),0,Ot,Nt),_e.drawImage($,ht,vt,bt,wt,0,0,qt,Vt),_e.setTransform(xt,Pt,kt,Rt,Mt,Ft),[qt,Vt]}_e.drawImage($,ht,vt,bt,wt,At,Et,St,Ct);const $t=Math.hypot(xt,Pt),Lt=Math.hypot(kt,Rt);return[$t*St,Lt*Ct]}function compileType3Glyph(_e){const{width:$,height:ht}=_e;if($>MAX_SIZE_TO_COMPILE||ht>MAX_SIZE_TO_COMPILE)return null;const vt=1e3,bt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),wt=$+1;let At=new Uint8Array(wt*(ht+1)),Et,St,Ct;const xt=$+7&-8;let Pt=new Uint8Array(xt*ht),kt=0;for(const Lt of _e.data){let Dt=128;for(;Dt>0;)Pt[kt++]=Lt&Dt?0:255,Dt>>=1}let Rt=0;for(kt=0,Pt[kt]!==0&&(At[0]=1,++Rt),St=1;St<$;St++)Pt[kt]!==Pt[kt+1]&&(At[St]=Pt[kt]?2:1,++Rt),kt++;for(Pt[kt]!==0&&(At[St]=2,++Rt),Et=1;Et<ht;Et++){kt=Et*xt,Ct=Et*wt,Pt[kt-xt]!==Pt[kt]&&(At[Ct]=Pt[kt]?1:8,++Rt);let Lt=(Pt[kt]?4:0)+(Pt[kt-xt]?8:0);for(St=1;St<$;St++)Lt=(Lt>>2)+(Pt[kt+1]?4:0)+(Pt[kt-xt+1]?8:0),bt[Lt]&&(At[Ct+St]=bt[Lt],++Rt),kt++;if(Pt[kt-xt]!==Pt[kt]&&(At[Ct+St]=Pt[kt]?2:4,++Rt),Rt>vt)return null}for(kt=xt*(ht-1),Ct=Et*wt,Pt[kt]!==0&&(At[Ct]=8,++Rt),St=1;St<$;St++)Pt[kt]!==Pt[kt+1]&&(At[Ct+St]=Pt[kt]?4:8,++Rt),kt++;if(Pt[kt]!==0&&(At[Ct+St]=4,++Rt),Rt>vt)return null;const Mt=new Int32Array([0,wt,-1,0,-wt,0,0,0,1]),Ft=new Path2D;for(Et=0;Rt&&Et<=ht;Et++){let Lt=Et*wt;const Dt=Lt+$;for(;Lt<Dt&&!At[Lt];)Lt++;if(Lt===Dt)continue;Ft.moveTo(Lt%wt,Et);const Ot=Lt;let Bt=At[Lt];do{const Nt=Mt[Bt];do Lt+=Nt;while(!At[Lt]);const Ht=At[Lt];Ht!==5&&Ht!==10?(Bt=Ht,At[Lt]=0):(Bt=Ht&51*Bt>>4,At[Lt]&=Bt>>2|Bt<<2),Ft.lineTo(Lt%wt,Lt/wt|0),At[Lt]||--Rt}while(Ot!==Lt);--Et}return Pt=null,At=null,function(Lt){Lt.save(),Lt.scale(1/$,-1/ht),Lt.translate(0,-ht),Lt.fill(Ft),Lt.beginPath(),Lt.restore()}}class CanvasExtraState{constructor($,ht){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,$,ht])}clone(){const $=Object.create(this);return $.clipBox=this.clipBox.slice(),$}setCurrentPoint($,ht){this.x=$,this.y=ht}updatePathMinMax($,ht,vt){[ht,vt]=Util.applyTransform([ht,vt],$),this.minX=Math.min(this.minX,ht),this.minY=Math.min(this.minY,vt),this.maxX=Math.max(this.maxX,ht),this.maxY=Math.max(this.maxY,vt)}updateRectMinMax($,ht){const vt=Util.applyTransform(ht,$),bt=Util.applyTransform(ht.slice(2),$),wt=Util.applyTransform([ht[0],ht[3]],$),At=Util.applyTransform([ht[2],ht[1]],$);this.minX=Math.min(this.minX,vt[0],bt[0],wt[0],At[0]),this.minY=Math.min(this.minY,vt[1],bt[1],wt[1],At[1]),this.maxX=Math.max(this.maxX,vt[0],bt[0],wt[0],At[0]),this.maxY=Math.max(this.maxY,vt[1],bt[1],wt[1],At[1])}updateScalingPathMinMax($,ht){Util.scaleMinMax($,ht),this.minX=Math.min(this.minX,ht[0]),this.minY=Math.min(this.minY,ht[1]),this.maxX=Math.max(this.maxX,ht[2]),this.maxY=Math.max(this.maxY,ht[3])}updateCurvePathMinMax($,ht,vt,bt,wt,At,Et,St,Ct,xt){const Pt=Util.bezierBoundingBox(ht,vt,bt,wt,At,Et,St,Ct,xt);xt||this.updateRectMinMax($,Pt)}getPathBoundingBox($=PathType.FILL,ht=null){const vt=[this.minX,this.minY,this.maxX,this.maxY];if($===PathType.STROKE){ht||unreachable("Stroke bounding box must include transform.");const bt=Util.singularValueDecompose2dScale(ht),wt=bt[0]*this.lineWidth/2,At=bt[1]*this.lineWidth/2;vt[0]-=wt,vt[1]-=At,vt[2]+=wt,vt[3]+=At}return vt}updateClipFromPath(){const $=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox($||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox($){this.clipBox=$,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox($=PathType.FILL,ht=null){return Util.intersect(this.clipBox,this.getPathBoundingBox($,ht))}}function putBinaryImageData(_e,$){if(typeof ImageData<"u"&&$ instanceof ImageData){_e.putImageData($,0,0);return}const ht=$.height,vt=$.width,bt=ht%FULL_CHUNK_HEIGHT,wt=(ht-bt)/FULL_CHUNK_HEIGHT,At=bt===0?wt:wt+1,Et=_e.createImageData(vt,FULL_CHUNK_HEIGHT);let St=0,Ct;const xt=$.data,Pt=Et.data;let kt,Rt,Mt,Ft;if($.kind===util_ImageKind.GRAYSCALE_1BPP){const $t=xt.byteLength,Lt=new Uint32Array(Pt.buffer,0,Pt.byteLength>>2),Dt=Lt.length,Ot=vt+7>>3,Bt=4294967295,Nt=util_FeatureTest.isLittleEndian?4278190080:255;for(kt=0;kt<At;kt++){for(Mt=kt<wt?FULL_CHUNK_HEIGHT:bt,Ct=0,Rt=0;Rt<Mt;Rt++){const Ht=$t-St;let Vt=0;const jt=Ht>Ot?vt:Ht*8-7,qt=jt&-8;let Jt=0,Gt=0;for(;Vt<qt;Vt+=8)Gt=xt[St++],Lt[Ct++]=Gt&128?Bt:Nt,Lt[Ct++]=Gt&64?Bt:Nt,Lt[Ct++]=Gt&32?Bt:Nt,Lt[Ct++]=Gt&16?Bt:Nt,Lt[Ct++]=Gt&8?Bt:Nt,Lt[Ct++]=Gt&4?Bt:Nt,Lt[Ct++]=Gt&2?Bt:Nt,Lt[Ct++]=Gt&1?Bt:Nt;for(;Vt<jt;Vt++)Jt===0&&(Gt=xt[St++],Jt=128),Lt[Ct++]=Gt&Jt?Bt:Nt,Jt>>=1}for(;Ct<Dt;)Lt[Ct++]=0;_e.putImageData(Et,0,kt*FULL_CHUNK_HEIGHT)}}else if($.kind===util_ImageKind.RGBA_32BPP){for(Rt=0,Ft=vt*FULL_CHUNK_HEIGHT*4,kt=0;kt<wt;kt++)Pt.set(xt.subarray(St,St+Ft)),St+=Ft,_e.putImageData(Et,0,Rt),Rt+=FULL_CHUNK_HEIGHT;kt<At&&(Ft=vt*bt*4,Pt.set(xt.subarray(St,St+Ft)),_e.putImageData(Et,0,Rt))}else if($.kind===util_ImageKind.RGB_24BPP)for(Mt=FULL_CHUNK_HEIGHT,Ft=vt*Mt,kt=0;kt<At;kt++){for(kt>=wt&&(Mt=bt,Ft=vt*Mt),Ct=0,Rt=Ft;Rt--;)Pt[Ct++]=xt[St++],Pt[Ct++]=xt[St++],Pt[Ct++]=xt[St++],Pt[Ct++]=255;_e.putImageData(Et,0,kt*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${$.kind}`)}function putBinaryImageMask(_e,$){if($.bitmap){_e.drawImage($.bitmap,0,0);return}const ht=$.height,vt=$.width,bt=ht%FULL_CHUNK_HEIGHT,wt=(ht-bt)/FULL_CHUNK_HEIGHT,At=bt===0?wt:wt+1,Et=_e.createImageData(vt,FULL_CHUNK_HEIGHT);let St=0;const Ct=$.data,xt=Et.data;for(let Pt=0;Pt<At;Pt++){const kt=Pt<wt?FULL_CHUNK_HEIGHT:bt;({srcPos:St}=convertBlackAndWhiteToRGBA({src:Ct,srcPos:St,dest:xt,width:vt,height:kt,nonBlackColor:0})),_e.putImageData(Et,0,Pt*FULL_CHUNK_HEIGHT)}}function copyCtxState(_e,$){const ht=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const vt of ht)_e[vt]!==void 0&&($[vt]=_e[vt]);_e.setLineDash!==void 0&&($.setLineDash(_e.getLineDash()),$.lineDashOffset=_e.lineDashOffset)}function resetCtxToDefault(_e){if(_e.strokeStyle=_e.fillStyle="#000000",_e.fillRule="nonzero",_e.globalAlpha=1,_e.lineWidth=1,_e.lineCap="butt",_e.lineJoin="miter",_e.miterLimit=10,_e.globalCompositeOperation="source-over",_e.font="10px sans-serif",_e.setLineDash!==void 0&&(_e.setLineDash([]),_e.lineDashOffset=0),!isNodeJS){const{filter:$}=_e;$!=="none"&&$!==""&&(_e.filter="none")}}function getImageSmoothingEnabled(_e,$){if($)return!0;const ht=Util.singularValueDecompose2dScale(_e);ht[0]=Math.fround(ht[0]),ht[1]=Math.fround(ht[1]);const vt=Math.fround((globalThis.devicePixelRatio||1)*PixelsPerInch.PDF_TO_CSS_UNITS);return ht[0]<=vt&&ht[1]<=vt}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Wu,Kw,qw;const sE=class sE{constructor($,ht,vt,bt,wt,{optionalContentConfig:At,markedContentStack:Et=null},St,Ct){Kt(this,Wu);this.ctx=$,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ht,this.objs=vt,this.canvasFactory=bt,this.filterFactory=wt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Et||[],this.optionalContentConfig=At,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=St,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ct,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject($,ht=null){return typeof $=="string"?$.startsWith("g_")?this.commonObjs.get($):this.objs.get($):ht}beginDrawing({transform:$,viewport:ht,transparency:vt=!1,background:bt=null}){const wt=this.ctx.canvas.width,At=this.ctx.canvas.height,Et=this.ctx.fillStyle;if(this.ctx.fillStyle=bt||"#ffffff",this.ctx.fillRect(0,0,wt,At),this.ctx.fillStyle=Et,vt){const St=this.cachedCanvases.getCanvas("transparent",wt,At);this.compositeCtx=this.ctx,this.transparentCanvas=St.canvas,this.ctx=St.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),$&&(this.ctx.transform(...$),this.outputScaleX=$[0],this.outputScaleY=$[0]),this.ctx.transform(...ht.transform),this.viewportScale=ht.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList($,ht,vt,bt){const wt=$.argsArray,At=$.fnArray;let Et=ht||0;const St=wt.length;if(St===Et)return Et;const Ct=St-Et>EXECUTION_STEPS&&typeof vt=="function",xt=Ct?Date.now()+EXECUTION_TIME:0;let Pt=0;const kt=this.commonObjs,Rt=this.objs;let Mt;for(;;){if(bt!==void 0&&Et===bt.nextBreakPoint)return bt.breakIt(Et,vt),Et;if(Mt=At[Et],Mt!==OPS.dependency)this[Mt].apply(this,wt[Et]);else for(const Ft of wt[Et]){const $t=Ft.startsWith("g_")?kt:Rt;if(!$t.has(Ft))return $t.get(Ft,vt),Et}if(Et++,Et===St)return Et;if(Ct&&++Pt>EXECUTION_STEPS){if(Date.now()>xt)return vt(),Et;Pt=0}}}endDrawing(){Ut(this,Wu,Kw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const $ of this._cachedBitmapsMap.values()){for(const ht of $.values())typeof HTMLCanvasElement<"u"&&ht instanceof HTMLCanvasElement&&(ht.width=ht.height=0);$.clear()}this._cachedBitmapsMap.clear(),Ut(this,Wu,qw).call(this)}_scaleImage($,ht){const vt=$.width,bt=$.height;let wt=Math.max(Math.hypot(ht[0],ht[1]),1),At=Math.max(Math.hypot(ht[2],ht[3]),1),Et=vt,St=bt,Ct="prescale1",xt,Pt;for(;wt>2&&Et>1||At>2&&St>1;){let kt=Et,Rt=St;wt>2&&Et>1&&(kt=Et>=16384?Math.floor(Et/2)-1||1:Math.ceil(Et/2),wt/=Et/kt),At>2&&St>1&&(Rt=St>=16384?Math.floor(St/2)-1||1:Math.ceil(St)/2,At/=St/Rt),xt=this.cachedCanvases.getCanvas(Ct,kt,Rt),Pt=xt.context,Pt.clearRect(0,0,kt,Rt),Pt.drawImage($,0,0,Et,St,0,0,kt,Rt),$=xt.canvas,Et=kt,St=Rt,Ct=Ct==="prescale1"?"prescale2":"prescale1"}return{img:$,paintWidth:Et,paintHeight:St}}_createMaskCanvas($){const ht=this.ctx,{width:vt,height:bt}=$,wt=this.current.fillColor,At=this.current.patternFill,Et=getCurrentTransform(ht);let St,Ct,xt,Pt;if(($.bitmap||$.data)&&$.count>1){const jt=$.bitmap||$.data.buffer;Ct=JSON.stringify(At?Et:[Et.slice(0,4),wt]),St=this._cachedBitmapsMap.get(jt),St||(St=new Map,this._cachedBitmapsMap.set(jt,St));const qt=St.get(Ct);if(qt&&!At){const Jt=Math.round(Math.min(Et[0],Et[2])+Et[4]),Gt=Math.round(Math.min(Et[1],Et[3])+Et[5]);return{canvas:qt,offsetX:Jt,offsetY:Gt}}xt=qt}xt||(Pt=this.cachedCanvases.getCanvas("maskCanvas",vt,bt),putBinaryImageMask(Pt.context,$));let kt=Util.transform(Et,[1/vt,0,0,-1/bt,0,0]);kt=Util.transform(kt,[1,0,0,1,0,-bt]);const[Rt,Mt,Ft,$t]=Util.getAxialAlignedBoundingBox([0,0,vt,bt],kt),Lt=Math.round(Ft-Rt)||1,Dt=Math.round($t-Mt)||1,Ot=this.cachedCanvases.getCanvas("fillCanvas",Lt,Dt),Bt=Ot.context,Nt=Rt,Ht=Mt;Bt.translate(-Nt,-Ht),Bt.transform(...kt),xt||(xt=this._scaleImage(Pt.canvas,getCurrentTransformInverse(Bt)),xt=xt.img,St&&At&&St.set(Ct,xt)),Bt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(Bt),$.interpolate),drawImageAtIntegerCoords(Bt,xt,0,0,xt.width,xt.height,0,0,vt,bt),Bt.globalCompositeOperation="source-in";const Vt=Util.transform(getCurrentTransformInverse(Bt),[1,0,0,1,-Nt,-Ht]);return Bt.fillStyle=At?wt.getPattern(ht,this,Vt,PathType.FILL):wt,Bt.fillRect(0,0,vt,bt),St&&!At&&(this.cachedCanvases.delete("fillCanvas"),St.set(Ct,Ot.canvas)),{canvas:Ot.canvas,offsetX:Math.round(Nt),offsetY:Math.round(Ht)}}setLineWidth($){$!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=$,this.ctx.lineWidth=$}setLineCap($){this.ctx.lineCap=LINE_CAP_STYLES[$]}setLineJoin($){this.ctx.lineJoin=LINE_JOIN_STYLES[$]}setMiterLimit($){this.ctx.miterLimit=$}setDash($,ht){const vt=this.ctx;vt.setLineDash!==void 0&&(vt.setLineDash($),vt.lineDashOffset=ht)}setRenderingIntent($){}setFlatness($){}setGState($){for(const[ht,vt]of $)switch(ht){case"LW":this.setLineWidth(vt);break;case"LC":this.setLineCap(vt);break;case"LJ":this.setLineJoin(vt);break;case"ML":this.setMiterLimit(vt);break;case"D":this.setDash(vt[0],vt[1]);break;case"RI":this.setRenderingIntent(vt);break;case"FL":this.setFlatness(vt);break;case"Font":this.setFont(vt[0],vt[1]);break;case"CA":this.current.strokeAlpha=vt;break;case"ca":this.current.fillAlpha=vt,this.ctx.globalAlpha=vt;break;case"BM":this.ctx.globalCompositeOperation=vt;break;case"SMask":this.current.activeSMask=vt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(vt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const $=this.inSMaskMode;this.current.activeSMask&&!$?this.beginSMaskMode():!this.current.activeSMask&&$&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const $=this.ctx.canvas.width,ht=this.ctx.canvas.height,vt="smaskGroupAt"+this.groupLevel,bt=this.cachedCanvases.getCanvas(vt,$,ht);this.suspendedCtx=this.ctx,this.ctx=bt.context;const wt=this.ctx;wt.setTransform(...getCurrentTransform(this.suspendedCtx)),copyCtxState(this.suspendedCtx,wt),mirrorContextOperations(wt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose($){if(!this.current.activeSMask)return;$?($[0]=Math.floor($[0]),$[1]=Math.floor($[1]),$[2]=Math.ceil($[2]),$[3]=Math.ceil($[3])):$=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ht=this.current.activeSMask,vt=this.suspendedCtx;this.composeSMask(vt,ht,this.ctx,$),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask($,ht,vt,bt){const wt=bt[0],At=bt[1],Et=bt[2]-wt,St=bt[3]-At;Et===0||St===0||(this.genericComposeSMask(ht.context,vt,Et,St,ht.subtype,ht.backdrop,ht.transferMap,wt,At,ht.offsetX,ht.offsetY),$.save(),$.globalAlpha=1,$.globalCompositeOperation="source-over",$.setTransform(1,0,0,1,0,0),$.drawImage(vt.canvas,0,0),$.restore())}genericComposeSMask($,ht,vt,bt,wt,At,Et,St,Ct,xt,Pt){let kt=$.canvas,Rt=St-xt,Mt=Ct-Pt;if(At){if(Rt<0||Mt<0||Rt+vt>kt.width||Mt+bt>kt.height){const $t=this.cachedCanvases.getCanvas("maskExtension",vt,bt),Lt=$t.context;Lt.drawImage(kt,-Rt,-Mt),At.some(Dt=>Dt!==0)&&(Lt.globalCompositeOperation="destination-atop",Lt.fillStyle=Util.makeHexColor(...At),Lt.fillRect(0,0,vt,bt),Lt.globalCompositeOperation="source-over"),kt=$t.canvas,Rt=Mt=0}else if(At.some($t=>$t!==0)){$.save(),$.globalAlpha=1,$.setTransform(1,0,0,1,0,0);const $t=new Path2D;$t.rect(Rt,Mt,vt,bt),$.clip($t),$.globalCompositeOperation="destination-atop",$.fillStyle=Util.makeHexColor(...At),$.fillRect(Rt,Mt,vt,bt),$.restore()}}ht.save(),ht.globalAlpha=1,ht.setTransform(1,0,0,1,0,0),wt==="Alpha"&&Et?ht.filter=this.filterFactory.addAlphaFilter(Et):wt==="Luminosity"&&(ht.filter=this.filterFactory.addLuminosityFilter(Et));const Ft=new Path2D;Ft.rect(St,Ct,vt,bt),ht.clip(Ft),ht.globalCompositeOperation="destination-in",ht.drawImage(kt,Rt,Mt,vt,bt,St,Ct,vt,bt),ht.restore()}save(){this.inSMaskMode?(copyCtxState(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const $=this.current;this.stateStack.push($),this.current=$.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),copyCtxState(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform($,ht,vt,bt,wt,At){this.ctx.transform($,ht,vt,bt,wt,At),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath($,ht,vt){const bt=this.ctx,wt=this.current;let At=wt.x,Et=wt.y,St,Ct;const xt=getCurrentTransform(bt),Pt=xt[0]===0&&xt[3]===0||xt[1]===0&&xt[2]===0,kt=Pt?vt.slice(0):null;for(let Rt=0,Mt=0,Ft=$.length;Rt<Ft;Rt++)switch($[Rt]|0){case OPS.rectangle:At=ht[Mt++],Et=ht[Mt++];const $t=ht[Mt++],Lt=ht[Mt++],Dt=At+$t,Ot=Et+Lt;bt.moveTo(At,Et),$t===0||Lt===0?bt.lineTo(Dt,Ot):(bt.lineTo(Dt,Et),bt.lineTo(Dt,Ot),bt.lineTo(At,Ot)),Pt||wt.updateRectMinMax(xt,[At,Et,Dt,Ot]),bt.closePath();break;case OPS.moveTo:At=ht[Mt++],Et=ht[Mt++],bt.moveTo(At,Et),Pt||wt.updatePathMinMax(xt,At,Et);break;case OPS.lineTo:At=ht[Mt++],Et=ht[Mt++],bt.lineTo(At,Et),Pt||wt.updatePathMinMax(xt,At,Et);break;case OPS.curveTo:St=At,Ct=Et,At=ht[Mt+4],Et=ht[Mt+5],bt.bezierCurveTo(ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3],At,Et),wt.updateCurvePathMinMax(xt,St,Ct,ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3],At,Et,kt),Mt+=6;break;case OPS.curveTo2:St=At,Ct=Et,bt.bezierCurveTo(At,Et,ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3]),wt.updateCurvePathMinMax(xt,St,Ct,At,Et,ht[Mt],ht[Mt+1],ht[Mt+2],ht[Mt+3],kt),At=ht[Mt+2],Et=ht[Mt+3],Mt+=4;break;case OPS.curveTo3:St=At,Ct=Et,At=ht[Mt+2],Et=ht[Mt+3],bt.bezierCurveTo(ht[Mt],ht[Mt+1],At,Et,At,Et),wt.updateCurvePathMinMax(xt,St,Ct,ht[Mt],ht[Mt+1],At,Et,At,Et,kt),Mt+=4;break;case OPS.closePath:bt.closePath();break}Pt&&wt.updateScalingPathMinMax(xt,kt),wt.setCurrentPoint(At,Et)}closePath(){this.ctx.closePath()}stroke($=!0){const ht=this.ctx,vt=this.current.strokeColor;ht.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof vt=="object"&&(vt!=null&&vt.getPattern)?(ht.save(),ht.strokeStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.STROKE),this.rescaleAndStroke(!1),ht.restore()):this.rescaleAndStroke(!0)),$&&this.consumePath(this.current.getClippedPathBoundingBox()),ht.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill($=!0){const ht=this.ctx,vt=this.current.fillColor,bt=this.current.patternFill;let wt=!1;bt&&(ht.save(),ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.FILL),wt=!0);const At=this.current.getClippedPathBoundingBox();this.contentVisible&&At!==null&&(this.pendingEOFill?(ht.fill("evenodd"),this.pendingEOFill=!1):ht.fill()),wt&&ht.restore(),$&&this.consumePath(At)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=NORMAL_CLIP}eoClip(){this.pendingClip=EO_CLIP}beginText(){this.current.textMatrix=IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const $=this.pendingTextPaths,ht=this.ctx;if($===void 0){ht.beginPath();return}ht.save(),ht.beginPath();for(const vt of $)ht.setTransform(...vt.transform),ht.translate(vt.x,vt.y),vt.addToPath(ht,vt.fontSize);ht.restore(),ht.clip(),ht.beginPath(),delete this.pendingTextPaths}setCharSpacing($){this.current.charSpacing=$}setWordSpacing($){this.current.wordSpacing=$}setHScale($){this.current.textHScale=$/100}setLeading($){this.current.leading=-$}setFont($,ht){var xt;const vt=this.commonObjs.get($),bt=this.current;if(!vt)throw new Error(`Can't find font for ${$}`);if(bt.fontMatrix=vt.fontMatrix||FONT_IDENTITY_MATRIX,(bt.fontMatrix[0]===0||bt.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+$),ht<0?(ht=-ht,bt.fontDirection=-1):bt.fontDirection=1,this.current.font=vt,this.current.fontSize=ht,vt.isType3Font)return;const wt=vt.loadedName||"sans-serif",At=((xt=vt.systemFontInfo)==null?void 0:xt.css)||`"${wt}", ${vt.fallbackName}`;let Et="normal";vt.black?Et="900":vt.bold&&(Et="bold");const St=vt.italic?"italic":"normal";let Ct=ht;ht<MIN_FONT_SIZE?Ct=MIN_FONT_SIZE:ht>MAX_FONT_SIZE&&(Ct=MAX_FONT_SIZE),this.current.fontSizeScale=ht/Ct,this.ctx.font=`${St} ${Et} ${Ct}px ${At}`}setTextRenderingMode($){this.current.textRenderingMode=$}setTextRise($){this.current.textRise=$}moveText($,ht){this.current.x=this.current.lineX+=$,this.current.y=this.current.lineY+=ht}setLeadingMoveText($,ht){this.setLeading(-ht),this.moveText($,ht)}setTextMatrix($,ht,vt,bt,wt,At){this.current.textMatrix=[$,ht,vt,bt,wt,At],this.current.textMatrixScale=Math.hypot($,ht),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar($,ht,vt,bt){const wt=this.ctx,At=this.current,Et=At.font,St=At.textRenderingMode,Ct=At.fontSize/At.fontSizeScale,xt=St&TextRenderingMode.FILL_STROKE_MASK,Pt=!!(St&TextRenderingMode.ADD_TO_PATH_FLAG),kt=At.patternFill&&!Et.missingFile;let Rt;(Et.disableFontFace||Pt||kt)&&(Rt=Et.getPathGenerator(this.commonObjs,$)),Et.disableFontFace||kt?(wt.save(),wt.translate(ht,vt),wt.beginPath(),Rt(wt,Ct),bt&&wt.setTransform(...bt),(xt===TextRenderingMode.FILL||xt===TextRenderingMode.FILL_STROKE)&&wt.fill(),(xt===TextRenderingMode.STROKE||xt===TextRenderingMode.FILL_STROKE)&&wt.stroke(),wt.restore()):((xt===TextRenderingMode.FILL||xt===TextRenderingMode.FILL_STROKE)&&wt.fillText($,ht,vt),(xt===TextRenderingMode.STROKE||xt===TextRenderingMode.FILL_STROKE)&&wt.strokeText($,ht,vt)),Pt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(wt),x:ht,y:vt,fontSize:Ct,addToPath:Rt})}get isFontSubpixelAAEnabled(){const{context:$}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);$.scale(1.5,1),$.fillText("I",0,10);const ht=$.getImageData(0,0,10,10).data;let vt=!1;for(let bt=3;bt<ht.length;bt+=4)if(ht[bt]>0&&ht[bt]<255){vt=!0;break}return shadow(this,"isFontSubpixelAAEnabled",vt)}showText($){const ht=this.current,vt=ht.font;if(vt.isType3Font)return this.showType3Text($);const bt=ht.fontSize;if(bt===0)return;const wt=this.ctx,At=ht.fontSizeScale,Et=ht.charSpacing,St=ht.wordSpacing,Ct=ht.fontDirection,xt=ht.textHScale*Ct,Pt=$.length,kt=vt.vertical,Rt=kt?1:-1,Mt=vt.defaultVMetrics,Ft=bt*ht.fontMatrix[0],$t=ht.textRenderingMode===TextRenderingMode.FILL&&!vt.disableFontFace&&!ht.patternFill;wt.save(),wt.transform(...ht.textMatrix),wt.translate(ht.x,ht.y+ht.textRise),Ct>0?wt.scale(xt,-1):wt.scale(xt,1);let Lt;if(ht.patternFill){wt.save();const Ht=ht.fillColor.getPattern(wt,this,getCurrentTransformInverse(wt),PathType.FILL);Lt=getCurrentTransform(wt),wt.restore(),wt.fillStyle=Ht}let Dt=ht.lineWidth;const Ot=ht.textMatrixScale;if(Ot===0||Dt===0){const Ht=ht.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(Ht===TextRenderingMode.STROKE||Ht===TextRenderingMode.FILL_STROKE)&&(Dt=this.getSinglePixelWidth())}else Dt/=Ot;if(At!==1&&(wt.scale(At,At),Dt/=At),wt.lineWidth=Dt,vt.isInvalidPDFjsFont){const Ht=[];let Vt=0;for(const jt of $)Ht.push(jt.unicode),Vt+=jt.width;wt.fillText(Ht.join(""),0,0),ht.x+=Vt*Ft*xt,wt.restore(),this.compose();return}let Bt=0,Nt;for(Nt=0;Nt<Pt;++Nt){const Ht=$[Nt];if(typeof Ht=="number"){Bt+=Rt*Ht*bt/1e3;continue}let Vt=!1;const jt=(Ht.isSpace?St:0)+Et,qt=Ht.fontChar,Jt=Ht.accent;let Gt,en,an=Ht.width;if(kt){const cn=Ht.vmetric||Mt,An=-(Ht.vmetric?cn[1]:an*.5)*Ft,dn=cn[2]*Ft;an=cn?-cn[0]:an,Gt=An/At,en=(Bt+dn)/At}else Gt=Bt/At,en=0;if(vt.remeasure&&an>0){const cn=wt.measureText(qt).width*1e3/bt*At;if(an<cn&&this.isFontSubpixelAAEnabled){const An=an/cn;Vt=!0,wt.save(),wt.scale(An,1),Gt/=An}else an!==cn&&(Gt+=(an-cn)/2e3*bt/At)}if(this.contentVisible&&(Ht.isInFont||vt.missingFile)){if($t&&!Jt)wt.fillText(qt,Gt,en);else if(this.paintChar(qt,Gt,en,Lt),Jt){const cn=Gt+bt*Jt.offset.x/At,An=en-bt*Jt.offset.y/At;this.paintChar(Jt.fontChar,cn,An,Lt)}}const Sn=kt?an*Ft-jt*Ct:an*Ft+jt*Ct;Bt+=Sn,Vt&&wt.restore()}kt?ht.y-=Bt:ht.x+=Bt*xt,wt.restore(),this.compose()}showType3Text($){const ht=this.ctx,vt=this.current,bt=vt.font,wt=vt.fontSize,At=vt.fontDirection,Et=bt.vertical?1:-1,St=vt.charSpacing,Ct=vt.wordSpacing,xt=vt.textHScale*At,Pt=vt.fontMatrix||FONT_IDENTITY_MATRIX,kt=$.length,Rt=vt.textRenderingMode===TextRenderingMode.INVISIBLE;let Mt,Ft,$t,Lt;if(!(Rt||wt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ht.save(),ht.transform(...vt.textMatrix),ht.translate(vt.x,vt.y),ht.scale(xt,At),Mt=0;Mt<kt;++Mt){if(Ft=$[Mt],typeof Ft=="number"){Lt=Et*Ft*wt/1e3,this.ctx.translate(Lt,0),vt.x+=Lt*xt;continue}const Dt=(Ft.isSpace?Ct:0)+St,Ot=bt.charProcOperatorList[Ft.operatorListId];if(!Ot){warn(`Type3 character "${Ft.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ft,this.save(),ht.scale(wt,wt),ht.transform(...Pt),this.executeOperatorList(Ot),this.restore()),$t=Util.applyTransform([Ft.width,0],Pt)[0]*wt+Dt,ht.translate($t,0),vt.x+=$t*xt}ht.restore(),this.processingType3=null}}setCharWidth($,ht){}setCharWidthAndBounds($,ht,vt,bt,wt,At){this.ctx.rect(vt,bt,wt-vt,At-bt),this.ctx.clip(),this.endPath()}getColorN_Pattern($){let ht;if($[0]==="TilingPattern"){const vt=$[1],bt=this.baseTransform||getCurrentTransform(this.ctx),wt={createCanvasGraphics:At=>new sE(At,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ht=new TilingPattern($,vt,this.ctx,wt,bt)}else ht=this._getPattern($[1],$[2]);return ht}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor($,ht,vt){const bt=Util.makeHexColor($,ht,vt);this.ctx.strokeStyle=bt,this.current.strokeColor=bt}setFillRGBColor($,ht,vt){const bt=Util.makeHexColor($,ht,vt);this.ctx.fillStyle=bt,this.current.fillColor=bt,this.current.patternFill=!1}_getPattern($,ht=null){let vt;return this.cachedPatterns.has($)?vt=this.cachedPatterns.get($):(vt=getShadingPattern(this.getObject($)),this.cachedPatterns.set($,vt)),ht&&(vt.matrix=ht),vt}shadingFill($){if(!this.contentVisible)return;const ht=this.ctx;this.save();const vt=this._getPattern($);ht.fillStyle=vt.getPattern(ht,this,getCurrentTransformInverse(ht),PathType.SHADING);const bt=getCurrentTransformInverse(ht);if(bt){const{width:wt,height:At}=ht.canvas,[Et,St,Ct,xt]=Util.getAxialAlignedBoundingBox([0,0,wt,At],bt);this.ctx.fillRect(Et,St,Ct-Et,xt-St)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin($,ht){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),$&&this.transform(...$),this.baseTransform=getCurrentTransform(this.ctx),ht)){const vt=ht[2]-ht[0],bt=ht[3]-ht[1];this.ctx.rect(ht[0],ht[1],vt,bt),this.current.updateRectMinMax(getCurrentTransform(this.ctx),ht),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup($){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ht=this.ctx;$.isolated||info("TODO: Support non-isolated groups."),$.knockout&&warn("Knockout groups not supported.");const vt=getCurrentTransform(ht);if($.matrix&&ht.transform(...$.matrix),!$.bbox)throw new Error("Bounding box is required.");let bt=Util.getAxialAlignedBoundingBox($.bbox,getCurrentTransform(ht));const wt=[0,0,ht.canvas.width,ht.canvas.height];bt=Util.intersect(bt,wt)||[0,0,0,0];const At=Math.floor(bt[0]),Et=Math.floor(bt[1]),St=Math.max(Math.ceil(bt[2])-At,1),Ct=Math.max(Math.ceil(bt[3])-Et,1);this.current.startNewPathAndClipBox([0,0,St,Ct]);let xt="groupAt"+this.groupLevel;$.smask&&(xt+="_smask_"+this.smaskCounter++%2);const Pt=this.cachedCanvases.getCanvas(xt,St,Ct),kt=Pt.context;kt.translate(-At,-Et),kt.transform(...vt),$.smask?this.smaskStack.push({canvas:Pt.canvas,context:kt,offsetX:At,offsetY:Et,subtype:$.smask.subtype,backdrop:$.smask.backdrop,transferMap:$.smask.transferMap||null,startTransformInverse:null}):(ht.setTransform(1,0,0,1,0,0),ht.translate(At,Et),ht.save()),copyCtxState(ht,kt),this.ctx=kt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ht),this.groupLevel++}endGroup($){if(!this.contentVisible)return;this.groupLevel--;const ht=this.ctx,vt=this.groupStack.pop();if(this.ctx=vt,this.ctx.imageSmoothingEnabled=!1,$.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const bt=getCurrentTransform(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...bt);const wt=Util.getAxialAlignedBoundingBox([0,0,ht.canvas.width,ht.canvas.height],bt);this.ctx.drawImage(ht.canvas,0,0),this.ctx.restore(),this.compose(wt)}}beginAnnotation($,ht,vt,bt,wt){if(Ut(this,Wu,Kw).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),ht){const At=ht[2]-ht[0],Et=ht[3]-ht[1];if(wt&&this.annotationCanvasMap){vt=vt.slice(),vt[4]-=ht[0],vt[5]-=ht[1],ht=ht.slice(),ht[0]=ht[1]=0,ht[2]=At,ht[3]=Et;const[St,Ct]=Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx)),{viewportScale:xt}=this,Pt=Math.ceil(At*this.outputScaleX*xt),kt=Math.ceil(Et*this.outputScaleY*xt);this.annotationCanvas=this.canvasFactory.create(Pt,kt);const{canvas:Rt,context:Mt}=this.annotationCanvas;this.annotationCanvasMap.set($,Rt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Mt,this.ctx.save(),this.ctx.setTransform(St,0,0,-Ct,0,Et*Ct),resetCtxToDefault(this.ctx)}else resetCtxToDefault(this.ctx),this.ctx.rect(ht[0],ht[1],At,Et),this.ctx.clip(),this.endPath()}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...vt),this.transform(...bt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,Wu,qw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject($){if(!this.contentVisible)return;const ht=$.count;$=this.getObject($.data,$),$.count=ht;const vt=this.ctx,bt=this.processingType3;if(bt&&(bt.compiled===void 0&&(bt.compiled=compileType3Glyph($)),bt.compiled)){bt.compiled(vt);return}const wt=this._createMaskCanvas($),At=wt.canvas;vt.save(),vt.setTransform(1,0,0,1,0,0),vt.drawImage(At,wt.offsetX,wt.offsetY),vt.restore(),this.compose()}paintImageMaskXObjectRepeat($,ht,vt=0,bt=0,wt,At){if(!this.contentVisible)return;$=this.getObject($.data,$);const Et=this.ctx;Et.save();const St=getCurrentTransform(Et);Et.transform(ht,vt,bt,wt,0,0);const Ct=this._createMaskCanvas($);Et.setTransform(1,0,0,1,Ct.offsetX-St[4],Ct.offsetY-St[5]);for(let xt=0,Pt=At.length;xt<Pt;xt+=2){const kt=Util.transform(St,[ht,vt,bt,wt,At[xt],At[xt+1]]),[Rt,Mt]=Util.applyTransform([0,0],kt);Et.drawImage(Ct.canvas,Rt,Mt)}Et.restore(),this.compose()}paintImageMaskXObjectGroup($){if(!this.contentVisible)return;const ht=this.ctx,vt=this.current.fillColor,bt=this.current.patternFill;for(const wt of $){const{data:At,width:Et,height:St,transform:Ct}=wt,xt=this.cachedCanvases.getCanvas("maskCanvas",Et,St),Pt=xt.context;Pt.save();const kt=this.getObject(At,wt);putBinaryImageMask(Pt,kt),Pt.globalCompositeOperation="source-in",Pt.fillStyle=bt?vt.getPattern(Pt,this,getCurrentTransformInverse(ht),PathType.FILL):vt,Pt.fillRect(0,0,Et,St),Pt.restore(),ht.save(),ht.transform(...Ct),ht.scale(1,-1),drawImageAtIntegerCoords(ht,xt.canvas,0,0,Et,St,0,-1,1,1),ht.restore()}this.compose()}paintImageXObject($){if(!this.contentVisible)return;const ht=this.getObject($);if(!ht){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ht)}paintImageXObjectRepeat($,ht,vt,bt){if(!this.contentVisible)return;const wt=this.getObject($);if(!wt){warn("Dependent image isn't ready yet");return}const At=wt.width,Et=wt.height,St=[];for(let Ct=0,xt=bt.length;Ct<xt;Ct+=2)St.push({transform:[ht,0,0,vt,bt[Ct],bt[Ct+1]],x:0,y:0,w:At,h:Et});this.paintInlineImageXObjectGroup(wt,St)}applyTransferMapsToCanvas($){return this.current.transferMaps!=="none"&&($.filter=this.current.transferMaps,$.drawImage($.canvas,0,0),$.filter="none"),$.canvas}applyTransferMapsToBitmap($){if(this.current.transferMaps==="none")return $.bitmap;const{bitmap:ht,width:vt,height:bt}=$,wt=this.cachedCanvases.getCanvas("inlineImage",vt,bt),At=wt.context;return At.filter=this.current.transferMaps,At.drawImage(ht,0,0),At.filter="none",wt.canvas}paintInlineImageXObject($){if(!this.contentVisible)return;const ht=$.width,vt=$.height,bt=this.ctx;if(this.save(),!isNodeJS){const{filter:Et}=bt;Et!=="none"&&Et!==""&&(bt.filter="none")}bt.scale(1/ht,-1/vt);let wt;if($.bitmap)wt=this.applyTransferMapsToBitmap($);else if(typeof HTMLElement=="function"&&$ instanceof HTMLElement||!$.data)wt=$;else{const St=this.cachedCanvases.getCanvas("inlineImage",ht,vt).context;putBinaryImageData(St,$),wt=this.applyTransferMapsToCanvas(St)}const At=this._scaleImage(wt,getCurrentTransformInverse(bt));bt.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(bt),$.interpolate),drawImageAtIntegerCoords(bt,At.img,0,0,At.paintWidth,At.paintHeight,0,-vt,ht,vt),this.compose(),this.restore()}paintInlineImageXObjectGroup($,ht){if(!this.contentVisible)return;const vt=this.ctx;let bt;if($.bitmap)bt=$.bitmap;else{const wt=$.width,At=$.height,St=this.cachedCanvases.getCanvas("inlineImage",wt,At).context;putBinaryImageData(St,$),bt=this.applyTransferMapsToCanvas(St)}for(const wt of ht)vt.save(),vt.transform(...wt.transform),vt.scale(1,-1),drawImageAtIntegerCoords(vt,bt,wt.x,wt.y,wt.w,wt.h,0,-1,1,1),vt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint($){}markPointProps($,ht){}beginMarkedContent($){this.markedContentStack.push({visible:!0})}beginMarkedContentProps($,ht){$==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ht)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath($){const ht=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose($);const vt=this.ctx;this.pendingClip&&(ht||(this.pendingClip===EO_CLIP?vt.clip("evenodd"):vt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),vt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const $=getCurrentTransform(this.ctx);if($[1]===0&&$[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs($[0]),Math.abs($[3]));else{const ht=Math.abs($[0]*$[3]-$[2]*$[1]),vt=Math.hypot($[0],$[2]),bt=Math.hypot($[1],$[3]);this._cachedGetSinglePixelWidth=Math.max(vt,bt)/ht}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:$}=this.current,{a:ht,b:vt,c:bt,d:wt}=this.ctx.getTransform();let At,Et;if(vt===0&&bt===0){const St=Math.abs(ht),Ct=Math.abs(wt);if(St===Ct)if($===0)At=Et=1/St;else{const xt=St*$;At=Et=xt<1?1/xt:1}else if($===0)At=1/St,Et=1/Ct;else{const xt=St*$,Pt=Ct*$;At=xt<1?1/xt:1,Et=Pt<1?1/Pt:1}}else{const St=Math.abs(ht*wt-vt*bt),Ct=Math.hypot(ht,vt),xt=Math.hypot(bt,wt);if($===0)At=xt/St,Et=Ct/St;else{const Pt=$*St;At=xt>Pt?xt/Pt:1,Et=Ct>Pt?Ct/Pt:1}}this._cachedScaleForStroking[0]=At,this._cachedScaleForStroking[1]=Et}return this._cachedScaleForStroking}rescaleAndStroke($){const{ctx:ht}=this,{lineWidth:vt}=this.current,[bt,wt]=this.getScaleForStroking();if(ht.lineWidth=vt||1,bt===1&&wt===1){ht.stroke();return}const At=ht.getLineDash();if($&&ht.save(),ht.scale(bt,wt),At.length>0){const Et=Math.max(bt,wt);ht.setLineDash(At.map(St=>St/Et)),ht.lineDashOffset/=Et}ht.stroke(),$&&ht.restore()}isContentVisible(){for(let $=this.markedContentStack.length-1;$>=0;$--)if(!this.markedContentStack[$].visible)return!1;return!0}};Wu=new WeakSet,Kw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},qw=function(){if(this.pageColors){const $=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if($!=="none"){const ht=this.ctx.filter;this.ctx.filter=$,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ht}}};let CanvasGraphics=sE;for(const _e in OPS)CanvasGraphics.prototype[_e]!==void 0&&(CanvasGraphics.prototype[OPS[_e]]=CanvasGraphics.prototype[_e]);var ey,ty;class GlobalWorkerOptions{static get workerPort(){return _t(this,ey)}static set workerPort($){if(!(typeof Worker<"u"&&$ instanceof Worker)&&$!==null)throw new Error("Invalid `workerPort` type.");zt(this,ey,$)}static get workerSrc(){return _t(this,ty)}static set workerSrc($){if(typeof $!="string")throw new Error("Invalid `workerSrc` type.");zt(this,ty,$)}}ey=new WeakMap,ty=new WeakMap,Kt(GlobalWorkerOptions,ey,null),Kt(GlobalWorkerOptions,ty,"");const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(_e){switch(_e instanceof Error||typeof _e=="object"&&_e!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),_e.name){case"AbortException":return new AbortException(_e.message);case"MissingPDFException":return new MissingPDFException(_e.message);case"PasswordException":return new PasswordException(_e.message,_e.code);case"UnexpectedResponseException":return new UnexpectedResponseException(_e.message,_e.status);case"UnknownErrorException":return new UnknownErrorException(_e.message,_e.details);default:return new UnknownErrorException(_e.message,_e.toString())}}var Il,ZE,QE,g0;class MessageHandler{constructor($,ht,vt){Kt(this,Il);this.sourceName=$,this.targetName=ht,this.comObj=vt,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=bt=>{const wt=bt.data;if(wt.targetName!==this.sourceName)return;if(wt.stream){Ut(this,Il,QE).call(this,wt);return}if(wt.callback){const Et=wt.callbackId,St=this.callbackCapabilities[Et];if(!St)throw new Error(`Cannot resolve callback ${Et}`);if(delete this.callbackCapabilities[Et],wt.callback===CallbackKind.DATA)St.resolve(wt.data);else if(wt.callback===CallbackKind.ERROR)St.reject(wrapReason(wt.reason));else throw new Error("Unexpected callback case");return}const At=this.actionHandler[wt.action];if(!At)throw new Error(`Unknown action from worker: ${wt.action}`);if(wt.callbackId){const Et=this.sourceName,St=wt.sourceName;new Promise(function(Ct){Ct(At(wt.data))}).then(function(Ct){vt.postMessage({sourceName:Et,targetName:St,callback:CallbackKind.DATA,callbackId:wt.callbackId,data:Ct})},function(Ct){vt.postMessage({sourceName:Et,targetName:St,callback:CallbackKind.ERROR,callbackId:wt.callbackId,reason:wrapReason(Ct)})});return}if(wt.streamId){Ut(this,Il,ZE).call(this,wt);return}At(wt.data)},vt.addEventListener("message",this._onComObjOnMessage)}on($,ht){const vt=this.actionHandler;if(vt[$])throw new Error(`There is already an actionName called "${$}"`);vt[$]=ht}send($,ht,vt){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,data:ht},vt)}sendWithPromise($,ht,vt){const bt=this.callbackId++,wt=Promise.withResolvers();this.callbackCapabilities[bt]=wt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:$,callbackId:bt,data:ht},vt)}catch(At){wt.reject(At)}return wt.promise}sendWithStream($,ht,vt,bt){const wt=this.streamId++,At=this.sourceName,Et=this.targetName,St=this.comObj;return new ReadableStream({start:Ct=>{const xt=Promise.withResolvers();return this.streamControllers[wt]={controller:Ct,startCall:xt,pullCall:null,cancelCall:null,isClosed:!1},St.postMessage({sourceName:At,targetName:Et,action:$,streamId:wt,data:ht,desiredSize:Ct.desiredSize},bt),xt.promise},pull:Ct=>{const xt=Promise.withResolvers();return this.streamControllers[wt].pullCall=xt,St.postMessage({sourceName:At,targetName:Et,stream:StreamKind.PULL,streamId:wt,desiredSize:Ct.desiredSize}),xt.promise},cancel:Ct=>{assert(Ct instanceof Error,"cancel must have a valid reason");const xt=Promise.withResolvers();return this.streamControllers[wt].cancelCall=xt,this.streamControllers[wt].isClosed=!0,St.postMessage({sourceName:At,targetName:Et,stream:StreamKind.CANCEL,streamId:wt,reason:wrapReason(Ct)}),xt.promise}},vt)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Il=new WeakSet,ZE=function($){const ht=$.streamId,vt=this.sourceName,bt=$.sourceName,wt=this.comObj,At=this,Et=this.actionHandler[$.action],St={enqueue(Ct,xt=1,Pt){if(this.isCancelled)return;const kt=this.desiredSize;this.desiredSize-=xt,kt>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.ENQUEUE,streamId:ht,chunk:Ct},Pt)},close(){this.isCancelled||(this.isCancelled=!0,wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CLOSE,streamId:ht}),delete At.streamSinks[ht])},error(Ct){assert(Ct instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.ERROR,streamId:ht,reason:wrapReason(Ct)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:$.desiredSize,ready:null};St.sinkCapability.resolve(),St.ready=St.sinkCapability.promise,this.streamSinks[ht]=St,new Promise(function(Ct){Ct(Et($.data,St))}).then(function(){wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.START_COMPLETE,streamId:ht,success:!0})},function(Ct){wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.START_COMPLETE,streamId:ht,reason:wrapReason(Ct)})})},QE=function($){const ht=$.streamId,vt=this.sourceName,bt=$.sourceName,wt=this.comObj,At=this.streamControllers[ht],Et=this.streamSinks[ht];switch($.stream){case StreamKind.START_COMPLETE:$.success?At.startCall.resolve():At.startCall.reject(wrapReason($.reason));break;case StreamKind.PULL_COMPLETE:$.success?At.pullCall.resolve():At.pullCall.reject(wrapReason($.reason));break;case StreamKind.PULL:if(!Et){wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0});break}Et.desiredSize<=0&&$.desiredSize>0&&Et.sinkCapability.resolve(),Et.desiredSize=$.desiredSize,new Promise(function(St){var Ct;St((Ct=Et.onPull)==null?void 0:Ct.call(Et))}).then(function(){wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:ht,success:!0})},function(St){wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.PULL_COMPLETE,streamId:ht,reason:wrapReason(St)})});break;case StreamKind.ENQUEUE:if(assert(At,"enqueue should have stream controller"),At.isClosed)break;At.controller.enqueue($.chunk);break;case StreamKind.CLOSE:if(assert(At,"close should have stream controller"),At.isClosed)break;At.isClosed=!0,At.controller.close(),Ut(this,Il,g0).call(this,At,ht);break;case StreamKind.ERROR:assert(At,"error should have stream controller"),At.controller.error(wrapReason($.reason)),Ut(this,Il,g0).call(this,At,ht);break;case StreamKind.CANCEL_COMPLETE:$.success?At.cancelCall.resolve():At.cancelCall.reject(wrapReason($.reason)),Ut(this,Il,g0).call(this,At,ht);break;case StreamKind.CANCEL:if(!Et)break;new Promise(function(St){var Ct;St((Ct=Et.onCancel)==null?void 0:Ct.call(Et,wrapReason($.reason)))}).then(function(){wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,success:!0})},function(St){wt.postMessage({sourceName:vt,targetName:bt,stream:StreamKind.CANCEL_COMPLETE,streamId:ht,reason:wrapReason(St)})}),Et.sinkCapability.reject(wrapReason($.reason)),Et.isCancelled=!0,delete this.streamSinks[ht];break;default:throw new Error("Unexpected stream case")}},g0=async function($,ht){var vt,bt,wt;await Promise.allSettled([(vt=$.startCall)==null?void 0:vt.promise,(bt=$.pullCall)==null?void 0:bt.promise,(wt=$.cancelCall)==null?void 0:wt.promise]),delete this.streamControllers[ht]};var hp,ny;class Metadata{constructor({parsedData:$,rawData:ht}){Kt(this,hp);Kt(this,ny);zt(this,hp,$),zt(this,ny,ht)}getRaw(){return _t(this,ny)}get($){return _t(this,hp).get($)??null}getAll(){return objectFromMap(_t(this,hp))}has($){return _t(this,hp).has($)}}hp=new WeakMap,ny=new WeakMap;const INTERNAL=Symbol("INTERNAL");var iy,ry,sy,Am;class OptionalContentGroup{constructor($,{name:ht,intent:vt,usage:bt}){Kt(this,iy,!1);Kt(this,ry,!1);Kt(this,sy,!1);Kt(this,Am,!0);zt(this,iy,!!($&RenderingIntentFlag.DISPLAY)),zt(this,ry,!!($&RenderingIntentFlag.PRINT)),this.name=ht,this.intent=vt,this.usage=bt}get visible(){if(_t(this,sy))return _t(this,Am);if(!_t(this,Am))return!1;const{print:$,view:ht}=this.usage;return _t(this,iy)?(ht==null?void 0:ht.viewState)!=="OFF":_t(this,ry)?($==null?void 0:$.printState)!=="OFF":!0}_setVisible($,ht,vt=!1){$!==INTERNAL&&unreachable("Internal method `_setVisible` called."),zt(this,sy,vt),zt(this,Am,ht)}}iy=new WeakMap,ry=new WeakMap,sy=new WeakMap,Am=new WeakMap;var Pu,_s,Em,Sm,oy,Xw;class OptionalContentConfig{constructor($,ht=RenderingIntentFlag.DISPLAY){Kt(this,oy);Kt(this,Pu,null);Kt(this,_s,new Map);Kt(this,Em,null);Kt(this,Sm,null);if(this.renderingIntent=ht,this.name=null,this.creator=null,$!==null){this.name=$.name,this.creator=$.creator,zt(this,Sm,$.order);for(const vt of $.groups)_t(this,_s).set(vt.id,new OptionalContentGroup(ht,vt));if($.baseState==="OFF")for(const vt of _t(this,_s).values())vt._setVisible(INTERNAL,!1);for(const vt of $.on)_t(this,_s).get(vt)._setVisible(INTERNAL,!0);for(const vt of $.off)_t(this,_s).get(vt)._setVisible(INTERNAL,!1);zt(this,Em,this.getHash())}}isVisible($){if(_t(this,_s).size===0)return!0;if(!$)return info("Optional content group not defined."),!0;if($.type==="OCG")return _t(this,_s).has($.id)?_t(this,_s).get($.id).visible:(warn(`Optional content group not found: ${$.id}`),!0);if($.type==="OCMD"){if($.expression)return Ut(this,oy,Xw).call(this,$.expression);if(!$.policy||$.policy==="AnyOn"){for(const ht of $.ids){if(!_t(this,_s).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(_t(this,_s).get(ht).visible)return!0}return!1}else if($.policy==="AllOn"){for(const ht of $.ids){if(!_t(this,_s).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!_t(this,_s).get(ht).visible)return!1}return!0}else if($.policy==="AnyOff"){for(const ht of $.ids){if(!_t(this,_s).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(!_t(this,_s).get(ht).visible)return!0}return!1}else if($.policy==="AllOff"){for(const ht of $.ids){if(!_t(this,_s).has(ht))return warn(`Optional content group not found: ${ht}`),!0;if(_t(this,_s).get(ht).visible)return!1}return!0}return warn(`Unknown optional content policy ${$.policy}.`),!0}return warn(`Unknown group type ${$.type}.`),!0}setVisibility($,ht=!0){const vt=_t(this,_s).get($);if(!vt){warn(`Optional content group not found: ${$}`);return}vt._setVisible(INTERNAL,!!ht,!0),zt(this,Pu,null)}setOCGState({state:$,preserveRB:ht}){let vt;for(const bt of $){switch(bt){case"ON":case"OFF":case"Toggle":vt=bt;continue}const wt=_t(this,_s).get(bt);if(wt)switch(vt){case"ON":wt._setVisible(INTERNAL,!0);break;case"OFF":wt._setVisible(INTERNAL,!1);break;case"Toggle":wt._setVisible(INTERNAL,!wt.visible);break}}zt(this,Pu,null)}get hasInitialVisibility(){return _t(this,Em)===null||this.getHash()===_t(this,Em)}getOrder(){return _t(this,_s).size?_t(this,Sm)?_t(this,Sm).slice():[..._t(this,_s).keys()]:null}getGroups(){return _t(this,_s).size>0?objectFromMap(_t(this,_s)):null}getGroup($){return _t(this,_s).get($)||null}getHash(){if(_t(this,Pu)!==null)return _t(this,Pu);const $=new MurmurHash3_64;for(const[ht,vt]of _t(this,_s))$.update(`${ht}:${vt.visible}`);return zt(this,Pu,$.hexdigest())}}Pu=new WeakMap,_s=new WeakMap,Em=new WeakMap,Sm=new WeakMap,oy=new WeakSet,Xw=function($){const ht=$.length;if(ht<2)return!0;const vt=$[0];for(let bt=1;bt<ht;bt++){const wt=$[bt];let At;if(Array.isArray(wt))At=Ut(this,oy,Xw).call(this,wt);else if(_t(this,_s).has(wt))At=_t(this,_s).get(wt).visible;else return warn(`Optional content group not found: ${wt}`),!0;switch(vt){case"And":if(!At)return!1;break;case"Or":if(At)return!0;break;case"Not":return!At;default:return!0}}return vt==="And"};class PDFDataTransportStream{constructor($,{disableRange:ht=!1,disableStream:vt=!1}){assert($,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:bt,initialData:wt,progressiveDone:At,contentDispositionFilename:Et}=$;if(this._queuedChunks=[],this._progressiveDone=At,this._contentDispositionFilename=Et,(wt==null?void 0:wt.length)>0){const St=wt instanceof Uint8Array&&wt.byteLength===wt.buffer.byteLength?wt.buffer:new Uint8Array(wt).buffer;this._queuedChunks.push(St)}this._pdfDataRangeTransport=$,this._isStreamingSupported=!vt,this._isRangeSupported=!ht,this._contentLength=bt,this._fullRequestReader=null,this._rangeReaders=[],$.addRangeListener((St,Ct)=>{this._onReceiveData({begin:St,chunk:Ct})}),$.addProgressListener((St,Ct)=>{this._onProgress({loaded:St,total:Ct})}),$.addProgressiveReadListener(St=>{this._onReceiveData({chunk:St})}),$.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),$.transportReady()}_onReceiveData({begin:$,chunk:ht}){const vt=ht instanceof Uint8Array&&ht.byteLength===ht.buffer.byteLength?ht.buffer:new Uint8Array(ht).buffer;if($===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(vt):this._queuedChunks.push(vt);else{const bt=this._rangeReaders.some(function(wt){return wt._begin!==$?!1:(wt._enqueue(vt),!0)});assert(bt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}_onProgress($){var ht,vt,bt,wt;$.total===void 0?(vt=(ht=this._rangeReaders[0])==null?void 0:ht.onProgress)==null||vt.call(ht,{loaded:$.loaded}):(wt=(bt=this._fullRequestReader)==null?void 0:bt.onProgress)==null||wt.call(bt,{loaded:$.loaded,total:$.total})}_onProgressiveDone(){var $;($=this._fullRequestReader)==null||$.progressiveDone(),this._progressiveDone=!0}_removeRangeReader($){const ht=this._rangeReaders.indexOf($);ht>=0&&this._rangeReaders.splice(ht,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const $=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,$,this._progressiveDone,this._contentDispositionFilename)}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFDataTransportStreamRangeReader(this,$,ht);return this._pdfDataRangeTransport.requestDataRange($,ht),this._rangeReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeReaders.slice(0))vt.cancel($);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor($,ht,vt=!1,bt=null){this._stream=$,this._done=vt||!1,this._filename=isPdfFile(bt)?bt:null,this._queuedChunks=ht||[],this._loaded=0;for(const wt of this._queuedChunks)this._loaded+=wt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),$._fullRequestReader=this,this.onProgress=null}_enqueue($){this._done||(this._requests.length>0?this._requests.shift().resolve({value:$,done:!1}):this._queuedChunks.push($),this._loaded+=$.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor($,ht,vt){this._stream=$,this._begin=ht,this._end=vt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue($){if(!this._done){if(this._requests.length===0)this._queuedChunk=$;else{this._requests.shift().resolve({value:$,done:!1});for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(_e){let $=!0,ht=vt("filename\\*","i").exec(_e);if(ht){ht=ht[1];let xt=Et(ht);return xt=unescape(xt),xt=St(xt),xt=Ct(xt),wt(xt)}if(ht=At(_e),ht){const xt=Ct(ht);return wt(xt)}if(ht=vt("filename","i").exec(_e),ht){ht=ht[1];let xt=Et(ht);return xt=Ct(xt),wt(xt)}function vt(xt,Pt){return new RegExp("(?:^|;)\\s*"+xt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Pt)}function bt(xt,Pt){if(xt){if(!/^[\x00-\xFF]+$/.test(Pt))return Pt;try{const kt=new TextDecoder(xt,{fatal:!0}),Rt=stringToBytes(Pt);Pt=kt.decode(Rt),$=!1}catch{}}return Pt}function wt(xt){return $&&/[\x80-\xff]/.test(xt)&&(xt=bt("utf-8",xt),$&&(xt=bt("iso-8859-1",xt))),xt}function At(xt){const Pt=[];let kt;const Rt=vt("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(kt=Rt.exec(xt))!==null;){let[,Ft,$t,Lt]=kt;if(Ft=parseInt(Ft,10),Ft in Pt){if(Ft===0)break;continue}Pt[Ft]=[$t,Lt]}const Mt=[];for(let Ft=0;Ft<Pt.length&&Ft in Pt;++Ft){let[$t,Lt]=Pt[Ft];Lt=Et(Lt),$t&&(Lt=unescape(Lt),Ft===0&&(Lt=St(Lt))),Mt.push(Lt)}return Mt.join("")}function Et(xt){if(xt.startsWith('"')){const Pt=xt.slice(1).split('\\"');for(let kt=0;kt<Pt.length;++kt){const Rt=Pt[kt].indexOf('"');Rt!==-1&&(Pt[kt]=Pt[kt].slice(0,Rt),Pt.length=kt+1),Pt[kt]=Pt[kt].replaceAll(/\\(.)/g,"$1")}xt=Pt.join('"')}return xt}function St(xt){const Pt=xt.indexOf("'");if(Pt===-1)return xt;const kt=xt.slice(0,Pt),Mt=xt.slice(Pt+1).replace(/^[^']*'/,"");return bt(kt,Mt)}function Ct(xt){return!xt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(xt)?xt:xt.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Pt,kt,Rt,Mt){if(Rt==="q"||Rt==="Q")return Mt=Mt.replaceAll("_"," "),Mt=Mt.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ft,$t){return String.fromCharCode(parseInt($t,16))}),bt(kt,Mt);try{Mt=atob(Mt)}catch{}return bt(kt,Mt)})}return""}function validateRangeRequestCapabilities({getResponseHeader:_e,isHttp:$,rangeChunkSize:ht,disableRange:vt}){const bt={allowRangeRequests:!1,suggestedLength:void 0},wt=parseInt(_e("Content-Length"),10);return!Number.isInteger(wt)||(bt.suggestedLength=wt,wt<=2*ht)||vt||!$||_e("Accept-Ranges")!=="bytes"||(_e("Content-Encoding")||"identity")!=="identity"||(bt.allowRangeRequests=!0),bt}function extractFilenameFromHeader(_e){const $=_e("Content-Disposition");if($){let ht=getFilenameFromContentDispositionHeader($);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if(isPdfFile(ht))return ht}return null}function createResponseStatusError(_e,$){return _e===404||_e===0&&$.startsWith("file:")?new MissingPDFException('Missing PDF "'+$+'".'):new UnexpectedResponseException(`Unexpected server response (${_e}) while retrieving PDF "${$}".`,_e)}function validateResponseStatus(_e){return _e===200||_e===206}function createFetchOptions(_e,$,ht){return{method:"GET",headers:_e,signal:ht.signal,mode:"cors",credentials:$?"include":"same-origin",redirect:"follow"}}function createHeaders(_e){const $=new Headers;for(const ht in _e){const vt=_e[ht];vt!==void 0&&$.append(ht,vt)}return $}function getArrayBuffer(_e){return _e instanceof Uint8Array?_e.buffer:_e instanceof ArrayBuffer?_e:(warn(`getArrayBuffer - unexpected data format: ${_e}`),new Uint8Array(_e).buffer)}class PDFFetchStream{constructor($){this.source=$,this.isHttp=/^https?:/i.test($.url),this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=new PDFFetchStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFFetchStreamReader{constructor($){this._stream=$,this._reader=null,this._loaded=0,this._filename=null;const ht=$.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=createHeaders(this._stream.httpHeaders);const vt=ht.url;fetch(vt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(bt=>{if(!validateResponseStatus(bt.status))throw createResponseStatusError(bt.status,vt);this._reader=bt.body.getReader(),this._headersCapability.resolve();const wt=St=>bt.headers.get(St),{allowRangeRequests:At,suggestedLength:Et}=validateRangeRequestCapabilities({getResponseHeader:wt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=At,this._contentLength=Et||this._contentLength,this._filename=extractFilenameFromHeader(wt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._headersCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor($,ht,vt){this._stream=$,this._reader=null,this._loaded=0;const bt=$.source;this._withCredentials=bt.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!bt.disableStream,this._abortController=new AbortController,this._headers=createHeaders(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${vt-1}`);const wt=bt.url;fetch(wt,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(At=>{if(!validateResponseStatus(At.status))throw createResponseStatusError(At.status,wt);this._readCapability.resolve(),this._reader=At.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;await this._readCapability.promise;const{value:$,done:ht}=await this._reader.read();return ht?{value:$,done:ht}:(this._loaded+=$.byteLength,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:getArrayBuffer($),done:!1})}cancel($){var ht;(ht=this._reader)==null||ht.cancel($),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(_e){const $=_e.response;return typeof $!="string"?$:stringToBytes($).buffer}class NetworkManager{constructor($,ht={}){this.url=$,this.isHttp=/^https?:/i.test($),this.httpHeaders=this.isHttp&&ht.httpHeaders||Object.create(null),this.withCredentials=ht.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange($,ht,vt){const bt={begin:$,end:ht};for(const wt in vt)bt[wt]=vt[wt];return this.request(bt)}requestFull($){return this.request($)}request($){const ht=new XMLHttpRequest,vt=this.currXhrId++,bt=this.pendingRequests[vt]={xhr:ht};ht.open("GET",this.url),ht.withCredentials=this.withCredentials;for(const wt in this.httpHeaders){const At=this.httpHeaders[wt];At!==void 0&&ht.setRequestHeader(wt,At)}return this.isHttp&&"begin"in $&&"end"in $?(ht.setRequestHeader("Range",`bytes=${$.begin}-${$.end-1}`),bt.expectedStatus=PARTIAL_CONTENT_RESPONSE):bt.expectedStatus=OK_RESPONSE,ht.responseType="arraybuffer",$.onError&&(ht.onerror=function(wt){$.onError(ht.status)}),ht.onreadystatechange=this.onStateChange.bind(this,vt),ht.onprogress=this.onProgress.bind(this,vt),bt.onHeadersReceived=$.onHeadersReceived,bt.onDone=$.onDone,bt.onError=$.onError,bt.onProgress=$.onProgress,ht.send(null),vt}onProgress($,ht){var bt;const vt=this.pendingRequests[$];vt&&((bt=vt.onProgress)==null||bt.call(vt,ht))}onStateChange($,ht){var St,Ct,xt;const vt=this.pendingRequests[$];if(!vt)return;const bt=vt.xhr;if(bt.readyState>=2&&vt.onHeadersReceived&&(vt.onHeadersReceived(),delete vt.onHeadersReceived),bt.readyState!==4||!($ in this.pendingRequests))return;if(delete this.pendingRequests[$],bt.status===0&&this.isHttp){(St=vt.onError)==null||St.call(vt,bt.status);return}const wt=bt.status||OK_RESPONSE;if(!(wt===OK_RESPONSE&&vt.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&wt!==vt.expectedStatus){(Ct=vt.onError)==null||Ct.call(vt,bt.status);return}const Et=network_getArrayBuffer(bt);if(wt===PARTIAL_CONTENT_RESPONSE){const Pt=bt.getResponseHeader("Content-Range"),kt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Pt);vt.onDone({begin:parseInt(kt[1],10),chunk:Et})}else Et?vt.onDone({begin:0,chunk:Et}):(xt=vt.onError)==null||xt.call(vt,bt.status)}getRequestXhr($){return this.pendingRequests[$].xhr}isPendingRequest($){return $ in this.pendingRequests}abortRequest($){const ht=this.pendingRequests[$].xhr;delete this.pendingRequests[$],ht.abort()}}class PDFNetworkStream{constructor($){this._source=$,this._manager=new NetworkManager($.url,{httpHeaders:$.httpHeaders,withCredentials:$.withCredentials}),this._rangeChunkSize=$.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed($){const ht=this._rangeRequestReaders.indexOf($);ht>=0&&this._rangeRequestReaders.splice(ht,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader($,ht){const vt=new PDFNetworkStreamRangeRequestReader(this._manager,$,ht);return vt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class PDFNetworkStreamFullRequestReader{constructor($,ht){this._manager=$;const vt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ht.url,this._fullRequestId=$.requestFull(vt),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=ht.disableRange||!1,this._contentLength=ht.length,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const $=this._fullRequestId,ht=this._manager.getRequestXhr($),vt=At=>ht.getResponseHeader(At),{allowRangeRequests:bt,suggestedLength:wt}=validateRangeRequestCapabilities({getResponseHeader:vt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});bt&&(this._isRangeSupported=!0),this._contentLength=wt||this._contentLength,this._filename=extractFilenameFromHeader(vt),this._isRangeSupported&&this._manager.abortRequest($),this._headersReceivedCapability.resolve()}_onDone($){if($&&(this._requests.length>0?this._requests.shift().resolve({value:$.chunk,done:!1}):this._cachedChunks.push($.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0}}_onError($){this._storedError=createResponseStatusError($,this._url),this._headersReceivedCapability.reject(this._storedError);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress($){var ht;(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded,total:$.lengthComputable?$.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0,this._headersReceivedCapability.reject($);for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor($,ht,vt){this._manager=$;const bt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=$.url,this._requestId=$.requestRange(ht,vt,bt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var $;($=this.onClosed)==null||$.call(this,this)}_onDone($){const ht=$.chunk;this._requests.length>0?this._requests.shift().resolve({value:ht,done:!1}):this._queuedChunk=ht,this._done=!0;for(const vt of this._requests)vt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError($){this._storedError=createResponseStatusError($,this._url);for(const ht of this._requests)ht.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress($){var ht;this.isStreamingSupported||(ht=this.onProgress)==null||ht.call(this,{loaded:$.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const ht=this._queuedChunk;return this._queuedChunk=null,{value:ht,done:!1}}if(this._done)return{value:void 0,done:!0};const $=Promise.withResolvers();return this._requests.push($),$.promise}cancel($){this._done=!0;for(const ht of this._requests)ht.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;function parseUrl(_e){const $=NodePackages.get("url"),ht=$.parse(_e);return ht.protocol==="file:"||ht.host?ht:/^[a-z]:[/\\]/i.test(_e)?$.parse(`file:///${_e}`):(ht.host||(ht.protocol="file:"),ht)}class PDFNodeStream{constructor($){this.source=$,this.url=parseUrl($.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $;return(($=this._fullRequestReader)==null?void 0:$._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequestReader}getRangeReader($,ht){if(ht<=this._progressiveDataLength)return null;const vt=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,$,ht):new PDFNodeStreamRangeReader(this,$,ht);return this._rangeRequestReaders.push(vt),vt}cancelAllRequests($){var ht;(ht=this._fullRequestReader)==null||ht.cancel($);for(const vt of this._rangeRequestReaders.slice(0))vt.cancel($)}}class BaseFullReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null;const ht=$.source;this._contentLength=ht.length,this._loaded=0,this._filename=null,this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class BaseRangeReader{constructor($){this._url=$.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const ht=$.source;this._isStreamingSupported=!ht.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var vt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $=this._readableStream.read();return $===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=$.length,(vt=this.onProgress)==null||vt.call(this,{loaded:this._loaded}),{value:new Uint8Array($).buffer,done:!1})}cancel($){if(!this._readableStream){this._error($);return}this._readableStream.destroy($)}_error($){this._storedError=$,this._readCapability.resolve()}_setReadableStream($){this._readableStream=$,$.on("readable",()=>{this._readCapability.resolve()}),$.on("end",()=>{$.destroy(),this._done=!0,this._readCapability.resolve()}),$.on("error",ht=>{this._error(ht)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function createRequestOptions(_e,$){return{protocol:_e.protocol,auth:_e.auth,host:_e.hostname,port:_e.port,path:_e.path,method:"GET",headers:$}}class PDFNodeStreamFullReader extends BaseFullReader{constructor($){super($);const ht=vt=>{if(vt.statusCode===404){const Et=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Et,this._headersCapability.reject(Et);return}this._headersCapability.resolve(),this._setReadableStream(vt);const bt=Et=>this._readableStream.headers[Et.toLowerCase()],{allowRangeRequests:wt,suggestedLength:At}=validateRangeRequestCapabilities({getResponseHeader:bt,isHttp:$.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=wt,this._contentLength=At||this._contentLength,this._filename=extractFilenameFromHeader(bt)};if(this._request=null,this._url.protocol==="http:"){const vt=NodePackages.get("http");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}else{const vt=NodePackages.get("https");this._request=vt.request(createRequestOptions(this._url,$.httpHeaders),ht)}this._request.on("error",vt=>{this._storedError=vt,this._headersCapability.reject(vt)}),this._request.end()}}class PDFNodeStreamRangeReader extends BaseRangeReader{constructor($,ht,vt){super($),this._httpHeaders={};for(const wt in $.httpHeaders){const At=$.httpHeaders[wt];At!==void 0&&(this._httpHeaders[wt]=At)}this._httpHeaders.Range=`bytes=${ht}-${vt-1}`;const bt=wt=>{if(wt.statusCode===404){const At=new MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=At;return}this._setReadableStream(wt)};if(this._request=null,this._url.protocol==="http:"){const wt=NodePackages.get("http");this._request=wt.request(createRequestOptions(this._url,this._httpHeaders),bt)}else{const wt=NodePackages.get("https");this._request=wt.request(createRequestOptions(this._url,this._httpHeaders),bt)}this._request.on("error",wt=>{this._storedError=wt}),this._request.end()}}class PDFNodeStreamFsFullReader extends BaseFullReader{constructor($){super($);let ht=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(ht=ht.replace(/^\//,""));const vt=NodePackages.get("fs");vt.promises.lstat(ht).then(bt=>{this._contentLength=bt.size,this._setReadableStream(vt.createReadStream(ht)),this._headersCapability.resolve()},bt=>{bt.code==="ENOENT"&&(bt=new MissingPDFException(`Missing PDF "${ht}".`)),this._storedError=bt,this._headersCapability.reject(bt)})}}class PDFNodeStreamFsRangeReader extends BaseRangeReader{constructor($,ht,vt){super($);let bt=decodeURIComponent(this._url.path);fileUriRegex.test(this._url.href)&&(bt=bt.replace(/^\//,""));const wt=NodePackages.get("fs");this._setReadableStream(wt.createReadStream(bt,{start:ht,end:vt-1}))}}const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30,DEFAULT_FONT_ASCENT=.8;var CE,ku,Ao,ay,ly,fp,Jl,cy,uy,pp,_m,xm,Ru,Cm,dy,Tm,mp,hy,fy,gp,vp,Pm,pu,JE,eS,Yw,Uu,v0,tS;const jo=class jo{constructor({textContentSource:$,container:ht,viewport:vt}){Kt(this,pu);Kt(this,ku,Promise.withResolvers());Kt(this,Ao,null);Kt(this,ay,!1);Kt(this,ly,!!((CE=globalThis.FontInspector)!=null&&CE.enabled));Kt(this,fp,null);Kt(this,Jl,null);Kt(this,cy,0);Kt(this,uy,0);Kt(this,pp,null);Kt(this,_m,null);Kt(this,xm,0);Kt(this,Ru,0);Kt(this,Cm,Object.create(null));Kt(this,dy,[]);Kt(this,Tm,null);Kt(this,mp,[]);Kt(this,hy,new WeakMap);Kt(this,fy,null);if($ instanceof ReadableStream)zt(this,Tm,$);else if(typeof $=="object")zt(this,Tm,new ReadableStream({start(St){St.enqueue($),St.close()}}));else throw new Error('No "textContentSource" parameter specified.');zt(this,Ao,zt(this,_m,ht)),zt(this,Ru,vt.scale*(globalThis.devicePixelRatio||1)),zt(this,xm,vt.rotation),zt(this,Jl,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:bt,pageHeight:wt,pageX:At,pageY:Et}=vt.rawDims;zt(this,fy,[1,0,0,-1,-At,Et+wt]),zt(this,uy,bt),zt(this,cy,wt),setLayerDimensions(ht,vt),_t(this,ku).promise.catch(()=>{}).then(()=>{_t(jo,Pm).delete(this),zt(this,Jl,null),zt(this,Cm,null)})}render(){const $=()=>{_t(this,pp).read().then(({value:ht,done:vt})=>{if(vt){_t(this,ku).resolve();return}_t(this,fp)??zt(this,fp,ht.lang),Object.assign(_t(this,Cm),ht.styles),Ut(this,pu,JE).call(this,ht.items),$()},_t(this,ku).reject)};return zt(this,pp,_t(this,Tm).getReader()),_t(jo,Pm).add(this),$(),_t(this,ku).promise}update({viewport:$,onBefore:ht=null}){var wt;const vt=$.scale*(globalThis.devicePixelRatio||1),bt=$.rotation;if(bt!==_t(this,xm)&&(ht==null||ht(),zt(this,xm,bt),setLayerDimensions(_t(this,_m),{rotation:bt})),vt!==_t(this,Ru)){ht==null||ht(),zt(this,Ru,vt);const At={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:Ut(wt=jo,Uu,v0).call(wt,_t(this,fp))};for(const Et of _t(this,mp))At.properties=_t(this,hy).get(Et),At.div=Et,Ut(this,pu,Yw).call(this,At)}}cancel(){var ht;const $=new AbortException("TextLayer task cancelled.");(ht=_t(this,pp))==null||ht.cancel($).catch(()=>{}),zt(this,pp,null),_t(this,ku).reject($)}get textDivs(){return _t(this,mp)}get textContentItemsStr(){return _t(this,dy)}static cleanup(){if(!(_t(this,Pm).size>0)){_t(this,gp).clear();for(const{canvas:$}of _t(this,vp).values())$.remove();_t(this,vp).clear()}}};ku=new WeakMap,Ao=new WeakMap,ay=new WeakMap,ly=new WeakMap,fp=new WeakMap,Jl=new WeakMap,cy=new WeakMap,uy=new WeakMap,pp=new WeakMap,_m=new WeakMap,xm=new WeakMap,Ru=new WeakMap,Cm=new WeakMap,dy=new WeakMap,Tm=new WeakMap,mp=new WeakMap,hy=new WeakMap,fy=new WeakMap,gp=new WeakMap,vp=new WeakMap,Pm=new WeakMap,pu=new WeakSet,JE=function($){var bt,wt;if(_t(this,ay))return;(wt=_t(this,Jl)).ctx||(wt.ctx=Ut(bt=jo,Uu,v0).call(bt,_t(this,fp)));const ht=_t(this,mp),vt=_t(this,dy);for(const At of $){if(ht.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),zt(this,ay,!0);return}if(At.str===void 0){if(At.type==="beginMarkedContentProps"||At.type==="beginMarkedContent"){const Et=_t(this,Ao);zt(this,Ao,document.createElement("span")),_t(this,Ao).classList.add("markedContent"),At.id!==null&&_t(this,Ao).setAttribute("id",`${At.id}`),Et.append(_t(this,Ao))}else At.type==="endMarkedContent"&&zt(this,Ao,_t(this,Ao).parentNode);continue}vt.push(At.str),Ut(this,pu,eS).call(this,At)}},eS=function($){var Ft;const ht=document.createElement("span"),vt={angle:0,canvasWidth:0,hasText:$.str!=="",hasEOL:$.hasEOL,fontSize:0};_t(this,mp).push(ht);const bt=Util.transform(_t(this,fy),$.transform);let wt=Math.atan2(bt[1],bt[0]);const At=_t(this,Cm)[$.fontName];At.vertical&&(wt+=Math.PI/2);const Et=_t(this,ly)&&At.fontSubstitution||At.fontFamily,St=Math.hypot(bt[2],bt[3]),Ct=St*Ut(Ft=jo,Uu,tS).call(Ft,Et,_t(this,fp));let xt,Pt;wt===0?(xt=bt[4],Pt=bt[5]-Ct):(xt=bt[4]+Ct*Math.sin(wt),Pt=bt[5]-Ct*Math.cos(wt));const kt="calc(var(--scale-factor)*",Rt=ht.style;_t(this,Ao)===_t(this,_m)?(Rt.left=`${(100*xt/_t(this,uy)).toFixed(2)}%`,Rt.top=`${(100*Pt/_t(this,cy)).toFixed(2)}%`):(Rt.left=`${kt}${xt.toFixed(2)}px)`,Rt.top=`${kt}${Pt.toFixed(2)}px)`),Rt.fontSize=`${kt}${St.toFixed(2)}px)`,Rt.fontFamily=Et,vt.fontSize=St,ht.setAttribute("role","presentation"),ht.textContent=$.str,ht.dir=$.dir,_t(this,ly)&&(ht.dataset.fontName=At.fontSubstitutionLoadedName||$.fontName),wt!==0&&(vt.angle=wt*(180/Math.PI));let Mt=!1;if($.str.length>1)Mt=!0;else if($.str!==" "&&$.transform[0]!==$.transform[3]){const $t=Math.abs($.transform[0]),Lt=Math.abs($.transform[3]);$t!==Lt&&Math.max($t,Lt)/Math.min($t,Lt)>1.5&&(Mt=!0)}if(Mt&&(vt.canvasWidth=At.vertical?$.height:$.width),_t(this,hy).set(ht,vt),_t(this,Jl).div=ht,_t(this,Jl).properties=vt,Ut(this,pu,Yw).call(this,_t(this,Jl)),vt.hasText&&_t(this,Ao).append(ht),vt.hasEOL){const $t=document.createElement("br");$t.setAttribute("role","presentation"),_t(this,Ao).append($t)}},Yw=function($){const{div:ht,properties:vt,ctx:bt,prevFontSize:wt,prevFontFamily:At}=$,{style:Et}=ht;let St="";if(vt.canvasWidth!==0&&vt.hasText){const{fontFamily:Ct}=Et,{canvasWidth:xt,fontSize:Pt}=vt;(wt!==Pt||At!==Ct)&&(bt.font=`${Pt*_t(this,Ru)}px ${Ct}`,$.prevFontSize=Pt,$.prevFontFamily=Ct);const{width:kt}=bt.measureText(ht.textContent);kt>0&&(St=`scaleX(${xt*_t(this,Ru)/kt})`)}vt.angle!==0&&(St=`rotate(${vt.angle}deg) ${St}`),St.length>0&&(Et.transform=St)},Uu=new WeakSet,v0=function($=null){let ht=_t(this,vp).get($||($=""));if(!ht){const vt=document.createElement("canvas");vt.className="hiddenCanvasElement",vt.lang=$,document.body.append(vt),ht=vt.getContext("2d",{alpha:!1}),_t(this,vp).set($,ht)}return ht},tS=function($,ht){const vt=_t(this,gp).get($);if(vt)return vt;const bt=Ut(this,Uu,v0).call(this,ht),wt=bt.font;bt.canvas.width=bt.canvas.height=DEFAULT_FONT_SIZE,bt.font=`${DEFAULT_FONT_SIZE}px ${$}`;const At=bt.measureText("");let Et=At.fontBoundingBoxAscent,St=Math.abs(At.fontBoundingBoxDescent);if(Et){const Pt=Et/(Et+St);return _t(this,gp).set($,Pt),bt.canvas.width=bt.canvas.height=0,bt.font=wt,Pt}bt.strokeStyle="red",bt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),bt.strokeText("g",0,0);let Ct=bt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data;St=0;for(let Pt=Ct.length-1-3;Pt>=0;Pt-=4)if(Ct[Pt]>0){St=Math.ceil(Pt/4/DEFAULT_FONT_SIZE);break}bt.clearRect(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE),bt.strokeText("A",0,DEFAULT_FONT_SIZE),Ct=bt.getImageData(0,0,DEFAULT_FONT_SIZE,DEFAULT_FONT_SIZE).data,Et=0;for(let Pt=0,kt=Ct.length;Pt<kt;Pt+=4)if(Ct[Pt]>0){Et=DEFAULT_FONT_SIZE-Math.floor(Pt/4/DEFAULT_FONT_SIZE);break}bt.canvas.width=bt.canvas.height=0,bt.font=wt;const xt=Et?Et/(Et+St):DEFAULT_FONT_ASCENT;return _t(this,gp).set($,xt),xt},Kt(jo,Uu),Kt(jo,gp,new Map),Kt(jo,vp,new Map),Kt(jo,Pm,new Set);let TextLayer=jo;function renderTextLayer(){deprecated("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:_e,container:$,viewport:ht,...vt}=arguments[0],bt=Object.keys(vt);bt.length>0&&warn("Ignoring `renderTextLayer` parameters: "+bt.join(", "));const wt=new TextLayer({textContentSource:_e,container:$,viewport:ht}),{textDivs:At,textContentItemsStr:Et}=wt;return{promise:wt.render(),textDivs:At,textContentItemsStr:Et}}function updateTextLayer(){deprecated("`updateTextLayer`, please use `TextLayer` instead.")}class XfaText{static textContent($){const ht=[],vt={items:ht,styles:Object.create(null)};function bt(wt){var St;if(!wt)return;let At=null;const Et=wt.name;if(Et==="#text")At=wt.value;else if(XfaText.shouldBuildText(Et))(St=wt==null?void 0:wt.attributes)!=null&&St.textContent?At=wt.attributes.textContent:wt.value&&(At=wt.value);else return;if(At!==null&&ht.push({str:At}),!!wt.children)for(const Ct of wt.children)bt(Ct)}return bt($),vt}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=isNodeJS?NodeCanvasFactory:DOMCanvasFactory,DefaultCMapReaderFactory=isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory,DefaultFilterFactory=isNodeJS?NodeFilterFactory:DOMFilterFactory,DefaultStandardFontDataFactory=isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory;function getDocument(_e){if(typeof _e=="string"||_e instanceof URL?_e={url:_e}:(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e))&&(_e={data:_e}),typeof _e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!_e.url&&!_e.data&&!_e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const $=new PDFDocumentLoadingTask,{docId:ht}=$,vt=_e.url?getUrlProp(_e.url):null,bt=_e.data?getDataProp(_e.data):null,wt=_e.httpHeaders||null,At=_e.withCredentials===!0,Et=_e.password??null,St=_e.range instanceof PDFDataRangeTransport?_e.range:null,Ct=Number.isInteger(_e.rangeChunkSize)&&_e.rangeChunkSize>0?_e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let xt=_e.worker instanceof PDFWorker?_e.worker:null;const Pt=_e.verbosity,kt=typeof _e.docBaseUrl=="string"&&!isDataScheme(_e.docBaseUrl)?_e.docBaseUrl:null,Rt=typeof _e.cMapUrl=="string"?_e.cMapUrl:null,Mt=_e.cMapPacked!==!1,Ft=_e.CMapReaderFactory||DefaultCMapReaderFactory,$t=typeof _e.standardFontDataUrl=="string"?_e.standardFontDataUrl:null,Lt=_e.StandardFontDataFactory||DefaultStandardFontDataFactory,Dt=_e.stopAtErrors!==!0,Ot=Number.isInteger(_e.maxImageSize)&&_e.maxImageSize>-1?_e.maxImageSize:-1,Bt=_e.isEvalSupported!==!1,Nt=typeof _e.isOffscreenCanvasSupported=="boolean"?_e.isOffscreenCanvasSupported:!isNodeJS,Ht=Number.isInteger(_e.canvasMaxAreaInBytes)?_e.canvasMaxAreaInBytes:-1,Vt=typeof _e.disableFontFace=="boolean"?_e.disableFontFace:isNodeJS,jt=_e.fontExtraProperties===!0,qt=_e.enableXfa===!0,Jt=_e.ownerDocument||globalThis.document,Gt=_e.disableRange===!0,en=_e.disableStream===!0,an=_e.disableAutoFetch===!0,Sn=_e.pdfBug===!0,cn=St?St.length:_e.length??NaN,An=typeof _e.useSystemFonts=="boolean"?_e.useSystemFonts:!isNodeJS&&!Vt,dn=typeof _e.useWorkerFetch=="boolean"?_e.useWorkerFetch:Ft===DOMCMapReaderFactory&&Lt===DOMStandardFontDataFactory&&Rt&&$t&&isValidFetchUrl(Rt,document.baseURI)&&isValidFetchUrl($t,document.baseURI),fn=_e.canvasFactory||new DefaultCanvasFactory({ownerDocument:Jt}),nn=_e.filterFactory||new DefaultFilterFactory({docId:ht,ownerDocument:Jt}),gn=null;setVerbosityLevel(Pt);const Cn={canvasFactory:fn,filterFactory:nn};if(dn||(Cn.cMapReaderFactory=new Ft({baseUrl:Rt,isCompressed:Mt}),Cn.standardFontDataFactory=new Lt({baseUrl:$t})),!xt){const Yt={verbosity:Pt,port:GlobalWorkerOptions.workerPort};xt=Yt.port?PDFWorker.fromPort(Yt):new PDFWorker(Yt),$._worker=xt}const rn={docId:ht,apiVersion:"4.3.136",data:bt,password:Et,disableAutoFetch:an,rangeChunkSize:Ct,length:cn,docBaseUrl:kt,enableXfa:qt,evaluatorOptions:{maxImageSize:Ot,disableFontFace:Vt,ignoreErrors:Dt,isEvalSupported:Bt,isOffscreenCanvasSupported:Nt,canvasMaxAreaInBytes:Ht,fontExtraProperties:jt,useSystemFonts:An,cMapUrl:dn?Rt:null,standardFontDataUrl:dn?$t:null}},Xt={disableFontFace:Vt,fontExtraProperties:jt,ownerDocument:Jt,pdfBug:Sn,styleElement:gn,loadingParams:{disableAutoFetch:an,enableXfa:qt}};return xt.promise.then(function(){if($.destroyed)throw new Error("Loading aborted");if(xt.destroyed)throw new Error("Worker was destroyed");const Yt=xt.messageHandler.sendWithPromise("GetDocRequest",rn,bt?[bt.buffer]:null);let tn;return St?tn=new PDFDataTransportStream(St,{disableRange:Gt,disableStream:en}):bt||(tn=(un=>isNodeJS?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&isValidFetchUrl(un.url)?new PDFFetchStream(un):new PDFNodeStream(un):isValidFetchUrl(un.url)?new PDFFetchStream(un):new PDFNetworkStream(un))({url:vt,length:cn,httpHeaders:wt,withCredentials:At,rangeChunkSize:Ct,disableRange:Gt,disableStream:en})),Yt.then(hn=>{if($.destroyed)throw new Error("Loading aborted");if(xt.destroyed)throw new Error("Worker was destroyed");const un=new MessageHandler(ht,hn,xt.port),pn=new WorkerTransport(un,$,tn,Xt,Cn);$._transport=pn,un.send("Ready",null)})}).catch($._capability.reject),$}function getUrlProp(_e){if(_e instanceof URL)return _e.href;try{return new URL(_e,window.location).href}catch{if(isNodeJS&&typeof _e=="string")return _e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(_e){if(isNodeJS&&typeof Buffer<"u"&&_e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(_e instanceof Uint8Array&&_e.byteLength===_e.buffer.byteLength)return _e;if(typeof _e=="string")return stringToBytes(_e);if(_e instanceof ArrayBuffer||ArrayBuffer.isView(_e)||typeof _e=="object"&&!isNaN(_e==null?void 0:_e.length))return new Uint8Array(_e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function isRefProxy(_e){return typeof _e=="object"&&Number.isInteger(_e==null?void 0:_e.num)&&_e.num>=0&&Number.isInteger(_e==null?void 0:_e.gen)&&_e.gen>=0}var sw;const ow=class ow{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${to(ow,sw)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var $,ht,vt;this.destroyed=!0;try{($=this._worker)!=null&&$.port&&(this._worker._pendingDestroy=!0),await((ht=this._transport)==null?void 0:ht.destroy())}catch(bt){throw(vt=this._worker)!=null&&vt.port&&delete this._worker._pendingDestroy,bt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};sw=new WeakMap,Kt(ow,sw,0);let PDFDocumentLoadingTask=ow;class PDFDataRangeTransport{constructor($,ht,vt=!1,bt=null){this.length=$,this.initialData=ht,this.progressiveDone=vt,this.contentDispositionFilename=bt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener($){this._rangeListeners.push($)}addProgressListener($){this._progressListeners.push($)}addProgressiveReadListener($){this._progressiveReadListeners.push($)}addProgressiveDoneListener($){this._progressiveDoneListeners.push($)}onDataRange($,ht){for(const vt of this._rangeListeners)vt($,ht)}onDataProgress($,ht){this._readyCapability.promise.then(()=>{for(const vt of this._progressListeners)vt($,ht)})}onDataProgressiveRead($){this._readyCapability.promise.then(()=>{for(const ht of this._progressiveReadListeners)ht($)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const $ of this._progressiveDoneListeners)$()})}transportReady(){this._readyCapability.resolve()}requestDataRange($,ht){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class PDFDocumentProxy{constructor($,ht){this._pdfInfo=$,this._transport=ht}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage($){return this._transport.getPage($)}getPageIndex($){return this._transport.getPageIndex($)}getDestinations(){return this._transport.getDestinations()}getDestination($){return this._transport.getDestination($)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getOptionalContentConfig(ht)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup($=!1){return this._transport.startCleanup($||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber($){return this._transport.cachedPageNumber($)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Mu,_c,No,em,y0;class PDFPageProxy{constructor($,ht,vt,bt=!1){Kt(this,No);Kt(this,Mu,null);Kt(this,_c,!1);this._pageIndex=$,this._pageInfo=ht,this._transport=vt,this._stats=bt?new StatTimer:null,this._pdfBug=bt,this.commonObjs=vt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:$,rotation:ht=this.rotate,offsetX:vt=0,offsetY:bt=0,dontFlip:wt=!1}={}){return new PageViewport({viewBox:this.view,scale:$,rotation:ht,offsetX:vt,offsetY:bt,dontFlip:wt})}getAnnotations({intent:$="display"}={}){const{renderingIntent:ht}=this._transport.getRenderingIntent($);return this._transport.getAnnotations(this._pageIndex,ht)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var $;return(($=this._transport._htmlForXfa)==null?void 0:$.children[this._pageIndex])||null}render({canvasContext:$,viewport:ht,intent:vt="display",annotationMode:bt=AnnotationMode.ENABLE,transform:wt=null,background:At=null,optionalContentConfigPromise:Et=null,annotationCanvasMap:St=null,pageColors:Ct=null,printAnnotationStorage:xt=null}){var Ot,Bt;(Ot=this._stats)==null||Ot.time("Overall");const Pt=this._transport.getRenderingIntent(vt,bt,xt),{renderingIntent:kt,cacheKey:Rt}=Pt;zt(this,_c,!1),Ut(this,No,y0).call(this),Et||(Et=this._transport.getOptionalContentConfig(kt));let Mt=this._intentStates.get(Rt);Mt||(Mt=Object.create(null),this._intentStates.set(Rt,Mt)),Mt.streamReaderCancelTimeout&&(clearTimeout(Mt.streamReaderCancelTimeout),Mt.streamReaderCancelTimeout=null);const Ft=!!(kt&RenderingIntentFlag.PRINT);Mt.displayReadyCapability||(Mt.displayReadyCapability=Promise.withResolvers(),Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Bt=this._stats)==null||Bt.time("Page Request"),this._pumpOperatorList(Pt));const $t=Nt=>{var Ht;Mt.renderTasks.delete(Lt),(this._maybeCleanupAfterRender||Ft)&&zt(this,_c,!0),Ut(this,No,em).call(this,!Ft),Nt?(Lt.capability.reject(Nt),this._abortOperatorList({intentState:Mt,reason:Nt instanceof Error?Nt:new Error(Nt)})):Lt.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Ht=globalThis.Stats)!=null&&Ht.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},Lt=new InternalRenderTask({callback:$t,params:{canvasContext:$,viewport:ht,transform:wt,background:At},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:St,operatorList:Mt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ft,pdfBug:this._pdfBug,pageColors:Ct});(Mt.renderTasks||(Mt.renderTasks=new Set)).add(Lt);const Dt=Lt.task;return Promise.all([Mt.displayReadyCapability.promise,Et]).then(([Nt,Ht])=>{var Vt;if(this.destroyed){$t();return}if((Vt=this._stats)==null||Vt.time("Rendering"),!(Ht.renderingIntent&kt))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");Lt.initializeGraphics({transparency:Nt,optionalContentConfig:Ht}),Lt.operatorListChanged()}).catch($t),Dt}getOperatorList({intent:$="display",annotationMode:ht=AnnotationMode.ENABLE,printAnnotationStorage:vt=null}={}){var St;function bt(){At.operatorList.lastChunk&&(At.opListReadCapability.resolve(At.operatorList),At.renderTasks.delete(Et))}const wt=this._transport.getRenderingIntent($,ht,vt,!0);let At=this._intentStates.get(wt.cacheKey);At||(At=Object.create(null),this._intentStates.set(wt.cacheKey,At));let Et;return At.opListReadCapability||(Et=Object.create(null),Et.operatorListChanged=bt,At.opListReadCapability=Promise.withResolvers(),(At.renderTasks||(At.renderTasks=new Set)).add(Et),At.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(St=this._stats)==null||St.time("Page Request"),this._pumpOperatorList(wt)),At.opListReadCapability.promise}streamTextContent({includeMarkedContent:$=!1,disableNormalization:ht=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:$===!0,disableNormalization:ht===!0},{highWaterMark:100,size(bt){return bt.items.length}})}getTextContent($={}){if(this._transport._htmlForXfa)return this.getXfa().then(vt=>XfaText.textContent(vt));const ht=this.streamTextContent($);return new Promise(function(vt,bt){function wt(){At.read().then(function({value:St,done:Ct}){if(Ct){vt(Et);return}Et.lang??(Et.lang=St.lang),Object.assign(Et.styles,St.styles),Et.items.push(...St.items),wt()},bt)}const At=ht.getReader(),Et={items:[],styles:Object.create(null),lang:null};wt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const $=[];for(const ht of this._intentStates.values())if(this._abortOperatorList({intentState:ht,reason:new Error("Page was destroyed."),force:!0}),!ht.opListReadCapability)for(const vt of ht.renderTasks)$.push(vt.completed),vt.cancel();return this.objs.clear(),zt(this,_c,!1),Ut(this,No,y0).call(this),Promise.all($)}cleanup($=!1){zt(this,_c,!0);const ht=Ut(this,No,em).call(this,!1);return $&&ht&&this._stats&&(this._stats=new StatTimer),ht}_startRenderPage($,ht){var bt,wt;const vt=this._intentStates.get(ht);vt&&((bt=this._stats)==null||bt.timeEnd("Page Request"),(wt=vt.displayReadyCapability)==null||wt.resolve($))}_renderPageChunk($,ht){for(let vt=0,bt=$.length;vt<bt;vt++)ht.operatorList.fnArray.push($.fnArray[vt]),ht.operatorList.argsArray.push($.argsArray[vt]);ht.operatorList.lastChunk=$.lastChunk,ht.operatorList.separateAnnots=$.separateAnnots;for(const vt of ht.renderTasks)vt.operatorListChanged();$.lastChunk&&Ut(this,No,em).call(this,!0)}_pumpOperatorList({renderingIntent:$,cacheKey:ht,annotationStorageSerializable:vt}){const{map:bt,transfer:wt}=vt,Et=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:$,cacheKey:ht,annotationStorage:bt},wt).getReader(),St=this._intentStates.get(ht);St.streamReader=Et;const Ct=()=>{Et.read().then(({value:xt,done:Pt})=>{if(Pt){St.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(xt,St),Ct())},xt=>{if(St.streamReader=null,!this._transport.destroyed){if(St.operatorList){St.operatorList.lastChunk=!0;for(const Pt of St.renderTasks)Pt.operatorListChanged();Ut(this,No,em).call(this,!0)}if(St.displayReadyCapability)St.displayReadyCapability.reject(xt);else if(St.opListReadCapability)St.opListReadCapability.reject(xt);else throw xt}})};Ct()}_abortOperatorList({intentState:$,reason:ht,force:vt=!1}){if($.streamReader){if($.streamReaderCancelTimeout&&(clearTimeout($.streamReaderCancelTimeout),$.streamReaderCancelTimeout=null),!vt){if($.renderTasks.size>0)return;if(ht instanceof RenderingCancelledException){let bt=RENDERING_CANCELLED_TIMEOUT;ht.extraDelay>0&&ht.extraDelay<1e3&&(bt+=ht.extraDelay),$.streamReaderCancelTimeout=setTimeout(()=>{$.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:$,reason:ht,force:!0})},bt);return}}if($.streamReader.cancel(new AbortException(ht.message)).catch(()=>{}),$.streamReader=null,!this._transport.destroyed){for(const[bt,wt]of this._intentStates)if(wt===$){this._intentStates.delete(bt);break}this.cleanup()}}}get stats(){return this._stats}}Mu=new WeakMap,_c=new WeakMap,No=new WeakSet,em=function($=!1){if(Ut(this,No,y0).call(this),!_t(this,_c)||this.destroyed)return!1;if($)return zt(this,Mu,setTimeout(()=>{zt(this,Mu,null),Ut(this,No,em).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:ht,operatorList:vt}of this._intentStates.values())if(ht.size>0||!vt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),zt(this,_c,!1),!0},y0=function(){_t(this,Mu)&&(clearTimeout(_t(this,Mu)),zt(this,Mu,null))};var yp,aw;class LoopbackPort{constructor(){Kt(this,yp,new Set);Kt(this,aw,Promise.resolve())}postMessage($,ht){const vt={data:structuredClone($,ht?{transfer:ht}:null)};_t(this,aw).then(()=>{for(const bt of _t(this,yp))bt.call(this,vt)})}addEventListener($,ht){_t(this,yp).add(ht)}removeEventListener($,ht){_t(this,yp).delete(ht)}terminate(){_t(this,yp).clear()}}yp=new WeakMap,aw=new WeakMap;const PDFWorkerUtil={isWorkerDisabled:!1,fakeWorkerId:0};isNodeJS&&(PDFWorkerUtil.isWorkerDisabled=!0,GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),PDFWorkerUtil.isSameOrigin=function(_e,$){let ht;try{if(ht=new URL(_e),!ht.origin||ht.origin==="null")return!1}catch{return!1}const vt=new URL($,ht);return ht.origin===vt.origin},PDFWorkerUtil.createCDNWrapper=function(_e){const $=`await import("${_e}");`;return URL.createObjectURL(new Blob([$],{type:"text/javascript"}))};var bp,km,b0;const xo=class xo{constructor({name:$=null,port:ht=null,verbosity:vt=getVerbosityLevel()}={}){var bt;if(this.name=$,this.destroyed=!1,this.verbosity=vt,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,ht){if((bt=_t(xo,bp))!=null&&bt.has(ht))throw new Error("Cannot use more than one PDFWorker per port.");(_t(xo,bp)||zt(xo,bp,new WeakMap)).set(ht,this),this._initializeFromPort(ht);return}this._initialize()}get promise(){return isNodeJS?Promise.all([NodePackages.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($){this._port=$,this._messageHandler=new MessageHandler("main","worker",$),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_t(xo,km,b0)){let{workerSrc:$}=xo;try{PDFWorkerUtil.isSameOrigin(window.location.href,$)||($=PDFWorkerUtil.createCDNWrapper(new URL($,window.location).href));const ht=new Worker($,{type:"module"}),vt=new MessageHandler("main","worker",ht),bt=()=>{ht.removeEventListener("error",wt),vt.destroy(),ht.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},wt=()=>{this._webWorker||bt()};ht.addEventListener("error",wt),vt.on("test",Et=>{if(ht.removeEventListener("error",wt),this.destroyed){bt();return}Et?(this._messageHandler=vt,this._port=ht,this._webWorker=ht,this._readyCapability.resolve(),vt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),vt.destroy(),ht.terminate())}),vt.on("ready",Et=>{if(ht.removeEventListener("error",wt),this.destroyed){bt();return}try{At()}catch{this._setupFakeWorker()}});const At=()=>{const Et=new Uint8Array;vt.send("test",Et,[Et.buffer])};At();return}catch{info("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||(warn("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),xo._setupFakeWorkerGlobal.then($=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ht=new LoopbackPort;this._port=ht;const vt=`fake${PDFWorkerUtil.fakeWorkerId++}`,bt=new MessageHandler(vt+"_worker",vt,ht);$.setup(bt,ht);const wt=new MessageHandler(vt,vt+"_worker",ht);this._messageHandler=wt,this._readyCapability.resolve(),wt.send("configure",{verbosity:this.verbosity})}).catch($=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$.message}".`))})}destroy(){var $;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($=_t(xo,bp))==null||$.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($){var vt;if(!($!=null&&$.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const ht=(vt=_t(this,bp))==null?void 0:vt.get($.port);if(ht){if(ht._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ht}return new xo($)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>_t(this,km,b0)?_t(this,km,b0):(await import(this.workerSrc)).WorkerMessageHandler)())}};bp=new WeakMap,km=new WeakSet,b0=function(){var $;try{return(($=globalThis.pdfjsWorker)==null?void 0:$.WorkerMessageHandler)||null}catch{return null}},Kt(xo,km),Kt(xo,bp);let PDFWorker=xo;var eu,_l,Rm,Mm,xl,wp,lv;class WorkerTransport{constructor($,ht,vt,bt,wt){Kt(this,wp);Kt(this,eu,new Map);Kt(this,_l,new Map);Kt(this,Rm,new Map);Kt(this,Mm,new Map);Kt(this,xl,null);this.messageHandler=$,this.loadingTask=ht,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:bt.ownerDocument,styleElement:bt.styleElement}),this.loadingParams=bt.loadingParams,this._params=bt,this.canvasFactory=wt.canvasFactory,this.filterFactory=wt.filterFactory,this.cMapReaderFactory=wt.cMapReaderFactory,this.standardFontDataFactory=wt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=vt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent($,ht=AnnotationMode.ENABLE,vt=null,bt=!1){let wt=RenderingIntentFlag.DISPLAY,At=SerializableEmpty;switch($){case"any":wt=RenderingIntentFlag.ANY;break;case"display":break;case"print":wt=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${$}`)}switch(ht){case AnnotationMode.DISABLE:wt+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:wt+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:wt+=RenderingIntentFlag.ANNOTATIONS_STORAGE,At=(wt&RenderingIntentFlag.PRINT&&vt instanceof PrintAnnotationStorage?vt:this.annotationStorage).serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${ht}`)}return bt&&(wt+=RenderingIntentFlag.OPLIST),{renderingIntent:wt,cacheKey:`${wt}_${At.hash}`,annotationStorageSerializable:At}}destroy(){var vt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(vt=_t(this,xl))==null||vt.reject(new Error("Worker was destroyed during onPassword callback"));const $=[];for(const bt of _t(this,_l).values())$.push(bt._destroy());_t(this,_l).clear(),_t(this,Rm).clear(),_t(this,Mm).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ht=this.messageHandler.sendWithPromise("Terminate",null);return $.push(ht),Promise.all($).then(()=>{var bt;this.commonObjs.clear(),this.fontLoader.clear(),_t(this,eu).clear(),this.filterFactory.destroy(),TextLayer.cleanup(),(bt=this._networkStream)==null||bt.cancelAllRequests(new AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:$,loadingTask:ht}=this;$.on("GetReader",(vt,bt)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=wt=>{this._lastProgress={loaded:wt.loaded,total:wt.total}},bt.onPull=()=>{this._fullReader.read().then(function({value:wt,done:At}){if(At){bt.close();return}assert(wt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(wt),1,[wt])}).catch(wt=>{bt.error(wt)})},bt.onCancel=wt=>{this._fullReader.cancel(wt),bt.ready.catch(At=>{if(!this.destroyed)throw At})}}),$.on("ReaderHeadersReady",vt=>{const bt=Promise.withResolvers(),wt=this._fullReader;return wt.headersReady.then(()=>{var At;(!wt.isStreamingSupported||!wt.isRangeSupported)&&(this._lastProgress&&((At=ht.onProgress)==null||At.call(ht,this._lastProgress)),wt.onProgress=Et=>{var St;(St=ht.onProgress)==null||St.call(ht,{loaded:Et.loaded,total:Et.total})}),bt.resolve({isStreamingSupported:wt.isStreamingSupported,isRangeSupported:wt.isRangeSupported,contentLength:wt.contentLength})},bt.reject),bt.promise}),$.on("GetRangeReader",(vt,bt)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const wt=this._networkStream.getRangeReader(vt.begin,vt.end);if(!wt){bt.close();return}bt.onPull=()=>{wt.read().then(function({value:At,done:Et}){if(Et){bt.close();return}assert(At instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),bt.enqueue(new Uint8Array(At),1,[At])}).catch(At=>{bt.error(At)})},bt.onCancel=At=>{wt.cancel(At),bt.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),$.on("GetDoc",({pdfInfo:vt})=>{this._numPages=vt.numPages,this._htmlForXfa=vt.htmlForXfa,delete vt.htmlForXfa,ht._capability.resolve(new PDFDocumentProxy(vt,this))}),$.on("DocException",function(vt){let bt;switch(vt.name){case"PasswordException":bt=new PasswordException(vt.message,vt.code);break;case"InvalidPDFException":bt=new InvalidPDFException(vt.message);break;case"MissingPDFException":bt=new MissingPDFException(vt.message);break;case"UnexpectedResponseException":bt=new UnexpectedResponseException(vt.message,vt.status);break;case"UnknownErrorException":bt=new UnknownErrorException(vt.message,vt.details);break;default:unreachable("DocException - expected a valid Error.")}ht._capability.reject(bt)}),$.on("PasswordRequest",vt=>{if(zt(this,xl,Promise.withResolvers()),ht.onPassword){const bt=wt=>{wt instanceof Error?_t(this,xl).reject(wt):_t(this,xl).resolve({password:wt})};try{ht.onPassword(bt,vt.code)}catch(wt){_t(this,xl).reject(wt)}}else _t(this,xl).reject(new PasswordException(vt.message,vt.code));return _t(this,xl).promise}),$.on("DataLoaded",vt=>{var bt;(bt=ht.onProgress)==null||bt.call(ht,{loaded:vt.length,total:vt.length}),this.downloadInfoCapability.resolve(vt)}),$.on("StartRenderPage",vt=>{if(this.destroyed)return;_t(this,_l).get(vt.pageIndex)._startRenderPage(vt.transparency,vt.cacheKey)}),$.on("commonobj",([vt,bt,wt])=>{var At;if(this.destroyed||this.commonObjs.has(vt))return null;switch(bt){case"Font":const{disableFontFace:Et,fontExtraProperties:St,pdfBug:Ct}=this._params;if("error"in wt){const Rt=wt.error;warn(`Error during font loading: ${Rt}`),this.commonObjs.resolve(vt,Rt);break}const xt=Ct&&((At=globalThis.FontInspector)!=null&&At.enabled)?(Rt,Mt)=>globalThis.FontInspector.fontAdded(Rt,Mt):null,Pt=new FontFaceObject(wt,{disableFontFace:Et,inspectFont:xt});this.fontLoader.bind(Pt).catch(()=>$.sendWithPromise("FontFallback",{id:vt})).finally(()=>{!St&&Pt.data&&(Pt.data=null),this.commonObjs.resolve(vt,Pt)});break;case"CopyLocalImage":const{imageRef:kt}=wt;assert(kt,"The imageRef must be defined.");for(const Rt of _t(this,_l).values())for(const[,Mt]of Rt.objs)if((Mt==null?void 0:Mt.ref)===kt)return Mt.dataLen?(this.commonObjs.resolve(vt,structuredClone(Mt)),Mt.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(vt,wt);break;default:throw new Error(`Got unknown common object type ${bt}`)}return null}),$.on("obj",([vt,bt,wt,At])=>{var St;if(this.destroyed)return;const Et=_t(this,_l).get(bt);if(!Et.objs.has(vt)){if(Et._intentStates.size===0){(St=At==null?void 0:At.bitmap)==null||St.close();return}switch(wt){case"Image":Et.objs.resolve(vt,At),(At==null?void 0:At.dataLen)>MAX_IMAGE_SIZE_TO_CACHE&&(Et._maybeCleanupAfterRender=!0);break;case"Pattern":Et.objs.resolve(vt,At);break;default:throw new Error(`Got unknown object type ${wt}`)}}}),$.on("DocProgress",vt=>{var bt;this.destroyed||(bt=ht.onProgress)==null||bt.call(ht,{loaded:vt.loaded,total:vt.total})}),$.on("FetchBuiltInCMap",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(vt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),$.on("FetchStandardFontData",vt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(vt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var vt;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:$,transfer:ht}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:$,filename:((vt=this._fullReader)==null?void 0:vt.filename)??null},ht).finally(()=>{this.annotationStorage.resetModified()})}getPage($){if(!Number.isInteger($)||$<=0||$>this._numPages)return Promise.reject(new Error("Invalid page request."));const ht=$-1,vt=_t(this,Rm).get(ht);if(vt)return vt;const bt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ht}).then(wt=>{if(this.destroyed)throw new Error("Transport destroyed");wt.refStr&&_t(this,Mm).set(wt.refStr,$);const At=new PDFPageProxy(ht,wt,this,this._params.pdfBug);return _t(this,_l).set(ht,At),At});return _t(this,Rm).set(ht,bt),bt}getPageIndex($){return isRefProxy($)?this.messageHandler.sendWithPromise("GetPageIndex",{num:$.num,gen:$.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations($,ht){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:$,intent:ht})}getFieldObjects(){return Ut(this,wp,lv).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,wp,lv).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination($){return typeof $!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:$})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,wp,lv).call(this,"GetDocJSActions")}getPageJSActions($){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:$})}getStructTree($){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:$})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig($){return Ut(this,wp,lv).call(this,"GetOptionalContentConfig").then(ht=>new OptionalContentConfig(ht,$))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const $="GetMetadata",ht=_t(this,eu).get($);if(ht)return ht;const vt=this.messageHandler.sendWithPromise($,null).then(bt=>{var wt,At;return{info:bt[0],metadata:bt[1]?new Metadata(bt[1]):null,contentDispositionFilename:((wt=this._fullReader)==null?void 0:wt.filename)??null,contentLength:((At=this._fullReader)==null?void 0:At.contentLength)??null}});return _t(this,eu).set($,vt),vt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup($=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ht of _t(this,_l).values())if(!ht.cleanup())throw new Error(`startCleanup: Page ${ht.pageNumber} is currently rendering.`);this.commonObjs.clear(),$||this.fontLoader.clear(),_t(this,eu).clear(),this.filterFactory.destroy(!0),TextLayer.cleanup()}}cachedPageNumber($){if(!isRefProxy($))return null;const ht=$.gen===0?`${$.num}R`:`${$.num}R${$.gen}`;return _t(this,Mm).get(ht)??null}}eu=new WeakMap,_l=new WeakMap,Rm=new WeakMap,Mm=new WeakMap,xl=new WeakMap,wp=new WeakSet,lv=function($,ht=null){const vt=_t(this,eu).get($);if(vt)return vt;const bt=this.messageHandler.sendWithPromise($,ht);return _t(this,eu).set($,bt),bt};const INITIAL_DATA=Symbol("INITIAL_DATA");var qo,py,Zw;class PDFObjects{constructor(){Kt(this,py);Kt(this,qo,Object.create(null))}get($,ht=null){if(ht){const bt=Ut(this,py,Zw).call(this,$);return bt.promise.then(()=>ht(bt.data)),null}const vt=_t(this,qo)[$];if(!vt||vt.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${$}.`);return vt.data}has($){const ht=_t(this,qo)[$];return!!ht&&ht.data!==INITIAL_DATA}resolve($,ht=null){const vt=Ut(this,py,Zw).call(this,$);vt.data=ht,vt.resolve()}clear(){var $;for(const ht in _t(this,qo)){const{data:vt}=_t(this,qo)[ht];($=vt==null?void 0:vt.bitmap)==null||$.close()}zt(this,qo,Object.create(null))}*[Symbol.iterator](){for(const $ in _t(this,qo)){const{data:ht}=_t(this,qo)[$];ht!==INITIAL_DATA&&(yield[$,ht])}}}qo=new WeakMap,py=new WeakSet,Zw=function($){var ht;return(ht=_t(this,qo))[$]||(ht[$]={...Promise.withResolvers(),data:INITIAL_DATA})};var Lu;class RenderTask{constructor($){Kt(this,Lu,null);zt(this,Lu,$),this.onContinue=null}get promise(){return _t(this,Lu).capability.promise}cancel($=0){_t(this,Lu).cancel(null,$)}get separateAnnots(){const{separateAnnots:$}=_t(this,Lu).operatorList;if(!$)return!1;const{annotationCanvasMap:ht}=_t(this,Lu);return $.form||$.canvas&&(ht==null?void 0:ht.size)>0}}Lu=new WeakMap;var Ap;const Ju=class Ju{constructor({callback:$,params:ht,objs:vt,commonObjs:bt,annotationCanvasMap:wt,operatorList:At,pageIndex:Et,canvasFactory:St,filterFactory:Ct,useRequestAnimationFrame:xt=!1,pdfBug:Pt=!1,pageColors:kt=null}){this.callback=$,this.params=ht,this.objs=vt,this.commonObjs=bt,this.annotationCanvasMap=wt,this.operatorListIdx=null,this.operatorList=At,this._pageIndex=Et,this.canvasFactory=St,this.filterFactory=Ct,this._pdfBug=Pt,this.pageColors=kt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=xt===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ht.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:$=!1,optionalContentConfig:ht}){var Et,St;if(this.cancelled)return;if(this._canvas){if(_t(Ju,Ap).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_t(Ju,Ap).add(this._canvas)}this._pdfBug&&((Et=globalThis.StepperManager)!=null&&Et.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:vt,viewport:bt,transform:wt,background:At}=this.params;this.gfx=new CanvasGraphics(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ht},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:wt,viewport:bt,transparency:$,background:At}),this.operatorListIdx=0,this.graphicsReady=!0,(St=this.graphicsReadyCallback)==null||St.call(this)}cancel($=null,ht=0){var vt;this.running=!1,this.cancelled=!0,(vt=this.gfx)==null||vt.endDrawing(),_t(Ju,Ap).delete(this._canvas),this.callback($||new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ht))}operatorListChanged(){var $;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}($=this.stepper)==null||$.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_t(Ju,Ap).delete(this._canvas),this.callback())))}};Ap=new WeakMap,Kt(Ju,Ap,new WeakSet);let InternalRenderTask=Ju;const version="4.3.136",build="0cec64437";function makeColorComp(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}function scaleAndClamp(_e){return Math.max(0,Math.min(255,255*_e))}class ColorConverters{static CMYK_G([$,ht,vt,bt]){return["G",1-Math.min(1,.3*$+.59*vt+.11*ht+bt)]}static G_CMYK([$]){return["CMYK",0,0,0,1-$]}static G_RGB([$]){return["RGB",$,$,$]}static G_rgb([$]){return $=scaleAndClamp($),[$,$,$]}static G_HTML([$]){const ht=makeColorComp($);return`#${ht}${ht}${ht}`}static RGB_G([$,ht,vt]){return["G",.3*$+.59*ht+.11*vt]}static RGB_rgb($){return $.map(scaleAndClamp)}static RGB_HTML($){return`#${$.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([$,ht,vt,bt]){return["RGB",1-Math.min(1,$+bt),1-Math.min(1,vt+bt),1-Math.min(1,ht+bt)]}static CMYK_rgb([$,ht,vt,bt]){return[scaleAndClamp(1-Math.min(1,$+bt)),scaleAndClamp(1-Math.min(1,vt+bt)),scaleAndClamp(1-Math.min(1,ht+bt))]}static CMYK_HTML($){const ht=this.CMYK_RGB($).slice(1);return this.RGB_HTML(ht)}static RGB_CMYK([$,ht,vt]){const bt=1-$,wt=1-ht,At=1-vt,Et=Math.min(bt,wt,At);return["CMYK",bt,wt,At,Et]}}class XfaLayer{static setupStorage($,ht,vt,bt,wt){const At=bt.getValue(ht,{value:null});switch(vt.name){case"textarea":if(At.value!==null&&($.textContent=At.value),wt==="print")break;$.addEventListener("input",Et=>{bt.setValue(ht,{value:Et.target.value})});break;case"input":if(vt.attributes.type==="radio"||vt.attributes.type==="checkbox"){if(At.value===vt.attributes.xfaOn?$.setAttribute("checked",!0):At.value===vt.attributes.xfaOff&&$.removeAttribute("checked"),wt==="print")break;$.addEventListener("change",Et=>{bt.setValue(ht,{value:Et.target.checked?Et.target.getAttribute("xfaOn"):Et.target.getAttribute("xfaOff")})})}else{if(At.value!==null&&$.setAttribute("value",At.value),wt==="print")break;$.addEventListener("input",Et=>{bt.setValue(ht,{value:Et.target.value})})}break;case"select":if(At.value!==null){$.setAttribute("value",At.value);for(const Et of vt.children)Et.attributes.value===At.value?Et.attributes.selected=!0:Et.attributes.hasOwnProperty("selected")&&delete Et.attributes.selected}$.addEventListener("input",Et=>{const St=Et.target.options,Ct=St.selectedIndex===-1?"":St[St.selectedIndex].value;bt.setValue(ht,{value:Ct})});break}}static setAttributes({html:$,element:ht,storage:vt=null,intent:bt,linkService:wt}){const{attributes:At}=ht,Et=$ instanceof HTMLAnchorElement;At.type==="radio"&&(At.name=`${At.name}-${bt}`);for(const[St,Ct]of Object.entries(At))if(Ct!=null)switch(St){case"class":Ct.length&&$.setAttribute(St,Ct.join(" "));break;case"dataId":break;case"id":$.setAttribute("data-element-id",Ct);break;case"style":Object.assign($.style,Ct);break;case"textContent":$.textContent=Ct;break;default:(!Et||St!=="href"&&St!=="newWindow")&&$.setAttribute(St,Ct)}Et&&wt.addLinkAttributes($,At.href,At.newWindow),vt&&At.dataId&&this.setupStorage($,At.dataId,ht,vt)}static render($){var Pt,kt;const ht=$.annotationStorage,vt=$.linkService,bt=$.xfaHtml,wt=$.intent||"display",At=document.createElement(bt.name);bt.attributes&&this.setAttributes({html:At,element:bt,intent:wt,linkService:vt});const Et=wt!=="richText",St=$.div;if(St.append(At),$.viewport){const Rt=`matrix(${$.viewport.transform.join(",")})`;St.style.transform=Rt}Et&&St.setAttribute("class","xfaLayer xfaFont");const Ct=[];if(bt.children.length===0){if(bt.value){const Rt=document.createTextNode(bt.value);At.append(Rt),Et&&XfaText.shouldBuildText(bt.name)&&Ct.push(Rt)}return{textDivs:Ct}}const xt=[[bt,-1,At]];for(;xt.length>0;){const[Rt,Mt,Ft]=xt.at(-1);if(Mt+1===Rt.children.length){xt.pop();continue}const $t=Rt.children[++xt.at(-1)[1]];if($t===null)continue;const{name:Lt}=$t;if(Lt==="#text"){const Ot=document.createTextNode($t.value);Ct.push(Ot),Ft.append(Ot);continue}const Dt=(Pt=$t==null?void 0:$t.attributes)!=null&&Pt.xmlns?document.createElementNS($t.attributes.xmlns,Lt):document.createElement(Lt);if(Ft.append(Dt),$t.attributes&&this.setAttributes({html:Dt,element:$t,storage:ht,intent:wt,linkService:vt}),((kt=$t.children)==null?void 0:kt.length)>0)xt.push([$t,-1,Dt]);else if($t.value){const Ot=document.createTextNode($t.value);Et&&XfaText.shouldBuildText(Lt)&&Ct.push(Ot),Dt.append(Ot)}}for(const Rt of St.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Rt.setAttribute("readOnly",!0);return{textDivs:Ct}}static update($){const ht=`matrix(${$.viewport.transform.join(",")})`;$.div.style.transform=ht,$.div.hidden=!1}}const DEFAULT_TAB_INDEX=1e3,annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet;function getRectDims(_e){return{width:_e[2]-_e[0],height:_e[3]-_e[1]}}class AnnotationElementFactory{static create($){switch($.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement($);case AnnotationType.TEXT:return new TextAnnotationElement($);case AnnotationType.WIDGET:switch($.data.fieldType){case"Tx":return new TextWidgetAnnotationElement($);case"Btn":return $.data.radioButton?new RadioButtonWidgetAnnotationElement($):$.data.checkBox?new CheckboxWidgetAnnotationElement($):new PushButtonWidgetAnnotationElement($);case"Ch":return new ChoiceWidgetAnnotationElement($);case"Sig":return new SignatureWidgetAnnotationElement($)}return new WidgetAnnotationElement($);case AnnotationType.POPUP:return new PopupAnnotationElement($);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement($);case AnnotationType.LINE:return new LineAnnotationElement($);case AnnotationType.SQUARE:return new SquareAnnotationElement($);case AnnotationType.CIRCLE:return new CircleAnnotationElement($);case AnnotationType.POLYLINE:return new PolylineAnnotationElement($);case AnnotationType.CARET:return new CaretAnnotationElement($);case AnnotationType.INK:return new InkAnnotationElement($);case AnnotationType.POLYGON:return new PolygonAnnotationElement($);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement($);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement($);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement($);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement($);case AnnotationType.STAMP:return new StampAnnotationElement($);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement($);default:return new AnnotationElement($)}}}var Ep,Lm,Fm,my,Qw;const oE=class oE{constructor($,{isRenderable:ht=!1,ignoreBorder:vt=!1,createQuadrilaterals:bt=!1}={}){Kt(this,my);Kt(this,Ep,null);Kt(this,Lm,!1);Kt(this,Fm,null);this.isRenderable=ht,this.data=$.data,this.layer=$.layer,this.linkService=$.linkService,this.downloadManager=$.downloadManager,this.imageResourcesPath=$.imageResourcesPath,this.renderForms=$.renderForms,this.svgFactory=$.svgFactory,this.annotationStorage=$.annotationStorage,this.enableScripting=$.enableScripting,this.hasJSActions=$.hasJSActions,this._fieldObjects=$.fieldObjects,this.parent=$.parent,ht&&(this.container=this._createContainer(vt)),bt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:$,contentsObj:ht,richText:vt}){return!!($!=null&&$.str||ht!=null&&ht.str||vt!=null&&vt.str)}get hasPopupData(){return oE._hasPopupData(this.data)}updateEdited($){var vt;if(!this.container)return;_t(this,Ep)||zt(this,Ep,{rect:this.data.rect.slice(0)});const{rect:ht}=$;ht&&Ut(this,my,Qw).call(this,ht),(vt=_t(this,Fm))==null||vt.popup.updateEdited($)}resetEdited(){var $;_t(this,Ep)&&(Ut(this,my,Qw).call(this,_t(this,Ep).rect),($=_t(this,Fm))==null||$.popup.resetEdited(),zt(this,Ep,null))}_createContainer($){const{data:ht,parent:{page:vt,viewport:bt}}=this,wt=document.createElement("section");wt.setAttribute("data-annotation-id",ht.id),this instanceof WidgetAnnotationElement||(wt.tabIndex=DEFAULT_TAB_INDEX);const{style:At}=wt;if(At.zIndex=this.parent.zIndex++,ht.popupRef&&wt.setAttribute("aria-haspopup","dialog"),ht.alternativeText&&(wt.title=ht.alternativeText),ht.noRotate&&wt.classList.add("norotate"),!ht.rect||this instanceof PopupAnnotationElement){const{rotation:Ft}=ht;return!ht.hasOwnCanvas&&Ft!==0&&this.setRotation(Ft,wt),wt}const{width:Et,height:St}=getRectDims(ht.rect);if(!$&&ht.borderStyle.width>0){At.borderWidth=`${ht.borderStyle.width}px`;const Ft=ht.borderStyle.horizontalCornerRadius,$t=ht.borderStyle.verticalCornerRadius;if(Ft>0||$t>0){const Dt=`calc(${Ft}px * var(--scale-factor)) / calc(${$t}px * var(--scale-factor))`;At.borderRadius=Dt}else if(this instanceof RadioButtonWidgetAnnotationElement){const Dt=`calc(${Et}px * var(--scale-factor)) / calc(${St}px * var(--scale-factor))`;At.borderRadius=Dt}switch(ht.borderStyle.style){case AnnotationBorderStyleType.SOLID:At.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:At.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:At.borderBottomStyle="solid";break}const Lt=ht.borderColor||null;Lt?(zt(this,Lm,!0),At.borderColor=Util.makeHexColor(Lt[0]|0,Lt[1]|0,Lt[2]|0)):At.borderWidth=0}const Ct=Util.normalizeRect([ht.rect[0],vt.view[3]-ht.rect[1]+vt.view[1],ht.rect[2],vt.view[3]-ht.rect[3]+vt.view[1]]),{pageWidth:xt,pageHeight:Pt,pageX:kt,pageY:Rt}=bt.rawDims;At.left=`${100*(Ct[0]-kt)/xt}%`,At.top=`${100*(Ct[1]-Rt)/Pt}%`;const{rotation:Mt}=ht;return ht.hasOwnCanvas||Mt===0?(At.width=`${100*Et/xt}%`,At.height=`${100*St/Pt}%`):this.setRotation(Mt,wt),wt}setRotation($,ht=this.container){if(!this.data.rect)return;const{pageWidth:vt,pageHeight:bt}=this.parent.viewport.rawDims,{width:wt,height:At}=getRectDims(this.data.rect);let Et,St;$%180===0?(Et=100*wt/vt,St=100*At/bt):(Et=100*At/vt,St=100*wt/bt),ht.style.width=`${Et}%`,ht.style.height=`${St}%`,ht.setAttribute("data-main-rotation",(360-$)%360)}get _commonActions(){const $=(ht,vt,bt)=>{const wt=bt.detail[ht],At=wt[0],Et=wt.slice(1);bt.target.style[vt]=ColorConverters[`${At}_HTML`](Et),this.annotationStorage.setValue(this.data.id,{[vt]:ColorConverters[`${At}_rgb`](Et)})};return shadow(this,"_commonActions",{display:ht=>{const{display:vt}=ht.detail,bt=vt%2===1;this.container.style.visibility=bt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:bt,noPrint:vt===1||vt===2})},print:ht=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ht.detail.print})},hidden:ht=>{const{hidden:vt}=ht.detail;this.container.style.visibility=vt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:vt,noView:vt})},focus:ht=>{setTimeout(()=>ht.target.focus({preventScroll:!1}),0)},userName:ht=>{ht.target.title=ht.detail.userName},readonly:ht=>{ht.target.disabled=ht.detail.readonly},required:ht=>{this._setRequired(ht.target,ht.detail.required)},bgColor:ht=>{$("bgColor","backgroundColor",ht)},fillColor:ht=>{$("fillColor","backgroundColor",ht)},fgColor:ht=>{$("fgColor","color",ht)},textColor:ht=>{$("textColor","color",ht)},borderColor:ht=>{$("borderColor","borderColor",ht)},strokeColor:ht=>{$("strokeColor","borderColor",ht)},rotation:ht=>{const vt=ht.detail.rotation;this.setRotation(vt),this.annotationStorage.setValue(this.data.id,{rotation:vt})}})}_dispatchEventFromSandbox($,ht){const vt=this._commonActions;for(const bt of Object.keys(ht.detail)){const wt=$[bt]||vt[bt];wt==null||wt(ht)}}_setDefaultPropertiesFromJS($){if(!this.enableScripting)return;const ht=this.annotationStorage.getRawValue(this.data.id);if(!ht)return;const vt=this._commonActions;for(const[bt,wt]of Object.entries(ht)){const At=vt[bt];if(At){const Et={detail:{[bt]:wt},target:$};At(Et),delete ht[bt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:$}=this.data;if(!$)return;const[ht,vt,bt,wt]=this.data.rect;if($.length===1){const[,{x:Ft,y:$t},{x:Lt,y:Dt}]=$[0];if(bt===Ft&&wt===$t&&ht===Lt&&vt===Dt)return}const{style:At}=this.container;let Et;if(_t(this,Lm)){const{borderColor:Ft,borderWidth:$t}=At;At.borderWidth=0,Et=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ft}" stroke-width="${$t}">`],this.container.classList.add("hasBorder")}const St=bt-ht,Ct=wt-vt,{svgFactory:xt}=this,Pt=xt.createElement("svg");Pt.classList.add("quadrilateralsContainer"),Pt.setAttribute("width",0),Pt.setAttribute("height",0);const kt=xt.createElement("defs");Pt.append(kt);const Rt=xt.createElement("clipPath"),Mt=`clippath_${this.data.id}`;Rt.setAttribute("id",Mt),Rt.setAttribute("clipPathUnits","objectBoundingBox"),kt.append(Rt);for(const[,{x:Ft,y:$t},{x:Lt,y:Dt}]of $){const Ot=xt.createElement("rect"),Bt=(Lt-ht)/St,Nt=(wt-$t)/Ct,Ht=(Ft-Lt)/St,Vt=($t-Dt)/Ct;Ot.setAttribute("x",Bt),Ot.setAttribute("y",Nt),Ot.setAttribute("width",Ht),Ot.setAttribute("height",Vt),Rt.append(Ot),Et==null||Et.push(`<rect vector-effect="non-scaling-stroke" x="${Bt}" y="${Nt}" width="${Ht}" height="${Vt}"/>`)}_t(this,Lm)&&(Et.push("</g></svg>')"),At.backgroundImage=Et.join("")),this.container.append(Pt),this.container.style.clipPath=`url(#${Mt})`}_createPopup(){const{container:$,data:ht}=this;$.setAttribute("aria-haspopup","dialog");const vt=zt(this,Fm,new PopupAnnotationElement({data:{color:ht.color,titleObj:ht.titleObj,modificationDate:ht.modificationDate,contentsObj:ht.contentsObj,richText:ht.richText,parentRect:ht.rect,borderStyle:0,id:`popup_${ht.id}`,rotation:ht.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(vt.render())}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName($,ht=null){const vt=[];if(this._fieldObjects){const bt=this._fieldObjects[$];if(bt)for(const{page:wt,id:At,exportValues:Et}of bt){if(wt===-1||At===ht)continue;const St=typeof Et=="string"?Et:null,Ct=document.querySelector(`[data-element-id="${At}"]`);if(Ct&&!GetElementsByNameSet.has(Ct)){warn(`_getElementsByName - element not allowed: ${At}`);continue}vt.push({id:At,exportValue:St,domElement:Ct})}return vt}for(const bt of document.getElementsByName($)){const{exportValue:wt}=bt,At=bt.getAttribute("data-element-id");At!==ht&&GetElementsByNameSet.has(bt)&&vt.push({id:At,exportValue:wt,domElement:bt})}return vt}show(){var $;this.container&&(this.container.hidden=!1),($=this.popup)==null||$.maybeShow()}hide(){var $;this.container&&(this.container.hidden=!0),($=this.popup)==null||$.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const $=this.getElementsToTriggerPopup();if(Array.isArray($))for(const ht of $)ht.classList.add("highlightArea");else $.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:$,data:{id:ht}}=this;this.container.addEventListener("dblclick",()=>{var vt;(vt=this.linkService.eventBus)==null||vt.dispatch("switchannotationeditormode",{source:this,mode:$,editId:ht})})}};Ep=new WeakMap,Lm=new WeakMap,Fm=new WeakMap,my=new WeakSet,Qw=function($){const{container:{style:ht},data:{rect:vt,rotation:bt},parent:{viewport:{rawDims:{pageWidth:wt,pageHeight:At,pageX:Et,pageY:St}}}}=this;vt==null||vt.splice(0,4,...$);const{width:Ct,height:xt}=getRectDims($);ht.left=`${100*($[0]-Et)/wt}%`,ht.top=`${100*(At-$[3]+St)/At}%`,bt===0?(ht.width=`${100*Ct/wt}%`,ht.height=`${100*xt/At}%`):this.setRotation(bt)};let AnnotationElement=oE;var Lo,qu,nS,iS;class LinkAnnotationElement extends AnnotationElement{constructor(ht,vt=null){super(ht,{isRenderable:!0,ignoreBorder:!!(vt!=null&&vt.ignoreBorder),createQuadrilaterals:!0});Kt(this,Lo);this.isTooltipOnly=ht.data.isTooltipOnly}render(){const{data:ht,linkService:vt}=this,bt=document.createElement("a");bt.setAttribute("data-element-id",ht.id);let wt=!1;return ht.url?(vt.addLinkAttributes(bt,ht.url,ht.newWindow),wt=!0):ht.action?(this._bindNamedAction(bt,ht.action),wt=!0):ht.attachment?(Ut(this,Lo,nS).call(this,bt,ht.attachment,ht.attachmentDest),wt=!0):ht.setOCGState?(Ut(this,Lo,iS).call(this,bt,ht.setOCGState),wt=!0):ht.dest?(this._bindLink(bt,ht.dest),wt=!0):(ht.actions&&(ht.actions.Action||ht.actions["Mouse Up"]||ht.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(bt,ht),wt=!0),ht.resetForm?(this._bindResetFormAction(bt,ht.resetForm),wt=!0):this.isTooltipOnly&&!wt&&(this._bindLink(bt,""),wt=!0)),this.container.classList.add("linkAnnotation"),wt&&this.container.append(bt),this.container}_bindLink(ht,vt){ht.href=this.linkService.getDestinationHash(vt),ht.onclick=()=>(vt&&this.linkService.goToDestination(vt),!1),(vt||vt==="")&&Ut(this,Lo,qu).call(this)}_bindNamedAction(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeNamedAction(vt),!1),Ut(this,Lo,qu).call(this)}_bindJSAction(ht,vt){ht.href=this.linkService.getAnchorUrl("");const bt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const wt of Object.keys(vt.actions)){const At=bt.get(wt);At&&(ht[At]=()=>{var Et;return(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:vt.id,name:wt}}),!1})}ht.onclick||(ht.onclick=()=>!1),Ut(this,Lo,qu).call(this)}_bindResetFormAction(ht,vt){const bt=ht.onclick;if(bt||(ht.href=this.linkService.getAnchorUrl("")),Ut(this,Lo,qu).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),bt||(ht.onclick=()=>!1);return}ht.onclick=()=>{var Pt;bt==null||bt();const{fields:wt,refs:At,include:Et}=vt,St=[];if(wt.length!==0||At.length!==0){const kt=new Set(At);for(const Rt of wt){const Mt=this._fieldObjects[Rt]||[];for(const{id:Ft}of Mt)kt.add(Ft)}for(const Rt of Object.values(this._fieldObjects))for(const Mt of Rt)kt.has(Mt.id)===Et&&St.push(Mt)}else for(const kt of Object.values(this._fieldObjects))St.push(...kt);const Ct=this.annotationStorage,xt=[];for(const kt of St){const{id:Rt}=kt;switch(xt.push(Rt),kt.type){case"text":{const Ft=kt.defaultValue||"";Ct.setValue(Rt,{value:Ft});break}case"checkbox":case"radiobutton":{const Ft=kt.defaultValue===kt.exportValues;Ct.setValue(Rt,{value:Ft});break}case"combobox":case"listbox":{const Ft=kt.defaultValue||"";Ct.setValue(Rt,{value:Ft});break}default:continue}const Mt=document.querySelector(`[data-element-id="${Rt}"]`);if(Mt){if(!GetElementsByNameSet.has(Mt)){warn(`_bindResetFormAction - element not allowed: ${Rt}`);continue}}else continue;Mt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pt=this.linkService.eventBus)==null||Pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:xt,name:"ResetForm"}})),!1}}}Lo=new WeakSet,qu=function(){this.container.setAttribute("data-internal-link","")},nS=function(ht,vt,bt=null){ht.href=this.linkService.getAnchorUrl(""),vt.description&&(ht.title=vt.description),ht.onclick=()=>{var wt;return(wt=this.downloadManager)==null||wt.openOrDownloadData(vt.content,vt.filename,bt),!1},Ut(this,Lo,qu).call(this)},iS=function(ht,vt){ht.href=this.linkService.getAnchorUrl(""),ht.onclick=()=>(this.linkService.executeSetOCGState(vt),!1),Ut(this,Lo,qu).call(this)};class TextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const $=document.createElement("img");return $.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",$.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),$.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append($),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas($){var ht;this.data.hasOwnCanvas&&(((ht=$.previousSibling)==null?void 0:ht.nodeName)==="CANVAS"&&($.previousSibling.hidden=!0),$.hidden=!1)}_getKeyModifier($){return util_FeatureTest.platform.isMac?$.metaKey:$.ctrlKey}_setEventListener($,ht,vt,bt,wt){vt.includes("mouse")?$.addEventListener(vt,At=>{var Et;(Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:wt(At),shift:At.shiftKey,modifier:this._getKeyModifier(At)}})}):$.addEventListener(vt,At=>{var Et;if(vt==="blur"){if(!ht.focused||!At.relatedTarget)return;ht.focused=!1}else if(vt==="focus"){if(ht.focused)return;ht.focused=!0}wt&&((Et=this.linkService.eventBus)==null||Et.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:bt,value:wt(At)}}))})}_setEventListeners($,ht,vt,bt){var wt,At,Et;for(const[St,Ct]of vt)(Ct==="Action"||(wt=this.data.actions)!=null&&wt[Ct])&&((Ct==="Focus"||Ct==="Blur")&&(ht||(ht={focused:!1})),this._setEventListener($,ht,St,Ct,bt),Ct==="Focus"&&!((At=this.data.actions)!=null&&At.Blur)?this._setEventListener($,ht,"blur","Blur",null):Ct==="Blur"&&!((Et=this.data.actions)!=null&&Et.Focus)&&this._setEventListener($,ht,"focus","Focus",null))}_setBackgroundColor($){const ht=this.data.backgroundColor||null;$.style.backgroundColor=ht===null?"transparent":Util.makeHexColor(ht[0],ht[1],ht[2])}_setTextStyle($){const ht=["left","center","right"],{fontColor:vt}=this.data.defaultAppearanceData,bt=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,wt=$.style;let At;const Et=2,St=Ct=>Math.round(10*Ct)/10;if(this.data.multiLine){const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-Et),xt=Math.round(Ct/(LINE_FACTOR*bt))||1,Pt=Ct/xt;At=Math.min(bt,St(Pt/LINE_FACTOR))}else{const Ct=Math.abs(this.data.rect[3]-this.data.rect[1]-Et);At=Math.min(bt,St(Ct/LINE_FACTOR))}wt.fontSize=`calc(${At}px * var(--scale-factor))`,wt.color=Util.makeHexColor(vt[0],vt[1],vt[2]),this.data.textAlignment!==null&&(wt.textAlign=ht[this.data.textAlignment])}_setRequired($,ht){ht?$.setAttribute("required",!0):$.removeAttribute("required"),$.setAttribute("aria-required",ht)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){const ht=$.renderForms||$.data.hasOwnCanvas||!$.data.hasAppearance&&!!$.data.fieldValue;super($,{isRenderable:ht})}setPropertyOnSiblings($,ht,vt,bt){const wt=this.annotationStorage;for(const At of this._getElementsByName($.name,$.id))At.domElement&&(At.domElement[ht]=vt),wt.setValue(At.id,{[bt]:vt})}render(){var bt,wt;const $=this.annotationStorage,ht=this.data.id;this.container.classList.add("textWidgetAnnotation");let vt=null;if(this.renderForms){const At=$.getValue(ht,{value:this.data.fieldValue});let Et=At.value||"";const St=$.getValue(ht,{charLimit:this.data.maxLen}).charLimit;St&&Et.length>St&&(Et=Et.slice(0,St));let Ct=At.formattedValue||((bt=this.data.textContent)==null?void 0:bt.join(`
`))||null;Ct&&this.data.comb&&(Ct=Ct.replaceAll(/\s+/g,""));const xt={userValue:Et,formattedValue:Ct,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(vt=document.createElement("textarea"),vt.textContent=Ct??Et,this.data.doNotScroll&&(vt.style.overflowY="hidden")):(vt=document.createElement("input"),vt.type="text",vt.setAttribute("value",Ct??Et),this.data.doNotScroll&&(vt.style.overflowX="hidden")),this.data.hasOwnCanvas&&(vt.hidden=!0),GetElementsByNameSet.add(vt),vt.setAttribute("data-element-id",ht),vt.disabled=this.data.readOnly,vt.name=this.data.fieldName,vt.tabIndex=DEFAULT_TAB_INDEX,this._setRequired(vt,this.data.required),St&&(vt.maxLength=St),vt.addEventListener("input",kt=>{$.setValue(ht,{value:kt.target.value}),this.setPropertyOnSiblings(vt,"value",kt.target.value,"value"),xt.formattedValue=null}),vt.addEventListener("resetform",kt=>{const Rt=this.data.defaultFieldValue??"";vt.value=xt.userValue=Rt,xt.formattedValue=null});let Pt=kt=>{const{formattedValue:Rt}=xt;Rt!=null&&(kt.target.value=Rt),kt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){vt.addEventListener("focus",Rt=>{var Ft;if(xt.focused)return;const{target:Mt}=Rt;xt.userValue&&(Mt.value=xt.userValue),xt.lastCommittedValue=Mt.value,xt.commitKey=1,(Ft=this.data.actions)!=null&&Ft.Focus||(xt.focused=!0)}),vt.addEventListener("updatefromsandbox",Rt=>{this.showElementAndHideCanvas(Rt.target);const Mt={value(Ft){xt.userValue=Ft.detail.value??"",$.setValue(ht,{value:xt.userValue.toString()}),Ft.target.value=xt.userValue},formattedValue(Ft){const{formattedValue:$t}=Ft.detail;xt.formattedValue=$t,$t!=null&&Ft.target!==document.activeElement&&(Ft.target.value=$t),$.setValue(ht,{formattedValue:$t})},selRange(Ft){Ft.target.setSelectionRange(...Ft.detail.selRange)},charLimit:Ft=>{var Ot;const{charLimit:$t}=Ft.detail,{target:Lt}=Ft;if($t===0){Lt.removeAttribute("maxLength");return}Lt.setAttribute("maxLength",$t);let Dt=xt.userValue;!Dt||Dt.length<=$t||(Dt=Dt.slice(0,$t),Lt.value=xt.userValue=Dt,$.setValue(ht,{value:Dt}),(Ot=this.linkService.eventBus)==null||Ot.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Dt,willCommit:!0,commitKey:1,selStart:Lt.selectionStart,selEnd:Lt.selectionEnd}}))}};this._dispatchEventFromSandbox(Mt,Rt)}),vt.addEventListener("keydown",Rt=>{var $t;xt.commitKey=1;let Mt=-1;if(Rt.key==="Escape"?Mt=0:Rt.key==="Enter"&&!this.data.multiLine?Mt=2:Rt.key==="Tab"&&(xt.commitKey=3),Mt===-1)return;const{value:Ft}=Rt.target;xt.lastCommittedValue!==Ft&&(xt.lastCommittedValue=Ft,xt.userValue=Ft,($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Ft,willCommit:!0,commitKey:Mt,selStart:Rt.target.selectionStart,selEnd:Rt.target.selectionEnd}}))});const kt=Pt;Pt=null,vt.addEventListener("blur",Rt=>{var Ft,$t;if(!xt.focused||!Rt.relatedTarget)return;(Ft=this.data.actions)!=null&&Ft.Blur||(xt.focused=!1);const{value:Mt}=Rt.target;xt.userValue=Mt,xt.lastCommittedValue!==Mt&&(($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:Mt,willCommit:!0,commitKey:xt.commitKey,selStart:Rt.target.selectionStart,selEnd:Rt.target.selectionEnd}})),kt(Rt)}),(wt=this.data.actions)!=null&&wt.Keystroke&&vt.addEventListener("beforeinput",Rt=>{var Nt;xt.lastCommittedValue=null;const{data:Mt,target:Ft}=Rt,{value:$t,selectionStart:Lt,selectionEnd:Dt}=Ft;let Ot=Lt,Bt=Dt;switch(Rt.inputType){case"deleteWordBackward":{const Ht=$t.substring(0,Lt).match(/\w*[^\w]*$/);Ht&&(Ot-=Ht[0].length);break}case"deleteWordForward":{const Ht=$t.substring(Lt).match(/^[^\w]*\w*/);Ht&&(Bt+=Ht[0].length);break}case"deleteContentBackward":Lt===Dt&&(Ot-=1);break;case"deleteContentForward":Lt===Dt&&(Bt+=1);break}Rt.preventDefault(),(Nt=this.linkService.eventBus)==null||Nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:$t,change:Mt||"",willCommit:!1,selStart:Ot,selEnd:Bt}})}),this._setEventListeners(vt,xt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Rt=>Rt.target.value)}if(Pt&&vt.addEventListener("blur",Pt),this.data.comb){const Rt=(this.data.rect[2]-this.data.rect[0])/St;vt.classList.add("comb"),vt.style.letterSpacing=`calc(${Rt}px * var(--scale-factor) - 1ch)`}}else vt=document.createElement("div"),vt.textContent=this.data.fieldValue,vt.style.verticalAlign="middle",vt.style.display="table-cell",this.data.hasOwnCanvas&&(vt.hidden=!0);return this._setTextStyle(vt),this._setBackgroundColor(vt),this._setDefaultPropertiesFromJS(vt),this.container.append(vt),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:!!$.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){const $=this.annotationStorage,ht=this.data,vt=ht.id;let bt=$.getValue(vt,{value:ht.exportValue===ht.fieldValue}).value;typeof bt=="string"&&(bt=bt!=="Off",$.setValue(vt,{value:bt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const wt=document.createElement("input");return GetElementsByNameSet.add(wt),wt.setAttribute("data-element-id",vt),wt.disabled=ht.readOnly,this._setRequired(wt,this.data.required),wt.type="checkbox",wt.name=ht.fieldName,bt&&wt.setAttribute("checked",!0),wt.setAttribute("exportValue",ht.exportValue),wt.tabIndex=DEFAULT_TAB_INDEX,wt.addEventListener("change",At=>{const{name:Et,checked:St}=At.target;for(const Ct of this._getElementsByName(Et,vt)){const xt=St&&Ct.exportValue===ht.exportValue;Ct.domElement&&(Ct.domElement.checked=xt),$.setValue(Ct.id,{value:xt})}$.setValue(vt,{value:St})}),wt.addEventListener("resetform",At=>{const Et=ht.defaultFieldValue||"Off";At.target.checked=Et===ht.exportValue}),this.enableScripting&&this.hasJSActions&&(wt.addEventListener("updatefromsandbox",At=>{const Et={value(St){St.target.checked=St.detail.value!=="Off",$.setValue(vt,{value:St.target.checked})}};this._dispatchEventFromSandbox(Et,At)}),this._setEventListeners(wt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],At=>At.target.checked)),this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const $=this.annotationStorage,ht=this.data,vt=ht.id;let bt=$.getValue(vt,{value:ht.fieldValue===ht.buttonValue}).value;if(typeof bt=="string"&&(bt=bt!==ht.buttonValue,$.setValue(vt,{value:bt})),bt)for(const At of this._getElementsByName(ht.fieldName,vt))$.setValue(At.id,{value:!1});const wt=document.createElement("input");if(GetElementsByNameSet.add(wt),wt.setAttribute("data-element-id",vt),wt.disabled=ht.readOnly,this._setRequired(wt,this.data.required),wt.type="radio",wt.name=ht.fieldName,bt&&wt.setAttribute("checked",!0),wt.tabIndex=DEFAULT_TAB_INDEX,wt.addEventListener("change",At=>{const{name:Et,checked:St}=At.target;for(const Ct of this._getElementsByName(Et,vt))$.setValue(Ct.id,{value:!1});$.setValue(vt,{value:St})}),wt.addEventListener("resetform",At=>{const Et=ht.defaultFieldValue;At.target.checked=Et!=null&&Et===ht.buttonValue}),this.enableScripting&&this.hasJSActions){const At=ht.buttonValue;wt.addEventListener("updatefromsandbox",Et=>{const St={value:Ct=>{const xt=At===Ct.detail.value;for(const Pt of this._getElementsByName(Ct.target.name)){const kt=xt&&Pt.id===vt;Pt.domElement&&(Pt.domElement.checked=kt),$.setValue(Pt.id,{value:kt})}}};this._dispatchEventFromSandbox(St,Et)}),this._setEventListeners(wt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Et=>Et.target.checked)}return this._setBackgroundColor(wt),this._setDefaultPropertiesFromJS(wt),this.container.append(wt),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor($){super($,{ignoreBorder:$.data.hasAppearance})}render(){const $=super.render();$.classList.add("buttonWidgetAnnotation","pushButton");const ht=$.lastChild;return this.enableScripting&&this.hasJSActions&&ht&&(this._setDefaultPropertiesFromJS(ht),ht.addEventListener("updatefromsandbox",vt=>{this._dispatchEventFromSandbox({},vt)})),$}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor($){super($,{isRenderable:$.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const $=this.annotationStorage,ht=this.data.id,vt=$.getValue(ht,{value:this.data.fieldValue}),bt=document.createElement("select");GetElementsByNameSet.add(bt),bt.setAttribute("data-element-id",ht),bt.disabled=this.data.readOnly,this._setRequired(bt,this.data.required),bt.name=this.data.fieldName,bt.tabIndex=DEFAULT_TAB_INDEX;let wt=this.data.combo&&this.data.options.length>0;this.data.combo||(bt.size=this.data.options.length,this.data.multiSelect&&(bt.multiple=!0)),bt.addEventListener("resetform",xt=>{const Pt=this.data.defaultFieldValue;for(const kt of bt.options)kt.selected=kt.value===Pt});for(const xt of this.data.options){const Pt=document.createElement("option");Pt.textContent=xt.displayValue,Pt.value=xt.exportValue,vt.value.includes(xt.exportValue)&&(Pt.setAttribute("selected",!0),wt=!1),bt.append(Pt)}let At=null;if(wt){const xt=document.createElement("option");xt.value=" ",xt.setAttribute("hidden",!0),xt.setAttribute("selected",!0),bt.prepend(xt),At=()=>{xt.remove(),bt.removeEventListener("input",At),At=null},bt.addEventListener("input",At)}const Et=xt=>{const Pt=xt?"value":"textContent",{options:kt,multiple:Rt}=bt;return Rt?Array.prototype.filter.call(kt,Mt=>Mt.selected).map(Mt=>Mt[Pt]):kt.selectedIndex===-1?null:kt[kt.selectedIndex][Pt]};let St=Et(!1);const Ct=xt=>{const Pt=xt.target.options;return Array.prototype.map.call(Pt,kt=>({displayValue:kt.textContent,exportValue:kt.value}))};return this.enableScripting&&this.hasJSActions?(bt.addEventListener("updatefromsandbox",xt=>{const Pt={value(kt){At==null||At();const Rt=kt.detail.value,Mt=new Set(Array.isArray(Rt)?Rt:[Rt]);for(const Ft of bt.options)Ft.selected=Mt.has(Ft.value);$.setValue(ht,{value:Et(!0)}),St=Et(!1)},multipleSelection(kt){bt.multiple=!0},remove(kt){const Rt=bt.options,Mt=kt.detail.remove;Rt[Mt].selected=!1,bt.remove(Mt),Rt.length>0&&Array.prototype.findIndex.call(Rt,$t=>$t.selected)===-1&&(Rt[0].selected=!0),$.setValue(ht,{value:Et(!0),items:Ct(kt)}),St=Et(!1)},clear(kt){for(;bt.length!==0;)bt.remove(0);$.setValue(ht,{value:null,items:[]}),St=Et(!1)},insert(kt){const{index:Rt,displayValue:Mt,exportValue:Ft}=kt.detail.insert,$t=bt.children[Rt],Lt=document.createElement("option");Lt.textContent=Mt,Lt.value=Ft,$t?$t.before(Lt):bt.append(Lt),$.setValue(ht,{value:Et(!0),items:Ct(kt)}),St=Et(!1)},items(kt){const{items:Rt}=kt.detail;for(;bt.length!==0;)bt.remove(0);for(const Mt of Rt){const{displayValue:Ft,exportValue:$t}=Mt,Lt=document.createElement("option");Lt.textContent=Ft,Lt.value=$t,bt.append(Lt)}bt.options.length>0&&(bt.options[0].selected=!0),$.setValue(ht,{value:Et(!0),items:Ct(kt)}),St=Et(!1)},indices(kt){const Rt=new Set(kt.detail.indices);for(const Mt of kt.target.options)Mt.selected=Rt.has(Mt.index);$.setValue(ht,{value:Et(!0)}),St=Et(!1)},editable(kt){kt.target.disabled=!kt.detail.editable}};this._dispatchEventFromSandbox(Pt,xt)}),bt.addEventListener("input",xt=>{var Rt;const Pt=Et(!0),kt=Et(!1);$.setValue(ht,{value:Pt}),xt.preventDefault(),(Rt=this.linkService.eventBus)==null||Rt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ht,name:"Keystroke",value:St,change:kt,changeEx:Pt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(bt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],xt=>xt.target.value)):bt.addEventListener("input",function(xt){$.setValue(ht,{value:Et(!0)})}),this.data.combo&&this._setTextStyle(bt),this._setBackgroundColor(bt),this._setDefaultPropertiesFromJS(bt),this.container.append(bt),this.container}}class PopupAnnotationElement extends AnnotationElement{constructor($){const{data:ht,elements:vt}=$;super($,{isRenderable:AnnotationElement._hasPopupData(ht)}),this.elements=vt,this.popup=null}render(){this.container.classList.add("popupAnnotation");const $=this.popup=new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ht=[];for(const vt of this.elements)vt.popup=$,ht.push(vt.data.id),vt.addHighlightArea();return this.container.setAttribute("aria-controls",ht.map(vt=>`${AnnotationPrefix}${vt}`).join(",")),this.container}}var Dm,lw,cw,Im,Sp,Ns,tu,_p,gy,vy,$m,nu,Xo,iu,yy,ru,by,xp,Cp,xs,w0,Jw,rS,sS,oS,aS,A0,E0,eA;class PopupElement{constructor({container:$,color:ht,elements:vt,titleObj:bt,modificationDate:wt,contentsObj:At,richText:Et,parent:St,rect:Ct,parentRect:xt,open:Pt}){Kt(this,xs);Kt(this,Dm,Ut(this,xs,oS).bind(this));Kt(this,lw,Ut(this,xs,eA).bind(this));Kt(this,cw,Ut(this,xs,E0).bind(this));Kt(this,Im,Ut(this,xs,A0).bind(this));Kt(this,Sp,null);Kt(this,Ns,null);Kt(this,tu,null);Kt(this,_p,null);Kt(this,gy,null);Kt(this,vy,null);Kt(this,$m,null);Kt(this,nu,!1);Kt(this,Xo,null);Kt(this,iu,null);Kt(this,yy,null);Kt(this,ru,null);Kt(this,by,null);Kt(this,xp,null);Kt(this,Cp,!1);var kt;zt(this,Ns,$),zt(this,by,bt),zt(this,tu,At),zt(this,ru,Et),zt(this,vy,St),zt(this,Sp,ht),zt(this,yy,Ct),zt(this,$m,xt),zt(this,gy,vt),zt(this,_p,PDFDateString.toDateObject(wt)),this.trigger=vt.flatMap(Rt=>Rt.getElementsToTriggerPopup());for(const Rt of this.trigger)Rt.addEventListener("click",_t(this,Im)),Rt.addEventListener("mouseenter",_t(this,cw)),Rt.addEventListener("mouseleave",_t(this,lw)),Rt.classList.add("popupTriggerArea");for(const Rt of vt)(kt=Rt.container)==null||kt.addEventListener("keydown",_t(this,Dm));_t(this,Ns).hidden=!0,Pt&&Ut(this,xs,A0).call(this)}render(){if(_t(this,Xo))return;const $=zt(this,Xo,document.createElement("div"));if($.className="popup",_t(this,Sp)){const wt=$.style.outlineColor=Util.makeHexColor(..._t(this,Sp));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?$.style.backgroundColor=`color-mix(in srgb, ${wt} 30%, white)`:$.style.backgroundColor=Util.makeHexColor(..._t(this,Sp).map(Et=>Math.floor(.7*(255-Et)+Et)))}const ht=document.createElement("span");ht.className="header";const vt=document.createElement("h1");if(ht.append(vt),{dir:vt.dir,str:vt.textContent}=_t(this,by),$.append(ht),_t(this,_p)){const wt=document.createElement("span");wt.classList.add("popupDate"),wt.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),wt.setAttribute("data-l10n-args",JSON.stringify({date:_t(this,_p).toLocaleDateString(),time:_t(this,_p).toLocaleTimeString()})),ht.append(wt)}const bt=_t(this,xs,w0);if(bt)XfaLayer.render({xfaHtml:bt,intent:"richText",div:$}),$.lastChild.classList.add("richText","popupContent");else{const wt=this._formatContents(_t(this,tu));$.append(wt)}_t(this,Ns).append($)}_formatContents({str:$,dir:ht}){const vt=document.createElement("p");vt.classList.add("popupContent"),vt.dir=ht;const bt=$.split(/(?:\r\n?|\n)/);for(let wt=0,At=bt.length;wt<At;++wt){const Et=bt[wt];vt.append(document.createTextNode(Et)),wt<At-1&&vt.append(document.createElement("br"))}return vt}updateEdited({rect:$,popupContent:ht}){var vt;_t(this,xp)||zt(this,xp,{contentsObj:_t(this,tu),richText:_t(this,ru)}),$&&zt(this,iu,null),ht&&(zt(this,ru,Ut(this,xs,sS).call(this,ht)),zt(this,tu,null)),(vt=_t(this,Xo))==null||vt.remove(),zt(this,Xo,null)}resetEdited(){var $;_t(this,xp)&&({contentsObj:to(this,tu)._,richText:to(this,ru)._}=_t(this,xp),zt(this,xp,null),($=_t(this,Xo))==null||$.remove(),zt(this,Xo,null),zt(this,iu,null))}forceHide(){zt(this,Cp,this.isVisible),_t(this,Cp)&&(_t(this,Ns).hidden=!0)}maybeShow(){_t(this,Cp)&&(_t(this,Xo)||Ut(this,xs,E0).call(this),zt(this,Cp,!1),_t(this,Ns).hidden=!1)}get isVisible(){return _t(this,Ns).hidden===!1}}Dm=new WeakMap,lw=new WeakMap,cw=new WeakMap,Im=new WeakMap,Sp=new WeakMap,Ns=new WeakMap,tu=new WeakMap,_p=new WeakMap,gy=new WeakMap,vy=new WeakMap,$m=new WeakMap,nu=new WeakMap,Xo=new WeakMap,iu=new WeakMap,yy=new WeakMap,ru=new WeakMap,by=new WeakMap,xp=new WeakMap,Cp=new WeakMap,xs=new WeakSet,w0=function(){const $=_t(this,ru),ht=_t(this,tu);return $!=null&&$.str&&(!(ht!=null&&ht.str)||ht.str===$.str)&&_t(this,ru).html||null},Jw=function(){var $,ht,vt;return((vt=(ht=($=_t(this,xs,w0))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.fontSize)||0},rS=function(){var $,ht,vt;return((vt=(ht=($=_t(this,xs,w0))==null?void 0:$.attributes)==null?void 0:ht.style)==null?void 0:vt.color)||null},sS=function($){const ht=[],vt={str:$,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:ht}]}},bt={style:{color:_t(this,xs,rS),fontSize:_t(this,xs,Jw)?`calc(${_t(this,xs,Jw)}px * var(--scale-factor))`:""}};for(const wt of $.split(`
`))ht.push({name:"span",value:wt,attributes:bt});return vt},oS=function($){$.altKey||$.shiftKey||$.ctrlKey||$.metaKey||($.key==="Enter"||$.key==="Escape"&&_t(this,nu))&&Ut(this,xs,A0).call(this)},aS=function(){if(_t(this,iu)!==null)return;const{page:{view:$},viewport:{rawDims:{pageWidth:ht,pageHeight:vt,pageX:bt,pageY:wt}}}=_t(this,vy);let At=!!_t(this,$m),Et=At?_t(this,$m):_t(this,yy);for(const Mt of _t(this,gy))if(!Et||Util.intersect(Mt.data.rect,Et)!==null){Et=Mt.data.rect,At=!0;break}const St=Util.normalizeRect([Et[0],$[3]-Et[1]+$[1],Et[2],$[3]-Et[3]+$[1]]),xt=At?Et[2]-Et[0]+5:0,Pt=St[0]+xt,kt=St[1];zt(this,iu,[100*(Pt-bt)/ht,100*(kt-wt)/vt]);const{style:Rt}=_t(this,Ns);Rt.left=`${_t(this,iu)[0]}%`,Rt.top=`${_t(this,iu)[1]}%`},A0=function(){zt(this,nu,!_t(this,nu)),_t(this,nu)?(Ut(this,xs,E0).call(this),_t(this,Ns).addEventListener("click",_t(this,Im)),_t(this,Ns).addEventListener("keydown",_t(this,Dm))):(Ut(this,xs,eA).call(this),_t(this,Ns).removeEventListener("click",_t(this,Im)),_t(this,Ns).removeEventListener("keydown",_t(this,Dm)))},E0=function(){_t(this,Xo)||this.render(),this.isVisible?_t(this,nu)&&_t(this,Ns).classList.add("focused"):(Ut(this,xs,aS).call(this),_t(this,Ns).hidden=!1,_t(this,Ns).style.zIndex=parseInt(_t(this,Ns).style.zIndex)+1e3)},eA=function(){_t(this,Ns).classList.remove("focused"),!(_t(this,nu)||!this.isVisible)&&(_t(this,Ns).hidden=!0,_t(this,Ns).style.zIndex=parseInt(_t(this,Ns).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0}),this.textContent=$.data.textContent,this.textPosition=$.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const $=document.createElement("div");$.classList.add("annotationTextContent"),$.setAttribute("role","comment");for(const ht of this.textContent){const vt=document.createElement("span");vt.textContent=ht,$.append(vt)}this.container.append($)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var wy;class LineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Kt(this,wy,null)}render(){this.container.classList.add("lineAnnotation");const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),wt=this.svgFactory.create(vt,bt,!0),At=zt(this,wy,this.svgFactory.createElement("svg:line"));return At.setAttribute("x1",ht.rect[2]-ht.lineCoordinates[0]),At.setAttribute("y1",ht.rect[3]-ht.lineCoordinates[1]),At.setAttribute("x2",ht.rect[2]-ht.lineCoordinates[2]),At.setAttribute("y2",ht.rect[3]-ht.lineCoordinates[3]),At.setAttribute("stroke-width",ht.borderStyle.width||1),At.setAttribute("stroke","transparent"),At.setAttribute("fill","transparent"),wt.append(At),this.container.append(wt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,wy)}addHighlightArea(){this.container.classList.add("highlightArea")}}wy=new WeakMap;var Ay;class SquareAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Kt(this,Ay,null)}render(){this.container.classList.add("squareAnnotation");const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),wt=this.svgFactory.create(vt,bt,!0),At=ht.borderStyle.width,Et=zt(this,Ay,this.svgFactory.createElement("svg:rect"));return Et.setAttribute("x",At/2),Et.setAttribute("y",At/2),Et.setAttribute("width",vt-At),Et.setAttribute("height",bt-At),Et.setAttribute("stroke-width",At||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),wt.append(Et),this.container.append(wt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Ay)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ay=new WeakMap;var Ey;class CircleAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Kt(this,Ey,null)}render(){this.container.classList.add("circleAnnotation");const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),wt=this.svgFactory.create(vt,bt,!0),At=ht.borderStyle.width,Et=zt(this,Ey,this.svgFactory.createElement("svg:ellipse"));return Et.setAttribute("cx",vt/2),Et.setAttribute("cy",bt/2),Et.setAttribute("rx",vt/2-At/2),Et.setAttribute("ry",bt/2-At/2),Et.setAttribute("stroke-width",At||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),wt.append(Et),this.container.append(wt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Ey)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ey=new WeakMap;var Sy;class PolylineAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Kt(this,Sy,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),wt=this.svgFactory.create(vt,bt,!0);let At=[];for(const St of ht.vertices){const Ct=St.x-ht.rect[0],xt=ht.rect[3]-St.y;At.push(Ct+","+xt)}At=At.join(" ");const Et=zt(this,Sy,this.svgFactory.createElement(this.svgElementName));return Et.setAttribute("points",At),Et.setAttribute("stroke-width",ht.borderStyle.width||1),Et.setAttribute("stroke","transparent"),Et.setAttribute("fill","transparent"),wt.append(Et),this.container.append(wt),!ht.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Sy)}addHighlightArea(){this.container.classList.add("highlightArea")}}Sy=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor($){super($),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _y;class InkAnnotationElement extends AnnotationElement{constructor(ht){super(ht,{isRenderable:!0,ignoreBorder:!0});Kt(this,_y,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ht=this.data,{width:vt,height:bt}=getRectDims(ht.rect),wt=this.svgFactory.create(vt,bt,!0);for(const At of ht.inkLists){let Et=[];for(const Ct of At){const xt=Ct.x-ht.rect[0],Pt=ht.rect[3]-Ct.y;Et.push(`${xt},${Pt}`)}Et=Et.join(" ");const St=this.svgFactory.createElement(this.svgElementName);_t(this,_y).push(St),St.setAttribute("points",Et),St.setAttribute("stroke-width",ht.borderStyle.width||1),St.setAttribute("stroke","transparent"),St.setAttribute("fill","transparent"),!ht.popupRef&&this.hasPopupData&&this._createPopup(),wt.append(St)}return this.container.append(wt),this.container}getElementsToTriggerPopup(){return _t(this,_y)}addHighlightArea(){this.container.classList.add("highlightArea")}}_y=new WeakMap;class HighlightAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class StampAnnotationElement extends AnnotationElement{constructor($){super($,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xy,Cy,tA;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(ht){var bt;super(ht,{isRenderable:!0});Kt(this,Cy);Kt(this,xy,null);const{file:vt}=this.data;this.filename=vt.filename,this.content=vt.content,(bt=this.linkService.eventBus)==null||bt.dispatch("fileattachmentannotation",{source:this,...vt})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ht,data:vt}=this;let bt;vt.hasAppearance||vt.fillAlpha===0?bt=document.createElement("div"):(bt=document.createElement("img"),bt.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(vt.name)?"paperclip":"pushpin"}.svg`,vt.fillAlpha&&vt.fillAlpha<1&&(bt.style=`filter: opacity(${Math.round(vt.fillAlpha*100)}%);`)),bt.addEventListener("dblclick",Ut(this,Cy,tA).bind(this)),zt(this,xy,bt);const{isMac:wt}=util_FeatureTest.platform;return ht.addEventListener("keydown",At=>{At.key==="Enter"&&(wt?At.metaKey:At.ctrlKey)&&Ut(this,Cy,tA).call(this)}),!vt.popupRef&&this.hasPopupData?this._createPopup():bt.classList.add("popupTriggerArea"),ht.append(bt),ht}getElementsToTriggerPopup(){return _t(this,xy)}addHighlightArea(){this.container.classList.add("highlightArea")}}xy=new WeakMap,Cy=new WeakSet,tA=function(){var ht;(ht=this.downloadManager)==null||ht.openOrDownloadData(this.content,this.filename)};var Ty,Tp,Om,Gp,lS,nA;class AnnotationLayer{constructor({div:$,accessibilityManager:ht,annotationCanvasMap:vt,annotationEditorUIManager:bt,page:wt,viewport:At}){Kt(this,Gp);Kt(this,Ty,null);Kt(this,Tp,null);Kt(this,Om,new Map);this.div=$,zt(this,Ty,ht),zt(this,Tp,vt),this.page=wt,this.viewport=At,this.zIndex=0,this._annotationEditorUIManager=bt}async render($){var At;const{annotations:ht}=$,vt=this.div;setLayerDimensions(vt,this.viewport);const bt=new Map,wt={data:null,layer:vt,linkService:$.linkService,downloadManager:$.downloadManager,imageResourcesPath:$.imageResourcesPath||"",renderForms:$.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:$.annotationStorage||new AnnotationStorage,enableScripting:$.enableScripting===!0,hasJSActions:$.hasJSActions,fieldObjects:$.fieldObjects,parent:this,elements:null};for(const Et of ht){if(Et.noHTML)continue;const St=Et.annotationType===AnnotationType.POPUP;if(St){const Pt=bt.get(Et.id);if(!Pt)continue;wt.elements=Pt}else{const{width:Pt,height:kt}=getRectDims(Et.rect);if(Pt<=0||kt<=0)continue}wt.data=Et;const Ct=AnnotationElementFactory.create(wt);if(!Ct.isRenderable)continue;if(!St&&Et.popupRef){const Pt=bt.get(Et.popupRef);Pt?Pt.push(Ct):bt.set(Et.popupRef,[Ct])}const xt=Ct.render();Et.hidden&&(xt.style.visibility="hidden"),Ut(this,Gp,lS).call(this,xt,Et.id),Ct.annotationEditorType>0&&(_t(this,Om).set(Ct.data.id,Ct),(At=this._annotationEditorUIManager)==null||At.renderAnnotationElement(Ct))}Ut(this,Gp,nA).call(this)}update({viewport:$}){const ht=this.div;this.viewport=$,setLayerDimensions(ht,{rotation:$.rotation}),Ut(this,Gp,nA).call(this),ht.hidden=!1}getEditableAnnotations(){return Array.from(_t(this,Om).values())}getEditableAnnotation($){return _t(this,Om).get($)}}Ty=new WeakMap,Tp=new WeakMap,Om=new WeakMap,Gp=new WeakSet,lS=function($,ht){var bt;const vt=$.firstChild||$;vt.id=`${AnnotationPrefix}${ht}`,this.div.append($),(bt=_t(this,Ty))==null||bt.moveElementInDOM(this.div,$,vt,!1)},nA=function(){if(!_t(this,Tp))return;const $=this.div;for(const[ht,vt]of _t(this,Tp)){const bt=$.querySelector(`[data-annotation-id="${ht}"]`);if(!bt)continue;vt.className="annotationContent";const{firstChild:wt}=bt;wt?wt.nodeName==="CANVAS"?wt.replaceWith(vt):wt.classList.contains("annotationContent")?wt.after(vt):wt.before(vt):bt.append(vt)}_t(this,Tp).clear()};const EOL_PATTERN=/\r\n?|\n/g;var Py,ky,Ry,My,Ly,Yo,To,Fy,Po,Nm,zs,cS,uS,dS,S0,fu,_0,x0,hS,iA,fS;const Rs=class Rs extends AnnotationEditor{constructor(ht){super({...ht,name:"freeTextEditor"});Kt(this,zs);Kt(this,Py,this.editorDivBlur.bind(this));Kt(this,ky,this.editorDivFocus.bind(this));Kt(this,Ry,this.editorDivInput.bind(this));Kt(this,My,this.editorDivKeydown.bind(this));Kt(this,Ly,this.editorDivPaste.bind(this));Kt(this,Yo);Kt(this,To,"");Kt(this,Fy,`${this.id}-editor`);Kt(this,Po);Kt(this,Nm,null);zt(this,Yo,ht.color||Rs._defaultColor||AnnotationEditor._defaultLineColor),zt(this,Po,ht.fontSize||Rs._defaultFontSize)}static get _keyboardManager(){const ht=Rs.prototype,vt=At=>At.isEmpty(),bt=AnnotationEditorUIManager.TRANSLATE_SMALL,wt=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ht.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ht.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ht._translateEmpty,{args:[-bt,0],checker:vt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ht._translateEmpty,{args:[-wt,0],checker:vt}],[["ArrowRight","mac+ArrowRight"],ht._translateEmpty,{args:[bt,0],checker:vt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ht._translateEmpty,{args:[wt,0],checker:vt}],[["ArrowUp","mac+ArrowUp"],ht._translateEmpty,{args:[0,-bt],checker:vt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ht._translateEmpty,{args:[0,-wt],checker:vt}],[["ArrowDown","mac+ArrowDown"],ht._translateEmpty,{args:[0,bt],checker:vt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ht._translateEmpty,{args:[0,wt],checker:vt}]]))}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt,{strings:["pdfjs-free-text-default-content"]});const bt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(bt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Rs._defaultFontSize=vt;break;case AnnotationEditorParamsType.FREETEXT_COLOR:Rs._defaultColor=vt;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,zs,cS).call(this,vt);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,zs,uS).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Rs._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,Rs._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,_t(this,Po)],[AnnotationEditorParamsType.FREETEXT_COLOR,_t(this,Yo)]]}_translateEmpty(ht,vt){this._uiManager.translateSelectedEditors(ht,vt,!0)}getInitialTranslation(){const ht=this.parentScale;return[-Rs._internalPadding*ht,-(Rs._internalPadding+_t(this,Po))*ht]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_t(this,My)),this.editorDiv.addEventListener("focus",_t(this,ky)),this.editorDiv.addEventListener("blur",_t(this,Py)),this.editorDiv.addEventListener("input",_t(this,Ry)),this.editorDiv.addEventListener("paste",_t(this,Ly)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_t(this,Fy)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_t(this,My)),this.editorDiv.removeEventListener("focus",_t(this,ky)),this.editorDiv.removeEventListener("blur",_t(this,Py)),this.editorDiv.removeEventListener("input",_t(this,Ry)),this.editorDiv.removeEventListener("paste",_t(this,Ly)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),ht.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ht;this.width||(this.enableEditMode(),this.editorDiv.focus(),(ht=this._initialOptions)!=null&&ht.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ht=_t(this,To),vt=zt(this,To,Ut(this,zs,dS).call(this).trimEnd());if(ht===vt)return;const bt=wt=>{if(zt(this,To,wt),!wt){this.remove();return}Ut(this,zs,x0).call(this),this._uiManager.rebuild(this),Ut(this,zs,S0).call(this)};this.addCommands({cmd:()=>{bt(vt)},undo:()=>{bt(ht)},mustExec:!1}),Ut(this,zs,S0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ht){this.enterInEditMode()}keydown(ht){ht.target===this.div&&ht.key==="Enter"&&(this.enterInEditMode(),ht.preventDefault())}editorDivKeydown(ht){Rs._keyboardManager.exec(this,ht)}editorDivFocus(ht){this.isEditing=!0}editorDivBlur(ht){this.isEditing=!1}editorDivInput(ht){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_t(this,Fy)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(wt=>{var At;return(At=this.editorDiv)==null?void 0:At.setAttribute("default-content",wt)}),this.editorDiv.contentEditable=!0;const{style:bt}=this.editorDiv;if(bt.fontSize=`calc(${_t(this,Po)}px * var(--scale-factor))`,bt.color=_t(this,Yo),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bindEvents(this,this.div,["dblclick","keydown"]),this.width){const[wt,At]=this.parentDimensions;if(this.annotationElementId){const{position:Et}=_t(this,Nm);let[St,Ct]=this.getInitialTranslation();[St,Ct]=this.pageTranslationToScreen(St,Ct);const[xt,Pt]=this.pageDimensions,[kt,Rt]=this.pageTranslation;let Mt,Ft;switch(this.rotation){case 0:Mt=ht+(Et[0]-kt)/xt,Ft=vt+this.height-(Et[1]-Rt)/Pt;break;case 90:Mt=ht+(Et[0]-kt)/xt,Ft=vt-(Et[1]-Rt)/Pt,[St,Ct]=[Ct,-St];break;case 180:Mt=ht-this.width+(Et[0]-kt)/xt,Ft=vt-(Et[1]-Rt)/Pt,[St,Ct]=[-St,-Ct];break;case 270:Mt=ht+(Et[0]-kt-this.height*Pt)/xt,Ft=vt+(Et[1]-Rt-this.width*xt)/Pt,[St,Ct]=[-Ct,St];break}this.setAt(Mt*wt,Ft*At,St,Ct)}else this.setAt(ht*wt,vt*At,this.width*wt,this.height*At);Ut(this,zs,x0).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(ht){var Mt,Ft,$t;const vt=ht.clipboardData||window.clipboardData,{types:bt}=vt;if(bt.length===1&&bt[0]==="text/plain")return;ht.preventDefault();const wt=Ut(Mt=Rs,fu,iA).call(Mt,vt.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!wt)return;const At=window.getSelection();if(!At.rangeCount)return;this.editorDiv.normalize(),At.deleteFromDocument();const Et=At.getRangeAt(0);if(!wt.includes(`
`)){Et.insertNode(document.createTextNode(wt)),this.editorDiv.normalize(),At.collapseToStart();return}const{startContainer:St,startOffset:Ct}=Et,xt=[],Pt=[];if(St.nodeType===Node.TEXT_NODE){const Lt=St.parentElement;if(Pt.push(St.nodeValue.slice(Ct).replaceAll(EOL_PATTERN,"")),Lt!==this.editorDiv){let Dt=xt;for(const Ot of this.editorDiv.childNodes){if(Ot===Lt){Dt=Pt;continue}Dt.push(Ut(Ft=Rs,fu,_0).call(Ft,Ot))}}xt.push(St.nodeValue.slice(0,Ct).replaceAll(EOL_PATTERN,""))}else if(St===this.editorDiv){let Lt=xt,Dt=0;for(const Ot of this.editorDiv.childNodes)Dt++===Ct&&(Lt=Pt),Lt.push(Ut($t=Rs,fu,_0).call($t,Ot))}zt(this,To,`${xt.join(`
`)}${wt}${Pt.join(`
`)}`),Ut(this,zs,x0).call(this);const kt=new Range;let Rt=xt.reduce((Lt,Dt)=>Lt+Dt.length,0);for(const{firstChild:Lt}of this.editorDiv.childNodes)if(Lt.nodeType===Node.TEXT_NODE){const Dt=Lt.nodeValue.length;if(Rt<=Dt){kt.setStart(Lt,Rt),kt.setEnd(Lt,Rt);break}Rt-=Dt}At.removeAllRanges(),At.addRange(kt)}get contentDiv(){return this.editorDiv}static deserialize(ht,vt,bt){var Et;let wt=null;if(ht instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:St,fontColor:Ct},rect:xt,rotation:Pt,id:kt},textContent:Rt,textPosition:Mt,parent:{page:{pageNumber:Ft}}}=ht;if(!Rt||Rt.length===0)return null;wt=ht={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(Ct),fontSize:St,value:Rt.join(`
`),position:Mt,pageIndex:Ft-1,rect:xt.slice(0),rotation:Pt,id:kt,deleted:!1}}const At=super.deserialize(ht,vt,bt);return zt(At,Po,ht.fontSize),zt(At,Yo,Util.makeHexColor(...ht.color)),zt(At,To,Ut(Et=Rs,fu,iA).call(Et,ht.value)),At.annotationElementId=ht.id||null,zt(At,Nm,wt),At}serialize(ht=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const vt=Rs._internalPadding*this.parentScale,bt=this.getRect(vt,vt),wt=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_t(this,Yo)),At={annotationType:AnnotationEditorType.FREETEXT,color:wt,fontSize:_t(this,Po),value:Ut(this,zs,hS).call(this),pageIndex:this.pageIndex,rect:bt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ht?At:this.annotationElementId&&!Ut(this,zs,fS).call(this,At)?null:(At.id=this.annotationElementId,At)}renderAnnotationElement(ht){const vt=super.renderAnnotationElement(ht);if(this.deleted)return vt;const{style:bt}=vt;bt.fontSize=`calc(${_t(this,Po)}px * var(--scale-factor))`,bt.color=_t(this,Yo),vt.replaceChildren();for(const At of _t(this,To).split(`
`)){const Et=document.createElement("div");Et.append(At?document.createTextNode(At):document.createElement("br")),vt.append(Et)}const wt=Rs._internalPadding*this.parentScale;return ht.updateEdited({rect:this.getRect(wt,wt),popupContent:_t(this,To)}),vt}resetAnnotationElement(ht){super.resetAnnotationElement(ht),ht.resetEdited()}};Py=new WeakMap,ky=new WeakMap,Ry=new WeakMap,My=new WeakMap,Ly=new WeakMap,Yo=new WeakMap,To=new WeakMap,Fy=new WeakMap,Po=new WeakMap,Nm=new WeakMap,zs=new WeakSet,cS=function(ht){const vt=wt=>{this.editorDiv.style.fontSize=`calc(${wt}px * var(--scale-factor))`,this.translate(0,-(wt-_t(this,Po))*this.parentScale),zt(this,Po,wt),Ut(this,zs,S0).call(this)},bt=_t(this,Po);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},uS=function(ht){const vt=wt=>{zt(this,Yo,this.editorDiv.style.color=wt)},bt=_t(this,Yo);this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},dS=function(){var vt;const ht=[];this.editorDiv.normalize();for(const bt of this.editorDiv.childNodes)ht.push(Ut(vt=Rs,fu,_0).call(vt,bt));return ht.join(`
`)},S0=function(){const[ht,vt]=this.parentDimensions;let bt;if(this.isAttachedToDOM)bt=this.div.getBoundingClientRect();else{const{currentLayer:wt,div:At}=this,Et=At.style.display,St=At.classList.contains("hidden");At.classList.remove("hidden"),At.style.display="hidden",wt.div.append(this.div),bt=At.getBoundingClientRect(),At.remove(),At.style.display=Et,At.classList.toggle("hidden",St)}this.rotation%180===this.parentRotation%180?(this.width=bt.width/ht,this.height=bt.height/vt):(this.width=bt.height/ht,this.height=bt.width/vt),this.fixAndSetPosition()},fu=new WeakSet,_0=function(ht){return(ht.nodeType===Node.TEXT_NODE?ht.nodeValue:ht.innerText).replaceAll(EOL_PATTERN,"")},x0=function(){if(this.editorDiv.replaceChildren(),!!_t(this,To))for(const ht of _t(this,To).split(`
`)){const vt=document.createElement("div");vt.append(ht?document.createTextNode(ht):document.createElement("br")),this.editorDiv.append(vt)}},hS=function(){return _t(this,To).replaceAll(" "," ")},iA=function(ht){return ht.replaceAll(" "," ")},fS=function(ht){const{value:vt,fontSize:bt,color:wt,pageIndex:At}=_t(this,Nm);return this._hasBeenMoved||ht.value!==vt||ht.fontSize!==bt||ht.color.some((Et,St)=>Et!==wt[St])||ht.pageIndex!==At},Kt(Rs,fu),xr(Rs,"_freeTextDefaultContent",""),xr(Rs,"_internalPadding",0),xr(Rs,"_defaultColor",null),xr(Rs,"_defaultFontSize",10),xr(Rs,"_type","freetext"),xr(Rs,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=Rs;var Dy,Fu,Zo,yo,pS,C0,mS,gS,rA;class Outliner{constructor($,ht=0,vt=0,bt=!0){Kt(this,yo);Kt(this,Dy);Kt(this,Fu,[]);Kt(this,Zo,[]);let wt=1/0,At=-1/0,Et=1/0,St=-1/0;const xt=10**-4;for(const{x:Lt,y:Dt,width:Ot,height:Bt}of $){const Nt=Math.floor((Lt-ht)/xt)*xt,Ht=Math.ceil((Lt+Ot+ht)/xt)*xt,Vt=Math.floor((Dt-ht)/xt)*xt,jt=Math.ceil((Dt+Bt+ht)/xt)*xt,qt=[Nt,Vt,jt,!0],Jt=[Ht,Vt,jt,!1];_t(this,Fu).push(qt,Jt),wt=Math.min(wt,Nt),At=Math.max(At,Ht),Et=Math.min(Et,Vt),St=Math.max(St,jt)}const Pt=At-wt+2*vt,kt=St-Et+2*vt,Rt=wt-vt,Mt=Et-vt,Ft=_t(this,Fu).at(bt?-1:-2),$t=[Ft[0],Ft[2]];for(const Lt of _t(this,Fu)){const[Dt,Ot,Bt]=Lt;Lt[0]=(Dt-Rt)/Pt,Lt[1]=(Ot-Mt)/kt,Lt[2]=(Bt-Mt)/kt}zt(this,Dy,{x:Rt,y:Mt,width:Pt,height:kt,lastPoint:$t})}getOutlines(){_t(this,Fu).sort((ht,vt)=>ht[0]-vt[0]||ht[1]-vt[1]||ht[2]-vt[2]);const $=[];for(const ht of _t(this,Fu))ht[3]?($.push(...Ut(this,yo,rA).call(this,ht)),Ut(this,yo,mS).call(this,ht)):(Ut(this,yo,gS).call(this,ht),$.push(...Ut(this,yo,rA).call(this,ht)));return Ut(this,yo,pS).call(this,$)}}Dy=new WeakMap,Fu=new WeakMap,Zo=new WeakMap,yo=new WeakSet,pS=function($){const ht=[],vt=new Set;for(const At of $){const[Et,St,Ct]=At;ht.push([Et,St,At],[Et,Ct,At])}ht.sort((At,Et)=>At[1]-Et[1]||At[0]-Et[0]);for(let At=0,Et=ht.length;At<Et;At+=2){const St=ht[At][2],Ct=ht[At+1][2];St.push(Ct),Ct.push(St),vt.add(St),vt.add(Ct)}const bt=[];let wt;for(;vt.size>0;){const At=vt.values().next().value;let[Et,St,Ct,xt,Pt]=At;vt.delete(At);let kt=Et,Rt=St;for(wt=[Et,Ct],bt.push(wt);;){let Mt;if(vt.has(xt))Mt=xt;else if(vt.has(Pt))Mt=Pt;else break;vt.delete(Mt),[Et,St,Ct,xt,Pt]=Mt,kt!==Et&&(wt.push(kt,Rt,Et,Rt===St?St:Ct),kt=Et),Rt=Rt===St?Ct:St}wt.push(kt,Rt)}return new HighlightOutline(bt,_t(this,Dy))},C0=function($){const ht=_t(this,Zo);let vt=0,bt=ht.length-1;for(;vt<=bt;){const wt=vt+bt>>1,At=ht[wt][0];if(At===$)return wt;At<$?vt=wt+1:bt=wt-1}return bt+1},mS=function([,$,ht]){const vt=Ut(this,yo,C0).call(this,$);_t(this,Zo).splice(vt,0,[$,ht])},gS=function([,$,ht]){const vt=Ut(this,yo,C0).call(this,$);for(let bt=vt;bt<_t(this,Zo).length;bt++){const[wt,At]=_t(this,Zo)[bt];if(wt!==$)break;if(wt===$&&At===ht){_t(this,Zo).splice(bt,1);return}}for(let bt=vt-1;bt>=0;bt--){const[wt,At]=_t(this,Zo)[bt];if(wt!==$)break;if(wt===$&&At===ht){_t(this,Zo).splice(bt,1);return}}},rA=function($){const[ht,vt,bt]=$,wt=[[ht,vt,bt]],At=Ut(this,yo,C0).call(this,bt);for(let Et=0;Et<At;Et++){const[St,Ct]=_t(this,Zo)[Et];for(let xt=0,Pt=wt.length;xt<Pt;xt++){const[,kt,Rt]=wt[xt];if(!(Ct<=kt||Rt<=St)){if(kt>=St){if(Rt>Ct)wt[xt][1]=Ct;else{if(Pt===1)return[];wt.splice(xt,1),xt--,Pt--}continue}wt[xt][2]=St,Rt>Ct&&wt.push([ht,Ct,Rt])}}}return wt};class Outline{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize($,ht){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof FreeHighlightOutline}}var Iy,Bm;class HighlightOutline extends Outline{constructor(ht,vt){super();Kt(this,Iy);Kt(this,Bm);zt(this,Bm,ht),zt(this,Iy,vt)}toSVGPath(){const ht=[];for(const vt of _t(this,Bm)){let[bt,wt]=vt;ht.push(`M${bt} ${wt}`);for(let At=2;At<vt.length;At+=2){const Et=vt[At],St=vt[At+1];Et===bt?(ht.push(`V${St}`),wt=St):St===wt&&(ht.push(`H${Et}`),bt=Et)}ht.push("Z")}return ht.join(" ")}serialize([ht,vt,bt,wt],At){const Et=[],St=bt-ht,Ct=wt-vt;for(const xt of _t(this,Bm)){const Pt=new Array(xt.length);for(let kt=0;kt<xt.length;kt+=2)Pt[kt]=ht+xt[kt]*St,Pt[kt+1]=wt-xt[kt+1]*Ct;Et.push(Pt)}return Et}get box(){return _t(this,Iy)}}Iy=new WeakMap,Bm=new WeakMap;var Cl,su,Vm,Hm,Tl,us,Pp,kp,$y,Oy,jm,Um,Du,Ny,uw,dw,By,sA;const Bl=class Bl{constructor({x:$,y:ht},vt,bt,wt,At,Et=0){Kt(this,By);Kt(this,Cl);Kt(this,su,[]);Kt(this,Vm);Kt(this,Hm);Kt(this,Tl,[]);Kt(this,us,new Float64Array(18));Kt(this,Pp);Kt(this,kp);Kt(this,$y);Kt(this,Oy);Kt(this,jm);Kt(this,Um);Kt(this,Du,[]);zt(this,Cl,vt),zt(this,Um,wt*bt),zt(this,Hm,At),_t(this,us).set([NaN,NaN,NaN,NaN,$,ht],6),zt(this,Vm,Et),zt(this,Oy,_t(Bl,Ny)*bt),zt(this,$y,_t(Bl,dw)*bt),zt(this,jm,bt),_t(this,Du).push($,ht)}get free(){return!0}isEmpty(){return isNaN(_t(this,us)[8])}add({x:$,y:ht}){var qt;zt(this,Pp,$),zt(this,kp,ht);const[vt,bt,wt,At]=_t(this,Cl);let[Et,St,Ct,xt]=_t(this,us).subarray(8,12);const Pt=$-Ct,kt=ht-xt,Rt=Math.hypot(Pt,kt);if(Rt<_t(this,$y))return!1;const Mt=Rt-_t(this,Oy),Ft=Mt/Rt,$t=Ft*Pt,Lt=Ft*kt;let Dt=Et,Ot=St;Et=Ct,St=xt,Ct+=$t,xt+=Lt,(qt=_t(this,Du))==null||qt.push($,ht);const Bt=-Lt/Mt,Nt=$t/Mt,Ht=Bt*_t(this,Um),Vt=Nt*_t(this,Um);return _t(this,us).set(_t(this,us).subarray(2,8),0),_t(this,us).set([Ct+Ht,xt+Vt],4),_t(this,us).set(_t(this,us).subarray(14,18),12),_t(this,us).set([Ct-Ht,xt-Vt],16),isNaN(_t(this,us)[6])?(_t(this,Tl).length===0&&(_t(this,us).set([Et+Ht,St+Vt],2),_t(this,Tl).push(NaN,NaN,NaN,NaN,(Et+Ht-vt)/wt,(St+Vt-bt)/At),_t(this,us).set([Et-Ht,St-Vt],14),_t(this,su).push(NaN,NaN,NaN,NaN,(Et-Ht-vt)/wt,(St-Vt-bt)/At)),_t(this,us).set([Dt,Ot,Et,St,Ct,xt],6),!this.isEmpty()):(_t(this,us).set([Dt,Ot,Et,St,Ct,xt],6),Math.abs(Math.atan2(Ot-St,Dt-Et)-Math.atan2(Lt,$t))<Math.PI/2?([Et,St,Ct,xt]=_t(this,us).subarray(2,6),_t(this,Tl).push(NaN,NaN,NaN,NaN,((Et+Ct)/2-vt)/wt,((St+xt)/2-bt)/At),[Et,St,Dt,Ot]=_t(this,us).subarray(14,18),_t(this,su).push(NaN,NaN,NaN,NaN,((Dt+Et)/2-vt)/wt,((Ot+St)/2-bt)/At),!0):([Dt,Ot,Et,St,Ct,xt]=_t(this,us).subarray(0,6),_t(this,Tl).push(((Dt+5*Et)/6-vt)/wt,((Ot+5*St)/6-bt)/At,((5*Et+Ct)/6-vt)/wt,((5*St+xt)/6-bt)/At,((Et+Ct)/2-vt)/wt,((St+xt)/2-bt)/At),[Ct,xt,Et,St,Dt,Ot]=_t(this,us).subarray(12,18),_t(this,su).push(((Dt+5*Et)/6-vt)/wt,((Ot+5*St)/6-bt)/At,((5*Et+Ct)/6-vt)/wt,((5*St+xt)/6-bt)/At,((Et+Ct)/2-vt)/wt,((St+xt)/2-bt)/At),!0))}toSVGPath(){if(this.isEmpty())return"";const $=_t(this,Tl),ht=_t(this,su),vt=_t(this,us).subarray(4,6),bt=_t(this,us).subarray(16,18),[wt,At,Et,St]=_t(this,Cl),[Ct,xt,Pt,kt]=Ut(this,By,sA).call(this);if(isNaN(_t(this,us)[6])&&!this.isEmpty())return`M${(_t(this,us)[2]-wt)/Et} ${(_t(this,us)[3]-At)/St} L${(_t(this,us)[4]-wt)/Et} ${(_t(this,us)[5]-At)/St} L${Ct} ${xt} L${Pt} ${kt} L${(_t(this,us)[16]-wt)/Et} ${(_t(this,us)[17]-At)/St} L${(_t(this,us)[14]-wt)/Et} ${(_t(this,us)[15]-At)/St} Z`;const Rt=[];Rt.push(`M${$[4]} ${$[5]}`);for(let Mt=6;Mt<$.length;Mt+=6)isNaN($[Mt])?Rt.push(`L${$[Mt+4]} ${$[Mt+5]}`):Rt.push(`C${$[Mt]} ${$[Mt+1]} ${$[Mt+2]} ${$[Mt+3]} ${$[Mt+4]} ${$[Mt+5]}`);Rt.push(`L${(vt[0]-wt)/Et} ${(vt[1]-At)/St} L${Ct} ${xt} L${Pt} ${kt} L${(bt[0]-wt)/Et} ${(bt[1]-At)/St}`);for(let Mt=ht.length-6;Mt>=6;Mt-=6)isNaN(ht[Mt])?Rt.push(`L${ht[Mt+4]} ${ht[Mt+5]}`):Rt.push(`C${ht[Mt]} ${ht[Mt+1]} ${ht[Mt+2]} ${ht[Mt+3]} ${ht[Mt+4]} ${ht[Mt+5]}`);return Rt.push(`L${ht[4]} ${ht[5]} Z`),Rt.join(" ")}getOutlines(){var Lt;const $=_t(this,Tl),ht=_t(this,su),vt=_t(this,us),bt=vt.subarray(4,6),wt=vt.subarray(16,18),[At,Et,St,Ct]=_t(this,Cl),xt=new Float64Array((((Lt=_t(this,Du))==null?void 0:Lt.length)??0)+2);for(let Dt=0,Ot=xt.length-2;Dt<Ot;Dt+=2)xt[Dt]=(_t(this,Du)[Dt]-At)/St,xt[Dt+1]=(_t(this,Du)[Dt+1]-Et)/Ct;xt[xt.length-2]=(_t(this,Pp)-At)/St,xt[xt.length-1]=(_t(this,kp)-Et)/Ct;const[Pt,kt,Rt,Mt]=Ut(this,By,sA).call(this);if(isNaN(vt[6])&&!this.isEmpty()){const Dt=new Float64Array(36);return Dt.set([NaN,NaN,NaN,NaN,(vt[2]-At)/St,(vt[3]-Et)/Ct,NaN,NaN,NaN,NaN,(vt[4]-At)/St,(vt[5]-Et)/Ct,NaN,NaN,NaN,NaN,Pt,kt,NaN,NaN,NaN,NaN,Rt,Mt,NaN,NaN,NaN,NaN,(vt[16]-At)/St,(vt[17]-Et)/Ct,NaN,NaN,NaN,NaN,(vt[14]-At)/St,(vt[15]-Et)/Ct],0),new FreeHighlightOutline(Dt,xt,_t(this,Cl),_t(this,jm),_t(this,Vm),_t(this,Hm))}const Ft=new Float64Array(_t(this,Tl).length+24+_t(this,su).length);let $t=$.length;for(let Dt=0;Dt<$t;Dt+=2){if(isNaN($[Dt])){Ft[Dt]=Ft[Dt+1]=NaN;continue}Ft[Dt]=$[Dt],Ft[Dt+1]=$[Dt+1]}Ft.set([NaN,NaN,NaN,NaN,(bt[0]-At)/St,(bt[1]-Et)/Ct,NaN,NaN,NaN,NaN,Pt,kt,NaN,NaN,NaN,NaN,Rt,Mt,NaN,NaN,NaN,NaN,(wt[0]-At)/St,(wt[1]-Et)/Ct],$t),$t+=24;for(let Dt=ht.length-6;Dt>=6;Dt-=6)for(let Ot=0;Ot<6;Ot+=2){if(isNaN(ht[Dt+Ot])){Ft[$t]=Ft[$t+1]=NaN,$t+=2;continue}Ft[$t]=ht[Dt+Ot],Ft[$t+1]=ht[Dt+Ot+1],$t+=2}return Ft.set([NaN,NaN,NaN,NaN,ht[4],ht[5]],$t),new FreeHighlightOutline(Ft,xt,_t(this,Cl),_t(this,jm),_t(this,Vm),_t(this,Hm))}};Cl=new WeakMap,su=new WeakMap,Vm=new WeakMap,Hm=new WeakMap,Tl=new WeakMap,us=new WeakMap,Pp=new WeakMap,kp=new WeakMap,$y=new WeakMap,Oy=new WeakMap,jm=new WeakMap,Um=new WeakMap,Du=new WeakMap,Ny=new WeakMap,uw=new WeakMap,dw=new WeakMap,By=new WeakSet,sA=function(){const $=_t(this,us).subarray(4,6),ht=_t(this,us).subarray(16,18),[vt,bt,wt,At]=_t(this,Cl);return[(_t(this,Pp)+($[0]-ht[0])/2-vt)/wt,(_t(this,kp)+($[1]-ht[1])/2-bt)/At,(_t(this,Pp)+(ht[0]-$[0])/2-vt)/wt,(_t(this,kp)+(ht[1]-$[1])/2-bt)/At]},Kt(Bl,Ny,8),Kt(Bl,uw,2),Kt(Bl,dw,_t(Bl,Ny)+_t(Bl,uw));let FreeOutliner=Bl;var zm,Rp,ou,Vy,ko,Hy,Vs,Eo,cv,uv,vS;class FreeHighlightOutline extends Outline{constructor(ht,vt,bt,wt,At,Et){super();Kt(this,Eo);Kt(this,zm);Kt(this,Rp,null);Kt(this,ou);Kt(this,Vy);Kt(this,ko);Kt(this,Hy);Kt(this,Vs);zt(this,Vs,ht),zt(this,ko,vt),zt(this,zm,bt),zt(this,Hy,wt),zt(this,ou,At),zt(this,Vy,Et),Ut(this,Eo,vS).call(this,Et);const{x:St,y:Ct,width:xt,height:Pt}=_t(this,Rp);for(let kt=0,Rt=ht.length;kt<Rt;kt+=2)ht[kt]=(ht[kt]-St)/xt,ht[kt+1]=(ht[kt+1]-Ct)/Pt;for(let kt=0,Rt=vt.length;kt<Rt;kt+=2)vt[kt]=(vt[kt]-St)/xt,vt[kt+1]=(vt[kt+1]-Ct)/Pt}toSVGPath(){const ht=[`M${_t(this,Vs)[4]} ${_t(this,Vs)[5]}`];for(let vt=6,bt=_t(this,Vs).length;vt<bt;vt+=6){if(isNaN(_t(this,Vs)[vt])){ht.push(`L${_t(this,Vs)[vt+4]} ${_t(this,Vs)[vt+5]}`);continue}ht.push(`C${_t(this,Vs)[vt]} ${_t(this,Vs)[vt+1]} ${_t(this,Vs)[vt+2]} ${_t(this,Vs)[vt+3]} ${_t(this,Vs)[vt+4]} ${_t(this,Vs)[vt+5]}`)}return ht.push("Z"),ht.join(" ")}serialize([ht,vt,bt,wt],At){const Et=bt-ht,St=wt-vt;let Ct,xt;switch(At){case 0:Ct=Ut(this,Eo,cv).call(this,_t(this,Vs),ht,wt,Et,-St),xt=Ut(this,Eo,cv).call(this,_t(this,ko),ht,wt,Et,-St);break;case 90:Ct=Ut(this,Eo,uv).call(this,_t(this,Vs),ht,vt,Et,St),xt=Ut(this,Eo,uv).call(this,_t(this,ko),ht,vt,Et,St);break;case 180:Ct=Ut(this,Eo,cv).call(this,_t(this,Vs),bt,vt,-Et,St),xt=Ut(this,Eo,cv).call(this,_t(this,ko),bt,vt,-Et,St);break;case 270:Ct=Ut(this,Eo,uv).call(this,_t(this,Vs),bt,wt,-Et,-St),xt=Ut(this,Eo,uv).call(this,_t(this,ko),bt,wt,-Et,-St);break}return{outline:Array.from(Ct),points:[Array.from(xt)]}}get box(){return _t(this,Rp)}getNewOutline(ht,vt){const{x:bt,y:wt,width:At,height:Et}=_t(this,Rp),[St,Ct,xt,Pt]=_t(this,zm),kt=At*xt,Rt=Et*Pt,Mt=bt*xt+St,Ft=wt*Pt+Ct,$t=new FreeOutliner({x:_t(this,ko)[0]*kt+Mt,y:_t(this,ko)[1]*Rt+Ft},_t(this,zm),_t(this,Hy),ht,_t(this,Vy),vt??_t(this,ou));for(let Lt=2;Lt<_t(this,ko).length;Lt+=2)$t.add({x:_t(this,ko)[Lt]*kt+Mt,y:_t(this,ko)[Lt+1]*Rt+Ft});return $t.getOutlines()}}zm=new WeakMap,Rp=new WeakMap,ou=new WeakMap,Vy=new WeakMap,ko=new WeakMap,Hy=new WeakMap,Vs=new WeakMap,Eo=new WeakSet,cv=function(ht,vt,bt,wt,At){const Et=new Float64Array(ht.length);for(let St=0,Ct=ht.length;St<Ct;St+=2)Et[St]=vt+ht[St]*wt,Et[St+1]=bt+ht[St+1]*At;return Et},uv=function(ht,vt,bt,wt,At){const Et=new Float64Array(ht.length);for(let St=0,Ct=ht.length;St<Ct;St+=2)Et[St]=vt+ht[St+1]*wt,Et[St+1]=bt+ht[St]*At;return Et},vS=function(ht){const vt=_t(this,Vs);let bt=vt[4],wt=vt[5],At=bt,Et=wt,St=bt,Ct=wt,xt=bt,Pt=wt;const kt=ht?Math.max:Math.min;for(let Lt=6,Dt=vt.length;Lt<Dt;Lt+=6){if(isNaN(vt[Lt]))At=Math.min(At,vt[Lt+4]),Et=Math.min(Et,vt[Lt+5]),St=Math.max(St,vt[Lt+4]),Ct=Math.max(Ct,vt[Lt+5]),Pt<vt[Lt+5]?(xt=vt[Lt+4],Pt=vt[Lt+5]):Pt===vt[Lt+5]&&(xt=kt(xt,vt[Lt+4]));else{const Ot=Util.bezierBoundingBox(bt,wt,...vt.slice(Lt,Lt+6));At=Math.min(At,Ot[0]),Et=Math.min(Et,Ot[1]),St=Math.max(St,Ot[2]),Ct=Math.max(Ct,Ot[3]),Pt<Ot[3]?(xt=Ot[2],Pt=Ot[3]):Pt===Ot[3]&&(xt=kt(xt,Ot[2]))}bt=vt[Lt+4],wt=vt[Lt+5]}const Rt=At-_t(this,ou),Mt=Et-_t(this,ou),Ft=St-At+2*_t(this,ou),$t=Ct-Et+2*_t(this,ou);zt(this,Rp,{x:Rt,y:Mt,width:Ft,height:$t,lastPoint:[xt,Pt]})};var jy,Uy,Qo,Mp,Wm,Ks,zy,Gm,Wy,Gy,Iu,Km,ks,oA,aA,yS,Xu,bS,Eu;const Vl=class Vl{constructor({editor:$=null,uiManager:ht=null}){Kt(this,ks);Kt(this,jy,Ut(this,ks,yS).bind(this));Kt(this,Uy,Ut(this,ks,bS).bind(this));Kt(this,Qo,null);Kt(this,Mp,null);Kt(this,Wm);Kt(this,Ks,null);Kt(this,zy,!1);Kt(this,Gm,!1);Kt(this,Wy,null);Kt(this,Gy);Kt(this,Iu,null);Kt(this,Km);var vt;$?(zt(this,Gm,!1),zt(this,Km,AnnotationEditorParamsType.HIGHLIGHT_COLOR),zt(this,Wy,$)):(zt(this,Gm,!0),zt(this,Km,AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR)),zt(this,Iu,($==null?void 0:$._uiManager)||ht),zt(this,Gy,_t(this,Iu)._eventBus),zt(this,Wm,($==null?void 0:$.color)||((vt=_t(this,Iu))==null?void 0:vt.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Vl.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Vl.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Vl.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Vl.prototype._moveToPrevious],[["Home","mac+Home"],Vl.prototype._moveToBeginning],[["End","mac+End"],Vl.prototype._moveToEnd]]))}renderButton(){const $=zt(this,Qo,document.createElement("button"));$.className="colorPicker",$.tabIndex="0",$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),$.setAttribute("aria-haspopup",!0),$.addEventListener("click",Ut(this,ks,Xu).bind(this)),$.addEventListener("keydown",_t(this,jy));const ht=zt(this,Mp,document.createElement("span"));return ht.className="swatch",ht.setAttribute("aria-hidden",!0),ht.style.backgroundColor=_t(this,Wm),$.append(ht),$}renderMainDropdown(){const $=zt(this,Ks,Ut(this,ks,oA).call(this));return $.setAttribute("aria-orientation","horizontal"),$.setAttribute("aria-labelledby","highlightColorPickerLabel"),$}_colorSelectFromKeyboard($){if($.target===_t(this,Qo)){Ut(this,ks,Xu).call(this,$);return}const ht=$.target.getAttribute("data-color");ht&&Ut(this,ks,aA).call(this,ht,$)}_moveToNext($){var ht,vt;if(!_t(this,ks,Eu)){Ut(this,ks,Xu).call(this,$);return}if($.target===_t(this,Qo)){(ht=_t(this,Ks).firstChild)==null||ht.focus();return}(vt=$.target.nextSibling)==null||vt.focus()}_moveToPrevious($){var ht,vt;if($.target===((ht=_t(this,Ks))==null?void 0:ht.firstChild)||$.target===_t(this,Qo)){_t(this,ks,Eu)&&this._hideDropdownFromKeyboard();return}_t(this,ks,Eu)||Ut(this,ks,Xu).call(this,$),(vt=$.target.previousSibling)==null||vt.focus()}_moveToBeginning($){var ht;if(!_t(this,ks,Eu)){Ut(this,ks,Xu).call(this,$);return}(ht=_t(this,Ks).firstChild)==null||ht.focus()}_moveToEnd($){var ht;if(!_t(this,ks,Eu)){Ut(this,ks,Xu).call(this,$);return}(ht=_t(this,Ks).lastChild)==null||ht.focus()}hideDropdown(){var $;($=_t(this,Ks))==null||$.classList.add("hidden"),window.removeEventListener("pointerdown",_t(this,Uy))}_hideDropdownFromKeyboard(){var $;if(!_t(this,Gm)){if(!_t(this,ks,Eu)){($=_t(this,Wy))==null||$.unselect();return}this.hideDropdown(),_t(this,Qo).focus({preventScroll:!0,focusVisible:_t(this,zy)})}}updateColor($){if(_t(this,Mp)&&(_t(this,Mp).style.backgroundColor=$),!_t(this,Ks))return;const ht=_t(this,Iu).highlightColors.values();for(const vt of _t(this,Ks).children)vt.setAttribute("aria-selected",ht.next().value===$)}destroy(){var $,ht;($=_t(this,Qo))==null||$.remove(),zt(this,Qo,null),zt(this,Mp,null),(ht=_t(this,Ks))==null||ht.remove(),zt(this,Ks,null)}};jy=new WeakMap,Uy=new WeakMap,Qo=new WeakMap,Mp=new WeakMap,Wm=new WeakMap,Ks=new WeakMap,zy=new WeakMap,Gm=new WeakMap,Wy=new WeakMap,Gy=new WeakMap,Iu=new WeakMap,Km=new WeakMap,ks=new WeakSet,oA=function(){const $=document.createElement("div");$.addEventListener("contextmenu",noContextMenu),$.className="dropdown",$.role="listbox",$.setAttribute("aria-multiselectable",!1),$.setAttribute("aria-orientation","vertical"),$.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[ht,vt]of _t(this,Iu).highlightColors){const bt=document.createElement("button");bt.tabIndex="0",bt.role="option",bt.setAttribute("data-color",vt),bt.title=ht,bt.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${ht}`);const wt=document.createElement("span");bt.append(wt),wt.className="swatch",wt.style.backgroundColor=vt,bt.setAttribute("aria-selected",vt===_t(this,Wm)),bt.addEventListener("click",Ut(this,ks,aA).bind(this,vt)),$.append(bt)}return $.addEventListener("keydown",_t(this,jy)),$},aA=function($,ht){ht.stopPropagation(),_t(this,Gy).dispatch("switchannotationeditorparams",{source:this,type:_t(this,Km),value:$})},yS=function($){Vl._keyboardManager.exec(this,$)},Xu=function($){if(_t(this,ks,Eu)){this.hideDropdown();return}if(zt(this,zy,$.detail===0),window.addEventListener("pointerdown",_t(this,Uy)),_t(this,Ks)){_t(this,Ks).classList.remove("hidden");return}const ht=zt(this,Ks,Ut(this,ks,oA).call(this));_t(this,Qo).append(ht)},bS=function($){var ht;(ht=_t(this,Ks))!=null&&ht.contains($.target)||this.hideDropdown()},Eu=function(){return _t(this,Ks)&&!_t(this,Ks).classList.contains("hidden")};let ColorPicker=Vl;var qm,Ky,$u,Lp,Xm,$o,qy,Xy,Fp,Jo,mo,Ro,hw,Ym,Dp,qs,Zm,Pl,Yy,as,lA,cA,wS,AS,ES,uA,dv,Bo,tm,SS,T0,hv,_S,xS,CS,TS;const ys=class ys extends AnnotationEditor{constructor(ht){super({...ht,name:"highlightEditor"});Kt(this,as);Kt(this,qm,null);Kt(this,Ky,0);Kt(this,$u);Kt(this,Lp,null);Kt(this,Xm,null);Kt(this,$o,null);Kt(this,qy,null);Kt(this,Xy,0);Kt(this,Fp,null);Kt(this,Jo,null);Kt(this,mo,null);Kt(this,Ro,!1);Kt(this,hw,Ut(this,as,SS).bind(this));Kt(this,Ym,null);Kt(this,Dp);Kt(this,qs,null);Kt(this,Zm,"");Kt(this,Pl);Kt(this,Yy,"");this.color=ht.color||ys._defaultColor,zt(this,Pl,ht.thickness||ys._defaultThickness),zt(this,Dp,ht.opacity||ys._defaultOpacity),zt(this,$u,ht.boxes||null),zt(this,Yy,ht.methodOfCreation||""),zt(this,Zm,ht.text||""),this._isDraggable=!1,ht.highlightId>-1?(zt(this,Ro,!0),Ut(this,as,cA).call(this,ht),Ut(this,as,dv).call(this)):(zt(this,qm,ht.anchorNode),zt(this,Ky,ht.anchorOffset),zt(this,qy,ht.focusNode),zt(this,Xy,ht.focusOffset),Ut(this,as,lA).call(this),Ut(this,as,dv).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const ht=ys.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],ht._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],ht._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],ht._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],ht._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:_t(this,Ro)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:_t(this,Pl),methodOfCreation:_t(this,Yy)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(ht){return{numberOfColors:ht.get("color").size}}static initialize(ht,vt){var bt;AnnotationEditor.initialize(ht,vt),ys._defaultColor||(ys._defaultColor=((bt=vt.highlightColors)==null?void 0:bt.values().next().value)||"#fff066")}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:ys._defaultColor=vt;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:ys._defaultThickness=vt;break}}translateInPage(ht,vt){}get toolbarPosition(){return _t(this,Ym)}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Ut(this,as,wS).call(this,vt);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Ut(this,as,AS).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,ys._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,ys._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||ys._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,_t(this,Pl)||ys._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,_t(this,Ro)]]}async addEditToolbar(){const ht=await super.addEditToolbar();return ht?(this._uiManager.highlightColors&&(zt(this,Xm,new ColorPicker({editor:this})),ht.addColorPicker(_t(this,Xm))),ht):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Ut(this,as,hv).call(this))}getBaseTranslation(){return[0,0]}getRect(ht,vt){return super.getRect(ht,vt,Ut(this,as,hv).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){Ut(this,as,uA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Ut(this,as,dv).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(ht){var bt;let vt=!1;this.parent&&!ht?Ut(this,as,uA).call(this):ht&&(Ut(this,as,dv).call(this,ht),vt=!this.parent&&((bt=this.div)==null?void 0:bt.classList.contains("selectedEditor"))),super.setParent(ht),this.show(this._isVisible),vt&&this.select()}rotate(ht){var wt,At,Et;const{drawLayer:vt}=this.parent;let bt;_t(this,Ro)?(ht=(ht-this.rotation+360)%360,bt=Ut(wt=ys,Bo,tm).call(wt,_t(this,Jo).box,ht)):bt=Ut(At=ys,Bo,tm).call(At,this,ht),vt.rotate(_t(this,mo),ht),vt.rotate(_t(this,qs),ht),vt.updateBox(_t(this,mo),bt),vt.updateBox(_t(this,qs),Ut(Et=ys,Bo,tm).call(Et,_t(this,$o).box,ht))}render(){if(this.div)return this.div;const ht=super.render();_t(this,Zm)&&(ht.setAttribute("aria-label",_t(this,Zm)),ht.setAttribute("role","mark")),_t(this,Ro)?ht.classList.add("free"):this.div.addEventListener("keydown",_t(this,hw));const vt=zt(this,Fp,document.createElement("div"));ht.append(vt),vt.setAttribute("aria-hidden","true"),vt.className="internal",vt.style.clipPath=_t(this,Lp);const[bt,wt]=this.parentDimensions;return this.setDims(this.width*bt,this.height*wt),bindEvents(this,_t(this,Fp),["pointerover","pointerleave"]),this.enableEditing(),ht}pointerover(){this.parent.drawLayer.addClass(_t(this,qs),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(_t(this,qs),"hovered")}_moveCaret(ht){switch(this.parent.unselect(this),ht){case 0:case 2:Ut(this,as,T0).call(this,!0);break;case 1:case 3:Ut(this,as,T0).call(this,!1);break}}select(){var ht,vt;super.select(),_t(this,qs)&&((ht=this.parent)==null||ht.drawLayer.removeClass(_t(this,qs),"hovered"),(vt=this.parent)==null||vt.drawLayer.addClass(_t(this,qs),"selected"))}unselect(){var ht;super.unselect(),_t(this,qs)&&((ht=this.parent)==null||ht.drawLayer.removeClass(_t(this,qs),"selected"),_t(this,Ro)||Ut(this,as,T0).call(this,!1))}get _mustFixPosition(){return!_t(this,Ro)}show(ht=this._isVisible){super.show(ht),this.parent&&(this.parent.drawLayer.show(_t(this,mo),ht),this.parent.drawLayer.show(_t(this,qs),ht))}static startHighlighting(ht,vt,{target:bt,x:wt,y:At}){const{x:Et,y:St,width:Ct,height:xt}=bt.getBoundingClientRect(),Pt=Ft=>{Ut(this,Bo,CS).call(this,ht,Ft)},kt={capture:!0,passive:!1},Rt=Ft=>{Ft.preventDefault(),Ft.stopPropagation()},Mt=Ft=>{bt.removeEventListener("pointermove",Pt),window.removeEventListener("blur",Mt),window.removeEventListener("pointerup",Mt),window.removeEventListener("pointerdown",Rt,kt),window.removeEventListener("contextmenu",noContextMenu),Ut(this,Bo,TS).call(this,ht,Ft)};window.addEventListener("blur",Mt),window.addEventListener("pointerup",Mt),window.addEventListener("pointerdown",Rt,kt),window.addEventListener("contextmenu",noContextMenu),bt.addEventListener("pointermove",Pt),this._freeHighlight=new FreeOutliner({x:wt,y:At},[Et,St,Ct,xt],ht.scale,this._defaultThickness/2,vt,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=ht.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(ht,vt,bt){var Ft;const wt=super.deserialize(ht,vt,bt),{rect:[At,Et,St,Ct],color:xt,quadPoints:Pt}=ht;wt.color=Util.makeHexColor(...xt),zt(wt,Dp,ht.opacity);const[kt,Rt]=wt.pageDimensions;wt.width=(St-At)/kt,wt.height=(Ct-Et)/Rt;const Mt=zt(wt,$u,[]);for(let $t=0;$t<Pt.length;$t+=8)Mt.push({x:(Pt[4]-St)/kt,y:(Ct-(1-Pt[$t+5]))/Rt,width:(Pt[$t+2]-Pt[$t])/kt,height:(Pt[$t+5]-Pt[$t+1])/Rt});return Ut(Ft=wt,as,lA).call(Ft),wt}serialize(ht=!1){if(this.isEmpty()||ht)return null;const vt=this.getRect(0,0),bt=AnnotationEditor._colorManager.convert(this.color);return{annotationType:AnnotationEditorType.HIGHLIGHT,color:bt,opacity:_t(this,Dp),thickness:_t(this,Pl),quadPoints:Ut(this,as,_S).call(this),outlines:Ut(this,as,xS).call(this,vt),pageIndex:this.pageIndex,rect:vt,rotation:Ut(this,as,hv).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};qm=new WeakMap,Ky=new WeakMap,$u=new WeakMap,Lp=new WeakMap,Xm=new WeakMap,$o=new WeakMap,qy=new WeakMap,Xy=new WeakMap,Fp=new WeakMap,Jo=new WeakMap,mo=new WeakMap,Ro=new WeakMap,hw=new WeakMap,Ym=new WeakMap,Dp=new WeakMap,qs=new WeakMap,Zm=new WeakMap,Pl=new WeakMap,Yy=new WeakMap,as=new WeakSet,lA=function(){const ht=new Outliner(_t(this,$u),.001);zt(this,Jo,ht.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=_t(this,Jo).box;const vt=new Outliner(_t(this,$u),.0025,.001,this._uiManager.direction==="ltr");zt(this,$o,vt.getOutlines());const{lastPoint:bt}=_t(this,$o).box;zt(this,Ym,[(bt[0]-this.x)/this.width,(bt[1]-this.y)/this.height])},cA=function({highlightOutlines:ht,highlightId:vt,clipPathId:bt}){var Pt,kt;if(zt(this,Jo,ht),zt(this,$o,ht.getNewOutline(_t(this,Pl)/2+1.5,.0025)),vt>=0)zt(this,mo,vt),zt(this,Lp,bt),this.parent.drawLayer.finalizeLine(vt,ht),zt(this,qs,this.parent.drawLayer.highlightOutline(_t(this,$o)));else if(this.parent){const Rt=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(_t(this,mo),ht),this.parent.drawLayer.updateBox(_t(this,mo),Ut(Pt=ys,Bo,tm).call(Pt,_t(this,Jo).box,(Rt-this.rotation+360)%360)),this.parent.drawLayer.updateLine(_t(this,qs),_t(this,$o)),this.parent.drawLayer.updateBox(_t(this,qs),Ut(kt=ys,Bo,tm).call(kt,_t(this,$o).box,Rt))}const{x:At,y:Et,width:St,height:Ct}=ht.box;switch(this.rotation){case 0:this.x=At,this.y=Et,this.width=St,this.height=Ct;break;case 90:{const[Rt,Mt]=this.parentDimensions;this.x=Et,this.y=1-At,this.width=St*Mt/Rt,this.height=Ct*Rt/Mt;break}case 180:this.x=1-At,this.y=1-Et,this.width=St,this.height=Ct;break;case 270:{const[Rt,Mt]=this.parentDimensions;this.x=1-Et,this.y=At,this.width=St*Mt/Rt,this.height=Ct*Rt/Mt;break}}const{lastPoint:xt}=_t(this,$o).box;zt(this,Ym,[(xt[0]-At)/St,(xt[1]-Et)/Ct])},wS=function(ht){const vt=wt=>{var At,Et;this.color=wt,(At=this.parent)==null||At.drawLayer.changeColor(_t(this,mo),wt),(Et=_t(this,Xm))==null||Et.updateColor(wt)},bt=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(ht)},!0)},AS=function(ht){const vt=_t(this,Pl),bt=wt=>{zt(this,Pl,wt),Ut(this,as,ES).call(this,wt)};this.addCommands({cmd:bt.bind(this,ht),undo:bt.bind(this,vt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:ht},!0)},ES=function(ht){if(!_t(this,Ro))return;Ut(this,as,cA).call(this,{highlightOutlines:_t(this,Jo).getNewOutline(ht/2)}),this.fixAndSetPosition();const[vt,bt]=this.parentDimensions;this.setDims(this.width*vt,this.height*bt)},uA=function(){_t(this,mo)===null||!this.parent||(this.parent.drawLayer.remove(_t(this,mo)),zt(this,mo,null),this.parent.drawLayer.remove(_t(this,qs)),zt(this,qs,null))},dv=function(ht=this.parent){_t(this,mo)===null&&({id:to(this,mo)._,clipPathId:to(this,Lp)._}=ht.drawLayer.highlight(_t(this,Jo),this.color,_t(this,Dp)),zt(this,qs,ht.drawLayer.highlightOutline(_t(this,$o))),_t(this,Fp)&&(_t(this,Fp).style.clipPath=_t(this,Lp)))},Bo=new WeakSet,tm=function({x:ht,y:vt,width:bt,height:wt},At){switch(At){case 90:return{x:1-vt-wt,y:ht,width:wt,height:bt};case 180:return{x:1-ht-bt,y:1-vt-wt,width:bt,height:wt};case 270:return{x:vt,y:1-ht-bt,width:wt,height:bt}}return{x:ht,y:vt,width:bt,height:wt}},SS=function(ht){ys._keyboardManager.exec(this,ht)},T0=function(ht){if(!_t(this,qm))return;const vt=window.getSelection();ht?vt.setPosition(_t(this,qm),_t(this,Ky)):vt.setPosition(_t(this,qy),_t(this,Xy))},hv=function(){return _t(this,Ro)?this.rotation:0},_S=function(){if(_t(this,Ro))return null;const[ht,vt]=this.pageDimensions,bt=_t(this,$u),wt=new Array(bt.length*8);let At=0;for(const{x:Et,y:St,width:Ct,height:xt}of bt){const Pt=Et*ht,kt=(1-St-xt)*vt;wt[At]=wt[At+4]=Pt,wt[At+1]=wt[At+3]=kt,wt[At+2]=wt[At+6]=Pt+Ct*ht,wt[At+5]=wt[At+7]=kt+xt*vt,At+=8}return wt},xS=function(ht){return _t(this,Jo).serialize(ht,Ut(this,as,hv).call(this))},CS=function(ht,vt){this._freeHighlight.add(vt)&&ht.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},TS=function(ht,vt){this._freeHighlight.isEmpty()?ht.drawLayer.removeFreeHighlight(this._freeHighlightId):ht.createAndAddNewEditor(vt,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Kt(ys,Bo),xr(ys,"_defaultColor",null),xr(ys,"_defaultOpacity",1),xr(ys,"_defaultThickness",12),xr(ys,"_l10nPromise"),xr(ys,"_type","highlight"),xr(ys,"_editorType",AnnotationEditorType.HIGHLIGHT),xr(ys,"_freeHighlightId",-1),xr(ys,"_freeHighlight",null),xr(ys,"_freeHighlightClipId","");let HighlightEditor=ys;var Ip,$p,Zy,Qy,Jy,Op,Rl,au,Oo,Np,Bp,Vp,Hp,jp,Ou,Sr,PS,kS,RS,MS,dA,LS,hA,FS,DS,IS,$S,OS,Yu,fA,P0,k0,nm,pA,R0,mu,NS,mA,BS,VS,gA,M0,fv;const $s=class $s extends AnnotationEditor{constructor(ht){super({...ht,name:"inkEditor"});Kt(this,Sr);Kt(this,Ip,0);Kt(this,$p,0);Kt(this,Zy,this.canvasPointermove.bind(this));Kt(this,Qy,this.canvasPointerleave.bind(this));Kt(this,Jy,this.canvasPointerup.bind(this));Kt(this,Op,this.canvasPointerdown.bind(this));Kt(this,Rl,null);Kt(this,au,new Path2D);Kt(this,Oo,!1);Kt(this,Np,!1);Kt(this,Bp,!1);Kt(this,Vp,null);Kt(this,Hp,0);Kt(this,jp,0);Kt(this,Ou,null);this.color=ht.color||null,this.thickness=ht.thickness||null,this.opacity=ht.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static updateDefaultParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:$s._defaultThickness=vt;break;case AnnotationEditorParamsType.INK_COLOR:$s._defaultColor=vt;break;case AnnotationEditorParamsType.INK_OPACITY:$s._defaultOpacity=vt/100;break}}updateParams(ht,vt){switch(ht){case AnnotationEditorParamsType.INK_THICKNESS:Ut(this,Sr,PS).call(this,vt);break;case AnnotationEditorParamsType.INK_COLOR:Ut(this,Sr,kS).call(this,vt);break;case AnnotationEditorParamsType.INK_OPACITY:Ut(this,Sr,RS).call(this,vt);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,$s._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,$s._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round($s._defaultOpacity*100)]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.INK_THICKNESS,this.thickness||$s._defaultThickness],[AnnotationEditorParamsType.INK_COLOR,this.color||$s._defaultColor||AnnotationEditor._defaultLineColor],[AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??$s._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,Sr,P0).call(this),Ut(this,Sr,k0).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,Sr,nm).call(this)),Ut(this,Sr,fv).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_t(this,Rl)&&(clearTimeout(_t(this,Rl)),zt(this,Rl,null)),_t(this,Vp).disconnect(),zt(this,Vp,null),super.remove())}setParent(ht){!this.parent&&ht?this._uiManager.removeShouldRescale(this):this.parent&&ht===null&&this._uiManager.addShouldRescale(this),super.setParent(ht)}onScaleChanging(){const[ht,vt]=this.parentDimensions,bt=this.width*ht,wt=this.height*vt;this.setDimensions(bt,wt)}enableEditMode(){_t(this,Oo)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_t(this,Op)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_t(this,Op)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_t(this,Oo)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),zt(this,Oo,!0),this.div.classList.add("disabled"),Ut(this,Sr,fv).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(ht){this._focusEventsAllowed&&(super.focusin(ht),this.enableEditMode())}canvasPointerdown(ht){ht.button!==0||!this.isInEditMode()||_t(this,Oo)||(this.setInForeground(),ht.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Ut(this,Sr,LS).call(this,ht.offsetX,ht.offsetY))}canvasPointermove(ht){ht.preventDefault(),Ut(this,Sr,hA).call(this,ht.offsetX,ht.offsetY)}canvasPointerup(ht){ht.preventDefault(),Ut(this,Sr,fA).call(this,ht)}canvasPointerleave(ht){Ut(this,Sr,fA).call(this,ht)}get isResizable(){return!this.isEmpty()&&_t(this,Oo)}render(){if(this.div)return this.div;let ht,vt;this.width&&(ht=this.x,vt=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[bt,wt,At,Et]=Ut(this,Sr,MS).call(this);if(this.setAt(bt,wt,0,0),this.setDims(At,Et),Ut(this,Sr,P0).call(this),this.width){const[St,Ct]=this.parentDimensions;this.setAspectRatio(this.width*St,this.height*Ct),this.setAt(ht*St,vt*Ct,this.width*St,this.height*Ct),zt(this,Bp,!0),Ut(this,Sr,nm).call(this),this.setDims(this.width*St,this.height*Ct),Ut(this,Sr,Yu).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,Sr,k0).call(this),this.div}setDimensions(ht,vt){const bt=Math.round(ht),wt=Math.round(vt);if(_t(this,Hp)===bt&&_t(this,jp)===wt)return;zt(this,Hp,bt),zt(this,jp,wt),this.canvas.style.visibility="hidden";const[At,Et]=this.parentDimensions;this.width=ht/At,this.height=vt/Et,this.fixAndSetPosition(),_t(this,Oo)&&Ut(this,Sr,pA).call(this,ht,vt),Ut(this,Sr,nm).call(this),Ut(this,Sr,Yu).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(ht,vt,bt){var $t,Lt,Dt;if(ht instanceof InkAnnotationElement)return null;const wt=super.deserialize(ht,vt,bt);wt.thickness=ht.thickness,wt.color=Util.makeHexColor(...ht.color),wt.opacity=ht.opacity;const[At,Et]=wt.pageDimensions,St=wt.width*At,Ct=wt.height*Et,xt=wt.parentScale,Pt=ht.thickness/2;zt(wt,Oo,!0),zt(wt,Hp,Math.round(St)),zt(wt,jp,Math.round(Ct));const{paths:kt,rect:Rt,rotation:Mt}=ht;for(let{bezier:Ot}of kt){Ot=Ut($t=$s,mu,BS).call($t,Ot,Rt,Mt);const Bt=[];wt.paths.push(Bt);let Nt=xt*(Ot[0]-Pt),Ht=xt*(Ot[1]-Pt);for(let jt=2,qt=Ot.length;jt<qt;jt+=6){const Jt=xt*(Ot[jt]-Pt),Gt=xt*(Ot[jt+1]-Pt),en=xt*(Ot[jt+2]-Pt),an=xt*(Ot[jt+3]-Pt),Sn=xt*(Ot[jt+4]-Pt),cn=xt*(Ot[jt+5]-Pt);Bt.push([[Nt,Ht],[Jt,Gt],[en,an],[Sn,cn]]),Nt=Sn,Ht=cn}const Vt=Ut(this,mu,NS).call(this,Bt);wt.bezierPath2D.push(Vt)}const Ft=Ut(Lt=wt,Sr,gA).call(Lt);return zt(wt,$p,Math.max(AnnotationEditor.MIN_SIZE,Ft[2]-Ft[0])),zt(wt,Ip,Math.max(AnnotationEditor.MIN_SIZE,Ft[3]-Ft[1])),Ut(Dt=wt,Sr,pA).call(Dt,St,Ct),wt}serialize(){if(this.isEmpty())return null;const ht=this.getRect(0,0),vt=AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:AnnotationEditorType.INK,color:vt,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,Sr,VS).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ht),pageIndex:this.pageIndex,rect:ht,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ip=new WeakMap,$p=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,Jy=new WeakMap,Op=new WeakMap,Rl=new WeakMap,au=new WeakMap,Oo=new WeakMap,Np=new WeakMap,Bp=new WeakMap,Vp=new WeakMap,Hp=new WeakMap,jp=new WeakMap,Ou=new WeakMap,Sr=new WeakSet,PS=function(ht){const vt=wt=>{this.thickness=wt,Ut(this,Sr,fv).call(this)},bt=this.thickness;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},kS=function(ht){const vt=wt=>{this.color=wt,Ut(this,Sr,Yu).call(this)},bt=this.color;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},RS=function(ht){const vt=wt=>{this.opacity=wt,Ut(this,Sr,Yu).call(this)};ht/=100;const bt=this.opacity;this.addCommands({cmd:vt.bind(this,ht),undo:vt.bind(this,bt),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},MS=function(){const{parentRotation:ht,parentDimensions:[vt,bt]}=this;switch(ht){case 90:return[0,bt,bt,vt];case 180:return[vt,bt,vt,bt];case 270:return[vt,0,bt,vt];default:return[0,0,vt,bt]}},dA=function(){const{ctx:ht,color:vt,opacity:bt,thickness:wt,parentScale:At,scaleFactor:Et}=this;ht.lineWidth=wt*At/Et,ht.lineCap="round",ht.lineJoin="round",ht.miterLimit=10,ht.strokeStyle=`${vt}${opacityToHex(bt)}`},LS=function(ht,vt){this.canvas.addEventListener("contextmenu",noContextMenu),this.canvas.addEventListener("pointerleave",_t(this,Qy)),this.canvas.addEventListener("pointermove",_t(this,Zy)),this.canvas.addEventListener("pointerup",_t(this,Jy)),this.canvas.removeEventListener("pointerdown",_t(this,Op)),this.isEditing=!0,_t(this,Bp)||(zt(this,Bp,!0),Ut(this,Sr,nm).call(this),this.thickness||(this.thickness=$s._defaultThickness),this.color||(this.color=$s._defaultColor||AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=$s._defaultOpacity)),this.currentPath.push([ht,vt]),zt(this,Np,!1),Ut(this,Sr,dA).call(this),zt(this,Ou,()=>{Ut(this,Sr,IS).call(this),_t(this,Ou)&&window.requestAnimationFrame(_t(this,Ou))}),window.requestAnimationFrame(_t(this,Ou))},hA=function(ht,vt){const[bt,wt]=this.currentPath.at(-1);if(this.currentPath.length>1&&ht===bt&&vt===wt)return;const At=this.currentPath;let Et=_t(this,au);if(At.push([ht,vt]),zt(this,Np,!0),At.length<=2){Et.moveTo(...At[0]),Et.lineTo(ht,vt);return}At.length===3&&(zt(this,au,Et=new Path2D),Et.moveTo(...At[0])),Ut(this,Sr,$S).call(this,Et,...At.at(-3),...At.at(-2),ht,vt)},FS=function(){if(this.currentPath.length===0)return;const ht=this.currentPath.at(-1);_t(this,au).lineTo(...ht)},DS=function(ht,vt){zt(this,Ou,null),ht=Math.min(Math.max(ht,0),this.canvas.width),vt=Math.min(Math.max(vt,0),this.canvas.height),Ut(this,Sr,hA).call(this,ht,vt),Ut(this,Sr,FS).call(this);let bt;if(this.currentPath.length!==1)bt=Ut(this,Sr,OS).call(this);else{const Ct=[ht,vt];bt=[[Ct,Ct.slice(),Ct.slice(),Ct]]}const wt=_t(this,au),At=this.currentPath;this.currentPath=[],zt(this,au,new Path2D);const Et=()=>{this.allRawPaths.push(At),this.paths.push(bt),this.bezierPath2D.push(wt),this._uiManager.rebuild(this)},St=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,Sr,P0).call(this),Ut(this,Sr,k0).call(this)),Ut(this,Sr,fv).call(this))};this.addCommands({cmd:Et,undo:St,mustExec:!0})},IS=function(){if(!_t(this,Np))return;zt(this,Np,!1);const ht=Math.ceil(this.thickness*this.parentScale),vt=this.currentPath.slice(-3),bt=vt.map(Et=>Et[0]),wt=vt.map(Et=>Et[1]);Math.min(...bt)-ht,Math.max(...bt)+ht,Math.min(...wt)-ht,Math.max(...wt)+ht;const{ctx:At}=this;At.save(),At.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Et of this.bezierPath2D)At.stroke(Et);At.stroke(_t(this,au)),At.restore()},$S=function(ht,vt,bt,wt,At,Et,St){const Ct=(vt+wt)/2,xt=(bt+At)/2,Pt=(wt+Et)/2,kt=(At+St)/2;ht.bezierCurveTo(Ct+2*(wt-Ct)/3,xt+2*(At-xt)/3,Pt+2*(wt-Pt)/3,kt+2*(At-kt)/3,Pt,kt)},OS=function(){const ht=this.currentPath;if(ht.length<=2)return[[ht[0],ht[0],ht.at(-1),ht.at(-1)]];const vt=[];let bt,[wt,At]=ht[0];for(bt=1;bt<ht.length-2;bt++){const[Rt,Mt]=ht[bt],[Ft,$t]=ht[bt+1],Lt=(Rt+Ft)/2,Dt=(Mt+$t)/2,Ot=[wt+2*(Rt-wt)/3,At+2*(Mt-At)/3],Bt=[Lt+2*(Rt-Lt)/3,Dt+2*(Mt-Dt)/3];vt.push([[wt,At],Ot,Bt,[Lt,Dt]]),[wt,At]=[Lt,Dt]}const[Et,St]=ht[bt],[Ct,xt]=ht[bt+1],Pt=[wt+2*(Et-wt)/3,At+2*(St-At)/3],kt=[Ct+2*(Et-Ct)/3,xt+2*(St-xt)/3];return vt.push([[wt,At],Pt,kt,[Ct,xt]]),vt},Yu=function(){if(this.isEmpty()){Ut(this,Sr,R0).call(this);return}Ut(this,Sr,dA).call(this);const{canvas:ht,ctx:vt}=this;vt.setTransform(1,0,0,1,0,0),vt.clearRect(0,0,ht.width,ht.height),Ut(this,Sr,R0).call(this);for(const bt of this.bezierPath2D)vt.stroke(bt)},fA=function(ht){this.canvas.removeEventListener("pointerleave",_t(this,Qy)),this.canvas.removeEventListener("pointermove",_t(this,Zy)),this.canvas.removeEventListener("pointerup",_t(this,Jy)),this.canvas.addEventListener("pointerdown",_t(this,Op)),_t(this,Rl)&&clearTimeout(_t(this,Rl)),zt(this,Rl,setTimeout(()=>{zt(this,Rl,null),this.canvas.removeEventListener("contextmenu",noContextMenu)},10)),Ut(this,Sr,DS).call(this,ht.offsetX,ht.offsetY),this.addToAnnotationStorage(),this.setInBackground()},P0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},k0=function(){zt(this,Vp,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&this.setDimensions(vt.width,vt.height)})),_t(this,Vp).observe(this.div)},nm=function(){if(!_t(this,Bp))return;const[ht,vt]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*ht),this.canvas.height=Math.ceil(this.height*vt),Ut(this,Sr,R0).call(this)},pA=function(ht,vt){const bt=Ut(this,Sr,M0).call(this),wt=(ht-bt)/_t(this,$p),At=(vt-bt)/_t(this,Ip);this.scaleFactor=Math.min(wt,At)},R0=function(){const ht=Ut(this,Sr,M0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+ht,this.translationY*this.scaleFactor+ht)},mu=new WeakSet,NS=function(ht){const vt=new Path2D;for(let bt=0,wt=ht.length;bt<wt;bt++){const[At,Et,St,Ct]=ht[bt];bt===0&&vt.moveTo(...At),vt.bezierCurveTo(Et[0],Et[1],St[0],St[1],Ct[0],Ct[1])}return vt},mA=function(ht,vt,bt){const[wt,At,Et,St]=vt;switch(bt){case 0:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2)ht[Ct]+=wt,ht[Ct+1]=St-ht[Ct+1];break;case 90:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2){const Pt=ht[Ct];ht[Ct]=ht[Ct+1]+wt,ht[Ct+1]=Pt+At}break;case 180:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2)ht[Ct]=Et-ht[Ct],ht[Ct+1]+=At;break;case 270:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2){const Pt=ht[Ct];ht[Ct]=Et-ht[Ct+1],ht[Ct+1]=St-Pt}break;default:throw new Error("Invalid rotation")}return ht},BS=function(ht,vt,bt){const[wt,At,Et,St]=vt;switch(bt){case 0:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2)ht[Ct]-=wt,ht[Ct+1]=St-ht[Ct+1];break;case 90:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2){const Pt=ht[Ct];ht[Ct]=ht[Ct+1]-At,ht[Ct+1]=Pt-wt}break;case 180:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2)ht[Ct]=Et-ht[Ct],ht[Ct+1]-=At;break;case 270:for(let Ct=0,xt=ht.length;Ct<xt;Ct+=2){const Pt=ht[Ct];ht[Ct]=St-ht[Ct+1],ht[Ct+1]=Et-Pt}break;default:throw new Error("Invalid rotation")}return ht},VS=function(ht,vt,bt,wt){var xt,Pt;const At=[],Et=this.thickness/2,St=ht*vt+Et,Ct=ht*bt+Et;for(const kt of this.paths){const Rt=[],Mt=[];for(let Ft=0,$t=kt.length;Ft<$t;Ft++){const[Lt,Dt,Ot,Bt]=kt[Ft];if(Lt[0]===Bt[0]&&Lt[1]===Bt[1]&&$t===1){const an=ht*Lt[0]+St,Sn=ht*Lt[1]+Ct;Rt.push(an,Sn),Mt.push(an,Sn);break}const Nt=ht*Lt[0]+St,Ht=ht*Lt[1]+Ct,Vt=ht*Dt[0]+St,jt=ht*Dt[1]+Ct,qt=ht*Ot[0]+St,Jt=ht*Ot[1]+Ct,Gt=ht*Bt[0]+St,en=ht*Bt[1]+Ct;Ft===0&&(Rt.push(Nt,Ht),Mt.push(Nt,Ht)),Rt.push(Vt,jt,qt,Jt,Gt,en),Mt.push(Vt,jt),Ft===$t-1&&Mt.push(Gt,en)}At.push({bezier:Ut(xt=$s,mu,mA).call(xt,Rt,wt,this.rotation),points:Ut(Pt=$s,mu,mA).call(Pt,Mt,wt,this.rotation)})}return At},gA=function(){let ht=1/0,vt=-1/0,bt=1/0,wt=-1/0;for(const At of this.paths)for(const[Et,St,Ct,xt]of At){const Pt=Util.bezierBoundingBox(...Et,...St,...Ct,...xt);ht=Math.min(ht,Pt[0]),bt=Math.min(bt,Pt[1]),vt=Math.max(vt,Pt[2]),wt=Math.max(wt,Pt[3])}return[ht,bt,vt,wt]},M0=function(){return _t(this,Oo)?Math.ceil(this.thickness*this.parentScale):0},fv=function(ht=!1){if(this.isEmpty())return;if(!_t(this,Oo)){Ut(this,Sr,Yu).call(this);return}const vt=Ut(this,Sr,gA).call(this),bt=Ut(this,Sr,M0).call(this);zt(this,$p,Math.max(AnnotationEditor.MIN_SIZE,vt[2]-vt[0])),zt(this,Ip,Math.max(AnnotationEditor.MIN_SIZE,vt[3]-vt[1]));const wt=Math.ceil(bt+_t(this,$p)*this.scaleFactor),At=Math.ceil(bt+_t(this,Ip)*this.scaleFactor),[Et,St]=this.parentDimensions;this.width=wt/Et,this.height=At/St,this.setAspectRatio(wt,At);const Ct=this.translationX,xt=this.translationY;this.translationX=-vt[0],this.translationY=-vt[1],Ut(this,Sr,nm).call(this),Ut(this,Sr,Yu).call(this),zt(this,Hp,wt),zt(this,jp,At),this.setDims(wt,At);const Pt=ht?bt/this.scaleFactor/2:0;this.translate(Ct-this.translationX-Pt,xt-this.translationY-Pt)},Kt($s,mu),xr($s,"_defaultColor",null),xr($s,"_defaultOpacity",1),xr($s,"_defaultThickness",1),xr($s,"_type","ink"),xr($s,"_editorType",AnnotationEditorType.INK);let InkEditor=$s;var ao,lo,Nu,lu,Bu,Qm,Ml,Up,Ll,na,e0,gs,pv,mv,L0,vA,HS,jS,yA,F0,US;const Sv=class Sv extends AnnotationEditor{constructor(ht){super({...ht,name:"stampEditor"});Kt(this,gs);Kt(this,ao,null);Kt(this,lo,null);Kt(this,Nu,null);Kt(this,lu,null);Kt(this,Bu,null);Kt(this,Qm,"");Kt(this,Ml,null);Kt(this,Up,null);Kt(this,Ll,null);Kt(this,na,!1);Kt(this,e0,!1);zt(this,lu,ht.bitmapUrl),zt(this,Bu,ht.bitmapFile)}static initialize(ht,vt){AnnotationEditor.initialize(ht,vt)}static get supportedTypes(){return shadow(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(vt=>`image/${vt}`))}static get supportedTypesStr(){return shadow(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(ht){return this.supportedTypes.includes(ht)}static paste(ht,vt){vt.pasteEditor(AnnotationEditorType.STAMP,{bitmapFile:ht.getAsFile()})}remove(){var ht,vt;_t(this,lo)&&(zt(this,ao,null),this._uiManager.imageManager.deleteId(_t(this,lo)),(ht=_t(this,Ml))==null||ht.remove(),zt(this,Ml,null),(vt=_t(this,Up))==null||vt.disconnect(),zt(this,Up,null),_t(this,Ll)&&(clearTimeout(_t(this,Ll)),zt(this,Ll,null))),super.remove()}rebuild(){if(!this.parent){_t(this,lo)&&Ut(this,gs,L0).call(this);return}super.rebuild(),this.div!==null&&(_t(this,lo)&&_t(this,Ml)===null&&Ut(this,gs,L0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_t(this,Nu)||_t(this,ao)||_t(this,lu)||_t(this,Bu)||_t(this,lo))}get isResizable(){return!0}render(){if(this.div)return this.div;let ht,vt;if(this.width&&(ht=this.x,vt=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),_t(this,ao)?Ut(this,gs,vA).call(this):Ut(this,gs,L0).call(this),this.width){const[bt,wt]=this.parentDimensions;this.setAt(ht*bt,vt*wt,this.width*bt,this.height*wt)}return this.div}getImageForAltText(){return _t(this,Ml)}static deserialize(ht,vt,bt){if(ht instanceof StampAnnotationElement)return null;const wt=super.deserialize(ht,vt,bt),{rect:At,bitmapUrl:Et,bitmapId:St,isSvg:Ct,accessibilityData:xt}=ht;St&&bt.imageManager.isValidId(St)?zt(wt,lo,St):zt(wt,lu,Et),zt(wt,na,Ct);const[Pt,kt]=wt.pageDimensions;return wt.width=(At[2]-At[0])/Pt,wt.height=(At[3]-At[1])/kt,xt&&(wt.altTextData=xt),wt}serialize(ht=!1,vt=null){if(this.isEmpty())return null;const bt={annotationType:AnnotationEditorType.STAMP,bitmapId:_t(this,lo),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_t(this,na),structTreeParentId:this._structTreeParentId};if(ht)return bt.bitmapUrl=Ut(this,gs,F0).call(this,!0),bt.accessibilityData=this.altTextData,bt;const{decorative:wt,altText:At}=this.altTextData;if(!wt&&At&&(bt.accessibilityData={type:"Figure",alt:At}),vt===null)return bt;vt.stamps||(vt.stamps=new Map);const Et=_t(this,na)?(bt.rect[2]-bt.rect[0])*(bt.rect[3]-bt.rect[1]):null;if(!vt.stamps.has(_t(this,lo)))vt.stamps.set(_t(this,lo),{area:Et,serialized:bt}),bt.bitmap=Ut(this,gs,F0).call(this,!1);else if(_t(this,na)){const St=vt.stamps.get(_t(this,lo));Et>St.area&&(St.area=Et,St.serialized.bitmap.close(),St.serialized.bitmap=Ut(this,gs,F0).call(this,!1))}return bt}};ao=new WeakMap,lo=new WeakMap,Nu=new WeakMap,lu=new WeakMap,Bu=new WeakMap,Qm=new WeakMap,Ml=new WeakMap,Up=new WeakMap,Ll=new WeakMap,na=new WeakMap,e0=new WeakMap,gs=new WeakSet,pv=function(ht,vt=!1){if(!ht){this.remove();return}zt(this,ao,ht.bitmap),vt||(zt(this,lo,ht.id),zt(this,na,ht.isSvg)),ht.file&&zt(this,Qm,ht.file.name),Ut(this,gs,vA).call(this)},mv=function(){zt(this,Nu,null),this._uiManager.enableWaiting(!1),_t(this,Ml)&&this.div.focus()},L0=function(){if(_t(this,lo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_t(this,lo)).then(vt=>Ut(this,gs,pv).call(this,vt,!0)).finally(()=>Ut(this,gs,mv).call(this));return}if(_t(this,lu)){const vt=_t(this,lu);zt(this,lu,null),this._uiManager.enableWaiting(!0),zt(this,Nu,this._uiManager.imageManager.getFromUrl(vt).then(bt=>Ut(this,gs,pv).call(this,bt)).finally(()=>Ut(this,gs,mv).call(this)));return}if(_t(this,Bu)){const vt=_t(this,Bu);zt(this,Bu,null),this._uiManager.enableWaiting(!0),zt(this,Nu,this._uiManager.imageManager.getFromFile(vt).then(bt=>Ut(this,gs,pv).call(this,bt)).finally(()=>Ut(this,gs,mv).call(this)));return}const ht=document.createElement("input");ht.type="file",ht.accept=Sv.supportedTypesStr,zt(this,Nu,new Promise(vt=>{ht.addEventListener("change",async()=>{if(!ht.files||ht.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const bt=await this._uiManager.imageManager.getFromFile(ht.files[0]);Ut(this,gs,pv).call(this,bt)}vt()}),ht.addEventListener("cancel",()=>{this.remove(),vt()})}).finally(()=>Ut(this,gs,mv).call(this))),ht.click()},vA=function(){const{div:ht}=this;let{width:vt,height:bt}=_t(this,ao);const[wt,At]=this.pageDimensions,Et=.75;if(this.width)vt=this.width*wt,bt=this.height*At;else if(vt>Et*wt||bt>Et*At){const Pt=Math.min(Et*wt/vt,Et*At/bt);vt*=Pt,bt*=Pt}const[St,Ct]=this.parentDimensions;this.setDims(vt*St/wt,bt*Ct/At),this._uiManager.enableWaiting(!1);const xt=zt(this,Ml,document.createElement("canvas"));ht.append(xt),ht.hidden=!1,Ut(this,gs,yA).call(this,vt,bt),Ut(this,gs,US).call(this),_t(this,e0)||(this.parent.addUndoableEditor(this),zt(this,e0,!0)),this._reportTelemetry({action:"inserted_image"}),_t(this,Qm)&&xt.setAttribute("aria-label",_t(this,Qm))},HS=function(ht,vt){var Et;const[bt,wt]=this.parentDimensions;this.width=ht/bt,this.height=vt/wt,this.setDims(ht,vt),(Et=this._initialOptions)!=null&&Et.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_t(this,Ll)!==null&&clearTimeout(_t(this,Ll)),zt(this,Ll,setTimeout(()=>{zt(this,Ll,null),Ut(this,gs,yA).call(this,ht,vt)},200))},jS=function(ht,vt){const{width:bt,height:wt}=_t(this,ao);let At=bt,Et=wt,St=_t(this,ao);for(;At>2*ht||Et>2*vt;){const Ct=At,xt=Et;At>2*ht&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2)),Et>2*vt&&(Et=Et>=16384?Math.floor(Et/2)-1:Math.ceil(Et/2));const Pt=new OffscreenCanvas(At,Et);Pt.getContext("2d").drawImage(St,0,0,Ct,xt,0,0,At,Et),St=Pt.transferToImageBitmap()}return St},yA=function(ht,vt){ht=Math.ceil(ht),vt=Math.ceil(vt);const bt=_t(this,Ml);if(!bt||bt.width===ht&&bt.height===vt)return;bt.width=ht,bt.height=vt;const wt=_t(this,na)?_t(this,ao):Ut(this,gs,jS).call(this,ht,vt);if(this._uiManager.hasMLManager&&!this.hasAltText()){const St=new OffscreenCanvas(ht,vt).getContext("2d");St.drawImage(wt,0,0,wt.width,wt.height,0,0,ht,vt),this._uiManager.mlGuess({service:"image-to-text",request:{data:St.getImageData(0,0,ht,vt).data,width:ht,height:vt,channels:4}}).then(Ct=>{const xt=(Ct==null?void 0:Ct.output)||"";this.parent&&xt&&!this.hasAltText()&&(this.altTextData={altText:xt,decorative:!1})})}const At=bt.getContext("2d");At.filter=this._uiManager.hcmFilter,At.drawImage(wt,0,0,wt.width,wt.height,0,0,ht,vt)},F0=function(ht){if(ht){if(_t(this,na)){const wt=this._uiManager.imageManager.getSvgUrl(_t(this,lo));if(wt)return wt}const vt=document.createElement("canvas");return{width:vt.width,height:vt.height}=_t(this,ao),vt.getContext("2d").drawImage(_t(this,ao),0,0),vt.toDataURL()}if(_t(this,na)){const[vt,bt]=this.pageDimensions,wt=Math.round(this.width*vt*PixelsPerInch.PDF_TO_CSS_UNITS),At=Math.round(this.height*bt*PixelsPerInch.PDF_TO_CSS_UNITS),Et=new OffscreenCanvas(wt,At);return Et.getContext("2d").drawImage(_t(this,ao),0,0,_t(this,ao).width,_t(this,ao).height,0,0,wt,At),Et.transferToImageBitmap()}return structuredClone(_t(this,ao))},US=function(){zt(this,Up,new ResizeObserver(ht=>{const vt=ht[0].contentRect;vt.width&&vt.height&&Ut(this,gs,HS).call(this,vt.width,vt.height)})),_t(this,Up).observe(this.div)},xr(Sv,"_type","stamp"),xr(Sv,"_editorType",AnnotationEditorType.STAMP);let StampEditor=Sv;var zp,Jm,Fl,Wp,cu,uu,du,Mo,Vu,_g,ev,go,qr,Hu,co,zS,bA,wA,AA,D0;const Uo=class Uo{constructor({uiManager:$,pageIndex:ht,div:vt,accessibilityManager:bt,annotationLayer:wt,drawLayer:At,textLayer:Et,viewport:St,l10n:Ct}){Kt(this,co);Kt(this,zp);Kt(this,Jm,!1);Kt(this,Fl,null);Kt(this,Wp,null);Kt(this,cu,null);Kt(this,uu,null);Kt(this,du,null);Kt(this,Mo,new Map);Kt(this,Vu,!1);Kt(this,_g,!1);Kt(this,ev,!1);Kt(this,go,null);Kt(this,qr);const xt=[..._t(Uo,Hu).values()];if(!Uo._initialized){Uo._initialized=!0;for(const Pt of xt)Pt.initialize(Ct,$)}$.registerEditorTypes(xt),zt(this,qr,$),this.pageIndex=ht,this.div=vt,zt(this,zp,bt),zt(this,Fl,wt),this.viewport=St,zt(this,go,Et),this.drawLayer=At,_t(this,qr).addLayer(this)}get isEmpty(){return _t(this,Mo).size===0}get isInvisible(){return this.isEmpty&&_t(this,qr).getMode()===AnnotationEditorType.NONE}updateToolbar($){_t(this,qr).updateToolbar($)}updateMode($=_t(this,qr).getMode()){switch(Ut(this,co,D0).call(this),$){case AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:ht}=this.div;for(const vt of _t(Uo,Hu).values())ht.toggle(`${vt._type}Editing`,$===vt._editorType);this.div.hidden=!1}hasTextLayer($){var ht;return $===((ht=_t(this,go))==null?void 0:ht.div)}addInkEditorIfNeeded($){if(_t(this,qr).getMode()!==AnnotationEditorType.INK)return;if(!$){for(const vt of _t(this,Mo).values())if(vt.isEmpty()){vt.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){_t(this,qr).setEditingState($)}addCommands($){_t(this,qr).addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}toggleAnnotationLayerPointerEvents($=!1){var ht;(ht=_t(this,Fl))==null||ht.div.classList.toggle("disabled",!$)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const $=new Set;for(const vt of _t(this,Mo).values())vt.enableEditing(),vt.show(!0),vt.annotationElementId&&(_t(this,qr).removeChangedExistingAnnotation(vt),$.add(vt.annotationElementId));if(!_t(this,Fl))return;const ht=_t(this,Fl).getEditableAnnotations();for(const vt of ht){if(vt.hide(),_t(this,qr).isDeletedAnnotationElement(vt.data.id)||$.has(vt.data.id))continue;const bt=this.deserialize(vt);bt&&(this.addOrRebuild(bt),bt.enableEditing())}}disable(){var bt;zt(this,ev,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const $=new Map,ht=new Map;for(const wt of _t(this,Mo).values())if(wt.disableEditing(),!!wt.annotationElementId){if(wt.serialize()!==null){$.set(wt.annotationElementId,wt);continue}else ht.set(wt.annotationElementId,wt);(bt=this.getEditableAnnotation(wt.annotationElementId))==null||bt.show(),wt.remove()}if(_t(this,Fl)){const wt=_t(this,Fl).getEditableAnnotations();for(const At of wt){const{id:Et}=At.data;if(_t(this,qr).isDeletedAnnotationElement(Et))continue;let St=ht.get(Et);if(St){St.resetAnnotationElement(At),St.show(!1),At.show();continue}St=$.get(Et),St&&(_t(this,qr).addChangedExistingAnnotation(St),St.renderAnnotationElement(At),St.show(!1)),At.show()}}Ut(this,co,D0).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:vt}=this.div;for(const wt of _t(Uo,Hu).values())vt.remove(`${wt._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),zt(this,ev,!1)}getEditableAnnotation($){var ht;return((ht=_t(this,Fl))==null?void 0:ht.getEditableAnnotation($))||null}setActiveEditor($){_t(this,qr).getActive()!==$&&_t(this,qr).setActiveEditor($)}enableTextSelection(){var $;this.div.tabIndex=-1,($=_t(this,go))!=null&&$.div&&!_t(this,uu)&&(zt(this,uu,Ut(this,co,zS).bind(this)),_t(this,go).div.addEventListener("pointerdown",_t(this,uu)),_t(this,go).div.classList.add("highlighting"))}disableTextSelection(){var $;this.div.tabIndex=0,($=_t(this,go))!=null&&$.div&&_t(this,uu)&&(_t(this,go).div.removeEventListener("pointerdown",_t(this,uu)),zt(this,uu,null),_t(this,go).div.classList.remove("highlighting"))}enableClick(){_t(this,cu)||(zt(this,cu,this.pointerdown.bind(this)),zt(this,Wp,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",_t(this,cu)),this.div.addEventListener("pointerup",_t(this,Wp)))}disableClick(){_t(this,cu)&&(this.div.removeEventListener("pointerdown",_t(this,cu)),this.div.removeEventListener("pointerup",_t(this,Wp)),zt(this,cu,null),zt(this,Wp,null))}attach($){_t(this,Mo).set($.id,$);const{annotationElementId:ht}=$;ht&&_t(this,qr).isDeletedAnnotationElement(ht)&&_t(this,qr).removeDeletedAnnotationElement($)}detach($){var ht;_t(this,Mo).delete($.id),(ht=_t(this,zp))==null||ht.removePointerInTextLayer($.contentDiv),!_t(this,ev)&&$.annotationElementId&&_t(this,qr).addDeletedAnnotationElement($)}remove($){this.detach($),_t(this,qr).removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,_t(this,_g)||this.addInkEditorIfNeeded(!1)}changeParent($){var ht;$.parent!==this&&($.parent&&$.annotationElementId&&(_t(this,qr).addDeletedAnnotationElement($.annotationElementId),AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),(ht=$.parent)==null||ht.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(!($.parent===this&&$.isAttachedToDOM)){if(this.changeParent($),_t(this,qr).addEditor($),this.attach($),!$.isAttachedToDOM){const ht=$.render();this.div.append(ht),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),_t(this,qr).addToAnnotationStorage($),$._reportTelemetry($.telemetryInitialData)}}moveEditorInDOM($){var vt;if(!$.isAttachedToDOM)return;const{activeElement:ht}=document;$.div.contains(ht)&&!_t(this,du)&&($._focusEventsAllowed=!1,zt(this,du,setTimeout(()=>{zt(this,du,null),$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),ht.focus())},0))),$._structTreeParentId=(vt=_t(this,zp))==null?void 0:vt.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||($.parent=this),$.rebuild(),$.show()):this.add($)}addUndoableEditor($){const ht=()=>$._uiManager.rebuild($),vt=()=>{$.remove()};this.addCommands({cmd:ht,undo:vt,mustExec:!1})}getNextId(){return _t(this,qr).getId()}canCreateNewEmptyEditor(){var $;return($=_t(this,co,bA))==null?void 0:$.canCreateNewEmptyEditor()}pasteEditor($,ht){_t(this,qr).updateToolbar($),_t(this,qr).updateMode($);const{offsetX:vt,offsetY:bt}=Ut(this,co,AA).call(this),wt=this.getNextId(),At=Ut(this,co,wA).call(this,{parent:this,id:wt,x:vt,y:bt,uiManager:_t(this,qr),isCentered:!0,...ht});At&&this.add(At)}deserialize($){var ht;return((ht=_t(Uo,Hu).get($.annotationType??$.annotationEditorType))==null?void 0:ht.deserialize($,this,_t(this,qr)))||null}createAndAddNewEditor($,ht,vt={}){const bt=this.getNextId(),wt=Ut(this,co,wA).call(this,{parent:this,id:bt,x:$.offsetX,y:$.offsetY,uiManager:_t(this,qr),isCentered:ht,...vt});return wt&&this.add(wt),wt}addNewEditor(){this.createAndAddNewEditor(Ut(this,co,AA).call(this),!0)}setSelected($){_t(this,qr).setSelected($)}toggleSelected($){_t(this,qr).toggleSelected($)}isSelected($){return _t(this,qr).isSelected($)}unselect($){_t(this,qr).unselect($)}pointerup($){const{isMac:ht}=util_FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&ht)&&$.target===this.div&&_t(this,Vu)){if(zt(this,Vu,!1),!_t(this,Jm)){zt(this,Jm,!0);return}if(_t(this,qr).getMode()===AnnotationEditorType.STAMP){_t(this,qr).unselectAll();return}this.createAndAddNewEditor($,!1)}}pointerdown($){if(_t(this,qr).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),_t(this,Vu)){zt(this,Vu,!1);return}const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht||$.target!==this.div)return;zt(this,Vu,!0);const vt=_t(this,qr).getActive();zt(this,Jm,!vt||vt.isEmpty())}findNewParent($,ht,vt){const bt=_t(this,qr).findParent(ht,vt);return bt===null||bt===this?!1:(bt.changeParent($),!0)}destroy(){var $,ht;(($=_t(this,qr).getActive())==null?void 0:$.parent)===this&&(_t(this,qr).commitOrRemove(),_t(this,qr).setActiveEditor(null)),_t(this,du)&&(clearTimeout(_t(this,du)),zt(this,du,null));for(const vt of _t(this,Mo).values())(ht=_t(this,zp))==null||ht.removePointerInTextLayer(vt.contentDiv),vt.setParent(null),vt.isAttachedToDOM=!1,vt.div.remove();this.div=null,_t(this,Mo).clear(),_t(this,qr).removeLayer(this)}render({viewport:$}){this.viewport=$,setLayerDimensions(this.div,$);for(const ht of _t(this,qr).getEditors(this.pageIndex))this.add(ht),ht.rebuild();this.updateMode()}update({viewport:$}){_t(this,qr).commitOrRemove(),Ut(this,co,D0).call(this);const ht=this.viewport.rotation,vt=$.rotation;if(this.viewport=$,setLayerDimensions(this.div,{rotation:vt}),ht!==vt)for(const bt of _t(this,Mo).values())bt.rotate(vt);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:$,pageHeight:ht}=this.viewport.rawDims;return[$,ht]}get scale(){return _t(this,qr).viewParameters.realScale}};zp=new WeakMap,Jm=new WeakMap,Fl=new WeakMap,Wp=new WeakMap,cu=new WeakMap,uu=new WeakMap,du=new WeakMap,Mo=new WeakMap,Vu=new WeakMap,_g=new WeakMap,ev=new WeakMap,go=new WeakMap,qr=new WeakMap,Hu=new WeakMap,co=new WeakSet,zS=function($){if(_t(this,qr).unselectAll(),$.target===_t(this,go).div){const{isMac:ht}=util_FeatureTest.platform;if($.button!==0||$.ctrlKey&&ht)return;_t(this,qr).showAllEditors("highlight",!0,!0),_t(this,go).div.classList.add("free"),HighlightEditor.startHighlighting(this,_t(this,qr).direction==="ltr",$),_t(this,go).div.addEventListener("pointerup",()=>{_t(this,go).div.classList.remove("free")},{once:!0}),$.preventDefault()}},bA=function(){return _t(Uo,Hu).get(_t(this,qr).getMode())},wA=function($){const ht=_t(this,co,bA);return ht?new ht.prototype.constructor($):null},AA=function(){const{x:$,y:ht,width:vt,height:bt}=this.div.getBoundingClientRect(),wt=Math.max(0,$),At=Math.max(0,ht),Et=Math.min(window.innerWidth,$+vt),St=Math.min(window.innerHeight,ht+bt),Ct=(wt+Et)/2-$,xt=(At+St)/2-ht,[Pt,kt]=this.viewport.rotation%180===0?[Ct,xt]:[xt,Ct];return{offsetX:Pt,offsetY:kt}},D0=function(){zt(this,_g,!0);for(const $ of _t(this,Mo).values())$.isEmpty()&&$.remove();zt(this,_g,!1)},xr(Uo,"_initialized",!1),Kt(Uo,Hu,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor].map($=>[$._editorType,$])));let AnnotationEditorLayer=Uo;var Dl,t0,Xs,ju,n0,EA,Kp,SA,WS;const no=class no{constructor({pageIndex:$}){Kt(this,Kp);Kt(this,Dl,null);Kt(this,t0,0);Kt(this,Xs,new Map);Kt(this,ju,new Map);this.pageIndex=$}setParent($){if(!_t(this,Dl)){zt(this,Dl,$);return}if(_t(this,Dl)!==$){if(_t(this,Xs).size>0)for(const ht of _t(this,Xs).values())ht.remove(),$.append(ht);zt(this,Dl,$)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}highlight($,ht,vt,bt=!1){const wt=to(this,t0)._++,At=Ut(this,Kp,SA).call(this,$.box);At.classList.add("highlight"),$.free&&At.classList.add("free");const Et=no._svgFactory.createElement("defs");At.append(Et);const St=no._svgFactory.createElement("path");Et.append(St);const Ct=`path_p${this.pageIndex}_${wt}`;St.setAttribute("id",Ct),St.setAttribute("d",$.toSVGPath()),bt&&_t(this,ju).set(wt,St);const xt=Ut(this,Kp,WS).call(this,Et,Ct),Pt=no._svgFactory.createElement("use");return At.append(Pt),At.setAttribute("fill",ht),At.setAttribute("fill-opacity",vt),Pt.setAttribute("href",`#${Ct}`),_t(this,Xs).set(wt,At),{id:wt,clipPathId:`url(#${xt})`}}highlightOutline($){const ht=to(this,t0)._++,vt=Ut(this,Kp,SA).call(this,$.box);vt.classList.add("highlightOutline");const bt=no._svgFactory.createElement("defs");vt.append(bt);const wt=no._svgFactory.createElement("path");bt.append(wt);const At=`path_p${this.pageIndex}_${ht}`;wt.setAttribute("id",At),wt.setAttribute("d",$.toSVGPath()),wt.setAttribute("vector-effect","non-scaling-stroke");let Et;if($.free){vt.classList.add("free");const xt=no._svgFactory.createElement("mask");bt.append(xt),Et=`mask_p${this.pageIndex}_${ht}`,xt.setAttribute("id",Et),xt.setAttribute("maskUnits","objectBoundingBox");const Pt=no._svgFactory.createElement("rect");xt.append(Pt),Pt.setAttribute("width","1"),Pt.setAttribute("height","1"),Pt.setAttribute("fill","white");const kt=no._svgFactory.createElement("use");xt.append(kt),kt.setAttribute("href",`#${At}`),kt.setAttribute("stroke","none"),kt.setAttribute("fill","black"),kt.setAttribute("fill-rule","nonzero"),kt.classList.add("mask")}const St=no._svgFactory.createElement("use");vt.append(St),St.setAttribute("href",`#${At}`),Et&&St.setAttribute("mask",`url(#${Et})`);const Ct=St.cloneNode();return vt.append(Ct),St.classList.add("mainOutline"),Ct.classList.add("secondaryOutline"),_t(this,Xs).set(ht,vt),ht}finalizeLine($,ht){const vt=_t(this,ju).get($);_t(this,ju).delete($),this.updateBox($,ht.box),vt.setAttribute("d",ht.toSVGPath())}updateLine($,ht){_t(this,Xs).get($).firstChild.firstChild.setAttribute("d",ht.toSVGPath())}removeFreeHighlight($){this.remove($),_t(this,ju).delete($)}updatePath($,ht){_t(this,ju).get($).setAttribute("d",ht.toSVGPath())}updateBox($,ht){var vt;Ut(vt=no,n0,EA).call(vt,_t(this,Xs).get($),ht)}show($,ht){_t(this,Xs).get($).classList.toggle("hidden",!ht)}rotate($,ht){_t(this,Xs).get($).setAttribute("data-main-rotation",ht)}changeColor($,ht){_t(this,Xs).get($).setAttribute("fill",ht)}changeOpacity($,ht){_t(this,Xs).get($).setAttribute("fill-opacity",ht)}addClass($,ht){_t(this,Xs).get($).classList.add(ht)}removeClass($,ht){_t(this,Xs).get($).classList.remove(ht)}remove($){_t(this,Dl)!==null&&(_t(this,Xs).get($).remove(),_t(this,Xs).delete($))}destroy(){zt(this,Dl,null);for(const $ of _t(this,Xs).values())$.remove();_t(this,Xs).clear()}};Dl=new WeakMap,t0=new WeakMap,Xs=new WeakMap,ju=new WeakMap,n0=new WeakSet,EA=function($,{x:ht=0,y:vt=0,width:bt=1,height:wt=1}={}){const{style:At}=$;At.top=`${100*vt}%`,At.left=`${100*ht}%`,At.width=`${100*bt}%`,At.height=`${100*wt}%`},Kp=new WeakSet,SA=function($){var vt;const ht=no._svgFactory.create(1,1,!0);return _t(this,Dl).append(ht),ht.setAttribute("aria-hidden",!0),Ut(vt=no,n0,EA).call(vt,ht,$),ht},WS=function($,ht){const vt=no._svgFactory.createElement("clipPath");$.append(vt);const bt=`clip_${ht}`;vt.setAttribute("id",bt),vt.setAttribute("clipPathUnits","objectBoundingBox");const wt=no._svgFactory.createElement("use");return vt.append(wt),wt.setAttribute("href",`#${ht}`),wt.classList.add("clip"),bt},Kt(no,n0);let DrawLayer=no;__webpack_exports__.AbortException;__webpack_exports__.AnnotationEditorLayer;__webpack_exports__.AnnotationEditorParamsType;__webpack_exports__.AnnotationEditorType;__webpack_exports__.AnnotationEditorUIManager;__webpack_exports__.AnnotationLayer;__webpack_exports__.AnnotationMode;__webpack_exports__.CMapCompressionType;__webpack_exports__.ColorPicker;__webpack_exports__.DOMSVGFactory;__webpack_exports__.DrawLayer;__webpack_exports__.FeatureTest;var __webpack_exports__GlobalWorkerOptions=__webpack_exports__.GlobalWorkerOptions;__webpack_exports__.ImageKind;__webpack_exports__.InvalidPDFException;__webpack_exports__.MissingPDFException;__webpack_exports__.OPS;__webpack_exports__.Outliner;__webpack_exports__.PDFDataRangeTransport;__webpack_exports__.PDFDateString;__webpack_exports__.PDFWorker;__webpack_exports__.PasswordResponses;__webpack_exports__.PermissionFlag;__webpack_exports__.PixelsPerInch;__webpack_exports__.RenderingCancelledException;__webpack_exports__.TextLayer;__webpack_exports__.UnexpectedResponseException;__webpack_exports__.Util;__webpack_exports__.VerbosityLevel;__webpack_exports__.XfaLayer;__webpack_exports__.build;__webpack_exports__.createValidAbsoluteUrl;__webpack_exports__.fetchData;__webpack_exports__.getDocument;__webpack_exports__.getFilenameFromUrl;__webpack_exports__.getPdfFilenameFromUrl;__webpack_exports__.getXfaPageViewport;__webpack_exports__.isDataScheme;__webpack_exports__.isPdfFile;__webpack_exports__.noContextMenu;__webpack_exports__.normalizeUnicode;__webpack_exports__.renderTextLayer;__webpack_exports__.setLayerDimensions;__webpack_exports__.shadow;__webpack_exports__.updateTextLayer;__webpack_exports__.version;function commonjsRequire(_e){throw new Error('Could not dynamically require "'+_e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function($,ht){module.exports=$.pdfjsLib=ht()})(globalThis,()=>(()=>{var __webpack_modules__=[,(_e,$)=>{var rs;Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.TextRenderingMode=$.RenderingIntentFlag=$.PromiseCapability=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.MAX_IMAGE_SIZE_TO_CACHE=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationReplyType=$.AnnotationPrefix=$.AnnotationMode=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.assert=nn,$.bytesToString=Un,$.createValidAbsoluteUrl=Cn,$.getModificationDate=ir,$.getUuid=_r,$.getVerbosityLevel=cn,$.info=An,$.isArrayBuffer=kn,$.isArrayEqual=ar,$.isNodeJS=void 0,$.normalizeUnicode=fr,$.objectFromMap=Qn,$.objectSize=Zn,$.setVerbosityLevel=Sn,$.shadow=rn,$.string32=Kn,$.stringToBytes=zn,$.stringToPDFString=Wn,$.stringToUTF8String=Jn,$.unreachable=fn,$.utf8StringToString=Xn,$.warn=dn;const ht=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=ht;const vt=[1,0,0,1,0,0];$.IDENTITY_MATRIX=vt;const bt=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=bt;const wt=1e7;$.MAX_IMAGE_SIZE_TO_CACHE=wt;const At=1.35;$.LINE_FACTOR=At;const Et=.35;$.LINE_DESCENT_FACTOR=Et;const St=Et/At;$.BASELINE_FACTOR=St;const Ct={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=Ct;const xt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=xt;const Pt="pdfjs_internal_editor_";$.AnnotationEditorPrefix=Pt;const kt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};$.AnnotationEditorType=kt;const Rt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};$.AnnotationEditorParamsType=Rt;const Mt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=Mt;const Ft={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=Ft;const $t={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=$t;const Lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=Lt;const Dt={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Dt;const Ot={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Ot;const Bt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=Bt;const Nt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=Nt;const Ht={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=Ht;const Vt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=Vt;const jt={O:"PageOpen",C:"PageClose"};$.PageActionEventType=jt;const qt={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=qt;const Jt={NONE:0,BINARY:1};$.CMapCompressionType=Jt;const Gt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=Gt;const en={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=en;let an=qt.WARNINGS;function Sn(qn){Number.isInteger(qn)&&(an=qn)}function cn(){return an}function An(qn){an>=qt.INFOS&&console.log(`Info: ${qn}`)}function dn(qn){an>=qt.WARNINGS&&console.log(`Warning: ${qn}`)}function fn(qn){throw new Error(qn)}function nn(qn,Mn){qn||fn(Mn)}function gn(qn){switch(qn==null?void 0:qn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Cn(qn,Mn=null,Fn=null){if(!qn)return null;try{if(Fn&&typeof qn=="string"){if(Fn.addDefaultProtocol&&qn.startsWith("www.")){const gr=qn.match(/\./g);(gr==null?void 0:gr.length)>=2&&(qn=`http://${qn}`)}if(Fn.tryConvertEncoding)try{qn=Jn(qn)}catch{}}const hr=Mn?new URL(qn,Mn):new URL(qn);if(gn(hr))return hr}catch{}return null}function rn(qn,Mn,Fn,hr=!1){return Object.defineProperty(qn,Mn,{value:Fn,enumerable:!hr,configurable:!0,writable:!1}),Fn}const Xt=function(){function Mn(Fn,hr){this.constructor===Mn&&fn("Cannot initialize BaseException."),this.message=Fn,this.name=hr}return Mn.prototype=new Error,Mn.constructor=Mn,Mn}();$.BaseException=Xt;class Yt extends Xt{constructor(Mn,Fn){super(Mn,"PasswordException"),this.code=Fn}}$.PasswordException=Yt;class tn extends Xt{constructor(Mn,Fn){super(Mn,"UnknownErrorException"),this.details=Fn}}$.UnknownErrorException=tn;class hn extends Xt{constructor(Mn){super(Mn,"InvalidPDFException")}}$.InvalidPDFException=hn;class un extends Xt{constructor(Mn){super(Mn,"MissingPDFException")}}$.MissingPDFException=un;class pn extends Xt{constructor(Mn,Fn){super(Mn,"UnexpectedResponseException"),this.status=Fn}}$.UnexpectedResponseException=pn;class Pn extends Xt{constructor(Mn){super(Mn,"FormatError")}}$.FormatError=Pn;class Vn extends Xt{constructor(Mn){super(Mn,"AbortException")}}$.AbortException=Vn;function Un(qn){(typeof qn!="object"||(qn==null?void 0:qn.length)===void 0)&&fn("Invalid argument for bytesToString");const Mn=qn.length,Fn=8192;if(Mn<Fn)return String.fromCharCode.apply(null,qn);const hr=[];for(let gr=0;gr<Mn;gr+=Fn){const kr=Math.min(gr+Fn,Mn),yn=qn.subarray(gr,kr);hr.push(String.fromCharCode.apply(null,yn))}return hr.join("")}function zn(qn){typeof qn!="string"&&fn("Invalid argument for stringToBytes");const Mn=qn.length,Fn=new Uint8Array(Mn);for(let hr=0;hr<Mn;++hr)Fn[hr]=qn.charCodeAt(hr)&255;return Fn}function Kn(qn){return String.fromCharCode(qn>>24&255,qn>>16&255,qn>>8&255,qn&255)}function Zn(qn){return Object.keys(qn).length}function Qn(qn){const Mn=Object.create(null);for(const[Fn,hr]of qn)Mn[Fn]=hr;return Mn}function In(){const qn=new Uint8Array(4);return qn[0]=1,new Uint32Array(qn.buffer,0,1)[0]===1}function On(){try{return new Function(""),!0}catch{return!1}}class sn{static get isLittleEndian(){return rn(this,"isLittleEndian",In())}static get isEvalSupported(){return rn(this,"isEvalSupported",On())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Mn,Fn;return rn(this,"isCSSRoundSupported",(Fn=(Mn=globalThis.CSS)==null?void 0:Mn.supports)==null?void 0:Fn.call(Mn,"width: round(1.5px, 1px)"))}}$.FeatureTest=sn;const vn=[...Array(256).keys()].map(qn=>qn.toString(16).padStart(2,"0"));class Rn{static makeHexColor(Mn,Fn,hr){return`#${vn[Mn]}${vn[Fn]}${vn[hr]}`}static scaleMinMax(Mn,Fn){let hr;Mn[0]?(Mn[0]<0&&(hr=Fn[0],Fn[0]=Fn[1],Fn[1]=hr),Fn[0]*=Mn[0],Fn[1]*=Mn[0],Mn[3]<0&&(hr=Fn[2],Fn[2]=Fn[3],Fn[3]=hr),Fn[2]*=Mn[3],Fn[3]*=Mn[3]):(hr=Fn[0],Fn[0]=Fn[2],Fn[2]=hr,hr=Fn[1],Fn[1]=Fn[3],Fn[3]=hr,Mn[1]<0&&(hr=Fn[2],Fn[2]=Fn[3],Fn[3]=hr),Fn[2]*=Mn[1],Fn[3]*=Mn[1],Mn[2]<0&&(hr=Fn[0],Fn[0]=Fn[1],Fn[1]=hr),Fn[0]*=Mn[2],Fn[1]*=Mn[2]),Fn[0]+=Mn[4],Fn[1]+=Mn[4],Fn[2]+=Mn[5],Fn[3]+=Mn[5]}static transform(Mn,Fn){return[Mn[0]*Fn[0]+Mn[2]*Fn[1],Mn[1]*Fn[0]+Mn[3]*Fn[1],Mn[0]*Fn[2]+Mn[2]*Fn[3],Mn[1]*Fn[2]+Mn[3]*Fn[3],Mn[0]*Fn[4]+Mn[2]*Fn[5]+Mn[4],Mn[1]*Fn[4]+Mn[3]*Fn[5]+Mn[5]]}static applyTransform(Mn,Fn){const hr=Mn[0]*Fn[0]+Mn[1]*Fn[2]+Fn[4],gr=Mn[0]*Fn[1]+Mn[1]*Fn[3]+Fn[5];return[hr,gr]}static applyInverseTransform(Mn,Fn){const hr=Fn[0]*Fn[3]-Fn[1]*Fn[2],gr=(Mn[0]*Fn[3]-Mn[1]*Fn[2]+Fn[2]*Fn[5]-Fn[4]*Fn[3])/hr,kr=(-Mn[0]*Fn[1]+Mn[1]*Fn[0]+Fn[4]*Fn[1]-Fn[5]*Fn[0])/hr;return[gr,kr]}static getAxialAlignedBoundingBox(Mn,Fn){const hr=this.applyTransform(Mn,Fn),gr=this.applyTransform(Mn.slice(2,4),Fn),kr=this.applyTransform([Mn[0],Mn[3]],Fn),yn=this.applyTransform([Mn[2],Mn[1]],Fn);return[Math.min(hr[0],gr[0],kr[0],yn[0]),Math.min(hr[1],gr[1],kr[1],yn[1]),Math.max(hr[0],gr[0],kr[0],yn[0]),Math.max(hr[1],gr[1],kr[1],yn[1])]}static inverseTransform(Mn){const Fn=Mn[0]*Mn[3]-Mn[1]*Mn[2];return[Mn[3]/Fn,-Mn[1]/Fn,-Mn[2]/Fn,Mn[0]/Fn,(Mn[2]*Mn[5]-Mn[4]*Mn[3])/Fn,(Mn[4]*Mn[1]-Mn[5]*Mn[0])/Fn]}static singularValueDecompose2dScale(Mn){const Fn=[Mn[0],Mn[2],Mn[1],Mn[3]],hr=Mn[0]*Fn[0]+Mn[1]*Fn[2],gr=Mn[0]*Fn[1]+Mn[1]*Fn[3],kr=Mn[2]*Fn[0]+Mn[3]*Fn[2],yn=Mn[2]*Fn[1]+Mn[3]*Fn[3],Gn=(hr+yn)/2,or=Math.sqrt((hr+yn)**2-4*(hr*yn-kr*gr))/2,vr=Gn+or||1,wr=Gn-or||1;return[Math.sqrt(vr),Math.sqrt(wr)]}static normalizeRect(Mn){const Fn=Mn.slice(0);return Mn[0]>Mn[2]&&(Fn[0]=Mn[2],Fn[2]=Mn[0]),Mn[1]>Mn[3]&&(Fn[1]=Mn[3],Fn[3]=Mn[1]),Fn}static intersect(Mn,Fn){const hr=Math.max(Math.min(Mn[0],Mn[2]),Math.min(Fn[0],Fn[2])),gr=Math.min(Math.max(Mn[0],Mn[2]),Math.max(Fn[0],Fn[2]));if(hr>gr)return null;const kr=Math.max(Math.min(Mn[1],Mn[3]),Math.min(Fn[1],Fn[3])),yn=Math.min(Math.max(Mn[1],Mn[3]),Math.max(Fn[1],Fn[3]));return kr>yn?null:[hr,kr,gr,yn]}static bezierBoundingBox(Mn,Fn,hr,gr,kr,yn,Gn,or){const vr=[],wr=[[],[]];let dr,mn,ln,xn,Hn,jn,Yn,nr;for(let Hr=0;Hr<2;++Hr){if(Hr===0?(mn=6*Mn-12*hr+6*kr,dr=-3*Mn+9*hr-9*kr+3*Gn,ln=3*hr-3*Mn):(mn=6*Fn-12*gr+6*yn,dr=-3*Fn+9*gr-9*yn+3*or,ln=3*gr-3*Fn),Math.abs(dr)<1e-12){if(Math.abs(mn)<1e-12)continue;xn=-ln/mn,0<xn&&xn<1&&vr.push(xn);continue}Yn=mn*mn-4*ln*dr,nr=Math.sqrt(Yn),!(Yn<0)&&(Hn=(-mn+nr)/(2*dr),0<Hn&&Hn<1&&vr.push(Hn),jn=(-mn-nr)/(2*dr),0<jn&&jn<1&&vr.push(jn))}let yr=vr.length,pr;const cr=yr;for(;yr--;)xn=vr[yr],pr=1-xn,wr[0][yr]=pr*pr*pr*Mn+3*pr*pr*xn*hr+3*pr*xn*xn*kr+xn*xn*xn*Gn,wr[1][yr]=pr*pr*pr*Fn+3*pr*pr*xn*gr+3*pr*xn*xn*yn+xn*xn*xn*or;return wr[0][cr]=Mn,wr[1][cr]=Fn,wr[0][cr+1]=Gn,wr[1][cr+1]=or,wr[0].length=wr[1].length=cr+2,[Math.min(...wr[0]),Math.min(...wr[1]),Math.max(...wr[0]),Math.max(...wr[1])]}}$.Util=Rn;const Nn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Wn(qn){if(qn[0]>="ï"){let Fn;if(qn[0]==="þ"&&qn[1]==="ÿ"?Fn="utf-16be":qn[0]==="ÿ"&&qn[1]==="þ"?Fn="utf-16le":qn[0]==="ï"&&qn[1]==="»"&&qn[2]==="¿"&&(Fn="utf-8"),Fn)try{const hr=new TextDecoder(Fn,{fatal:!0}),gr=zn(qn);return hr.decode(gr)}catch(hr){dn(`stringToPDFString: "${hr}".`)}}const Mn=[];for(let Fn=0,hr=qn.length;Fn<hr;Fn++){const gr=Nn[qn.charCodeAt(Fn)];Mn.push(gr?String.fromCharCode(gr):qn.charAt(Fn))}return Mn.join("")}function Jn(qn){return decodeURIComponent(escape(qn))}function Xn(qn){return unescape(encodeURIComponent(qn))}function kn(qn){return typeof qn=="object"&&(qn==null?void 0:qn.byteLength)!==void 0}function ar(qn,Mn){if(qn.length!==Mn.length)return!1;for(let Fn=0,hr=qn.length;Fn<hr;Fn++)if(qn[Fn]!==Mn[Fn])return!1;return!0}function ir(qn=new Date){return[qn.getUTCFullYear().toString(),(qn.getUTCMonth()+1).toString().padStart(2,"0"),qn.getUTCDate().toString().padStart(2,"0"),qn.getUTCHours().toString().padStart(2,"0"),qn.getUTCMinutes().toString().padStart(2,"0"),qn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Nr{constructor(){Kt(this,rs,!1);this.promise=new Promise((Mn,Fn)=>{this.resolve=hr=>{zt(this,rs,!0),Mn(hr)},this.reject=hr=>{zt(this,rs,!0),Fn(hr)}})}get settled(){return _t(this,rs)}}rs=new WeakMap,$.PromiseCapability=Nr;let Rr=null,Yr=null;function fr(qn){return Rr||(Rr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Yr=new Map([["ﬅ","ſt"]])),qn.replaceAll(Rr,(Mn,Fn,hr)=>Fn?Fn.normalize("NFKC"):Yr.get(hr))}function _r(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const qn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(qn);else for(let Mn=0;Mn<32;Mn++)qn[Mn]=Math.floor(Math.random()*255);return Un(qn)}const Ur="pdfjs_internal_id_";$.AnnotationPrefix=Ur},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var _e,ht,vt,bt,im,I0,Et,St,Ct,xt,Pt,kt,Rt,Mt,Ft,$0,Lt,Dt,_A,Bt,Nt;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Vt){if(typeof Vt=="string"||Vt instanceof URL?Vt={url:Vt}:(0,_util.isArrayBuffer)(Vt)&&(Vt={data:Vt}),typeof Vt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Vt.url&&!Vt.data&&!Vt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const jt=new PDFDocumentLoadingTask,{docId:qt}=jt,Jt=Vt.url?getUrlProp(Vt.url):null,Gt=Vt.data?getDataProp(Vt.data):null,en=Vt.httpHeaders||null,an=Vt.withCredentials===!0,Sn=Vt.password??null,cn=Vt.range instanceof PDFDataRangeTransport?Vt.range:null,An=Number.isInteger(Vt.rangeChunkSize)&&Vt.rangeChunkSize>0?Vt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let dn=Vt.worker instanceof PDFWorker?Vt.worker:null;const fn=Vt.verbosity,nn=typeof Vt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Vt.docBaseUrl)?Vt.docBaseUrl:null,gn=typeof Vt.cMapUrl=="string"?Vt.cMapUrl:null,Cn=Vt.cMapPacked!==!1,rn=Vt.CMapReaderFactory||DefaultCMapReaderFactory,Xt=typeof Vt.standardFontDataUrl=="string"?Vt.standardFontDataUrl:null,Yt=Vt.StandardFontDataFactory||DefaultStandardFontDataFactory,tn=Vt.stopAtErrors!==!0,hn=Number.isInteger(Vt.maxImageSize)&&Vt.maxImageSize>-1?Vt.maxImageSize:-1,un=Vt.isEvalSupported!==!1,pn=typeof Vt.isOffscreenCanvasSupported=="boolean"?Vt.isOffscreenCanvasSupported:!_util.isNodeJS,Pn=Number.isInteger(Vt.canvasMaxAreaInBytes)?Vt.canvasMaxAreaInBytes:-1,Vn=typeof Vt.disableFontFace=="boolean"?Vt.disableFontFace:_util.isNodeJS,Un=Vt.fontExtraProperties===!0,zn=Vt.enableXfa===!0,Kn=Vt.ownerDocument||globalThis.document,Zn=Vt.disableRange===!0,Qn=Vt.disableStream===!0,In=Vt.disableAutoFetch===!0,On=Vt.pdfBug===!0,sn=cn?cn.length:Vt.length??NaN,vn=typeof Vt.useSystemFonts=="boolean"?Vt.useSystemFonts:!_util.isNodeJS&&!Vn,Rn=typeof Vt.useWorkerFetch=="boolean"?Vt.useWorkerFetch:rn===_display_utils.DOMCMapReaderFactory&&Yt===_display_utils.DOMStandardFontDataFactory&&gn&&Xt&&(0,_display_utils.isValidFetchUrl)(gn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Xt,document.baseURI),Nn=Vt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Kn}),Wn=Vt.filterFactory||new DefaultFilterFactory({docId:qt,ownerDocument:Kn}),Jn=null;(0,_util.setVerbosityLevel)(fn);const Xn={canvasFactory:Nn,filterFactory:Wn};if(Rn||(Xn.cMapReaderFactory=new rn({baseUrl:gn,isCompressed:Cn}),Xn.standardFontDataFactory=new Yt({baseUrl:Xt})),!dn){const ir={verbosity:fn,port:_worker_options.GlobalWorkerOptions.workerPort};dn=ir.port?PDFWorker.fromPort(ir):new PDFWorker(ir),jt._worker=dn}const kn={docId:qt,apiVersion:"3.11.174",data:Gt,password:Sn,disableAutoFetch:In,rangeChunkSize:An,length:sn,docBaseUrl:nn,enableXfa:zn,evaluatorOptions:{maxImageSize:hn,disableFontFace:Vn,ignoreErrors:tn,isEvalSupported:un,isOffscreenCanvasSupported:pn,canvasMaxAreaInBytes:Pn,fontExtraProperties:Un,useSystemFonts:vn,cMapUrl:Rn?gn:null,standardFontDataUrl:Rn?Xt:null}},ar={ignoreErrors:tn,isEvalSupported:un,disableFontFace:Vn,fontExtraProperties:Un,enableXfa:zn,ownerDocument:Kn,disableAutoFetch:In,pdfBug:On,styleElement:Jn};return dn.promise.then(function(){if(jt.destroyed)throw new Error("Loading aborted");const ir=_fetchDocument(dn,kn),Nr=new Promise(function(Rr){let Yr;cn?Yr=new _transport_stream.PDFDataTransportStream({length:sn,initialData:cn.initialData,progressiveDone:cn.progressiveDone,contentDispositionFilename:cn.contentDispositionFilename,disableRange:Zn,disableStream:Qn},cn):Gt||(Yr=(_r=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(_r):(0,_display_utils.isValidFetchUrl)(_r.url)?new _displayFetch_stream.PDFFetchStream(_r):new _displayNetwork.PDFNetworkStream(_r))({url:Jt,length:sn,httpHeaders:en,withCredentials:an,rangeChunkSize:An,disableRange:Zn,disableStream:Qn})),Rr(Yr)});return Promise.all([ir,Nr]).then(function([Rr,Yr]){if(jt.destroyed)throw new Error("Loading aborted");const fr=new _message_handler.MessageHandler(qt,Rr,dn.port),_r=new WorkerTransport(fr,jt,Yr,ar,Xn);jt._transport=_r,fr.send("Ready",null)})}).catch(jt._capability.reject),jt}async function _fetchDocument(Vt,jt){if(Vt.destroyed)throw new Error("Worker was destroyed");const qt=await Vt.messageHandler.sendWithPromise("GetDocRequest",jt,jt.data?[jt.data.buffer]:null);if(Vt.destroyed)throw new Error("Worker was destroyed");return qt}function getUrlProp(Vt){if(Vt instanceof URL)return Vt.href;try{return new URL(Vt,window.location).href}catch{if(_util.isNodeJS&&typeof Vt=="string")return Vt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Vt){if(_util.isNodeJS&&typeof Buffer<"u"&&Vt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Vt instanceof Uint8Array&&Vt.byteLength===Vt.buffer.byteLength)return Vt;if(typeof Vt=="string")return(0,_util.stringToBytes)(Vt);if(typeof Vt=="object"&&!isNaN(Vt==null?void 0:Vt.length)||(0,_util.isArrayBuffer)(Vt))return new Uint8Array(Vt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const $=class ${constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${to($,_e)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var jt,qt,Jt;this.destroyed=!0;try{(jt=this._worker)!=null&&jt.port&&(this._worker._pendingDestroy=!0),await((qt=this._transport)==null?void 0:qt.destroy())}catch(Gt){throw(Jt=this._worker)!=null&&Jt.port&&delete this._worker._pendingDestroy,Gt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};_e=new WeakMap,Kt($,_e,0);let PDFDocumentLoadingTask=$;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(jt,qt,Jt=!1,Gt=null){this.length=jt,this.initialData=qt,this.progressiveDone=Jt,this.contentDispositionFilename=Gt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(jt){this._rangeListeners.push(jt)}addProgressListener(jt){this._progressListeners.push(jt)}addProgressiveReadListener(jt){this._progressiveReadListeners.push(jt)}addProgressiveDoneListener(jt){this._progressiveDoneListeners.push(jt)}onDataRange(jt,qt){for(const Jt of this._rangeListeners)Jt(jt,qt)}onDataProgress(jt,qt){this._readyCapability.promise.then(()=>{for(const Jt of this._progressListeners)Jt(jt,qt)})}onDataProgressiveRead(jt){this._readyCapability.promise.then(()=>{for(const qt of this._progressiveReadListeners)qt(jt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const jt of this._progressiveDoneListeners)jt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(jt,qt){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(jt,qt){this._pdfInfo=jt,this._transport=qt,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Jt=>{if(!Jt)return Jt;const Gt=[];for(const en in Jt)Gt.push(...Jt[en]);return Gt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(jt){return this._transport.getPage(jt)}getPageIndex(jt){return this._transport.getPageIndex(jt)}getDestinations(){return this._transport.getDestinations()}getDestination(jt){return this._transport.getDestination(jt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(jt=!1){return this._transport.startCleanup(jt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(jt,qt,Jt,Gt=!1){Kt(this,bt);Kt(this,ht,null);Kt(this,vt,!1);this._pageIndex=jt,this._pageInfo=qt,this._transport=Jt,this._stats=Gt?new _display_utils.StatTimer:null,this._pdfBug=Gt,this.commonObjs=Jt.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:jt,rotation:qt=this.rotate,offsetX:Jt=0,offsetY:Gt=0,dontFlip:en=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:jt,rotation:qt,offsetX:Jt,offsetY:Gt,dontFlip:en})}getAnnotations({intent:jt="display"}={}){const qt=this._transport.getRenderingIntent(jt);return this._transport.getAnnotations(this._pageIndex,qt.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var jt;return((jt=this._transport._htmlForXfa)==null?void 0:jt.children[this._pageIndex])||null}render({canvasContext:jt,viewport:qt,intent:Jt="display",annotationMode:Gt=_util.AnnotationMode.ENABLE,transform:en=null,background:an=null,optionalContentConfigPromise:Sn=null,annotationCanvasMap:cn=null,pageColors:An=null,printAnnotationStorage:dn=null}){var Yt,tn;(Yt=this._stats)==null||Yt.time("Overall");const fn=this._transport.getRenderingIntent(Jt,Gt,dn);zt(this,vt,!1),Ut(this,bt,I0).call(this),Sn||(Sn=this._transport.getOptionalContentConfig());let nn=this._intentStates.get(fn.cacheKey);nn||(nn=Object.create(null),this._intentStates.set(fn.cacheKey,nn)),nn.streamReaderCancelTimeout&&(clearTimeout(nn.streamReaderCancelTimeout),nn.streamReaderCancelTimeout=null);const gn=!!(fn.renderingIntent&_util.RenderingIntentFlag.PRINT);nn.displayReadyCapability||(nn.displayReadyCapability=new _util.PromiseCapability,nn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(tn=this._stats)==null||tn.time("Page Request"),this._pumpOperatorList(fn));const Cn=hn=>{var un,pn;nn.renderTasks.delete(rn),(this._maybeCleanupAfterRender||gn)&&zt(this,vt,!0),Ut(this,bt,im).call(this,!gn),hn?(rn.capability.reject(hn),this._abortOperatorList({intentState:nn,reason:hn instanceof Error?hn:new Error(hn)})):rn.capability.resolve(),(un=this._stats)==null||un.timeEnd("Rendering"),(pn=this._stats)==null||pn.timeEnd("Overall")},rn=new InternalRenderTask({callback:Cn,params:{canvasContext:jt,viewport:qt,transform:en,background:an},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:cn,operatorList:nn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!gn,pdfBug:this._pdfBug,pageColors:An});(nn.renderTasks||(nn.renderTasks=new Set)).add(rn);const Xt=rn.task;return Promise.all([nn.displayReadyCapability.promise,Sn]).then(([hn,un])=>{var pn;if(this.destroyed){Cn();return}(pn=this._stats)==null||pn.time("Rendering"),rn.initializeGraphics({transparency:hn,optionalContentConfig:un}),rn.operatorListChanged()}).catch(Cn),Xt}getOperatorList({intent:jt="display",annotationMode:qt=_util.AnnotationMode.ENABLE,printAnnotationStorage:Jt=null}={}){var cn;function Gt(){an.operatorList.lastChunk&&(an.opListReadCapability.resolve(an.operatorList),an.renderTasks.delete(Sn))}const en=this._transport.getRenderingIntent(jt,qt,Jt,!0);let an=this._intentStates.get(en.cacheKey);an||(an=Object.create(null),this._intentStates.set(en.cacheKey,an));let Sn;return an.opListReadCapability||(Sn=Object.create(null),Sn.operatorListChanged=Gt,an.opListReadCapability=new _util.PromiseCapability,(an.renderTasks||(an.renderTasks=new Set)).add(Sn),an.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(cn=this._stats)==null||cn.time("Page Request"),this._pumpOperatorList(en)),an.opListReadCapability.promise}streamTextContent({includeMarkedContent:jt=!1,disableNormalization:qt=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:jt===!0,disableNormalization:qt===!0},{highWaterMark:100,size(Gt){return Gt.items.length}})}getTextContent(jt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Jt=>_xfa_text.XfaText.textContent(Jt));const qt=this.streamTextContent(jt);return new Promise(function(Jt,Gt){function en(){an.read().then(function({value:cn,done:An}){if(An){Jt(Sn);return}Object.assign(Sn.styles,cn.styles),Sn.items.push(...cn.items),en()},Gt)}const an=qt.getReader(),Sn={items:[],styles:Object.create(null)};en()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const jt=[];for(const qt of this._intentStates.values())if(this._abortOperatorList({intentState:qt,reason:new Error("Page was destroyed."),force:!0}),!qt.opListReadCapability)for(const Jt of qt.renderTasks)jt.push(Jt.completed),Jt.cancel();return this.objs.clear(),zt(this,vt,!1),Ut(this,bt,I0).call(this),Promise.all(jt)}cleanup(jt=!1){zt(this,vt,!0);const qt=Ut(this,bt,im).call(this,!1);return jt&&qt&&this._stats&&(this._stats=new _display_utils.StatTimer),qt}_startRenderPage(jt,qt){var Gt,en;const Jt=this._intentStates.get(qt);Jt&&((Gt=this._stats)==null||Gt.timeEnd("Page Request"),(en=Jt.displayReadyCapability)==null||en.resolve(jt))}_renderPageChunk(jt,qt){for(let Jt=0,Gt=jt.length;Jt<Gt;Jt++)qt.operatorList.fnArray.push(jt.fnArray[Jt]),qt.operatorList.argsArray.push(jt.argsArray[Jt]);qt.operatorList.lastChunk=jt.lastChunk,qt.operatorList.separateAnnots=jt.separateAnnots;for(const Jt of qt.renderTasks)Jt.operatorListChanged();jt.lastChunk&&Ut(this,bt,im).call(this,!0)}_pumpOperatorList({renderingIntent:jt,cacheKey:qt,annotationStorageSerializable:Jt}){const{map:Gt,transfers:en}=Jt,Sn=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:jt,cacheKey:qt,annotationStorage:Gt},en).getReader(),cn=this._intentStates.get(qt);cn.streamReader=Sn;const An=()=>{Sn.read().then(({value:dn,done:fn})=>{if(fn){cn.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(dn,cn),An())},dn=>{if(cn.streamReader=null,!this._transport.destroyed){if(cn.operatorList){cn.operatorList.lastChunk=!0;for(const fn of cn.renderTasks)fn.operatorListChanged();Ut(this,bt,im).call(this,!0)}if(cn.displayReadyCapability)cn.displayReadyCapability.reject(dn);else if(cn.opListReadCapability)cn.opListReadCapability.reject(dn);else throw dn}})};An()}_abortOperatorList({intentState:jt,reason:qt,force:Jt=!1}){if(jt.streamReader){if(jt.streamReaderCancelTimeout&&(clearTimeout(jt.streamReaderCancelTimeout),jt.streamReaderCancelTimeout=null),!Jt){if(jt.renderTasks.size>0)return;if(qt instanceof _display_utils.RenderingCancelledException){let Gt=RENDERING_CANCELLED_TIMEOUT;qt.extraDelay>0&&qt.extraDelay<1e3&&(Gt+=qt.extraDelay),jt.streamReaderCancelTimeout=setTimeout(()=>{jt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:jt,reason:qt,force:!0})},Gt);return}}if(jt.streamReader.cancel(new _util.AbortException(qt.message)).catch(()=>{}),jt.streamReader=null,!this._transport.destroyed){for(const[Gt,en]of this._intentStates)if(en===jt){this._intentStates.delete(Gt);break}this.cleanup()}}}get stats(){return this._stats}}ht=new WeakMap,vt=new WeakMap,bt=new WeakSet,im=function(jt=!1){if(Ut(this,bt,I0).call(this),!_t(this,vt)||this.destroyed)return!1;if(jt)return zt(this,ht,setTimeout(()=>{zt(this,ht,null),Ut(this,bt,im).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:qt,operatorList:Jt}of this._intentStates.values())if(qt.size>0||!Jt.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),zt(this,vt,!1),!0},I0=function(){_t(this,ht)&&(clearTimeout(_t(this,ht)),zt(this,ht,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Kt(this,Et,new Set);Kt(this,St,Promise.resolve())}postMessage(jt,qt){const Jt={data:structuredClone(jt,qt?{transfer:qt}:null)};_t(this,St).then(()=>{for(const Gt of _t(this,Et))Gt.call(this,Jt)})}addEventListener(jt,qt){_t(this,Et).add(qt)}removeEventListener(jt,qt){_t(this,Et).delete(qt)}terminate(){_t(this,Et).clear()}}Et=new WeakMap,St=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Vt=(Ct=document==null?void 0:document.currentScript)==null?void 0:Ct.src;Vt&&(PDFWorkerUtil.fallbackWorkerSrc=Vt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Vt,jt){let qt;try{if(qt=new URL(Vt),!qt.origin||qt.origin==="null")return!1}catch{return!1}const Jt=new URL(jt,qt);return qt.origin===Jt.origin},PDFWorkerUtil.createCDNWrapper=function(Vt){const jt=`importScripts("${Vt}");`;return URL.createObjectURL(new Blob([jt]))}}const _PDFWorker=class _PDFWorker{constructor({name:Vt=null,port:jt=null,verbosity:qt=(0,_util.getVerbosityLevel)()}={}){var Jt;if(this.name=Vt,this.destroyed=!1,this.verbosity=qt,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,jt){if((Jt=_t(_PDFWorker,xt))!=null&&Jt.has(jt))throw new Error("Cannot use more than one PDFWorker per port.");(_t(_PDFWorker,xt)||zt(_PDFWorker,xt,new WeakMap)).set(jt,this),this._initializeFromPort(jt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Vt){this._port=Vt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Vt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Vt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Vt)||(Vt=PDFWorkerUtil.createCDNWrapper(new URL(Vt,window.location).href));const jt=new Worker(Vt),qt=new _message_handler.MessageHandler("main","worker",jt),Jt=()=>{jt.removeEventListener("error",Gt),qt.destroy(),jt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Gt=()=>{this._webWorker||Jt()};jt.addEventListener("error",Gt),qt.on("test",an=>{if(jt.removeEventListener("error",Gt),this.destroyed){Jt();return}an?(this._messageHandler=qt,this._port=jt,this._webWorker=jt,this._readyCapability.resolve(),qt.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),qt.destroy(),jt.terminate())}),qt.on("ready",an=>{if(jt.removeEventListener("error",Gt),this.destroyed){Jt();return}try{en()}catch{this._setupFakeWorker()}});const en=()=>{const an=new Uint8Array;qt.send("test",an,[an.buffer])};en();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Vt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const jt=new LoopbackPort;this._port=jt;const qt=`fake${PDFWorkerUtil.fakeWorkerId++}`,Jt=new _message_handler.MessageHandler(qt+"_worker",qt,jt);Vt.setup(Jt,jt);const Gt=new _message_handler.MessageHandler(qt,qt+"_worker",jt);this._messageHandler=Gt,this._readyCapability.resolve(),Gt.send("configure",{verbosity:this.verbosity})}).catch(Vt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Vt.message}".`))})}destroy(){var Vt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Vt=_t(_PDFWorker,xt))==null||Vt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Vt){var qt;if(!(Vt!=null&&Vt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const jt=(qt=_t(this,xt))==null?void 0:qt.get(Vt.port);if(jt){if(jt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return jt}return new _PDFWorker(Vt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Vt;try{return((Vt=globalThis.pdfjsWorker)==null?void 0:Vt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};xt=new WeakMap,Kt(_PDFWorker,xt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(jt,qt,Jt,Gt,en){Kt(this,Ft);Kt(this,Pt,new Map);Kt(this,kt,new Map);Kt(this,Rt,new Map);Kt(this,Mt,null);this.messageHandler=jt,this.loadingTask=qt,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Gt.ownerDocument,styleElement:Gt.styleElement}),this._params=Gt,this.canvasFactory=en.canvasFactory,this.filterFactory=en.filterFactory,this.cMapReaderFactory=en.cMapReaderFactory,this.standardFontDataFactory=en.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Jt,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(jt,qt=_util.AnnotationMode.ENABLE,Jt=null,Gt=!1){let en=_util.RenderingIntentFlag.DISPLAY,an=_annotation_storage.SerializableEmpty;switch(jt){case"any":en=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":en=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${jt}`)}switch(qt){case _util.AnnotationMode.DISABLE:en+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:en+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:en+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,an=(en&_util.RenderingIntentFlag.PRINT&&Jt instanceof _annotation_storage.PrintAnnotationStorage?Jt:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${qt}`)}return Gt&&(en+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:en,cacheKey:`${en}_${an.hash}`,annotationStorageSerializable:an}}destroy(){var Jt;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Jt=_t(this,Mt))==null||Jt.reject(new Error("Worker was destroyed during onPassword callback"));const jt=[];for(const Gt of _t(this,kt).values())jt.push(Gt._destroy());_t(this,kt).clear(),_t(this,Rt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const qt=this.messageHandler.sendWithPromise("Terminate",null);return jt.push(qt),Promise.all(jt).then(()=>{var Gt;this.commonObjs.clear(),this.fontLoader.clear(),_t(this,Pt).clear(),this.filterFactory.destroy(),(Gt=this._networkStream)==null||Gt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:jt,loadingTask:qt}=this;jt.on("GetReader",(Jt,Gt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=en=>{this._lastProgress={loaded:en.loaded,total:en.total}},Gt.onPull=()=>{this._fullReader.read().then(function({value:en,done:an}){if(an){Gt.close();return}(0,_util.assert)(en instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Gt.enqueue(new Uint8Array(en),1,[en])}).catch(en=>{Gt.error(en)})},Gt.onCancel=en=>{this._fullReader.cancel(en),Gt.ready.catch(an=>{if(!this.destroyed)throw an})}}),jt.on("ReaderHeadersReady",Jt=>{const Gt=new _util.PromiseCapability,en=this._fullReader;return en.headersReady.then(()=>{var an;(!en.isStreamingSupported||!en.isRangeSupported)&&(this._lastProgress&&((an=qt.onProgress)==null||an.call(qt,this._lastProgress)),en.onProgress=Sn=>{var cn;(cn=qt.onProgress)==null||cn.call(qt,{loaded:Sn.loaded,total:Sn.total})}),Gt.resolve({isStreamingSupported:en.isStreamingSupported,isRangeSupported:en.isRangeSupported,contentLength:en.contentLength})},Gt.reject),Gt.promise}),jt.on("GetRangeReader",(Jt,Gt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const en=this._networkStream.getRangeReader(Jt.begin,Jt.end);if(!en){Gt.close();return}Gt.onPull=()=>{en.read().then(function({value:an,done:Sn}){if(Sn){Gt.close();return}(0,_util.assert)(an instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Gt.enqueue(new Uint8Array(an),1,[an])}).catch(an=>{Gt.error(an)})},Gt.onCancel=an=>{en.cancel(an),Gt.ready.catch(Sn=>{if(!this.destroyed)throw Sn})}}),jt.on("GetDoc",({pdfInfo:Jt})=>{this._numPages=Jt.numPages,this._htmlForXfa=Jt.htmlForXfa,delete Jt.htmlForXfa,qt._capability.resolve(new PDFDocumentProxy(Jt,this))}),jt.on("DocException",function(Jt){let Gt;switch(Jt.name){case"PasswordException":Gt=new _util.PasswordException(Jt.message,Jt.code);break;case"InvalidPDFException":Gt=new _util.InvalidPDFException(Jt.message);break;case"MissingPDFException":Gt=new _util.MissingPDFException(Jt.message);break;case"UnexpectedResponseException":Gt=new _util.UnexpectedResponseException(Jt.message,Jt.status);break;case"UnknownErrorException":Gt=new _util.UnknownErrorException(Jt.message,Jt.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}qt._capability.reject(Gt)}),jt.on("PasswordRequest",Jt=>{if(zt(this,Mt,new _util.PromiseCapability),qt.onPassword){const Gt=en=>{en instanceof Error?_t(this,Mt).reject(en):_t(this,Mt).resolve({password:en})};try{qt.onPassword(Gt,Jt.code)}catch(en){_t(this,Mt).reject(en)}}else _t(this,Mt).reject(new _util.PasswordException(Jt.message,Jt.code));return _t(this,Mt).promise}),jt.on("DataLoaded",Jt=>{var Gt;(Gt=qt.onProgress)==null||Gt.call(qt,{loaded:Jt.length,total:Jt.length}),this.downloadInfoCapability.resolve(Jt)}),jt.on("StartRenderPage",Jt=>{if(this.destroyed)return;_t(this,kt).get(Jt.pageIndex)._startRenderPage(Jt.transparency,Jt.cacheKey)}),jt.on("commonobj",([Jt,Gt,en])=>{var an;if(!this.destroyed&&!this.commonObjs.has(Jt))switch(Gt){case"Font":const Sn=this._params;if("error"in en){const dn=en.error;(0,_util.warn)(`Error during font loading: ${dn}`),this.commonObjs.resolve(Jt,dn);break}const cn=Sn.pdfBug&&((an=globalThis.FontInspector)!=null&&an.enabled)?(dn,fn)=>globalThis.FontInspector.fontAdded(dn,fn):null,An=new _font_loader.FontFaceObject(en,{isEvalSupported:Sn.isEvalSupported,disableFontFace:Sn.disableFontFace,ignoreErrors:Sn.ignoreErrors,inspectFont:cn});this.fontLoader.bind(An).catch(dn=>jt.sendWithPromise("FontFallback",{id:Jt})).finally(()=>{!Sn.fontExtraProperties&&An.data&&(An.data=null),this.commonObjs.resolve(Jt,An)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Jt,en);break;default:throw new Error(`Got unknown common object type ${Gt}`)}}),jt.on("obj",([Jt,Gt,en,an])=>{var cn;if(this.destroyed)return;const Sn=_t(this,kt).get(Gt);if(!Sn.objs.has(Jt))switch(en){case"Image":if(Sn.objs.resolve(Jt,an),an){let An;if(an.bitmap){const{width:dn,height:fn}=an;An=dn*fn*4}else An=((cn=an.data)==null?void 0:cn.length)||0;An>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Sn._maybeCleanupAfterRender=!0)}break;case"Pattern":Sn.objs.resolve(Jt,an);break;default:throw new Error(`Got unknown object type ${en}`)}}),jt.on("DocProgress",Jt=>{var Gt;this.destroyed||(Gt=qt.onProgress)==null||Gt.call(qt,{loaded:Jt.loaded,total:Jt.total})}),jt.on("FetchBuiltInCMap",Jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Jt):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),jt.on("FetchStandardFontData",Jt=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Jt):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Jt;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:jt,transfers:qt}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:jt,filename:((Jt=this._fullReader)==null?void 0:Jt.filename)??null},qt).finally(()=>{this.annotationStorage.resetModified()})}getPage(jt){if(!Number.isInteger(jt)||jt<=0||jt>this._numPages)return Promise.reject(new Error("Invalid page request."));const qt=jt-1,Jt=_t(this,Rt).get(qt);if(Jt)return Jt;const Gt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:qt}).then(en=>{if(this.destroyed)throw new Error("Transport destroyed");const an=new PDFPageProxy(qt,en,this,this._params.pdfBug);return _t(this,kt).set(qt,an),an});return _t(this,Rt).set(qt,Gt),Gt}getPageIndex(jt){return typeof jt!="object"||jt===null||!Number.isInteger(jt.num)||jt.num<0||!Number.isInteger(jt.gen)||jt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:jt.num,gen:jt.gen})}getAnnotations(jt,qt){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:jt,intent:qt})}getFieldObjects(){return Ut(this,Ft,$0).call(this,"GetFieldObjects")}hasJSActions(){return Ut(this,Ft,$0).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(jt){return typeof jt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:jt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Ut(this,Ft,$0).call(this,"GetDocJSActions")}getPageJSActions(jt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:jt})}getStructTree(jt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:jt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(jt=>new _optional_content_config.OptionalContentConfig(jt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const jt="GetMetadata",qt=_t(this,Pt).get(jt);if(qt)return qt;const Jt=this.messageHandler.sendWithPromise(jt,null).then(Gt=>{var en,an;return{info:Gt[0],metadata:Gt[1]?new _metadata.Metadata(Gt[1]):null,contentDispositionFilename:((en=this._fullReader)==null?void 0:en.filename)??null,contentLength:((an=this._fullReader)==null?void 0:an.contentLength)??null}});return _t(this,Pt).set(jt,Jt),Jt}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(jt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const qt of _t(this,kt).values())if(!qt.cleanup())throw new Error(`startCleanup: Page ${qt.pageNumber} is currently rendering.`);this.commonObjs.clear(),jt||this.fontLoader.clear(),_t(this,Pt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:jt,enableXfa:qt}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:jt,enableXfa:qt})}}Pt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Ft=new WeakSet,$0=function(jt,qt=null){const Jt=_t(this,Pt).get(jt);if(Jt)return Jt;const Gt=this.messageHandler.sendWithPromise(jt,qt);return _t(this,Pt).set(jt,Gt),Gt};class PDFObjects{constructor(){Kt(this,Dt);Kt(this,Lt,Object.create(null))}get(jt,qt=null){if(qt){const Gt=Ut(this,Dt,_A).call(this,jt);return Gt.capability.promise.then(()=>qt(Gt.data)),null}const Jt=_t(this,Lt)[jt];if(!(Jt!=null&&Jt.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${jt}.`);return Jt.data}has(jt){const qt=_t(this,Lt)[jt];return(qt==null?void 0:qt.capability.settled)||!1}resolve(jt,qt=null){const Jt=Ut(this,Dt,_A).call(this,jt);Jt.data=qt,Jt.capability.resolve()}clear(){var jt;for(const qt in _t(this,Lt)){const{data:Jt}=_t(this,Lt)[qt];(jt=Jt==null?void 0:Jt.bitmap)==null||jt.close()}zt(this,Lt,Object.create(null))}}Lt=new WeakMap,Dt=new WeakSet,_A=function(jt){var qt;return(qt=_t(this,Lt))[jt]||(qt[jt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(jt){Kt(this,Bt,null);zt(this,Bt,jt),this.onContinue=null}get promise(){return _t(this,Bt).capability.promise}cancel(jt=0){_t(this,Bt).cancel(null,jt)}get separateAnnots(){const{separateAnnots:jt}=_t(this,Bt).operatorList;if(!jt)return!1;const{annotationCanvasMap:qt}=_t(this,Bt);return jt.form||jt.canvas&&(qt==null?void 0:qt.size)>0}}Bt=new WeakMap,exports.RenderTask=RenderTask;const Ht=class Ht{constructor({callback:jt,params:qt,objs:Jt,commonObjs:Gt,annotationCanvasMap:en,operatorList:an,pageIndex:Sn,canvasFactory:cn,filterFactory:An,useRequestAnimationFrame:dn=!1,pdfBug:fn=!1,pageColors:nn=null}){this.callback=jt,this.params=qt,this.objs=Jt,this.commonObjs=Gt,this.annotationCanvasMap=en,this.operatorListIdx=null,this.operatorList=an,this._pageIndex=Sn,this.canvasFactory=cn,this.filterFactory=An,this._pdfBug=fn,this.pageColors=nn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=dn===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=qt.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:jt=!1,optionalContentConfig:qt}){var Sn,cn;if(this.cancelled)return;if(this._canvas){if(_t(Ht,Nt).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_t(Ht,Nt).add(this._canvas)}this._pdfBug&&((Sn=globalThis.StepperManager)!=null&&Sn.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Jt,viewport:Gt,transform:en,background:an}=this.params;this.gfx=new _canvas.CanvasGraphics(Jt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:qt},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:en,viewport:Gt,transparency:jt,background:an}),this.operatorListIdx=0,this.graphicsReady=!0,(cn=this.graphicsReadyCallback)==null||cn.call(this)}cancel(jt=null,qt=0){var Jt;this.running=!1,this.cancelled=!0,(Jt=this.gfx)==null||Jt.endDrawing(),_t(Ht,Nt).delete(this._canvas),this.callback(jt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,qt))}operatorListChanged(){var jt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(jt=this.stepper)==null||jt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_t(Ht,Nt).delete(this._canvas),this.callback())))}};Nt=new WeakMap,Kt(Ht,Nt,new WeakSet);let InternalRenderTask=Ht;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(_e,$,ht)=>{var Ct,xt,Pt,GS,Rt;Object.defineProperty($,"__esModule",{value:!0}),$.SerializableEmpty=$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var vt=ht(1),bt=ht(4),wt=ht(8);const At=Object.freeze({map:null,hash:"",transfers:void 0});$.SerializableEmpty=At;class Et{constructor(){Kt(this,Pt);Kt(this,Ct,!1);Kt(this,xt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Ft,$t){const Lt=_t(this,xt).get(Ft);return Lt===void 0?$t:Object.assign($t,Lt)}getRawValue(Ft){return _t(this,xt).get(Ft)}remove(Ft){if(_t(this,xt).delete(Ft),_t(this,xt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const $t of _t(this,xt).values())if($t instanceof bt.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Ft,$t){const Lt=_t(this,xt).get(Ft);let Dt=!1;if(Lt!==void 0)for(const[Ot,Bt]of Object.entries($t))Lt[Ot]!==Bt&&(Dt=!0,Lt[Ot]=Bt);else Dt=!0,_t(this,xt).set(Ft,$t);Dt&&Ut(this,Pt,GS).call(this),$t instanceof bt.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor($t.constructor._type)}has(Ft){return _t(this,xt).has(Ft)}getAll(){return _t(this,xt).size>0?(0,vt.objectFromMap)(_t(this,xt)):null}setAll(Ft){for(const[$t,Lt]of Object.entries(Ft))this.setValue($t,Lt)}get size(){return _t(this,xt).size}resetModified(){_t(this,Ct)&&(zt(this,Ct,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new St(this)}get serializable(){if(_t(this,xt).size===0)return At;const Ft=new Map,$t=new wt.MurmurHash3_64,Lt=[],Dt=Object.create(null);let Ot=!1;for(const[Bt,Nt]of _t(this,xt)){const Ht=Nt instanceof bt.AnnotationEditor?Nt.serialize(!1,Dt):Nt;Ht&&(Ft.set(Bt,Ht),$t.update(`${Bt}:${JSON.stringify(Ht)}`),Ot||(Ot=!!Ht.bitmap))}if(Ot)for(const Bt of Ft.values())Bt.bitmap&&Lt.push(Bt.bitmap);return Ft.size>0?{map:Ft,hash:$t.hexdigest(),transfers:Lt}:At}}Ct=new WeakMap,xt=new WeakMap,Pt=new WeakSet,GS=function(){_t(this,Ct)||(zt(this,Ct,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=Et;class St extends Et{constructor($t){super();Kt(this,Rt);const{map:Lt,hash:Dt,transfers:Ot}=$t.serializable,Bt=structuredClone(Lt,Ot?{transfer:Ot}:null);zt(this,Rt,{map:Bt,hash:Dt,transfers:Ot})}get print(){(0,vt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return _t(this,Rt)}}Rt=new WeakMap,$.PrintAnnotationStorage=St},(_e,$,ht)=>{var St,Ct,xt,Pt,kt,Rt,Mt,Ft,$t,Lt,Dt,Ot,Bt,Nt,Ht,xA,CA,qt,TA,PA,KS,qS,XS,kA,YS;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var vt=ht(5),bt=ht(1),wt=ht(6);const dn=class dn{constructor(nn){Kt(this,Ht);Kt(this,St,"");Kt(this,Ct,!1);Kt(this,xt,null);Kt(this,Pt,null);Kt(this,kt,null);Kt(this,Rt,!1);Kt(this,Mt,null);Kt(this,Ft,this.focusin.bind(this));Kt(this,$t,this.focusout.bind(this));Kt(this,Lt,!1);Kt(this,Dt,!1);Kt(this,Ot,!1);xr(this,"_initialOptions",Object.create(null));xr(this,"_uiManager",null);xr(this,"_focusEventsAllowed",!0);xr(this,"_l10nPromise",null);Kt(this,Bt,!1);Kt(this,Nt,dn._zIndex++);this.constructor===dn&&(0,bt.unreachable)("Cannot initialize AnnotationEditor."),this.parent=nn.parent,this.id=nn.id,this.width=this.height=null,this.pageIndex=nn.parent.pageIndex,this.name=nn.name,this.div=null,this._uiManager=nn.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=nn.isCentered,this._structTreeParentId=null;const{rotation:gn,rawDims:{pageWidth:Cn,pageHeight:rn,pageX:Xt,pageY:Yt}}=this.parent.viewport;this.rotation=gn,this.pageRotation=(360+gn-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Cn,rn],this.pageTranslation=[Xt,Yt];const[tn,hn]=this.parentDimensions;this.x=nn.x/tn,this.y=nn.y/hn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,bt.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(nn){const gn=new Et({id:nn.parent.getNextId(),parent:nn.parent,uiManager:nn._uiManager});gn.annotationElementId=nn.annotationElementId,gn.deleted=!0,gn._uiManager.addToAnnotationStorage(gn)}static initialize(nn,gn=null){if(dn._l10nPromise||(dn._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(rn=>[rn,nn.get(rn)]))),gn!=null&&gn.strings)for(const rn of gn.strings)dn._l10nPromise.set(rn,nn.get(rn));if(dn._borderLineWidth!==-1)return;const Cn=getComputedStyle(document.documentElement);dn._borderLineWidth=parseFloat(Cn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(nn,gn){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(nn){return!1}static paste(nn,gn){(0,bt.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return _t(this,Bt)}set _isDraggable(nn){var gn;zt(this,Bt,nn),(gn=this.div)==null||gn.classList.toggle("draggable",nn)}center(){const[nn,gn]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*gn/(nn*2),this.y+=this.width*nn/(gn*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*gn/(nn*2),this.y-=this.width*nn/(gn*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(nn){this._uiManager.addCommands(nn)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=_t(this,Nt)}setParent(nn){nn!==null&&(this.pageIndex=nn.pageIndex,this.pageDimensions=nn.pageDimensions),this.parent=nn}focusin(nn){this._focusEventsAllowed&&(_t(this,Lt)?zt(this,Lt,!1):this.parent.setSelected(this))}focusout(nn){var Cn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const gn=nn.relatedTarget;gn!=null&&gn.closest(`#${this.id}`)||(nn.preventDefault(),(Cn=this.parent)!=null&&Cn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(nn,gn,Cn,rn){const[Xt,Yt]=this.parentDimensions;[Cn,rn]=this.screenToPageTranslation(Cn,rn),this.x=(nn+Cn)/Xt,this.y=(gn+rn)/Yt,this.fixAndSetPosition()}translate(nn,gn){Ut(this,Ht,xA).call(this,this.parentDimensions,nn,gn)}translateInPage(nn,gn){Ut(this,Ht,xA).call(this,this.pageDimensions,nn,gn),this.div.scrollIntoView({block:"nearest"})}drag(nn,gn){const[Cn,rn]=this.parentDimensions;if(this.x+=nn/Cn,this.y+=gn/rn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:un,y:pn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,un,pn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Xt,y:Yt}=this;const[tn,hn]=Ut(this,Ht,CA).call(this);Xt+=tn,Yt+=hn,this.div.style.left=`${(100*Xt).toFixed(2)}%`,this.div.style.top=`${(100*Yt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[nn,gn]=this.pageDimensions;let{x:Cn,y:rn,width:Xt,height:Yt}=this;switch(Xt*=nn,Yt*=gn,Cn*=nn,rn*=gn,this.rotation){case 0:Cn=Math.max(0,Math.min(nn-Xt,Cn)),rn=Math.max(0,Math.min(gn-Yt,rn));break;case 90:Cn=Math.max(0,Math.min(nn-Yt,Cn)),rn=Math.min(gn,Math.max(Xt,rn));break;case 180:Cn=Math.min(nn,Math.max(Xt,Cn)),rn=Math.min(gn,Math.max(Yt,rn));break;case 270:Cn=Math.min(nn,Math.max(Yt,Cn)),rn=Math.max(0,Math.min(gn-Xt,rn));break}this.x=Cn/=nn,this.y=rn/=gn;const[tn,hn]=Ut(this,Ht,CA).call(this);Cn+=tn,rn+=hn;const{style:un}=this.div;un.left=`${(100*Cn).toFixed(2)}%`,un.top=`${(100*rn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(nn,gn){var Cn;return Ut(Cn=dn,qt,TA).call(Cn,nn,gn,this.parentRotation)}pageTranslationToScreen(nn,gn){var Cn;return Ut(Cn=dn,qt,TA).call(Cn,nn,gn,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:nn,pageDimensions:[gn,Cn]}=this,rn=gn*nn,Xt=Cn*nn;return bt.FeatureTest.isCSSRoundSupported?[Math.round(rn),Math.round(Xt)]:[rn,Xt]}setDims(nn,gn){var Xt;const[Cn,rn]=this.parentDimensions;this.div.style.width=`${(100*nn/Cn).toFixed(2)}%`,_t(this,Rt)||(this.div.style.height=`${(100*gn/rn).toFixed(2)}%`),(Xt=_t(this,xt))==null||Xt.classList.toggle("small",nn<dn.SMALL_EDITOR_SIZE||gn<dn.SMALL_EDITOR_SIZE)}fixDims(){const{style:nn}=this.div,{height:gn,width:Cn}=nn,rn=Cn.endsWith("%"),Xt=!_t(this,Rt)&&gn.endsWith("%");if(rn&&Xt)return;const[Yt,tn]=this.parentDimensions;rn||(nn.width=`${(100*parseFloat(Cn)/Yt).toFixed(2)}%`),!_t(this,Rt)&&!Xt&&(nn.height=`${(100*parseFloat(gn)/tn).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(_t(this,xt))return;const nn=zt(this,xt,document.createElement("button"));nn.className="altText";const gn=await dn._l10nPromise.get("editor_alt_text_button_label");nn.textContent=gn,nn.setAttribute("aria-label",gn),nn.tabIndex="0",nn.addEventListener("contextmenu",wt.noContextMenu),nn.addEventListener("pointerdown",Cn=>Cn.stopPropagation()),nn.addEventListener("click",Cn=>{Cn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),nn.addEventListener("keydown",Cn=>{Cn.target===nn&&Cn.key==="Enter"&&(Cn.preventDefault(),this._uiManager.editAltText(this))}),Ut(this,Ht,kA).call(this),this.div.append(nn),dn.SMALL_EDITOR_SIZE||(dn.SMALL_EDITOR_SIZE=Math.min(128,Math.round(nn.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:_t(this,St),decorative:_t(this,Ct)}}set altTextData({altText:nn,decorative:gn}){_t(this,St)===nn&&_t(this,Ct)===gn||(zt(this,St,nn),zt(this,Ct,gn),Ut(this,Ht,kA).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",_t(this,Ft)),this.div.addEventListener("focusout",_t(this,$t));const[nn,gn]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*gn/nn).toFixed(2)}%`,this.div.style.maxHeight=`${(100*nn/gn).toFixed(2)}%`);const[Cn,rn]=this.getInitialTranslation();return this.translate(Cn,rn),(0,vt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(nn){const{isMac:gn}=bt.FeatureTest.platform;if(nn.button!==0||nn.ctrlKey&&gn){nn.preventDefault();return}zt(this,Lt,!0),Ut(this,Ht,YS).call(this,nn)}moveInDOM(){var nn;(nn=this.parent)==null||nn.moveEditorInDOM(this)}_setParentAndPosition(nn,gn,Cn){nn.changeParent(this),this.x=gn,this.y=Cn,this.fixAndSetPosition()}getRect(nn,gn){const Cn=this.parentScale,[rn,Xt]=this.pageDimensions,[Yt,tn]=this.pageTranslation,hn=nn/Cn,un=gn/Cn,pn=this.x*rn,Pn=this.y*Xt,Vn=this.width*rn,Un=this.height*Xt;switch(this.rotation){case 0:return[pn+hn+Yt,Xt-Pn-un-Un+tn,pn+hn+Vn+Yt,Xt-Pn-un+tn];case 90:return[pn+un+Yt,Xt-Pn+hn+tn,pn+un+Un+Yt,Xt-Pn+hn+Vn+tn];case 180:return[pn-hn-Vn+Yt,Xt-Pn+un+tn,pn-hn+Yt,Xt-Pn+un+Un+tn];case 270:return[pn-un-Un+Yt,Xt-Pn-hn-Vn+tn,pn-un+Yt,Xt-Pn-hn+tn];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(nn,gn){const[Cn,rn,Xt,Yt]=nn,tn=Xt-Cn,hn=Yt-rn;switch(this.rotation){case 0:return[Cn,gn-Yt,tn,hn];case 90:return[Cn,gn-rn,hn,tn];case 180:return[Xt,gn-rn,tn,hn];case 270:return[Xt,gn-Yt,hn,tn];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){zt(this,Ot,!0)}disableEditMode(){zt(this,Ot,!1)}isInEditMode(){return _t(this,Ot)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var nn,gn;(nn=this.div)==null||nn.addEventListener("focusin",_t(this,Ft)),(gn=this.div)==null||gn.addEventListener("focusout",_t(this,$t))}serialize(nn=!1,gn=null){(0,bt.unreachable)("An editor must be serializable")}static deserialize(nn,gn,Cn){const rn=new this.prototype.constructor({parent:gn,id:gn.getNextId(),uiManager:Cn});rn.rotation=nn.rotation;const[Xt,Yt]=rn.pageDimensions,[tn,hn,un,pn]=rn.getRectInCurrentCoords(nn.rect,Yt);return rn.x=tn/Xt,rn.y=hn/Yt,rn.width=un/Xt,rn.height=pn/Yt,rn}remove(){var nn;this.div.removeEventListener("focusin",_t(this,Ft)),this.div.removeEventListener("focusout",_t(this,$t)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(nn=_t(this,xt))==null||nn.remove(),zt(this,xt,null),zt(this,Pt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Ut(this,Ht,KS).call(this),_t(this,Mt).classList.remove("hidden"))}select(){var nn;this.makeResizable(),(nn=this.div)==null||nn.classList.add("selectedEditor")}unselect(){var nn,gn,Cn;(nn=_t(this,Mt))==null||nn.classList.add("hidden"),(gn=this.div)==null||gn.classList.remove("selectedEditor"),(Cn=this.div)!=null&&Cn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(nn,gn){}disableEditing(){_t(this,xt)&&(_t(this,xt).hidden=!0)}enableEditing(){_t(this,xt)&&(_t(this,xt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return _t(this,Dt)}set isEditing(nn){zt(this,Dt,nn),this.parent&&(nn?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(nn,gn){zt(this,Rt,!0);const Cn=nn/gn,{style:rn}=this.div;rn.aspectRatio=Cn,rn.height="auto"}static get MIN_SIZE(){return 16}};St=new WeakMap,Ct=new WeakMap,xt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,$t=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,Ht=new WeakSet,xA=function([nn,gn],Cn,rn){[Cn,rn]=this.screenToPageTranslation(Cn,rn),this.x+=Cn/nn,this.y+=rn/gn,this.fixAndSetPosition()},CA=function(){const[nn,gn]=this.parentDimensions,{_borderLineWidth:Cn}=dn,rn=Cn/nn,Xt=Cn/gn;switch(this.rotation){case 90:return[-rn,Xt];case 180:return[rn,Xt];case 270:return[rn,-Xt];default:return[-rn,-Xt]}},qt=new WeakSet,TA=function(nn,gn,Cn){switch(Cn){case 90:return[gn,-nn];case 180:return[-nn,-gn];case 270:return[-gn,nn];default:return[nn,gn]}},PA=function(nn){switch(nn){case 90:{const[gn,Cn]=this.pageDimensions;return[0,-gn/Cn,Cn/gn,0]}case 180:return[-1,0,0,-1];case 270:{const[gn,Cn]=this.pageDimensions;return[0,gn/Cn,-Cn/gn,0]}default:return[1,0,0,1]}},KS=function(){if(_t(this,Mt))return;zt(this,Mt,document.createElement("div")),_t(this,Mt).classList.add("resizers");const nn=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||nn.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const gn of nn){const Cn=document.createElement("div");_t(this,Mt).append(Cn),Cn.classList.add("resizer",gn),Cn.addEventListener("pointerdown",Ut(this,Ht,qS).bind(this,gn)),Cn.addEventListener("contextmenu",wt.noContextMenu)}this.div.prepend(_t(this,Mt))},qS=function(nn,gn){gn.preventDefault();const{isMac:Cn}=bt.FeatureTest.platform;if(gn.button!==0||gn.ctrlKey&&Cn)return;const rn=Ut(this,Ht,XS).bind(this,nn),Xt=this._isDraggable;this._isDraggable=!1;const Yt={passive:!0,capture:!0};window.addEventListener("pointermove",rn,Yt);const tn=this.x,hn=this.y,un=this.width,pn=this.height,Pn=this.parent.div.style.cursor,Vn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(gn.target).cursor;const Un=()=>{this._isDraggable=Xt,window.removeEventListener("pointerup",Un),window.removeEventListener("blur",Un),window.removeEventListener("pointermove",rn,Yt),this.parent.div.style.cursor=Pn,this.div.style.cursor=Vn;const zn=this.x,Kn=this.y,Zn=this.width,Qn=this.height;zn===tn&&Kn===hn&&Zn===un&&Qn===pn||this.addCommands({cmd:()=>{this.width=Zn,this.height=Qn,this.x=zn,this.y=Kn;const[In,On]=this.parentDimensions;this.setDims(In*Zn,On*Qn),this.fixAndSetPosition()},undo:()=>{this.width=un,this.height=pn,this.x=tn,this.y=hn;const[In,On]=this.parentDimensions;this.setDims(In*un,On*pn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Un),window.addEventListener("blur",Un)},XS=function(nn,gn){const[Cn,rn]=this.parentDimensions,Xt=this.x,Yt=this.y,tn=this.width,hn=this.height,un=dn.MIN_SIZE/Cn,pn=dn.MIN_SIZE/rn,Pn=fr=>Math.round(fr*1e4)/1e4,Vn=Ut(this,Ht,PA).call(this,this.rotation),Un=(fr,_r)=>[Vn[0]*fr+Vn[2]*_r,Vn[1]*fr+Vn[3]*_r],zn=Ut(this,Ht,PA).call(this,360-this.rotation),Kn=(fr,_r)=>[zn[0]*fr+zn[2]*_r,zn[1]*fr+zn[3]*_r];let Zn,Qn,In=!1,On=!1;switch(nn){case"topLeft":In=!0,Zn=(fr,_r)=>[0,0],Qn=(fr,_r)=>[fr,_r];break;case"topMiddle":Zn=(fr,_r)=>[fr/2,0],Qn=(fr,_r)=>[fr/2,_r];break;case"topRight":In=!0,Zn=(fr,_r)=>[fr,0],Qn=(fr,_r)=>[0,_r];break;case"middleRight":On=!0,Zn=(fr,_r)=>[fr,_r/2],Qn=(fr,_r)=>[0,_r/2];break;case"bottomRight":In=!0,Zn=(fr,_r)=>[fr,_r],Qn=(fr,_r)=>[0,0];break;case"bottomMiddle":Zn=(fr,_r)=>[fr/2,_r],Qn=(fr,_r)=>[fr/2,0];break;case"bottomLeft":In=!0,Zn=(fr,_r)=>[0,_r],Qn=(fr,_r)=>[fr,0];break;case"middleLeft":On=!0,Zn=(fr,_r)=>[0,_r/2],Qn=(fr,_r)=>[fr,_r/2];break}const sn=Zn(tn,hn),vn=Qn(tn,hn);let Rn=Un(...vn);const Nn=Pn(Xt+Rn[0]),Wn=Pn(Yt+Rn[1]);let Jn=1,Xn=1,[kn,ar]=this.screenToPageTranslation(gn.movementX,gn.movementY);if([kn,ar]=Kn(kn/Cn,ar/rn),In){const fr=Math.hypot(tn,hn);Jn=Xn=Math.max(Math.min(Math.hypot(vn[0]-sn[0]-kn,vn[1]-sn[1]-ar)/fr,1/tn,1/hn),un/tn,pn/hn)}else On?Jn=Math.max(un,Math.min(1,Math.abs(vn[0]-sn[0]-kn)))/tn:Xn=Math.max(pn,Math.min(1,Math.abs(vn[1]-sn[1]-ar)))/hn;const ir=Pn(tn*Jn),Nr=Pn(hn*Xn);Rn=Un(...Qn(ir,Nr));const Rr=Nn-Rn[0],Yr=Wn-Rn[1];this.width=ir,this.height=Nr,this.x=Rr,this.y=Yr,this.setDims(Cn*ir,rn*Nr),this.fixAndSetPosition()},kA=async function(){var Cn;const nn=_t(this,xt);if(!nn)return;if(!_t(this,St)&&!_t(this,Ct)){nn.classList.remove("done"),(Cn=_t(this,Pt))==null||Cn.remove();return}dn._l10nPromise.get("editor_alt_text_edit_button_label").then(rn=>{nn.setAttribute("aria-label",rn)});let gn=_t(this,Pt);if(!gn){zt(this,Pt,gn=document.createElement("span")),gn.className="tooltip",gn.setAttribute("role","tooltip");const rn=gn.id=`alt-text-tooltip-${this.id}`;nn.setAttribute("aria-describedby",rn);const Xt=100;nn.addEventListener("mouseenter",()=>{zt(this,kt,setTimeout(()=>{zt(this,kt,null),_t(this,Pt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Xt))}),nn.addEventListener("mouseleave",()=>{var Yt;clearTimeout(_t(this,kt)),zt(this,kt,null),(Yt=_t(this,Pt))==null||Yt.classList.remove("show")})}nn.classList.add("done"),gn.innerText=_t(this,Ct)?await dn._l10nPromise.get("editor_alt_text_decorative_tooltip"):_t(this,St),gn.parentNode||nn.append(gn)},YS=function(nn){if(!this._isDraggable)return;const gn=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let Cn,rn;gn&&(Cn={passive:!0,capture:!0},rn=Yt=>{const[tn,hn]=this.screenToPageTranslation(Yt.movementX,Yt.movementY);this._uiManager.dragSelectedEditors(tn,hn)},window.addEventListener("pointermove",rn,Cn));const Xt=()=>{if(window.removeEventListener("pointerup",Xt),window.removeEventListener("blur",Xt),gn&&window.removeEventListener("pointermove",rn,Cn),zt(this,Lt,!1),!this._uiManager.endDragSession()){const{isMac:Yt}=bt.FeatureTest.platform;nn.ctrlKey&&!Yt||nn.shiftKey||nn.metaKey&&Yt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Xt),window.addEventListener("blur",Xt)},Kt(dn,qt),xr(dn,"_borderLineWidth",-1),xr(dn,"_colorManager",new vt.ColorManager),xr(dn,"_zIndex",1),xr(dn,"SMALL_EDITOR_SIZE",0);let At=dn;$.AnnotationEditor=At;class Et extends At{constructor(nn){super(nn),this.annotationElementId=nn.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(_e,$,ht)=>{var Rt,Mt,Ft,$t,Lt,RA,Bt,Nt,Ht,Vt,jt,ZS,Gt,en,an,Sn,cn,An,dn,fn,nn,gn,Cn,rn,Xt,Yt,tn,hn,un,pn,Pn,Vn,Un,zn,Kn,Zn,Qn,In,On,sn,vn,Rn,Nn,Wn,Jn,Xn,kn,QS,MA,LA,O0,FA,DA,Fo,gv,JS,e_,IA,vv,$A;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=wt,$.opacityToHex=At;var vt=ht(1),bt=ht(6);function wt(kr,yn,Gn){for(const or of Gn)yn.addEventListener(or,kr[or].bind(kr))}function At(kr){return Math.round(Math.min(255,Math.max(1,255*kr))).toString(16).padStart(2,"0")}class Et{constructor(){Kt(this,Rt,0)}getId(){return`${vt.AnnotationEditorPrefix}${to(this,Rt)._++}`}}Rt=new WeakMap;const Ot=class Ot{constructor(){Kt(this,Lt);Kt(this,Mt,(0,vt.getUuid)());Kt(this,Ft,0);Kt(this,$t,null)}static get _isSVGFittingCanvas(){const yn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',or=new OffscreenCanvas(1,3).getContext("2d"),vr=new Image;vr.src=yn;const wr=vr.decode().then(()=>(or.drawImage(vr,0,0,1,1,0,0,1,3),new Uint32Array(or.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,vt.shadow)(this,"_isSVGFittingCanvas",wr)}async getFromFile(yn){const{lastModified:Gn,name:or,size:vr,type:wr}=yn;return Ut(this,Lt,RA).call(this,`${Gn}_${or}_${vr}_${wr}`,yn)}async getFromUrl(yn){return Ut(this,Lt,RA).call(this,yn,yn)}async getFromId(yn){_t(this,$t)||zt(this,$t,new Map);const Gn=_t(this,$t).get(yn);return Gn?Gn.bitmap?(Gn.refCounter+=1,Gn):Gn.file?this.getFromFile(Gn.file):this.getFromUrl(Gn.url):null}getSvgUrl(yn){const Gn=_t(this,$t).get(yn);return Gn!=null&&Gn.isSvg?Gn.svgUrl:null}deleteId(yn){_t(this,$t)||zt(this,$t,new Map);const Gn=_t(this,$t).get(yn);Gn&&(Gn.refCounter-=1,Gn.refCounter===0&&(Gn.bitmap=null))}isValidId(yn){return yn.startsWith(`image_${_t(this,Mt)}_`)}};Mt=new WeakMap,Ft=new WeakMap,$t=new WeakMap,Lt=new WeakSet,RA=async function(yn,Gn){_t(this,$t)||zt(this,$t,new Map);let or=_t(this,$t).get(yn);if(or===null)return null;if(or!=null&&or.bitmap)return or.refCounter+=1,or;try{or||(or={bitmap:null,id:`image_${_t(this,Mt)}_${to(this,Ft)._++}`,refCounter:0,isSvg:!1});let vr;if(typeof Gn=="string"){or.url=Gn;const wr=await fetch(Gn);if(!wr.ok)throw new Error(wr.statusText);vr=await wr.blob()}else vr=or.file=Gn;if(vr.type==="image/svg+xml"){const wr=Ot._isSVGFittingCanvas,dr=new FileReader,mn=new Image,ln=new Promise((xn,Hn)=>{mn.onload=()=>{or.bitmap=mn,or.isSvg=!0,xn()},dr.onload=async()=>{const jn=or.svgUrl=dr.result;mn.src=await wr?`${jn}#svgView(preserveAspectRatio(none))`:jn},mn.onerror=dr.onerror=Hn});dr.readAsDataURL(vr),await ln}else or.bitmap=await createImageBitmap(vr);or.refCounter=1}catch(vr){console.error(vr),or=null}return _t(this,$t).set(yn,or),or&&_t(this,$t).set(or.id,or),or};let St=Ot;class Ct{constructor(yn=128){Kt(this,Bt,[]);Kt(this,Nt,!1);Kt(this,Ht);Kt(this,Vt,-1);zt(this,Ht,yn)}add({cmd:yn,undo:Gn,mustExec:or,type:vr=NaN,overwriteIfSameType:wr=!1,keepUndo:dr=!1}){if(or&&yn(),_t(this,Nt))return;const mn={cmd:yn,undo:Gn,type:vr};if(_t(this,Vt)===-1){_t(this,Bt).length>0&&(_t(this,Bt).length=0),zt(this,Vt,0),_t(this,Bt).push(mn);return}if(wr&&_t(this,Bt)[_t(this,Vt)].type===vr){dr&&(mn.undo=_t(this,Bt)[_t(this,Vt)].undo),_t(this,Bt)[_t(this,Vt)]=mn;return}const ln=_t(this,Vt)+1;ln===_t(this,Ht)?_t(this,Bt).splice(0,1):(zt(this,Vt,ln),ln<_t(this,Bt).length&&_t(this,Bt).splice(ln)),_t(this,Bt).push(mn)}undo(){_t(this,Vt)!==-1&&(zt(this,Nt,!0),_t(this,Bt)[_t(this,Vt)].undo(),zt(this,Nt,!1),zt(this,Vt,_t(this,Vt)-1))}redo(){_t(this,Vt)<_t(this,Bt).length-1&&(zt(this,Vt,_t(this,Vt)+1),zt(this,Nt,!0),_t(this,Bt)[_t(this,Vt)].cmd(),zt(this,Nt,!1))}hasSomethingToUndo(){return _t(this,Vt)!==-1}hasSomethingToRedo(){return _t(this,Vt)<_t(this,Bt).length-1}destroy(){zt(this,Bt,null)}}Bt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,Vt=new WeakMap,$.CommandManager=Ct;class xt{constructor(yn){Kt(this,jt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Gn}=vt.FeatureTest.platform;for(const[or,vr,wr={}]of yn)for(const dr of or){const mn=dr.startsWith("mac+");Gn&&mn?(this.callbacks.set(dr.slice(4),{callback:vr,options:wr}),this.allKeys.add(dr.split("+").at(-1))):!Gn&&!mn&&(this.callbacks.set(dr,{callback:vr,options:wr}),this.allKeys.add(dr.split("+").at(-1)))}}exec(yn,Gn){if(!this.allKeys.has(Gn.key))return;const or=this.callbacks.get(Ut(this,jt,ZS).call(this,Gn));if(!or)return;const{callback:vr,options:{bubbles:wr=!1,args:dr=[],checker:mn=null}}=or;mn&&!mn(yn,Gn)||(vr.bind(yn,...dr)(),wr||(Gn.stopPropagation(),Gn.preventDefault()))}}jt=new WeakSet,ZS=function(yn){yn.altKey&&this.buffer.push("alt"),yn.ctrlKey&&this.buffer.push("ctrl"),yn.metaKey&&this.buffer.push("meta"),yn.shiftKey&&this.buffer.push("shift"),this.buffer.push(yn.key);const Gn=this.buffer.join("+");return this.buffer.length=0,Gn},$.KeyboardManager=xt;const Jt=class Jt{get _colors(){const yn=new Map([["CanvasText",null],["Canvas",null]]);return(0,bt.getColorValues)(yn),(0,vt.shadow)(this,"_colors",yn)}convert(yn){const Gn=(0,bt.getRGB)(yn);if(!window.matchMedia("(forced-colors: active)").matches)return Gn;for(const[or,vr]of this._colors)if(vr.every((wr,dr)=>wr===Gn[dr]))return Jt._colorsMapping.get(or);return Gn}getHexCode(yn){const Gn=this._colors.get(yn);return Gn?vt.Util.makeHexColor(...Gn):yn}};xr(Jt,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Pt=Jt;$.ColorManager=Pt;const gr=class gr{constructor(yn,Gn,or,vr,wr,dr){Kt(this,kn);Kt(this,Gt,null);Kt(this,en,new Map);Kt(this,an,new Map);Kt(this,Sn,null);Kt(this,cn,null);Kt(this,An,new Ct);Kt(this,dn,0);Kt(this,fn,new Set);Kt(this,nn,null);Kt(this,gn,null);Kt(this,Cn,new Set);Kt(this,rn,null);Kt(this,Xt,new Et);Kt(this,Yt,!1);Kt(this,tn,!1);Kt(this,hn,null);Kt(this,un,vt.AnnotationEditorType.NONE);Kt(this,pn,new Set);Kt(this,Pn,null);Kt(this,Vn,this.blur.bind(this));Kt(this,Un,this.focus.bind(this));Kt(this,zn,this.copy.bind(this));Kt(this,Kn,this.cut.bind(this));Kt(this,Zn,this.paste.bind(this));Kt(this,Qn,this.keydown.bind(this));Kt(this,In,this.onEditingAction.bind(this));Kt(this,On,this.onPageChanging.bind(this));Kt(this,sn,this.onScaleChanging.bind(this));Kt(this,vn,this.onRotationChanging.bind(this));Kt(this,Rn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Kt(this,Nn,[0,0]);Kt(this,Wn,null);Kt(this,Jn,null);Kt(this,Xn,null);zt(this,Jn,yn),zt(this,Xn,Gn),zt(this,Sn,or),this._eventBus=vr,this._eventBus._on("editingaction",_t(this,In)),this._eventBus._on("pagechanging",_t(this,On)),this._eventBus._on("scalechanging",_t(this,sn)),this._eventBus._on("rotationchanging",_t(this,vn)),zt(this,cn,wr.annotationStorage),zt(this,rn,wr.filterFactory),zt(this,Pn,dr),this.viewParameters={realScale:bt.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const yn=gr.prototype,Gn=wr=>{const{activeElement:dr}=document;return dr&&_t(wr,Jn).contains(dr)&&wr.hasSomethingToControl()},or=this.TRANSLATE_SMALL,vr=this.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new xt([[["ctrl+a","mac+meta+a"],yn.selectAll],[["ctrl+z","mac+meta+z"],yn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],yn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],yn.delete],[["Escape","mac+Escape"],yn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],yn.translateSelectedEditors,{args:[-or,0],checker:Gn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],yn.translateSelectedEditors,{args:[-vr,0],checker:Gn}],[["ArrowRight","mac+ArrowRight"],yn.translateSelectedEditors,{args:[or,0],checker:Gn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],yn.translateSelectedEditors,{args:[vr,0],checker:Gn}],[["ArrowUp","mac+ArrowUp"],yn.translateSelectedEditors,{args:[0,-or],checker:Gn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],yn.translateSelectedEditors,{args:[0,-vr],checker:Gn}],[["ArrowDown","mac+ArrowDown"],yn.translateSelectedEditors,{args:[0,or],checker:Gn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],yn.translateSelectedEditors,{args:[0,vr],checker:Gn}]]))}destroy(){Ut(this,kn,O0).call(this),Ut(this,kn,MA).call(this),this._eventBus._off("editingaction",_t(this,In)),this._eventBus._off("pagechanging",_t(this,On)),this._eventBus._off("scalechanging",_t(this,sn)),this._eventBus._off("rotationchanging",_t(this,vn));for(const yn of _t(this,an).values())yn.destroy();_t(this,an).clear(),_t(this,en).clear(),_t(this,Cn).clear(),zt(this,Gt,null),_t(this,pn).clear(),_t(this,An).destroy(),_t(this,Sn).destroy()}get hcmFilter(){return(0,vt.shadow)(this,"hcmFilter",_t(this,Pn)?_t(this,rn).addHCMFilter(_t(this,Pn).foreground,_t(this,Pn).background):"none")}get direction(){return(0,vt.shadow)(this,"direction",getComputedStyle(_t(this,Jn)).direction)}editAltText(yn){var Gn;(Gn=_t(this,Sn))==null||Gn.editAltText(this,yn)}onPageChanging({pageNumber:yn}){zt(this,dn,yn-1)}focusMainContainer(){_t(this,Jn).focus()}findParent(yn,Gn){for(const or of _t(this,an).values()){const{x:vr,y:wr,width:dr,height:mn}=or.div.getBoundingClientRect();if(yn>=vr&&yn<=vr+dr&&Gn>=wr&&Gn<=wr+mn)return or}return null}disableUserSelect(yn=!1){_t(this,Xn).classList.toggle("noUserSelect",yn)}addShouldRescale(yn){_t(this,Cn).add(yn)}removeShouldRescale(yn){_t(this,Cn).delete(yn)}onScaleChanging({scale:yn}){this.commitOrRemove(),this.viewParameters.realScale=yn*bt.PixelsPerInch.PDF_TO_CSS_UNITS;for(const Gn of _t(this,Cn))Gn.onScaleChanging()}onRotationChanging({pagesRotation:yn}){this.commitOrRemove(),this.viewParameters.rotation=yn}addToAnnotationStorage(yn){!yn.isEmpty()&&_t(this,cn)&&!_t(this,cn).has(yn.id)&&_t(this,cn).setValue(yn.id,yn)}blur(){if(!this.hasSelection)return;const{activeElement:yn}=document;for(const Gn of _t(this,pn))if(Gn.div.contains(yn)){zt(this,hn,[Gn,yn]),Gn._focusEventsAllowed=!1;break}}focus(){if(!_t(this,hn))return;const[yn,Gn]=_t(this,hn);zt(this,hn,null),Gn.addEventListener("focusin",()=>{yn._focusEventsAllowed=!0},{once:!0}),Gn.focus()}addEditListeners(){Ut(this,kn,LA).call(this),Ut(this,kn,FA).call(this)}removeEditListeners(){Ut(this,kn,O0).call(this),Ut(this,kn,DA).call(this)}copy(yn){var or;if(yn.preventDefault(),(or=_t(this,Gt))==null||or.commitOrRemove(),!this.hasSelection)return;const Gn=[];for(const vr of _t(this,pn)){const wr=vr.serialize(!0);wr&&Gn.push(wr)}Gn.length!==0&&yn.clipboardData.setData("application/pdfjs",JSON.stringify(Gn))}cut(yn){this.copy(yn),this.delete()}paste(yn){yn.preventDefault();const{clipboardData:Gn}=yn;for(const wr of Gn.items)for(const dr of _t(this,gn))if(dr.isHandlingMimeForPasting(wr.type)){dr.paste(wr,this.currentLayer);return}let or=Gn.getData("application/pdfjs");if(!or)return;try{or=JSON.parse(or)}catch(wr){(0,vt.warn)(`paste: "${wr.message}".`);return}if(!Array.isArray(or))return;this.unselectAll();const vr=this.currentLayer;try{const wr=[];for(const ln of or){const xn=vr.deserialize(ln);if(!xn)return;wr.push(xn)}const dr=()=>{for(const ln of wr)Ut(this,kn,IA).call(this,ln);Ut(this,kn,$A).call(this,wr)},mn=()=>{for(const ln of wr)ln.remove()};this.addCommands({cmd:dr,undo:mn,mustExec:!0})}catch(wr){(0,vt.warn)(`paste: "${wr.message}".`)}}keydown(yn){var Gn;(Gn=this.getActive())!=null&&Gn.shouldGetKeyboardEvents()||gr._keyboardManager.exec(this,yn)}onEditingAction(yn){["undo","redo","delete","selectAll"].includes(yn.name)&&this[yn.name]()}setEditingState(yn){yn?(Ut(this,kn,QS).call(this),Ut(this,kn,LA).call(this),Ut(this,kn,FA).call(this),Ut(this,kn,Fo).call(this,{isEditing:_t(this,un)!==vt.AnnotationEditorType.NONE,isEmpty:Ut(this,kn,vv).call(this),hasSomethingToUndo:_t(this,An).hasSomethingToUndo(),hasSomethingToRedo:_t(this,An).hasSomethingToRedo(),hasSelectedEditor:!1})):(Ut(this,kn,MA).call(this),Ut(this,kn,O0).call(this),Ut(this,kn,DA).call(this),Ut(this,kn,Fo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(yn){if(!_t(this,gn)){zt(this,gn,yn);for(const Gn of _t(this,gn))Ut(this,kn,gv).call(this,Gn.defaultPropertiesToUpdate)}}getId(){return _t(this,Xt).getId()}get currentLayer(){return _t(this,an).get(_t(this,dn))}getLayer(yn){return _t(this,an).get(yn)}get currentPageIndex(){return _t(this,dn)}addLayer(yn){_t(this,an).set(yn.pageIndex,yn),_t(this,Yt)?yn.enable():yn.disable()}removeLayer(yn){_t(this,an).delete(yn.pageIndex)}updateMode(yn,Gn=null){if(_t(this,un)!==yn){if(zt(this,un,yn),yn===vt.AnnotationEditorType.NONE){this.setEditingState(!1),Ut(this,kn,e_).call(this);return}this.setEditingState(!0),Ut(this,kn,JS).call(this),this.unselectAll();for(const or of _t(this,an).values())or.updateMode(yn);if(Gn){for(const or of _t(this,en).values())if(or.annotationElementId===Gn){this.setSelected(or),or.enterInEditMode();break}}}}updateToolbar(yn){yn!==_t(this,un)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:yn})}updateParams(yn,Gn){if(_t(this,gn)){if(yn===vt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(yn);return}for(const or of _t(this,pn))or.updateParams(yn,Gn);for(const or of _t(this,gn))or.updateDefaultParams(yn,Gn)}}enableWaiting(yn=!1){if(_t(this,tn)!==yn){zt(this,tn,yn);for(const Gn of _t(this,an).values())yn?Gn.disableClick():Gn.enableClick(),Gn.div.classList.toggle("waiting",yn)}}getEditors(yn){const Gn=[];for(const or of _t(this,en).values())or.pageIndex===yn&&Gn.push(or);return Gn}getEditor(yn){return _t(this,en).get(yn)}addEditor(yn){_t(this,en).set(yn.id,yn)}removeEditor(yn){var Gn;_t(this,en).delete(yn.id),this.unselect(yn),(!yn.annotationElementId||!_t(this,fn).has(yn.annotationElementId))&&((Gn=_t(this,cn))==null||Gn.remove(yn.id))}addDeletedAnnotationElement(yn){_t(this,fn).add(yn.annotationElementId),yn.deleted=!0}isDeletedAnnotationElement(yn){return _t(this,fn).has(yn)}removeDeletedAnnotationElement(yn){_t(this,fn).delete(yn.annotationElementId),yn.deleted=!1}setActiveEditor(yn){_t(this,Gt)!==yn&&(zt(this,Gt,yn),yn&&Ut(this,kn,gv).call(this,yn.propertiesToUpdate))}toggleSelected(yn){if(_t(this,pn).has(yn)){_t(this,pn).delete(yn),yn.unselect(),Ut(this,kn,Fo).call(this,{hasSelectedEditor:this.hasSelection});return}_t(this,pn).add(yn),yn.select(),Ut(this,kn,gv).call(this,yn.propertiesToUpdate),Ut(this,kn,Fo).call(this,{hasSelectedEditor:!0})}setSelected(yn){for(const Gn of _t(this,pn))Gn!==yn&&Gn.unselect();_t(this,pn).clear(),_t(this,pn).add(yn),yn.select(),Ut(this,kn,gv).call(this,yn.propertiesToUpdate),Ut(this,kn,Fo).call(this,{hasSelectedEditor:!0})}isSelected(yn){return _t(this,pn).has(yn)}unselect(yn){yn.unselect(),_t(this,pn).delete(yn),Ut(this,kn,Fo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return _t(this,pn).size!==0}undo(){_t(this,An).undo(),Ut(this,kn,Fo).call(this,{hasSomethingToUndo:_t(this,An).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Ut(this,kn,vv).call(this)})}redo(){_t(this,An).redo(),Ut(this,kn,Fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:_t(this,An).hasSomethingToRedo(),isEmpty:Ut(this,kn,vv).call(this)})}addCommands(yn){_t(this,An).add(yn),Ut(this,kn,Fo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Ut(this,kn,vv).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const yn=[..._t(this,pn)],Gn=()=>{for(const vr of yn)vr.remove()},or=()=>{for(const vr of yn)Ut(this,kn,IA).call(this,vr)};this.addCommands({cmd:Gn,undo:or,mustExec:!0})}commitOrRemove(){var yn;(yn=_t(this,Gt))==null||yn.commitOrRemove()}hasSomethingToControl(){return _t(this,Gt)||this.hasSelection}selectAll(){for(const yn of _t(this,pn))yn.commit();Ut(this,kn,$A).call(this,_t(this,en).values())}unselectAll(){if(_t(this,Gt)){_t(this,Gt).commitOrRemove();return}if(this.hasSelection){for(const yn of _t(this,pn))yn.unselect();_t(this,pn).clear(),Ut(this,kn,Fo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(yn,Gn,or=!1){if(or||this.commitOrRemove(),!this.hasSelection)return;_t(this,Nn)[0]+=yn,_t(this,Nn)[1]+=Gn;const[vr,wr]=_t(this,Nn),dr=[..._t(this,pn)],mn=1e3;_t(this,Wn)&&clearTimeout(_t(this,Wn)),zt(this,Wn,setTimeout(()=>{zt(this,Wn,null),_t(this,Nn)[0]=_t(this,Nn)[1]=0,this.addCommands({cmd:()=>{for(const ln of dr)_t(this,en).has(ln.id)&&ln.translateInPage(vr,wr)},undo:()=>{for(const ln of dr)_t(this,en).has(ln.id)&&ln.translateInPage(-vr,-wr)},mustExec:!1})},mn));for(const ln of dr)ln.translateInPage(yn,Gn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),zt(this,nn,new Map);for(const yn of _t(this,pn))_t(this,nn).set(yn,{savedX:yn.x,savedY:yn.y,savedPageIndex:yn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!_t(this,nn))return!1;this.disableUserSelect(!1);const yn=_t(this,nn);zt(this,nn,null);let Gn=!1;for(const[{x:vr,y:wr,pageIndex:dr},mn]of yn)mn.newX=vr,mn.newY=wr,mn.newPageIndex=dr,Gn||(Gn=vr!==mn.savedX||wr!==mn.savedY||dr!==mn.savedPageIndex);if(!Gn)return!1;const or=(vr,wr,dr,mn)=>{if(_t(this,en).has(vr.id)){const ln=_t(this,an).get(mn);ln?vr._setParentAndPosition(ln,wr,dr):(vr.pageIndex=mn,vr.x=wr,vr.y=dr)}};return this.addCommands({cmd:()=>{for(const[vr,{newX:wr,newY:dr,newPageIndex:mn}]of yn)or(vr,wr,dr,mn)},undo:()=>{for(const[vr,{savedX:wr,savedY:dr,savedPageIndex:mn}]of yn)or(vr,wr,dr,mn)},mustExec:!0}),!0}dragSelectedEditors(yn,Gn){if(_t(this,nn))for(const or of _t(this,nn).keys())or.drag(yn,Gn)}rebuild(yn){if(yn.parent===null){const Gn=this.getLayer(yn.pageIndex);Gn?(Gn.changeParent(yn),Gn.addOrRebuild(yn)):(this.addEditor(yn),this.addToAnnotationStorage(yn),yn.rebuild())}else yn.parent.addOrRebuild(yn)}isActive(yn){return _t(this,Gt)===yn}getActive(){return _t(this,Gt)}getMode(){return _t(this,un)}get imageManager(){return(0,vt.shadow)(this,"imageManager",new St)}};Gt=new WeakMap,en=new WeakMap,an=new WeakMap,Sn=new WeakMap,cn=new WeakMap,An=new WeakMap,dn=new WeakMap,fn=new WeakMap,nn=new WeakMap,gn=new WeakMap,Cn=new WeakMap,rn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,tn=new WeakMap,hn=new WeakMap,un=new WeakMap,pn=new WeakMap,Pn=new WeakMap,Vn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Kn=new WeakMap,Zn=new WeakMap,Qn=new WeakMap,In=new WeakMap,On=new WeakMap,sn=new WeakMap,vn=new WeakMap,Rn=new WeakMap,Nn=new WeakMap,Wn=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,kn=new WeakSet,QS=function(){window.addEventListener("focus",_t(this,Un)),window.addEventListener("blur",_t(this,Vn))},MA=function(){window.removeEventListener("focus",_t(this,Un)),window.removeEventListener("blur",_t(this,Vn))},LA=function(){window.addEventListener("keydown",_t(this,Qn),{capture:!0})},O0=function(){window.removeEventListener("keydown",_t(this,Qn),{capture:!0})},FA=function(){document.addEventListener("copy",_t(this,zn)),document.addEventListener("cut",_t(this,Kn)),document.addEventListener("paste",_t(this,Zn))},DA=function(){document.removeEventListener("copy",_t(this,zn)),document.removeEventListener("cut",_t(this,Kn)),document.removeEventListener("paste",_t(this,Zn))},Fo=function(yn){Object.entries(yn).some(([or,vr])=>_t(this,Rn)[or]!==vr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(_t(this,Rn),yn)})},gv=function(yn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:yn})},JS=function(){if(!_t(this,Yt)){zt(this,Yt,!0);for(const yn of _t(this,an).values())yn.enable()}},e_=function(){if(this.unselectAll(),_t(this,Yt)){zt(this,Yt,!1);for(const yn of _t(this,an).values())yn.disable()}},IA=function(yn){const Gn=_t(this,an).get(yn.pageIndex);Gn?Gn.addOrRebuild(yn):this.addEditor(yn)},vv=function(){if(_t(this,en).size===0)return!0;if(_t(this,en).size===1)for(const yn of _t(this,en).values())return yn.isEmpty();return!1},$A=function(yn){_t(this,pn).clear();for(const Gn of yn)Gn.isEmpty()||(_t(this,pn).add(Gn),Gn.select());Ut(this,kn,Fo).call(this,{hasSelectedEditor:!0})},xr(gr,"TRANSLATE_SMALL",1),xr(gr,"TRANSLATE_BIG",10);let kt=gr;$.AnnotationEditorUIManager=kt},(_e,$,ht)=>{var dn,fn,nn,gn,Cn,rn,Xt,Yt,tn,hn,un,pn,rm,sm,OA,N0,B0,yv,bv;Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMFilterFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=void 0,$.deprecated=Vt,$.getColorValues=en,$.getCurrentTransform=an,$.getCurrentTransformInverse=Sn,$.getFilenameFromUrl=Lt,$.getPdfFilenameFromUrl=Dt,$.getRGB=Gt,$.getXfaPageViewport=Jt,$.isDataScheme=Ft,$.isPdfFile=$t,$.isValidFetchUrl=Bt,$.loadScript=Ht,$.noContextMenu=Nt,$.setLayerDimensions=cn;var vt=ht(7),bt=ht(1);const wt="http://www.w3.org/2000/svg",An=class An{};xr(An,"CSS",96),xr(An,"PDF",72),xr(An,"PDF_TO_CSS_UNITS",An.CSS/An.PDF);let At=An;$.PixelsPerInch=At;class Et extends vt.BaseFilterFactory{constructor({docId:sn,ownerDocument:vn=globalThis.document}={}){super();Kt(this,pn);Kt(this,dn);Kt(this,fn);Kt(this,nn);Kt(this,gn);Kt(this,Cn);Kt(this,rn);Kt(this,Xt);Kt(this,Yt);Kt(this,tn);Kt(this,hn);Kt(this,un,0);zt(this,nn,sn),zt(this,gn,vn)}addFilter(sn){if(!sn)return"none";let vn=_t(this,pn,rm).get(sn);if(vn)return vn;let Rn,Nn,Wn,Jn;if(sn.length===1){const ir=sn[0],Nr=new Array(256);for(let Rr=0;Rr<256;Rr++)Nr[Rr]=ir[Rr]/255;Jn=Rn=Nn=Wn=Nr.join(",")}else{const[ir,Nr,Rr]=sn,Yr=new Array(256),fr=new Array(256),_r=new Array(256);for(let Ur=0;Ur<256;Ur++)Yr[Ur]=ir[Ur]/255,fr[Ur]=Nr[Ur]/255,_r[Ur]=Rr[Ur]/255;Rn=Yr.join(","),Nn=fr.join(","),Wn=_r.join(","),Jn=`${Rn}${Nn}${Wn}`}if(vn=_t(this,pn,rm).get(Jn),vn)return _t(this,pn,rm).set(sn,vn),vn;const Xn=`g_${_t(this,nn)}_transfer_map_${to(this,un)._++}`,kn=`url(#${Xn})`;_t(this,pn,rm).set(sn,kn),_t(this,pn,rm).set(Jn,kn);const ar=Ut(this,pn,N0).call(this,Xn);return Ut(this,pn,yv).call(this,Rn,Nn,Wn,ar),kn}addHCMFilter(sn,vn){var Nr;const Rn=`${sn}-${vn}`;if(_t(this,rn)===Rn)return _t(this,Xt);if(zt(this,rn,Rn),zt(this,Xt,"none"),(Nr=_t(this,Cn))==null||Nr.remove(),!sn||!vn)return _t(this,Xt);const Nn=Ut(this,pn,bv).call(this,sn);sn=bt.Util.makeHexColor(...Nn);const Wn=Ut(this,pn,bv).call(this,vn);if(vn=bt.Util.makeHexColor(...Wn),_t(this,pn,sm).style.color="",sn==="#000000"&&vn==="#ffffff"||sn===vn)return _t(this,Xt);const Jn=new Array(256);for(let Rr=0;Rr<=255;Rr++){const Yr=Rr/255;Jn[Rr]=Yr<=.03928?Yr/12.92:((Yr+.055)/1.055)**2.4}const Xn=Jn.join(","),kn=`g_${_t(this,nn)}_hcm_filter`,ar=zt(this,Yt,Ut(this,pn,N0).call(this,kn));Ut(this,pn,yv).call(this,Xn,Xn,Xn,ar),Ut(this,pn,OA).call(this,ar);const ir=(Rr,Yr)=>{const fr=Nn[Rr]/255,_r=Wn[Rr]/255,Ur=new Array(Yr+1);for(let rs=0;rs<=Yr;rs++)Ur[rs]=fr+rs/Yr*(_r-fr);return Ur.join(",")};return Ut(this,pn,yv).call(this,ir(0,5),ir(1,5),ir(2,5),ar),zt(this,Xt,`url(#${kn})`),_t(this,Xt)}addHighlightHCMFilter(sn,vn,Rn,Nn){var _r;const Wn=`${sn}-${vn}-${Rn}-${Nn}`;if(_t(this,tn)===Wn)return _t(this,hn);if(zt(this,tn,Wn),zt(this,hn,"none"),(_r=_t(this,Yt))==null||_r.remove(),!sn||!vn)return _t(this,hn);const[Jn,Xn]=[sn,vn].map(Ut(this,pn,bv).bind(this));let kn=Math.round(.2126*Jn[0]+.7152*Jn[1]+.0722*Jn[2]),ar=Math.round(.2126*Xn[0]+.7152*Xn[1]+.0722*Xn[2]),[ir,Nr]=[Rn,Nn].map(Ut(this,pn,bv).bind(this));ar<kn&&([kn,ar,ir,Nr]=[ar,kn,Nr,ir]),_t(this,pn,sm).style.color="";const Rr=(Ur,rs,qn)=>{const Mn=new Array(256),Fn=(ar-kn)/qn,hr=Ur/255,gr=(rs-Ur)/(255*qn);let kr=0;for(let yn=0;yn<=qn;yn++){const Gn=Math.round(kn+yn*Fn),or=hr+yn*gr;for(let vr=kr;vr<=Gn;vr++)Mn[vr]=or;kr=Gn+1}for(let yn=kr;yn<256;yn++)Mn[yn]=Mn[kr-1];return Mn.join(",")},Yr=`g_${_t(this,nn)}_hcm_highlight_filter`,fr=zt(this,Yt,Ut(this,pn,N0).call(this,Yr));return Ut(this,pn,OA).call(this,fr),Ut(this,pn,yv).call(this,Rr(ir[0],Nr[0],5),Rr(ir[1],Nr[1],5),Rr(ir[2],Nr[2],5),fr),zt(this,hn,`url(#${Yr})`),_t(this,hn)}destroy(sn=!1){sn&&(_t(this,Xt)||_t(this,hn))||(_t(this,fn)&&(_t(this,fn).parentNode.parentNode.remove(),zt(this,fn,null)),_t(this,dn)&&(_t(this,dn).clear(),zt(this,dn,null)),zt(this,un,0))}}dn=new WeakMap,fn=new WeakMap,nn=new WeakMap,gn=new WeakMap,Cn=new WeakMap,rn=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,tn=new WeakMap,hn=new WeakMap,un=new WeakMap,pn=new WeakSet,rm=function(){return _t(this,dn)||zt(this,dn,new Map)},sm=function(){if(!_t(this,fn)){const sn=_t(this,gn).createElement("div"),{style:vn}=sn;vn.visibility="hidden",vn.contain="strict",vn.width=vn.height=0,vn.position="absolute",vn.top=vn.left=0,vn.zIndex=-1;const Rn=_t(this,gn).createElementNS(wt,"svg");Rn.setAttribute("width",0),Rn.setAttribute("height",0),zt(this,fn,_t(this,gn).createElementNS(wt,"defs")),sn.append(Rn),Rn.append(_t(this,fn)),_t(this,gn).body.append(sn)}return _t(this,fn)},OA=function(sn){const vn=_t(this,gn).createElementNS(wt,"feColorMatrix");vn.setAttribute("type","matrix"),vn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),sn.append(vn)},N0=function(sn){const vn=_t(this,gn).createElementNS(wt,"filter");return vn.setAttribute("color-interpolation-filters","sRGB"),vn.setAttribute("id",sn),_t(this,pn,sm).append(vn),vn},B0=function(sn,vn,Rn){const Nn=_t(this,gn).createElementNS(wt,vn);Nn.setAttribute("type","discrete"),Nn.setAttribute("tableValues",Rn),sn.append(Nn)},yv=function(sn,vn,Rn,Nn){const Wn=_t(this,gn).createElementNS(wt,"feComponentTransfer");Nn.append(Wn),Ut(this,pn,B0).call(this,Wn,"feFuncR",sn),Ut(this,pn,B0).call(this,Wn,"feFuncG",vn),Ut(this,pn,B0).call(this,Wn,"feFuncB",Rn)},bv=function(sn){return _t(this,pn,sm).style.color=sn,Gt(getComputedStyle(_t(this,pn,sm)).getPropertyValue("color"))},$.DOMFilterFactory=Et;class St extends vt.BaseCanvasFactory{constructor({ownerDocument:On=globalThis.document}={}){super(),this._document=On}_createCanvas(On,sn){const vn=this._document.createElement("canvas");return vn.width=On,vn.height=sn,vn}}$.DOMCanvasFactory=St;async function Ct(In,On=!1){if(Bt(In,document.baseURI)){const sn=await fetch(In);if(!sn.ok)throw new Error(sn.statusText);return On?new Uint8Array(await sn.arrayBuffer()):(0,bt.stringToBytes)(await sn.text())}return new Promise((sn,vn)=>{const Rn=new XMLHttpRequest;Rn.open("GET",In,!0),On&&(Rn.responseType="arraybuffer"),Rn.onreadystatechange=()=>{if(Rn.readyState===XMLHttpRequest.DONE){if(Rn.status===200||Rn.status===0){let Nn;if(On&&Rn.response?Nn=new Uint8Array(Rn.response):!On&&Rn.responseText&&(Nn=(0,bt.stringToBytes)(Rn.responseText)),Nn){sn(Nn);return}}vn(new Error(Rn.statusText))}},Rn.send(null)})}class xt extends vt.BaseCMapReaderFactory{_fetchData(On,sn){return Ct(On,this.isCompressed).then(vn=>({cMapData:vn,compressionType:sn}))}}$.DOMCMapReaderFactory=xt;class Pt extends vt.BaseStandardFontDataFactory{_fetchData(On){return Ct(On,!0)}}$.DOMStandardFontDataFactory=Pt;class kt extends vt.BaseSVGFactory{_createSVG(On){return document.createElementNS(wt,On)}}$.DOMSVGFactory=kt;class Rt{constructor({viewBox:On,scale:sn,rotation:vn,offsetX:Rn=0,offsetY:Nn=0,dontFlip:Wn=!1}){this.viewBox=On,this.scale=sn,this.rotation=vn,this.offsetX=Rn,this.offsetY=Nn;const Jn=(On[2]+On[0])/2,Xn=(On[3]+On[1])/2;let kn,ar,ir,Nr;switch(vn%=360,vn<0&&(vn+=360),vn){case 180:kn=-1,ar=0,ir=0,Nr=1;break;case 90:kn=0,ar=1,ir=1,Nr=0;break;case 270:kn=0,ar=-1,ir=-1,Nr=0;break;case 0:kn=1,ar=0,ir=0,Nr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Wn&&(ir=-ir,Nr=-Nr);let Rr,Yr,fr,_r;kn===0?(Rr=Math.abs(Xn-On[1])*sn+Rn,Yr=Math.abs(Jn-On[0])*sn+Nn,fr=(On[3]-On[1])*sn,_r=(On[2]-On[0])*sn):(Rr=Math.abs(Jn-On[0])*sn+Rn,Yr=Math.abs(Xn-On[1])*sn+Nn,fr=(On[2]-On[0])*sn,_r=(On[3]-On[1])*sn),this.transform=[kn*sn,ar*sn,ir*sn,Nr*sn,Rr-kn*sn*Jn-ir*sn*Xn,Yr-ar*sn*Jn-Nr*sn*Xn],this.width=fr,this.height=_r}get rawDims(){const{viewBox:On}=this;return(0,bt.shadow)(this,"rawDims",{pageWidth:On[2]-On[0],pageHeight:On[3]-On[1],pageX:On[0],pageY:On[1]})}clone({scale:On=this.scale,rotation:sn=this.rotation,offsetX:vn=this.offsetX,offsetY:Rn=this.offsetY,dontFlip:Nn=!1}={}){return new Rt({viewBox:this.viewBox.slice(),scale:On,rotation:sn,offsetX:vn,offsetY:Rn,dontFlip:Nn})}convertToViewportPoint(On,sn){return bt.Util.applyTransform([On,sn],this.transform)}convertToViewportRectangle(On){const sn=bt.Util.applyTransform([On[0],On[1]],this.transform),vn=bt.Util.applyTransform([On[2],On[3]],this.transform);return[sn[0],sn[1],vn[0],vn[1]]}convertToPdfPoint(On,sn){return bt.Util.applyInverseTransform([On,sn],this.transform)}}$.PageViewport=Rt;class Mt extends bt.BaseException{constructor(On,sn=0){super(On,"RenderingCancelledException"),this.extraDelay=sn}}$.RenderingCancelledException=Mt;function Ft(In){const On=In.length;let sn=0;for(;sn<On&&In[sn].trim()==="";)sn++;return In.substring(sn,sn+5).toLowerCase()==="data:"}function $t(In){return typeof In=="string"&&/\.pdf$/i.test(In)}function Lt(In,On=!1){return On||([In]=In.split(/[#?]/,1)),In.substring(In.lastIndexOf("/")+1)}function Dt(In,On="document.pdf"){if(typeof In!="string")return On;if(Ft(In))return(0,bt.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),On;const sn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,vn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Rn=sn.exec(In);let Nn=vn.exec(Rn[1])||vn.exec(Rn[2])||vn.exec(Rn[3]);if(Nn&&(Nn=Nn[0],Nn.includes("%")))try{Nn=vn.exec(decodeURIComponent(Nn))[0]}catch{}return Nn||On}class Ot{constructor(){xr(this,"started",Object.create(null));xr(this,"times",[])}time(On){On in this.started&&(0,bt.warn)(`Timer is already running for ${On}`),this.started[On]=Date.now()}timeEnd(On){On in this.started||(0,bt.warn)(`Timer has not been started for ${On}`),this.times.push({name:On,start:this.started[On],end:Date.now()}),delete this.started[On]}toString(){const On=[];let sn=0;for(const{name:vn}of this.times)sn=Math.max(vn.length,sn);for(const{name:vn,start:Rn,end:Nn}of this.times)On.push(`${vn.padEnd(sn)} ${Nn-Rn}ms
`);return On.join("")}}$.StatTimer=Ot;function Bt(In,On){try{const{protocol:sn}=On?new URL(In,On):new URL(In);return sn==="http:"||sn==="https:"}catch{return!1}}function Nt(In){In.preventDefault()}function Ht(In,On=!1){return new Promise((sn,vn)=>{const Rn=document.createElement("script");Rn.src=In,Rn.onload=function(Nn){On&&Rn.remove(),sn(Nn)},Rn.onerror=function(){vn(new Error(`Cannot load script at: ${Rn.src}`))},(document.head||document.documentElement).append(Rn)})}function Vt(In){console.log("Deprecated API usage: "+In)}let jt;class qt{static toDateObject(On){if(!On||typeof On!="string")return null;jt||(jt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const sn=jt.exec(On);if(!sn)return null;const vn=parseInt(sn[1],10);let Rn=parseInt(sn[2],10);Rn=Rn>=1&&Rn<=12?Rn-1:0;let Nn=parseInt(sn[3],10);Nn=Nn>=1&&Nn<=31?Nn:1;let Wn=parseInt(sn[4],10);Wn=Wn>=0&&Wn<=23?Wn:0;let Jn=parseInt(sn[5],10);Jn=Jn>=0&&Jn<=59?Jn:0;let Xn=parseInt(sn[6],10);Xn=Xn>=0&&Xn<=59?Xn:0;const kn=sn[7]||"Z";let ar=parseInt(sn[8],10);ar=ar>=0&&ar<=23?ar:0;let ir=parseInt(sn[9],10)||0;return ir=ir>=0&&ir<=59?ir:0,kn==="-"?(Wn+=ar,Jn+=ir):kn==="+"&&(Wn-=ar,Jn-=ir),new Date(Date.UTC(vn,Rn,Nn,Wn,Jn,Xn))}}$.PDFDateString=qt;function Jt(In,{scale:On=1,rotation:sn=0}){const{width:vn,height:Rn}=In.attributes.style,Nn=[0,0,parseInt(vn),parseInt(Rn)];return new Rt({viewBox:Nn,scale:On,rotation:sn})}function Gt(In){if(In.startsWith("#")){const On=parseInt(In.slice(1),16);return[(On&16711680)>>16,(On&65280)>>8,On&255]}return In.startsWith("rgb(")?In.slice(4,-1).split(",").map(On=>parseInt(On)):In.startsWith("rgba(")?In.slice(5,-1).split(",").map(On=>parseInt(On)).slice(0,3):((0,bt.warn)(`Not a valid color format: "${In}"`),[0,0,0])}function en(In){const On=document.createElement("span");On.style.visibility="hidden",document.body.append(On);for(const sn of In.keys()){On.style.color=sn;const vn=window.getComputedStyle(On).color;In.set(sn,Gt(vn))}On.remove()}function an(In){const{a:On,b:sn,c:vn,d:Rn,e:Nn,f:Wn}=In.getTransform();return[On,sn,vn,Rn,Nn,Wn]}function Sn(In){const{a:On,b:sn,c:vn,d:Rn,e:Nn,f:Wn}=In.getTransform().invertSelf();return[On,sn,vn,Rn,Nn,Wn]}function cn(In,On,sn=!1,vn=!0){if(On instanceof Rt){const{pageWidth:Rn,pageHeight:Nn}=On.rawDims,{style:Wn}=In,Jn=bt.FeatureTest.isCSSRoundSupported,Xn=`var(--scale-factor) * ${Rn}px`,kn=`var(--scale-factor) * ${Nn}px`,ar=Jn?`round(${Xn}, 1px)`:`calc(${Xn})`,ir=Jn?`round(${kn}, 1px)`:`calc(${kn})`;!sn||On.rotation%180===0?(Wn.width=ar,Wn.height=ir):(Wn.width=ir,Wn.height=ar)}vn&&In.setAttribute("data-main-rotation",On.rotation)}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseFilterFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var vt=ht(1);class bt{constructor(){this.constructor===bt&&(0,vt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(xt){return"none"}addHCMFilter(xt,Pt){return"none"}addHighlightHCMFilter(xt,Pt,kt,Rt){return"none"}destroy(xt=!1){}}$.BaseFilterFactory=bt;class wt{constructor(){this.constructor===wt&&(0,vt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(xt,Pt){if(xt<=0||Pt<=0)throw new Error("Invalid canvas size");const kt=this._createCanvas(xt,Pt);return{canvas:kt,context:kt.getContext("2d")}}reset(xt,Pt,kt){if(!xt.canvas)throw new Error("Canvas is not specified");if(Pt<=0||kt<=0)throw new Error("Invalid canvas size");xt.canvas.width=Pt,xt.canvas.height=kt}destroy(xt){if(!xt.canvas)throw new Error("Canvas is not specified");xt.canvas.width=0,xt.canvas.height=0,xt.canvas=null,xt.context=null}_createCanvas(xt,Pt){(0,vt.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=wt;class At{constructor({baseUrl:xt=null,isCompressed:Pt=!0}){this.constructor===At&&(0,vt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=xt,this.isCompressed=Pt}async fetch({name:xt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!xt)throw new Error("CMap name must be specified.");const Pt=this.baseUrl+xt+(this.isCompressed?".bcmap":""),kt=this.isCompressed?vt.CMapCompressionType.BINARY:vt.CMapCompressionType.NONE;return this._fetchData(Pt,kt).catch(Rt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Pt}`)})}_fetchData(xt,Pt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=At;class Et{constructor({baseUrl:xt=null}){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=xt}async fetch({filename:xt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!xt)throw new Error("Font filename must be specified.");const Pt=`${this.baseUrl}${xt}`;return this._fetchData(Pt).catch(kt=>{throw new Error(`Unable to load font data at: ${Pt}`)})}_fetchData(xt){(0,vt.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=Et;class St{constructor(){this.constructor===St&&(0,vt.unreachable)("Cannot initialize BaseSVGFactory.")}create(xt,Pt,kt=!1){if(xt<=0||Pt<=0)throw new Error("Invalid SVG dimensions");const Rt=this._createSVG("svg:svg");return Rt.setAttribute("version","1.1"),kt||(Rt.setAttribute("width",`${xt}px`),Rt.setAttribute("height",`${Pt}px`)),Rt.setAttribute("preserveAspectRatio","none"),Rt.setAttribute("viewBox",`0 0 ${xt} ${Pt}`),Rt}createElement(xt){if(typeof xt!="string")throw new Error("Invalid SVG element type");return this._createSVG(xt)}_createSVG(xt){(0,vt.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=St},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var vt=ht(1);const bt=3285377520,wt=4294901760,At=65535;class Et{constructor(Ct){this.h1=Ct?Ct&4294967295:bt,this.h2=Ct?Ct&4294967295:bt}update(Ct){let xt,Pt;if(typeof Ct=="string"){xt=new Uint8Array(Ct.length*2),Pt=0;for(let Vt=0,jt=Ct.length;Vt<jt;Vt++){const qt=Ct.charCodeAt(Vt);qt<=255?xt[Pt++]=qt:(xt[Pt++]=qt>>>8,xt[Pt++]=qt&255)}}else if((0,vt.isArrayBuffer)(Ct))xt=Ct.slice(),Pt=xt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const kt=Pt>>2,Rt=Pt-kt*4,Mt=new Uint32Array(xt.buffer,0,kt);let Ft=0,$t=0,Lt=this.h1,Dt=this.h2;const Ot=3432918353,Bt=461845907,Nt=Ot&At,Ht=Bt&At;for(let Vt=0;Vt<kt;Vt++)Vt&1?(Ft=Mt[Vt],Ft=Ft*Ot&wt|Ft*Nt&At,Ft=Ft<<15|Ft>>>17,Ft=Ft*Bt&wt|Ft*Ht&At,Lt^=Ft,Lt=Lt<<13|Lt>>>19,Lt=Lt*5+3864292196):($t=Mt[Vt],$t=$t*Ot&wt|$t*Nt&At,$t=$t<<15|$t>>>17,$t=$t*Bt&wt|$t*Ht&At,Dt^=$t,Dt=Dt<<13|Dt>>>19,Dt=Dt*5+3864292196);switch(Ft=0,Rt){case 3:Ft^=xt[kt*4+2]<<16;case 2:Ft^=xt[kt*4+1]<<8;case 1:Ft^=xt[kt*4],Ft=Ft*Ot&wt|Ft*Nt&At,Ft=Ft<<15|Ft>>>17,Ft=Ft*Bt&wt|Ft*Ht&At,kt&1?Lt^=Ft:Dt^=Ft}this.h1=Lt,this.h2=Dt}hexdigest(){let Ct=this.h1,xt=this.h2;return Ct^=xt>>>1,Ct=Ct*3981806797&wt|Ct*36045&At,xt=xt*4283543511&wt|((xt<<16|Ct>>>16)*2950163797&wt)>>>16,Ct^=xt>>>1,Ct=Ct*444984403&wt|Ct*60499&At,xt=xt*3301882366&wt|((xt<<16|Ct>>>16)*3120437893&wt)>>>16,Ct^=xt>>>1,(Ct>>>0).toString(16).padStart(8,"0")+(xt>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=Et},(_e,$,ht)=>{var At;Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var vt=ht(1);class bt{constructor({ownerDocument:St=globalThis.document,styleElement:Ct=null}){Kt(this,At,new Set);this._document=St,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(St){this.nativeFontFaces.add(St),this._document.fonts.add(St)}removeNativeFontFace(St){this.nativeFontFaces.delete(St),this._document.fonts.delete(St)}insertRule(St){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Ct=this.styleElement.sheet;Ct.insertRule(St,Ct.cssRules.length)}clear(){for(const St of this.nativeFontFaces)this._document.fonts.delete(St);this.nativeFontFaces.clear(),_t(this,At).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(St){if(!(!St||_t(this,At).has(St.loadedName))){if((0,vt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Ct,src:xt,style:Pt}=St,kt=new FontFace(Ct,xt,Pt);this.addNativeFontFace(kt);try{await kt.load(),_t(this,At).add(Ct)}catch{(0,vt.warn)(`Cannot load system font: ${St.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(kt)}return}(0,vt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(St){if(St.attached||St.missingFile&&!St.systemFontInfo)return;if(St.attached=!0,St.systemFontInfo){await this.loadSystemFont(St.systemFontInfo);return}if(this.isFontLoadingAPISupported){const xt=St.createNativeFontFace();if(xt){this.addNativeFontFace(xt);try{await xt.loaded}catch(Pt){throw(0,vt.warn)(`Failed to load font '${xt.family}': '${Pt}'.`),St.disableFontFace=!0,Pt}}return}const Ct=St.createFontFaceRule();if(Ct){if(this.insertRule(Ct),this.isSyncFontLoadingSupported)return;await new Promise(xt=>{const Pt=this._queueLoadingCallback(xt);this._prepareFontLoadEvent(St,Pt)})}}get isFontLoadingAPISupported(){var Ct;const St=!!((Ct=this._document)!=null&&Ct.fonts);return(0,vt.shadow)(this,"isFontLoadingAPISupported",St)}get isSyncFontLoadingSupported(){let St=!1;return(vt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(St=!0),(0,vt.shadow)(this,"isSyncFontLoadingSupported",St)}_queueLoadingCallback(St){function Ct(){for((0,vt.assert)(!Pt.done,"completeRequest() cannot be called twice."),Pt.done=!0;xt.length>0&&xt[0].done;){const kt=xt.shift();setTimeout(kt.callback,0)}}const{loadingRequests:xt}=this,Pt={done:!1,complete:Ct,callback:St};return xt.push(Pt),Pt}get _loadTestFont(){const St=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,vt.shadow)(this,"_loadTestFont",St)}_prepareFontLoadEvent(St,Ct){function xt(Gt,en){return Gt.charCodeAt(en)<<24|Gt.charCodeAt(en+1)<<16|Gt.charCodeAt(en+2)<<8|Gt.charCodeAt(en+3)&255}function Pt(Gt,en,an,Sn){const cn=Gt.substring(0,en),An=Gt.substring(en+an);return cn+Sn+An}let kt,Rt;const Mt=this._document.createElement("canvas");Mt.width=1,Mt.height=1;const Ft=Mt.getContext("2d");let $t=0;function Lt(Gt,en){if(++$t>30){(0,vt.warn)("Load test font never loaded."),en();return}if(Ft.font="30px "+Gt,Ft.fillText(".",0,20),Ft.getImageData(0,0,1,1).data[3]>0){en();return}setTimeout(Lt.bind(null,Gt,en))}const Dt=`lt${Date.now()}${this.loadTestFontId++}`;let Ot=this._loadTestFont;Ot=Pt(Ot,976,Dt.length,Dt);const Nt=16,Ht=1482184792;let Vt=xt(Ot,Nt);for(kt=0,Rt=Dt.length-3;kt<Rt;kt+=4)Vt=Vt-Ht+xt(Dt,kt)|0;kt<Dt.length&&(Vt=Vt-Ht+xt(Dt+"XXX",kt)|0),Ot=Pt(Ot,Nt,4,(0,vt.string32)(Vt));const jt=`url(data:font/opentype;base64,${btoa(Ot)});`,qt=`@font-face {font-family:"${Dt}";src:${jt}}`;this.insertRule(qt);const Jt=this._document.createElement("div");Jt.style.visibility="hidden",Jt.style.width=Jt.style.height="10px",Jt.style.position="absolute",Jt.style.top=Jt.style.left="0px";for(const Gt of[St.loadedName,Dt]){const en=this._document.createElement("span");en.textContent="Hi",en.style.fontFamily=Gt,Jt.append(en)}this._document.body.append(Jt),Lt(Dt,()=>{Jt.remove(),Ct.complete()})}}At=new WeakMap,$.FontLoader=bt;class wt{constructor(St,{isEvalSupported:Ct=!0,disableFontFace:xt=!1,ignoreErrors:Pt=!1,inspectFont:kt=null}){this.compiledGlyphs=Object.create(null);for(const Rt in St)this[Rt]=St[Rt];this.isEvalSupported=Ct!==!1,this.disableFontFace=xt===!0,this.ignoreErrors=Pt===!0,this._inspectFont=kt}createNativeFontFace(){var Ct;if(!this.data||this.disableFontFace)return null;let St;if(!this.cssFontInfo)St=new FontFace(this.loadedName,this.data,{});else{const xt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(xt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),St=new FontFace(this.cssFontInfo.fontFamily,this.data,xt)}return(Ct=this._inspectFont)==null||Ct.call(this,this),St}createFontFaceRule(){var Pt;if(!this.data||this.disableFontFace)return null;const St=(0,vt.bytesToString)(this.data),Ct=`url(data:${this.mimetype};base64,${btoa(St)});`;let xt;if(!this.cssFontInfo)xt=`@font-face {font-family:"${this.loadedName}";src:${Ct}}`;else{let kt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(kt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),xt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${kt}src:${Ct}}`}return(Pt=this._inspectFont)==null||Pt.call(this,this,Ct),xt}getPathGenerator(St,Ct){if(this.compiledGlyphs[Ct]!==void 0)return this.compiledGlyphs[Ct];let xt;try{xt=St.get(this.loadedName+"_path_"+Ct)}catch(Pt){if(!this.ignoreErrors)throw Pt;return(0,vt.warn)(`getPathGenerator - ignoring character: "${Pt}".`),this.compiledGlyphs[Ct]=function(kt,Rt){}}if(this.isEvalSupported&&vt.FeatureTest.isEvalSupported){const Pt=[];for(const kt of xt){const Rt=kt.args!==void 0?kt.args.join(","):"";Pt.push("c.",kt.cmd,"(",Rt,`);
`)}return this.compiledGlyphs[Ct]=new Function("c","size",Pt.join(""))}return this.compiledGlyphs[Ct]=function(Pt,kt){for(const Rt of xt)Rt.cmd==="scale"&&(Rt.args=[kt,-kt]),Pt[Rt.cmd].apply(Pt,Rt.args)}}}$.FontFaceObject=wt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeFilterFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var vt=ht(7);ht(1);const bt=function(Ct){return new Promise((xt,Pt)=>{require$$5.readFile(Ct,(Rt,Mt)=>{if(Rt||!Mt){Pt(new Error(Rt));return}xt(new Uint8Array(Mt))})})};class wt extends vt.BaseFilterFactory{}$.NodeFilterFactory=wt;class At extends vt.BaseCanvasFactory{_createCanvas(xt,Pt){return require$$5.createCanvas(xt,Pt)}}$.NodeCanvasFactory=At;class Et extends vt.BaseCMapReaderFactory{_fetchData(xt,Pt){return bt(xt).then(kt=>({cMapData:kt,compressionType:Pt}))}}$.NodeCMapReaderFactory=Et;class St extends vt.BaseStandardFontDataFactory{_fetchData(xt){return bt(xt)}}$.NodeStandardFontDataFactory=St},(_e,$,ht)=>{var fn,NA,BA;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var vt=ht(1),bt=ht(6),wt=ht(12),At=ht(13);const Et=16,St=100,Ct=4096,xt=15,Pt=10,kt=1e3,Rt=16;function Mt(rn,Xt){if(rn._removeMirroring)throw new Error("Context is already forwarding operations.");rn.__originalSave=rn.save,rn.__originalRestore=rn.restore,rn.__originalRotate=rn.rotate,rn.__originalScale=rn.scale,rn.__originalTranslate=rn.translate,rn.__originalTransform=rn.transform,rn.__originalSetTransform=rn.setTransform,rn.__originalResetTransform=rn.resetTransform,rn.__originalClip=rn.clip,rn.__originalMoveTo=rn.moveTo,rn.__originalLineTo=rn.lineTo,rn.__originalBezierCurveTo=rn.bezierCurveTo,rn.__originalRect=rn.rect,rn.__originalClosePath=rn.closePath,rn.__originalBeginPath=rn.beginPath,rn._removeMirroring=()=>{rn.save=rn.__originalSave,rn.restore=rn.__originalRestore,rn.rotate=rn.__originalRotate,rn.scale=rn.__originalScale,rn.translate=rn.__originalTranslate,rn.transform=rn.__originalTransform,rn.setTransform=rn.__originalSetTransform,rn.resetTransform=rn.__originalResetTransform,rn.clip=rn.__originalClip,rn.moveTo=rn.__originalMoveTo,rn.lineTo=rn.__originalLineTo,rn.bezierCurveTo=rn.__originalBezierCurveTo,rn.rect=rn.__originalRect,rn.closePath=rn.__originalClosePath,rn.beginPath=rn.__originalBeginPath,delete rn._removeMirroring},rn.save=function(){Xt.save(),this.__originalSave()},rn.restore=function(){Xt.restore(),this.__originalRestore()},rn.translate=function(tn,hn){Xt.translate(tn,hn),this.__originalTranslate(tn,hn)},rn.scale=function(tn,hn){Xt.scale(tn,hn),this.__originalScale(tn,hn)},rn.transform=function(tn,hn,un,pn,Pn,Vn){Xt.transform(tn,hn,un,pn,Pn,Vn),this.__originalTransform(tn,hn,un,pn,Pn,Vn)},rn.setTransform=function(tn,hn,un,pn,Pn,Vn){Xt.setTransform(tn,hn,un,pn,Pn,Vn),this.__originalSetTransform(tn,hn,un,pn,Pn,Vn)},rn.resetTransform=function(){Xt.resetTransform(),this.__originalResetTransform()},rn.rotate=function(tn){Xt.rotate(tn),this.__originalRotate(tn)},rn.clip=function(tn){Xt.clip(tn),this.__originalClip(tn)},rn.moveTo=function(Yt,tn){Xt.moveTo(Yt,tn),this.__originalMoveTo(Yt,tn)},rn.lineTo=function(Yt,tn){Xt.lineTo(Yt,tn),this.__originalLineTo(Yt,tn)},rn.bezierCurveTo=function(Yt,tn,hn,un,pn,Pn){Xt.bezierCurveTo(Yt,tn,hn,un,pn,Pn),this.__originalBezierCurveTo(Yt,tn,hn,un,pn,Pn)},rn.rect=function(Yt,tn,hn,un){Xt.rect(Yt,tn,hn,un),this.__originalRect(Yt,tn,hn,un)},rn.closePath=function(){Xt.closePath(),this.__originalClosePath()},rn.beginPath=function(){Xt.beginPath(),this.__originalBeginPath()}}class Ft{constructor(Xt){this.canvasFactory=Xt,this.cache=Object.create(null)}getCanvas(Xt,Yt,tn){let hn;return this.cache[Xt]!==void 0?(hn=this.cache[Xt],this.canvasFactory.reset(hn,Yt,tn)):(hn=this.canvasFactory.create(Yt,tn),this.cache[Xt]=hn),hn}delete(Xt){delete this.cache[Xt]}clear(){for(const Xt in this.cache){const Yt=this.cache[Xt];this.canvasFactory.destroy(Yt),delete this.cache[Xt]}}}function $t(rn,Xt,Yt,tn,hn,un,pn,Pn,Vn,Un){const[zn,Kn,Zn,Qn,In,On]=(0,bt.getCurrentTransform)(rn);if(Kn===0&&Zn===0){const Rn=pn*zn+In,Nn=Math.round(Rn),Wn=Pn*Qn+On,Jn=Math.round(Wn),Xn=(pn+Vn)*zn+In,kn=Math.abs(Math.round(Xn)-Nn)||1,ar=(Pn+Un)*Qn+On,ir=Math.abs(Math.round(ar)-Jn)||1;return rn.setTransform(Math.sign(zn),0,0,Math.sign(Qn),Nn,Jn),rn.drawImage(Xt,Yt,tn,hn,un,0,0,kn,ir),rn.setTransform(zn,Kn,Zn,Qn,In,On),[kn,ir]}if(zn===0&&Qn===0){const Rn=Pn*Zn+In,Nn=Math.round(Rn),Wn=pn*Kn+On,Jn=Math.round(Wn),Xn=(Pn+Un)*Zn+In,kn=Math.abs(Math.round(Xn)-Nn)||1,ar=(pn+Vn)*Kn+On,ir=Math.abs(Math.round(ar)-Jn)||1;return rn.setTransform(0,Math.sign(Kn),Math.sign(Zn),0,Nn,Jn),rn.drawImage(Xt,Yt,tn,hn,un,0,0,ir,kn),rn.setTransform(zn,Kn,Zn,Qn,In,On),[ir,kn]}rn.drawImage(Xt,Yt,tn,hn,un,pn,Pn,Vn,Un);const sn=Math.hypot(zn,Kn),vn=Math.hypot(Zn,Qn);return[sn*Vn,vn*Un]}function Lt(rn){const{width:Xt,height:Yt}=rn;if(Xt>kt||Yt>kt)return null;const tn=1e3,hn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),un=Xt+1;let pn=new Uint8Array(un*(Yt+1)),Pn,Vn,Un;const zn=Xt+7&-8;let Kn=new Uint8Array(zn*Yt),Zn=0;for(const vn of rn.data){let Rn=128;for(;Rn>0;)Kn[Zn++]=vn&Rn?0:255,Rn>>=1}let Qn=0;for(Zn=0,Kn[Zn]!==0&&(pn[0]=1,++Qn),Vn=1;Vn<Xt;Vn++)Kn[Zn]!==Kn[Zn+1]&&(pn[Vn]=Kn[Zn]?2:1,++Qn),Zn++;for(Kn[Zn]!==0&&(pn[Vn]=2,++Qn),Pn=1;Pn<Yt;Pn++){Zn=Pn*zn,Un=Pn*un,Kn[Zn-zn]!==Kn[Zn]&&(pn[Un]=Kn[Zn]?1:8,++Qn);let vn=(Kn[Zn]?4:0)+(Kn[Zn-zn]?8:0);for(Vn=1;Vn<Xt;Vn++)vn=(vn>>2)+(Kn[Zn+1]?4:0)+(Kn[Zn-zn+1]?8:0),hn[vn]&&(pn[Un+Vn]=hn[vn],++Qn),Zn++;if(Kn[Zn-zn]!==Kn[Zn]&&(pn[Un+Vn]=Kn[Zn]?2:4,++Qn),Qn>tn)return null}for(Zn=zn*(Yt-1),Un=Pn*un,Kn[Zn]!==0&&(pn[Un]=8,++Qn),Vn=1;Vn<Xt;Vn++)Kn[Zn]!==Kn[Zn+1]&&(pn[Un+Vn]=Kn[Zn]?4:8,++Qn),Zn++;if(Kn[Zn]!==0&&(pn[Un+Vn]=4,++Qn),Qn>tn)return null;const In=new Int32Array([0,un,-1,0,-un,0,0,0,1]),On=new Path2D;for(Pn=0;Qn&&Pn<=Yt;Pn++){let vn=Pn*un;const Rn=vn+Xt;for(;vn<Rn&&!pn[vn];)vn++;if(vn===Rn)continue;On.moveTo(vn%un,Pn);const Nn=vn;let Wn=pn[vn];do{const Jn=In[Wn];do vn+=Jn;while(!pn[vn]);const Xn=pn[vn];Xn!==5&&Xn!==10?(Wn=Xn,pn[vn]=0):(Wn=Xn&51*Wn>>4,pn[vn]&=Wn>>2|Wn<<2),On.lineTo(vn%un,vn/un|0),pn[vn]||--Qn}while(Nn!==vn);--Pn}return Kn=null,pn=null,function(vn){vn.save(),vn.scale(1/Xt,-1/Yt),vn.translate(0,-Yt),vn.fill(On),vn.beginPath(),vn.restore()}}class Dt{constructor(Xt,Yt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=vt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=vt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=vt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Xt,Yt])}clone(){const Xt=Object.create(this);return Xt.clipBox=this.clipBox.slice(),Xt}setCurrentPoint(Xt,Yt){this.x=Xt,this.y=Yt}updatePathMinMax(Xt,Yt,tn){[Yt,tn]=vt.Util.applyTransform([Yt,tn],Xt),this.minX=Math.min(this.minX,Yt),this.minY=Math.min(this.minY,tn),this.maxX=Math.max(this.maxX,Yt),this.maxY=Math.max(this.maxY,tn)}updateRectMinMax(Xt,Yt){const tn=vt.Util.applyTransform(Yt,Xt),hn=vt.Util.applyTransform(Yt.slice(2),Xt);this.minX=Math.min(this.minX,tn[0],hn[0]),this.minY=Math.min(this.minY,tn[1],hn[1]),this.maxX=Math.max(this.maxX,tn[0],hn[0]),this.maxY=Math.max(this.maxY,tn[1],hn[1])}updateScalingPathMinMax(Xt,Yt){vt.Util.scaleMinMax(Xt,Yt),this.minX=Math.min(this.minX,Yt[0]),this.maxX=Math.max(this.maxX,Yt[1]),this.minY=Math.min(this.minY,Yt[2]),this.maxY=Math.max(this.maxY,Yt[3])}updateCurvePathMinMax(Xt,Yt,tn,hn,un,pn,Pn,Vn,Un,zn){const Kn=vt.Util.bezierBoundingBox(Yt,tn,hn,un,pn,Pn,Vn,Un);if(zn){zn[0]=Math.min(zn[0],Kn[0],Kn[2]),zn[1]=Math.max(zn[1],Kn[0],Kn[2]),zn[2]=Math.min(zn[2],Kn[1],Kn[3]),zn[3]=Math.max(zn[3],Kn[1],Kn[3]);return}this.updateRectMinMax(Xt,Kn)}getPathBoundingBox(Xt=wt.PathType.FILL,Yt=null){const tn=[this.minX,this.minY,this.maxX,this.maxY];if(Xt===wt.PathType.STROKE){Yt||(0,vt.unreachable)("Stroke bounding box must include transform.");const hn=vt.Util.singularValueDecompose2dScale(Yt),un=hn[0]*this.lineWidth/2,pn=hn[1]*this.lineWidth/2;tn[0]-=un,tn[1]-=pn,tn[2]+=un,tn[3]+=pn}return tn}updateClipFromPath(){const Xt=vt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Xt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Xt){this.clipBox=Xt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Xt=wt.PathType.FILL,Yt=null){return vt.Util.intersect(this.clipBox,this.getPathBoundingBox(Xt,Yt))}}function Ot(rn,Xt){if(typeof ImageData<"u"&&Xt instanceof ImageData){rn.putImageData(Xt,0,0);return}const Yt=Xt.height,tn=Xt.width,hn=Yt%Rt,un=(Yt-hn)/Rt,pn=hn===0?un:un+1,Pn=rn.createImageData(tn,Rt);let Vn=0,Un;const zn=Xt.data,Kn=Pn.data;let Zn,Qn,In,On;if(Xt.kind===vt.ImageKind.GRAYSCALE_1BPP){const sn=zn.byteLength,vn=new Uint32Array(Kn.buffer,0,Kn.byteLength>>2),Rn=vn.length,Nn=tn+7>>3,Wn=4294967295,Jn=vt.FeatureTest.isLittleEndian?4278190080:255;for(Zn=0;Zn<pn;Zn++){for(In=Zn<un?Rt:hn,Un=0,Qn=0;Qn<In;Qn++){const Xn=sn-Vn;let kn=0;const ar=Xn>Nn?tn:Xn*8-7,ir=ar&-8;let Nr=0,Rr=0;for(;kn<ir;kn+=8)Rr=zn[Vn++],vn[Un++]=Rr&128?Wn:Jn,vn[Un++]=Rr&64?Wn:Jn,vn[Un++]=Rr&32?Wn:Jn,vn[Un++]=Rr&16?Wn:Jn,vn[Un++]=Rr&8?Wn:Jn,vn[Un++]=Rr&4?Wn:Jn,vn[Un++]=Rr&2?Wn:Jn,vn[Un++]=Rr&1?Wn:Jn;for(;kn<ar;kn++)Nr===0&&(Rr=zn[Vn++],Nr=128),vn[Un++]=Rr&Nr?Wn:Jn,Nr>>=1}for(;Un<Rn;)vn[Un++]=0;rn.putImageData(Pn,0,Zn*Rt)}}else if(Xt.kind===vt.ImageKind.RGBA_32BPP){for(Qn=0,On=tn*Rt*4,Zn=0;Zn<un;Zn++)Kn.set(zn.subarray(Vn,Vn+On)),Vn+=On,rn.putImageData(Pn,0,Qn),Qn+=Rt;Zn<pn&&(On=tn*hn*4,Kn.set(zn.subarray(Vn,Vn+On)),rn.putImageData(Pn,0,Qn))}else if(Xt.kind===vt.ImageKind.RGB_24BPP)for(In=Rt,On=tn*In,Zn=0;Zn<pn;Zn++){for(Zn>=un&&(In=hn,On=tn*In),Un=0,Qn=On;Qn--;)Kn[Un++]=zn[Vn++],Kn[Un++]=zn[Vn++],Kn[Un++]=zn[Vn++],Kn[Un++]=255;rn.putImageData(Pn,0,Zn*Rt)}else throw new Error(`bad image kind: ${Xt.kind}`)}function Bt(rn,Xt){if(Xt.bitmap){rn.drawImage(Xt.bitmap,0,0);return}const Yt=Xt.height,tn=Xt.width,hn=Yt%Rt,un=(Yt-hn)/Rt,pn=hn===0?un:un+1,Pn=rn.createImageData(tn,Rt);let Vn=0;const Un=Xt.data,zn=Pn.data;for(let Kn=0;Kn<pn;Kn++){const Zn=Kn<un?Rt:hn;({srcPos:Vn}=(0,At.convertBlackAndWhiteToRGBA)({src:Un,srcPos:Vn,dest:zn,width:tn,height:Zn,nonBlackColor:0})),rn.putImageData(Pn,0,Kn*Rt)}}function Nt(rn,Xt){const Yt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const tn of Yt)rn[tn]!==void 0&&(Xt[tn]=rn[tn]);rn.setLineDash!==void 0&&(Xt.setLineDash(rn.getLineDash()),Xt.lineDashOffset=rn.lineDashOffset)}function Ht(rn){if(rn.strokeStyle=rn.fillStyle="#000000",rn.fillRule="nonzero",rn.globalAlpha=1,rn.lineWidth=1,rn.lineCap="butt",rn.lineJoin="miter",rn.miterLimit=10,rn.globalCompositeOperation="source-over",rn.font="10px sans-serif",rn.setLineDash!==void 0&&(rn.setLineDash([]),rn.lineDashOffset=0),!vt.isNodeJS){const{filter:Xt}=rn;Xt!=="none"&&Xt!==""&&(rn.filter="none")}}function Vt(rn,Xt,Yt,tn){const hn=rn.length;for(let un=3;un<hn;un+=4){const pn=rn[un];if(pn===0)rn[un-3]=Xt,rn[un-2]=Yt,rn[un-1]=tn;else if(pn<255){const Pn=255-pn;rn[un-3]=rn[un-3]*pn+Xt*Pn>>8,rn[un-2]=rn[un-2]*pn+Yt*Pn>>8,rn[un-1]=rn[un-1]*pn+tn*Pn>>8}}}function jt(rn,Xt,Yt){const tn=rn.length,hn=1/255;for(let un=3;un<tn;un+=4){const pn=Yt?Yt[rn[un]]:rn[un];Xt[un]=Xt[un]*pn*hn|0}}function qt(rn,Xt,Yt){const tn=rn.length;for(let hn=3;hn<tn;hn+=4){const un=rn[hn-3]*77+rn[hn-2]*152+rn[hn-1]*28;Xt[hn]=Yt?Xt[hn]*Yt[un>>8]>>8:Xt[hn]*un>>16}}function Jt(rn,Xt,Yt,tn,hn,un,pn,Pn,Vn,Un,zn){const Kn=!!un,Zn=Kn?un[0]:0,Qn=Kn?un[1]:0,In=Kn?un[2]:0,On=hn==="Luminosity"?qt:jt,vn=Math.min(tn,Math.ceil(1048576/Yt));for(let Rn=0;Rn<tn;Rn+=vn){const Nn=Math.min(vn,tn-Rn),Wn=rn.getImageData(Pn-Un,Rn+(Vn-zn),Yt,Nn),Jn=Xt.getImageData(Pn,Rn+Vn,Yt,Nn);Kn&&Vt(Wn.data,Zn,Qn,In),On(Wn.data,Jn.data,pn),Xt.putImageData(Jn,Pn,Rn+Vn)}}function Gt(rn,Xt,Yt,tn){const hn=tn[0],un=tn[1],pn=tn[2]-hn,Pn=tn[3]-un;pn===0||Pn===0||(Jt(Xt.context,Yt,pn,Pn,Xt.subtype,Xt.backdrop,Xt.transferMap,hn,un,Xt.offsetX,Xt.offsetY),rn.save(),rn.globalAlpha=1,rn.globalCompositeOperation="source-over",rn.setTransform(1,0,0,1,0,0),rn.drawImage(Yt.canvas,0,0),rn.restore())}function en(rn,Xt){const Yt=vt.Util.singularValueDecompose2dScale(rn);Yt[0]=Math.fround(Yt[0]),Yt[1]=Math.fround(Yt[1]);const tn=Math.fround((globalThis.devicePixelRatio||1)*bt.PixelsPerInch.PDF_TO_CSS_UNITS);return Xt!==void 0?Xt:Yt[0]<=tn||Yt[1]<=tn}const an=["butt","round","square"],Sn=["miter","round","bevel"],cn={},An={},Cn=class Cn{constructor(Xt,Yt,tn,hn,un,{optionalContentConfig:pn,markedContentStack:Pn=null},Vn,Un){Kt(this,fn);this.ctx=Xt,this.current=new Dt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Yt,this.objs=tn,this.canvasFactory=hn,this.filterFactory=un,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Pn||[],this.optionalContentConfig=pn,this.cachedCanvases=new Ft(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Vn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Un,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Xt,Yt=null){return typeof Xt=="string"?Xt.startsWith("g_")?this.commonObjs.get(Xt):this.objs.get(Xt):Yt}beginDrawing({transform:Xt,viewport:Yt,transparency:tn=!1,background:hn=null}){const un=this.ctx.canvas.width,pn=this.ctx.canvas.height,Pn=this.ctx.fillStyle;if(this.ctx.fillStyle=hn||"#ffffff",this.ctx.fillRect(0,0,un,pn),this.ctx.fillStyle=Pn,tn){const Vn=this.cachedCanvases.getCanvas("transparent",un,pn);this.compositeCtx=this.ctx,this.transparentCanvas=Vn.canvas,this.ctx=Vn.context,this.ctx.save(),this.ctx.transform(...(0,bt.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ht(this.ctx),Xt&&(this.ctx.transform(...Xt),this.outputScaleX=Xt[0],this.outputScaleY=Xt[0]),this.ctx.transform(...Yt.transform),this.viewportScale=Yt.scale,this.baseTransform=(0,bt.getCurrentTransform)(this.ctx)}executeOperatorList(Xt,Yt,tn,hn){const un=Xt.argsArray,pn=Xt.fnArray;let Pn=Yt||0;const Vn=un.length;if(Vn===Pn)return Pn;const Un=Vn-Pn>Pt&&typeof tn=="function",zn=Un?Date.now()+xt:0;let Kn=0;const Zn=this.commonObjs,Qn=this.objs;let In;for(;;){if(hn!==void 0&&Pn===hn.nextBreakPoint)return hn.breakIt(Pn,tn),Pn;if(In=pn[Pn],In!==vt.OPS.dependency)this[In].apply(this,un[Pn]);else for(const On of un[Pn]){const sn=On.startsWith("g_")?Zn:Qn;if(!sn.has(On))return sn.get(On,tn),Pn}if(Pn++,Pn===Vn)return Pn;if(Un&&++Kn>Pt){if(Date.now()>zn)return tn(),Pn;Kn=0}}}endDrawing(){Ut(this,fn,NA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Xt of this._cachedBitmapsMap.values()){for(const Yt of Xt.values())typeof HTMLCanvasElement<"u"&&Yt instanceof HTMLCanvasElement&&(Yt.width=Yt.height=0);Xt.clear()}this._cachedBitmapsMap.clear(),Ut(this,fn,BA).call(this)}_scaleImage(Xt,Yt){const tn=Xt.width,hn=Xt.height;let un=Math.max(Math.hypot(Yt[0],Yt[1]),1),pn=Math.max(Math.hypot(Yt[2],Yt[3]),1),Pn=tn,Vn=hn,Un="prescale1",zn,Kn;for(;un>2&&Pn>1||pn>2&&Vn>1;){let Zn=Pn,Qn=Vn;un>2&&Pn>1&&(Zn=Pn>=16384?Math.floor(Pn/2)-1||1:Math.ceil(Pn/2),un/=Pn/Zn),pn>2&&Vn>1&&(Qn=Vn>=16384?Math.floor(Vn/2)-1||1:Math.ceil(Vn)/2,pn/=Vn/Qn),zn=this.cachedCanvases.getCanvas(Un,Zn,Qn),Kn=zn.context,Kn.clearRect(0,0,Zn,Qn),Kn.drawImage(Xt,0,0,Pn,Vn,0,0,Zn,Qn),Xt=zn.canvas,Pn=Zn,Vn=Qn,Un=Un==="prescale1"?"prescale2":"prescale1"}return{img:Xt,paintWidth:Pn,paintHeight:Vn}}_createMaskCanvas(Xt){const Yt=this.ctx,{width:tn,height:hn}=Xt,un=this.current.fillColor,pn=this.current.patternFill,Pn=(0,bt.getCurrentTransform)(Yt);let Vn,Un,zn,Kn;if((Xt.bitmap||Xt.data)&&Xt.count>1){const kn=Xt.bitmap||Xt.data.buffer;Un=JSON.stringify(pn?Pn:[Pn.slice(0,4),un]),Vn=this._cachedBitmapsMap.get(kn),Vn||(Vn=new Map,this._cachedBitmapsMap.set(kn,Vn));const ar=Vn.get(Un);if(ar&&!pn){const ir=Math.round(Math.min(Pn[0],Pn[2])+Pn[4]),Nr=Math.round(Math.min(Pn[1],Pn[3])+Pn[5]);return{canvas:ar,offsetX:ir,offsetY:Nr}}zn=ar}zn||(Kn=this.cachedCanvases.getCanvas("maskCanvas",tn,hn),Bt(Kn.context,Xt));let Zn=vt.Util.transform(Pn,[1/tn,0,0,-1/hn,0,0]);Zn=vt.Util.transform(Zn,[1,0,0,1,0,-hn]);const Qn=vt.Util.applyTransform([0,0],Zn),In=vt.Util.applyTransform([tn,hn],Zn),On=vt.Util.normalizeRect([Qn[0],Qn[1],In[0],In[1]]),sn=Math.round(On[2]-On[0])||1,vn=Math.round(On[3]-On[1])||1,Rn=this.cachedCanvases.getCanvas("fillCanvas",sn,vn),Nn=Rn.context,Wn=Math.min(Qn[0],In[0]),Jn=Math.min(Qn[1],In[1]);Nn.translate(-Wn,-Jn),Nn.transform(...Zn),zn||(zn=this._scaleImage(Kn.canvas,(0,bt.getCurrentTransformInverse)(Nn)),zn=zn.img,Vn&&pn&&Vn.set(Un,zn)),Nn.imageSmoothingEnabled=en((0,bt.getCurrentTransform)(Nn),Xt.interpolate),$t(Nn,zn,0,0,zn.width,zn.height,0,0,tn,hn),Nn.globalCompositeOperation="source-in";const Xn=vt.Util.transform((0,bt.getCurrentTransformInverse)(Nn),[1,0,0,1,-Wn,-Jn]);return Nn.fillStyle=pn?un.getPattern(Yt,this,Xn,wt.PathType.FILL):un,Nn.fillRect(0,0,tn,hn),Vn&&!pn&&(this.cachedCanvases.delete("fillCanvas"),Vn.set(Un,Rn.canvas)),{canvas:Rn.canvas,offsetX:Math.round(Wn),offsetY:Math.round(Jn)}}setLineWidth(Xt){Xt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Xt,this.ctx.lineWidth=Xt}setLineCap(Xt){this.ctx.lineCap=an[Xt]}setLineJoin(Xt){this.ctx.lineJoin=Sn[Xt]}setMiterLimit(Xt){this.ctx.miterLimit=Xt}setDash(Xt,Yt){const tn=this.ctx;tn.setLineDash!==void 0&&(tn.setLineDash(Xt),tn.lineDashOffset=Yt)}setRenderingIntent(Xt){}setFlatness(Xt){}setGState(Xt){for(const[Yt,tn]of Xt)switch(Yt){case"LW":this.setLineWidth(tn);break;case"LC":this.setLineCap(tn);break;case"LJ":this.setLineJoin(tn);break;case"ML":this.setMiterLimit(tn);break;case"D":this.setDash(tn[0],tn[1]);break;case"RI":this.setRenderingIntent(tn);break;case"FL":this.setFlatness(tn);break;case"Font":this.setFont(tn[0],tn[1]);break;case"CA":this.current.strokeAlpha=tn;break;case"ca":this.current.fillAlpha=tn,this.ctx.globalAlpha=tn;break;case"BM":this.ctx.globalCompositeOperation=tn;break;case"SMask":this.current.activeSMask=tn?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(tn);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Xt=this.inSMaskMode;this.current.activeSMask&&!Xt?this.beginSMaskMode():!this.current.activeSMask&&Xt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Xt=this.ctx.canvas.width,Yt=this.ctx.canvas.height,tn="smaskGroupAt"+this.groupLevel,hn=this.cachedCanvases.getCanvas(tn,Xt,Yt);this.suspendedCtx=this.ctx,this.ctx=hn.context;const un=this.ctx;un.setTransform(...(0,bt.getCurrentTransform)(this.suspendedCtx)),Nt(this.suspendedCtx,un),Mt(un,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Nt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Xt){if(!this.current.activeSMask)return;Xt?(Xt[0]=Math.floor(Xt[0]),Xt[1]=Math.floor(Xt[1]),Xt[2]=Math.ceil(Xt[2]),Xt[3]=Math.ceil(Xt[3])):Xt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Yt=this.current.activeSMask,tn=this.suspendedCtx;Gt(tn,Yt,this.ctx,Xt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Nt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Xt=this.current;this.stateStack.push(Xt),this.current=Xt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Nt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Xt,Yt,tn,hn,un,pn){this.ctx.transform(Xt,Yt,tn,hn,un,pn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Xt,Yt,tn){const hn=this.ctx,un=this.current;let pn=un.x,Pn=un.y,Vn,Un;const zn=(0,bt.getCurrentTransform)(hn),Kn=zn[0]===0&&zn[3]===0||zn[1]===0&&zn[2]===0,Zn=Kn?tn.slice(0):null;for(let Qn=0,In=0,On=Xt.length;Qn<On;Qn++)switch(Xt[Qn]|0){case vt.OPS.rectangle:pn=Yt[In++],Pn=Yt[In++];const sn=Yt[In++],vn=Yt[In++],Rn=pn+sn,Nn=Pn+vn;hn.moveTo(pn,Pn),sn===0||vn===0?hn.lineTo(Rn,Nn):(hn.lineTo(Rn,Pn),hn.lineTo(Rn,Nn),hn.lineTo(pn,Nn)),Kn||un.updateRectMinMax(zn,[pn,Pn,Rn,Nn]),hn.closePath();break;case vt.OPS.moveTo:pn=Yt[In++],Pn=Yt[In++],hn.moveTo(pn,Pn),Kn||un.updatePathMinMax(zn,pn,Pn);break;case vt.OPS.lineTo:pn=Yt[In++],Pn=Yt[In++],hn.lineTo(pn,Pn),Kn||un.updatePathMinMax(zn,pn,Pn);break;case vt.OPS.curveTo:Vn=pn,Un=Pn,pn=Yt[In+4],Pn=Yt[In+5],hn.bezierCurveTo(Yt[In],Yt[In+1],Yt[In+2],Yt[In+3],pn,Pn),un.updateCurvePathMinMax(zn,Vn,Un,Yt[In],Yt[In+1],Yt[In+2],Yt[In+3],pn,Pn,Zn),In+=6;break;case vt.OPS.curveTo2:Vn=pn,Un=Pn,hn.bezierCurveTo(pn,Pn,Yt[In],Yt[In+1],Yt[In+2],Yt[In+3]),un.updateCurvePathMinMax(zn,Vn,Un,pn,Pn,Yt[In],Yt[In+1],Yt[In+2],Yt[In+3],Zn),pn=Yt[In+2],Pn=Yt[In+3],In+=4;break;case vt.OPS.curveTo3:Vn=pn,Un=Pn,pn=Yt[In+2],Pn=Yt[In+3],hn.bezierCurveTo(Yt[In],Yt[In+1],pn,Pn,pn,Pn),un.updateCurvePathMinMax(zn,Vn,Un,Yt[In],Yt[In+1],pn,Pn,pn,Pn,Zn),In+=4;break;case vt.OPS.closePath:hn.closePath();break}Kn&&un.updateScalingPathMinMax(zn,Zn),un.setCurrentPoint(pn,Pn)}closePath(){this.ctx.closePath()}stroke(Xt=!0){const Yt=this.ctx,tn=this.current.strokeColor;Yt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof tn=="object"&&(tn!=null&&tn.getPattern)?(Yt.save(),Yt.strokeStyle=tn.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),wt.PathType.STROKE),this.rescaleAndStroke(!1),Yt.restore()):this.rescaleAndStroke(!0)),Xt&&this.consumePath(this.current.getClippedPathBoundingBox()),Yt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Xt=!0){const Yt=this.ctx,tn=this.current.fillColor,hn=this.current.patternFill;let un=!1;hn&&(Yt.save(),Yt.fillStyle=tn.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),wt.PathType.FILL),un=!0);const pn=this.current.getClippedPathBoundingBox();this.contentVisible&&pn!==null&&(this.pendingEOFill?(Yt.fill("evenodd"),this.pendingEOFill=!1):Yt.fill()),un&&Yt.restore(),Xt&&this.consumePath(pn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=cn}eoClip(){this.pendingClip=An}beginText(){this.current.textMatrix=vt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Xt=this.pendingTextPaths,Yt=this.ctx;if(Xt===void 0){Yt.beginPath();return}Yt.save(),Yt.beginPath();for(const tn of Xt)Yt.setTransform(...tn.transform),Yt.translate(tn.x,tn.y),tn.addToPath(Yt,tn.fontSize);Yt.restore(),Yt.clip(),Yt.beginPath(),delete this.pendingTextPaths}setCharSpacing(Xt){this.current.charSpacing=Xt}setWordSpacing(Xt){this.current.wordSpacing=Xt}setHScale(Xt){this.current.textHScale=Xt/100}setLeading(Xt){this.current.leading=-Xt}setFont(Xt,Yt){var zn;const tn=this.commonObjs.get(Xt),hn=this.current;if(!tn)throw new Error(`Can't find font for ${Xt}`);if(hn.fontMatrix=tn.fontMatrix||vt.FONT_IDENTITY_MATRIX,(hn.fontMatrix[0]===0||hn.fontMatrix[3]===0)&&(0,vt.warn)("Invalid font matrix for font "+Xt),Yt<0?(Yt=-Yt,hn.fontDirection=-1):hn.fontDirection=1,this.current.font=tn,this.current.fontSize=Yt,tn.isType3Font)return;const un=tn.loadedName||"sans-serif",pn=((zn=tn.systemFontInfo)==null?void 0:zn.css)||`"${un}", ${tn.fallbackName}`;let Pn="normal";tn.black?Pn="900":tn.bold&&(Pn="bold");const Vn=tn.italic?"italic":"normal";let Un=Yt;Yt<Et?Un=Et:Yt>St&&(Un=St),this.current.fontSizeScale=Yt/Un,this.ctx.font=`${Vn} ${Pn} ${Un}px ${pn}`}setTextRenderingMode(Xt){this.current.textRenderingMode=Xt}setTextRise(Xt){this.current.textRise=Xt}moveText(Xt,Yt){this.current.x=this.current.lineX+=Xt,this.current.y=this.current.lineY+=Yt}setLeadingMoveText(Xt,Yt){this.setLeading(-Yt),this.moveText(Xt,Yt)}setTextMatrix(Xt,Yt,tn,hn,un,pn){this.current.textMatrix=[Xt,Yt,tn,hn,un,pn],this.current.textMatrixScale=Math.hypot(Xt,Yt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Xt,Yt,tn,hn){const un=this.ctx,pn=this.current,Pn=pn.font,Vn=pn.textRenderingMode,Un=pn.fontSize/pn.fontSizeScale,zn=Vn&vt.TextRenderingMode.FILL_STROKE_MASK,Kn=!!(Vn&vt.TextRenderingMode.ADD_TO_PATH_FLAG),Zn=pn.patternFill&&!Pn.missingFile;let Qn;(Pn.disableFontFace||Kn||Zn)&&(Qn=Pn.getPathGenerator(this.commonObjs,Xt)),Pn.disableFontFace||Zn?(un.save(),un.translate(Yt,tn),un.beginPath(),Qn(un,Un),hn&&un.setTransform(...hn),(zn===vt.TextRenderingMode.FILL||zn===vt.TextRenderingMode.FILL_STROKE)&&un.fill(),(zn===vt.TextRenderingMode.STROKE||zn===vt.TextRenderingMode.FILL_STROKE)&&un.stroke(),un.restore()):((zn===vt.TextRenderingMode.FILL||zn===vt.TextRenderingMode.FILL_STROKE)&&un.fillText(Xt,Yt,tn),(zn===vt.TextRenderingMode.STROKE||zn===vt.TextRenderingMode.FILL_STROKE)&&un.strokeText(Xt,Yt,tn)),Kn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,bt.getCurrentTransform)(un),x:Yt,y:tn,fontSize:Un,addToPath:Qn})}get isFontSubpixelAAEnabled(){const{context:Xt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Xt.scale(1.5,1),Xt.fillText("I",0,10);const Yt=Xt.getImageData(0,0,10,10).data;let tn=!1;for(let hn=3;hn<Yt.length;hn+=4)if(Yt[hn]>0&&Yt[hn]<255){tn=!0;break}return(0,vt.shadow)(this,"isFontSubpixelAAEnabled",tn)}showText(Xt){const Yt=this.current,tn=Yt.font;if(tn.isType3Font)return this.showType3Text(Xt);const hn=Yt.fontSize;if(hn===0)return;const un=this.ctx,pn=Yt.fontSizeScale,Pn=Yt.charSpacing,Vn=Yt.wordSpacing,Un=Yt.fontDirection,zn=Yt.textHScale*Un,Kn=Xt.length,Zn=tn.vertical,Qn=Zn?1:-1,In=tn.defaultVMetrics,On=hn*Yt.fontMatrix[0],sn=Yt.textRenderingMode===vt.TextRenderingMode.FILL&&!tn.disableFontFace&&!Yt.patternFill;un.save(),un.transform(...Yt.textMatrix),un.translate(Yt.x,Yt.y+Yt.textRise),Un>0?un.scale(zn,-1):un.scale(zn,1);let vn;if(Yt.patternFill){un.save();const Xn=Yt.fillColor.getPattern(un,this,(0,bt.getCurrentTransformInverse)(un),wt.PathType.FILL);vn=(0,bt.getCurrentTransform)(un),un.restore(),un.fillStyle=Xn}let Rn=Yt.lineWidth;const Nn=Yt.textMatrixScale;if(Nn===0||Rn===0){const Xn=Yt.textRenderingMode&vt.TextRenderingMode.FILL_STROKE_MASK;(Xn===vt.TextRenderingMode.STROKE||Xn===vt.TextRenderingMode.FILL_STROKE)&&(Rn=this.getSinglePixelWidth())}else Rn/=Nn;if(pn!==1&&(un.scale(pn,pn),Rn/=pn),un.lineWidth=Rn,tn.isInvalidPDFjsFont){const Xn=[];let kn=0;for(const ar of Xt)Xn.push(ar.unicode),kn+=ar.width;un.fillText(Xn.join(""),0,0),Yt.x+=kn*On*zn,un.restore(),this.compose();return}let Wn=0,Jn;for(Jn=0;Jn<Kn;++Jn){const Xn=Xt[Jn];if(typeof Xn=="number"){Wn+=Qn*Xn*hn/1e3;continue}let kn=!1;const ar=(Xn.isSpace?Vn:0)+Pn,ir=Xn.fontChar,Nr=Xn.accent;let Rr,Yr,fr=Xn.width;if(Zn){const Ur=Xn.vmetric||In,rs=-(Xn.vmetric?Ur[1]:fr*.5)*On,qn=Ur[2]*On;fr=Ur?-Ur[0]:fr,Rr=rs/pn,Yr=(Wn+qn)/pn}else Rr=Wn/pn,Yr=0;if(tn.remeasure&&fr>0){const Ur=un.measureText(ir).width*1e3/hn*pn;if(fr<Ur&&this.isFontSubpixelAAEnabled){const rs=fr/Ur;kn=!0,un.save(),un.scale(rs,1),Rr/=rs}else fr!==Ur&&(Rr+=(fr-Ur)/2e3*hn/pn)}if(this.contentVisible&&(Xn.isInFont||tn.missingFile)){if(sn&&!Nr)un.fillText(ir,Rr,Yr);else if(this.paintChar(ir,Rr,Yr,vn),Nr){const Ur=Rr+hn*Nr.offset.x/pn,rs=Yr-hn*Nr.offset.y/pn;this.paintChar(Nr.fontChar,Ur,rs,vn)}}const _r=Zn?fr*On-ar*Un:fr*On+ar*Un;Wn+=_r,kn&&un.restore()}Zn?Yt.y-=Wn:Yt.x+=Wn*zn,un.restore(),this.compose()}showType3Text(Xt){const Yt=this.ctx,tn=this.current,hn=tn.font,un=tn.fontSize,pn=tn.fontDirection,Pn=hn.vertical?1:-1,Vn=tn.charSpacing,Un=tn.wordSpacing,zn=tn.textHScale*pn,Kn=tn.fontMatrix||vt.FONT_IDENTITY_MATRIX,Zn=Xt.length,Qn=tn.textRenderingMode===vt.TextRenderingMode.INVISIBLE;let In,On,sn,vn;if(!(Qn||un===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Yt.save(),Yt.transform(...tn.textMatrix),Yt.translate(tn.x,tn.y),Yt.scale(zn,pn),In=0;In<Zn;++In){if(On=Xt[In],typeof On=="number"){vn=Pn*On*un/1e3,this.ctx.translate(vn,0),tn.x+=vn*zn;continue}const Rn=(On.isSpace?Un:0)+Vn,Nn=hn.charProcOperatorList[On.operatorListId];if(!Nn){(0,vt.warn)(`Type3 character "${On.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=On,this.save(),Yt.scale(un,un),Yt.transform(...Kn),this.executeOperatorList(Nn),this.restore()),sn=vt.Util.applyTransform([On.width,0],Kn)[0]*un+Rn,Yt.translate(sn,0),tn.x+=sn*zn}Yt.restore(),this.processingType3=null}}setCharWidth(Xt,Yt){}setCharWidthAndBounds(Xt,Yt,tn,hn,un,pn){this.ctx.rect(tn,hn,un-tn,pn-hn),this.ctx.clip(),this.endPath()}getColorN_Pattern(Xt){let Yt;if(Xt[0]==="TilingPattern"){const tn=Xt[1],hn=this.baseTransform||(0,bt.getCurrentTransform)(this.ctx),un={createCanvasGraphics:pn=>new Cn(pn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};Yt=new wt.TilingPattern(Xt,tn,this.ctx,un,hn)}else Yt=this._getPattern(Xt[1],Xt[2]);return Yt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Xt,Yt,tn){const hn=vt.Util.makeHexColor(Xt,Yt,tn);this.ctx.strokeStyle=hn,this.current.strokeColor=hn}setFillRGBColor(Xt,Yt,tn){const hn=vt.Util.makeHexColor(Xt,Yt,tn);this.ctx.fillStyle=hn,this.current.fillColor=hn,this.current.patternFill=!1}_getPattern(Xt,Yt=null){let tn;return this.cachedPatterns.has(Xt)?tn=this.cachedPatterns.get(Xt):(tn=(0,wt.getShadingPattern)(this.getObject(Xt)),this.cachedPatterns.set(Xt,tn)),Yt&&(tn.matrix=Yt),tn}shadingFill(Xt){if(!this.contentVisible)return;const Yt=this.ctx;this.save();const tn=this._getPattern(Xt);Yt.fillStyle=tn.getPattern(Yt,this,(0,bt.getCurrentTransformInverse)(Yt),wt.PathType.SHADING);const hn=(0,bt.getCurrentTransformInverse)(Yt);if(hn){const{width:un,height:pn}=Yt.canvas,[Pn,Vn,Un,zn]=vt.Util.getAxialAlignedBoundingBox([0,0,un,pn],hn);this.ctx.fillRect(Pn,Vn,Un-Pn,zn-Vn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,vt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,vt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Xt,Yt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Xt)&&Xt.length===6&&this.transform(...Xt),this.baseTransform=(0,bt.getCurrentTransform)(this.ctx),Yt)){const tn=Yt[2]-Yt[0],hn=Yt[3]-Yt[1];this.ctx.rect(Yt[0],Yt[1],tn,hn),this.current.updateRectMinMax((0,bt.getCurrentTransform)(this.ctx),Yt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Xt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Yt=this.ctx;Xt.isolated||(0,vt.info)("TODO: Support non-isolated groups."),Xt.knockout&&(0,vt.warn)("Knockout groups not supported.");const tn=(0,bt.getCurrentTransform)(Yt);if(Xt.matrix&&Yt.transform(...Xt.matrix),!Xt.bbox)throw new Error("Bounding box is required.");let hn=vt.Util.getAxialAlignedBoundingBox(Xt.bbox,(0,bt.getCurrentTransform)(Yt));const un=[0,0,Yt.canvas.width,Yt.canvas.height];hn=vt.Util.intersect(hn,un)||[0,0,0,0];const pn=Math.floor(hn[0]),Pn=Math.floor(hn[1]);let Vn=Math.max(Math.ceil(hn[2])-pn,1),Un=Math.max(Math.ceil(hn[3])-Pn,1),zn=1,Kn=1;Vn>Ct&&(zn=Vn/Ct,Vn=Ct),Un>Ct&&(Kn=Un/Ct,Un=Ct),this.current.startNewPathAndClipBox([0,0,Vn,Un]);let Zn="groupAt"+this.groupLevel;Xt.smask&&(Zn+="_smask_"+this.smaskCounter++%2);const Qn=this.cachedCanvases.getCanvas(Zn,Vn,Un),In=Qn.context;In.scale(1/zn,1/Kn),In.translate(-pn,-Pn),In.transform(...tn),Xt.smask?this.smaskStack.push({canvas:Qn.canvas,context:In,offsetX:pn,offsetY:Pn,scaleX:zn,scaleY:Kn,subtype:Xt.smask.subtype,backdrop:Xt.smask.backdrop,transferMap:Xt.smask.transferMap||null,startTransformInverse:null}):(Yt.setTransform(1,0,0,1,0,0),Yt.translate(pn,Pn),Yt.scale(zn,Kn),Yt.save()),Nt(Yt,In),this.ctx=In,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Yt),this.groupLevel++}endGroup(Xt){if(!this.contentVisible)return;this.groupLevel--;const Yt=this.ctx,tn=this.groupStack.pop();if(this.ctx=tn,this.ctx.imageSmoothingEnabled=!1,Xt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const hn=(0,bt.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...hn);const un=vt.Util.getAxialAlignedBoundingBox([0,0,Yt.canvas.width,Yt.canvas.height],hn);this.ctx.drawImage(Yt.canvas,0,0),this.ctx.restore(),this.compose(un)}}beginAnnotation(Xt,Yt,tn,hn,un){if(Ut(this,fn,NA).call(this),Ht(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Yt)&&Yt.length===4){const pn=Yt[2]-Yt[0],Pn=Yt[3]-Yt[1];if(un&&this.annotationCanvasMap){tn=tn.slice(),tn[4]-=Yt[0],tn[5]-=Yt[1],Yt=Yt.slice(),Yt[0]=Yt[1]=0,Yt[2]=pn,Yt[3]=Pn;const[Vn,Un]=vt.Util.singularValueDecompose2dScale((0,bt.getCurrentTransform)(this.ctx)),{viewportScale:zn}=this,Kn=Math.ceil(pn*this.outputScaleX*zn),Zn=Math.ceil(Pn*this.outputScaleY*zn);this.annotationCanvas=this.canvasFactory.create(Kn,Zn);const{canvas:Qn,context:In}=this.annotationCanvas;this.annotationCanvasMap.set(Xt,Qn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=In,this.ctx.save(),this.ctx.setTransform(Vn,0,0,-Un,0,Pn*Un),Ht(this.ctx)}else Ht(this.ctx),this.ctx.rect(Yt[0],Yt[1],pn,Pn),this.ctx.clip(),this.endPath()}this.current=new Dt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...tn),this.transform(...hn)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Ut(this,fn,BA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Xt){if(!this.contentVisible)return;const Yt=Xt.count;Xt=this.getObject(Xt.data,Xt),Xt.count=Yt;const tn=this.ctx,hn=this.processingType3;if(hn&&(hn.compiled===void 0&&(hn.compiled=Lt(Xt)),hn.compiled)){hn.compiled(tn);return}const un=this._createMaskCanvas(Xt),pn=un.canvas;tn.save(),tn.setTransform(1,0,0,1,0,0),tn.drawImage(pn,un.offsetX,un.offsetY),tn.restore(),this.compose()}paintImageMaskXObjectRepeat(Xt,Yt,tn=0,hn=0,un,pn){if(!this.contentVisible)return;Xt=this.getObject(Xt.data,Xt);const Pn=this.ctx;Pn.save();const Vn=(0,bt.getCurrentTransform)(Pn);Pn.transform(Yt,tn,hn,un,0,0);const Un=this._createMaskCanvas(Xt);Pn.setTransform(1,0,0,1,Un.offsetX-Vn[4],Un.offsetY-Vn[5]);for(let zn=0,Kn=pn.length;zn<Kn;zn+=2){const Zn=vt.Util.transform(Vn,[Yt,tn,hn,un,pn[zn],pn[zn+1]]),[Qn,In]=vt.Util.applyTransform([0,0],Zn);Pn.drawImage(Un.canvas,Qn,In)}Pn.restore(),this.compose()}paintImageMaskXObjectGroup(Xt){if(!this.contentVisible)return;const Yt=this.ctx,tn=this.current.fillColor,hn=this.current.patternFill;for(const un of Xt){const{data:pn,width:Pn,height:Vn,transform:Un}=un,zn=this.cachedCanvases.getCanvas("maskCanvas",Pn,Vn),Kn=zn.context;Kn.save();const Zn=this.getObject(pn,un);Bt(Kn,Zn),Kn.globalCompositeOperation="source-in",Kn.fillStyle=hn?tn.getPattern(Kn,this,(0,bt.getCurrentTransformInverse)(Yt),wt.PathType.FILL):tn,Kn.fillRect(0,0,Pn,Vn),Kn.restore(),Yt.save(),Yt.transform(...Un),Yt.scale(1,-1),$t(Yt,zn.canvas,0,0,Pn,Vn,0,-1,1,1),Yt.restore()}this.compose()}paintImageXObject(Xt){if(!this.contentVisible)return;const Yt=this.getObject(Xt);if(!Yt){(0,vt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Yt)}paintImageXObjectRepeat(Xt,Yt,tn,hn){if(!this.contentVisible)return;const un=this.getObject(Xt);if(!un){(0,vt.warn)("Dependent image isn't ready yet");return}const pn=un.width,Pn=un.height,Vn=[];for(let Un=0,zn=hn.length;Un<zn;Un+=2)Vn.push({transform:[Yt,0,0,tn,hn[Un],hn[Un+1]],x:0,y:0,w:pn,h:Pn});this.paintInlineImageXObjectGroup(un,Vn)}applyTransferMapsToCanvas(Xt){return this.current.transferMaps!=="none"&&(Xt.filter=this.current.transferMaps,Xt.drawImage(Xt.canvas,0,0),Xt.filter="none"),Xt.canvas}applyTransferMapsToBitmap(Xt){if(this.current.transferMaps==="none")return Xt.bitmap;const{bitmap:Yt,width:tn,height:hn}=Xt,un=this.cachedCanvases.getCanvas("inlineImage",tn,hn),pn=un.context;return pn.filter=this.current.transferMaps,pn.drawImage(Yt,0,0),pn.filter="none",un.canvas}paintInlineImageXObject(Xt){if(!this.contentVisible)return;const Yt=Xt.width,tn=Xt.height,hn=this.ctx;if(this.save(),!vt.isNodeJS){const{filter:Pn}=hn;Pn!=="none"&&Pn!==""&&(hn.filter="none")}hn.scale(1/Yt,-1/tn);let un;if(Xt.bitmap)un=this.applyTransferMapsToBitmap(Xt);else if(typeof HTMLElement=="function"&&Xt instanceof HTMLElement||!Xt.data)un=Xt;else{const Vn=this.cachedCanvases.getCanvas("inlineImage",Yt,tn).context;Ot(Vn,Xt),un=this.applyTransferMapsToCanvas(Vn)}const pn=this._scaleImage(un,(0,bt.getCurrentTransformInverse)(hn));hn.imageSmoothingEnabled=en((0,bt.getCurrentTransform)(hn),Xt.interpolate),$t(hn,pn.img,0,0,pn.paintWidth,pn.paintHeight,0,-tn,Yt,tn),this.compose(),this.restore()}paintInlineImageXObjectGroup(Xt,Yt){if(!this.contentVisible)return;const tn=this.ctx;let hn;if(Xt.bitmap)hn=Xt.bitmap;else{const un=Xt.width,pn=Xt.height,Vn=this.cachedCanvases.getCanvas("inlineImage",un,pn).context;Ot(Vn,Xt),hn=this.applyTransferMapsToCanvas(Vn)}for(const un of Yt)tn.save(),tn.transform(...un.transform),tn.scale(1,-1),$t(tn,hn,un.x,un.y,un.w,un.h,0,-1,1,1),tn.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Xt){}markPointProps(Xt,Yt){}beginMarkedContent(Xt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Xt,Yt){Xt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Yt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Xt){const Yt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Xt);const tn=this.ctx;this.pendingClip&&(Yt||(this.pendingClip===An?tn.clip("evenodd"):tn.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),tn.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Xt=(0,bt.getCurrentTransform)(this.ctx);if(Xt[1]===0&&Xt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Xt[0]),Math.abs(Xt[3]));else{const Yt=Math.abs(Xt[0]*Xt[3]-Xt[2]*Xt[1]),tn=Math.hypot(Xt[0],Xt[2]),hn=Math.hypot(Xt[1],Xt[3]);this._cachedGetSinglePixelWidth=Math.max(tn,hn)/Yt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Xt}=this.current,{a:Yt,b:tn,c:hn,d:un}=this.ctx.getTransform();let pn,Pn;if(tn===0&&hn===0){const Vn=Math.abs(Yt),Un=Math.abs(un);if(Vn===Un)if(Xt===0)pn=Pn=1/Vn;else{const zn=Vn*Xt;pn=Pn=zn<1?1/zn:1}else if(Xt===0)pn=1/Vn,Pn=1/Un;else{const zn=Vn*Xt,Kn=Un*Xt;pn=zn<1?1/zn:1,Pn=Kn<1?1/Kn:1}}else{const Vn=Math.abs(Yt*un-tn*hn),Un=Math.hypot(Yt,tn),zn=Math.hypot(hn,un);if(Xt===0)pn=zn/Vn,Pn=Un/Vn;else{const Kn=Xt*Vn;pn=zn>Kn?zn/Kn:1,Pn=Un>Kn?Un/Kn:1}}this._cachedScaleForStroking[0]=pn,this._cachedScaleForStroking[1]=Pn}return this._cachedScaleForStroking}rescaleAndStroke(Xt){const{ctx:Yt}=this,{lineWidth:tn}=this.current,[hn,un]=this.getScaleForStroking();if(Yt.lineWidth=tn||1,hn===1&&un===1){Yt.stroke();return}const pn=Yt.getLineDash();if(Xt&&Yt.save(),Yt.scale(hn,un),pn.length>0){const Pn=Math.max(hn,un);Yt.setLineDash(pn.map(Vn=>Vn/Pn)),Yt.lineDashOffset/=Pn}Yt.stroke(),Xt&&Yt.restore()}isContentVisible(){for(let Xt=this.markedContentStack.length-1;Xt>=0;Xt--)if(!this.markedContentStack[Xt].visible)return!1;return!0}};fn=new WeakSet,NA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},BA=function(){if(this.pageColors){const Xt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Xt!=="none"){const Yt=this.ctx.filter;this.ctx.filter=Xt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Yt}}};let dn=Cn;$.CanvasGraphics=dn;for(const rn in vt.OPS)dn.prototype[rn]!==void 0&&(dn.prototype[vt.OPS[rn]]=dn.prototype[rn])},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=Rt;var vt=ht(1),bt=ht(6);const wt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=wt;function At(Lt,Dt){if(!Dt)return;const Ot=Dt[2]-Dt[0],Bt=Dt[3]-Dt[1],Nt=new Path2D;Nt.rect(Dt[0],Dt[1],Ot,Bt),Lt.clip(Nt)}class Et{constructor(){this.constructor===Et&&(0,vt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,vt.unreachable)("Abstract method `getPattern` called.")}}class St extends Et{constructor(Dt){super(),this._type=Dt[1],this._bbox=Dt[2],this._colorStops=Dt[3],this._p0=Dt[4],this._p1=Dt[5],this._r0=Dt[6],this._r1=Dt[7],this.matrix=null}_createGradient(Dt){let Ot;this._type==="axial"?Ot=Dt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ot=Dt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Bt of this._colorStops)Ot.addColorStop(Bt[0],Bt[1]);return Ot}getPattern(Dt,Ot,Bt,Nt){let Ht;if(Nt===wt.STROKE||Nt===wt.FILL){const Vt=Ot.current.getClippedPathBoundingBox(Nt,(0,bt.getCurrentTransform)(Dt))||[0,0,0,0],jt=Math.ceil(Vt[2]-Vt[0])||1,qt=Math.ceil(Vt[3]-Vt[1])||1,Jt=Ot.cachedCanvases.getCanvas("pattern",jt,qt,!0),Gt=Jt.context;Gt.clearRect(0,0,Gt.canvas.width,Gt.canvas.height),Gt.beginPath(),Gt.rect(0,0,Gt.canvas.width,Gt.canvas.height),Gt.translate(-Vt[0],-Vt[1]),Bt=vt.Util.transform(Bt,[1,0,0,1,Vt[0],Vt[1]]),Gt.transform(...Ot.baseTransform),this.matrix&&Gt.transform(...this.matrix),At(Gt,this._bbox),Gt.fillStyle=this._createGradient(Gt),Gt.fill(),Ht=Dt.createPattern(Jt.canvas,"no-repeat");const en=new DOMMatrix(Bt);Ht.setTransform(en)}else At(Dt,this._bbox),Ht=this._createGradient(Dt);return Ht}}function Ct(Lt,Dt,Ot,Bt,Nt,Ht,Vt,jt){const qt=Dt.coords,Jt=Dt.colors,Gt=Lt.data,en=Lt.width*4;let an;qt[Ot+1]>qt[Bt+1]&&(an=Ot,Ot=Bt,Bt=an,an=Ht,Ht=Vt,Vt=an),qt[Bt+1]>qt[Nt+1]&&(an=Bt,Bt=Nt,Nt=an,an=Vt,Vt=jt,jt=an),qt[Ot+1]>qt[Bt+1]&&(an=Ot,Ot=Bt,Bt=an,an=Ht,Ht=Vt,Vt=an);const Sn=(qt[Ot]+Dt.offsetX)*Dt.scaleX,cn=(qt[Ot+1]+Dt.offsetY)*Dt.scaleY,An=(qt[Bt]+Dt.offsetX)*Dt.scaleX,dn=(qt[Bt+1]+Dt.offsetY)*Dt.scaleY,fn=(qt[Nt]+Dt.offsetX)*Dt.scaleX,nn=(qt[Nt+1]+Dt.offsetY)*Dt.scaleY;if(cn>=nn)return;const gn=Jt[Ht],Cn=Jt[Ht+1],rn=Jt[Ht+2],Xt=Jt[Vt],Yt=Jt[Vt+1],tn=Jt[Vt+2],hn=Jt[jt],un=Jt[jt+1],pn=Jt[jt+2],Pn=Math.round(cn),Vn=Math.round(nn);let Un,zn,Kn,Zn,Qn,In,On,sn;for(let vn=Pn;vn<=Vn;vn++){if(vn<dn){const Xn=vn<cn?0:(cn-vn)/(cn-dn);Un=Sn-(Sn-An)*Xn,zn=gn-(gn-Xt)*Xn,Kn=Cn-(Cn-Yt)*Xn,Zn=rn-(rn-tn)*Xn}else{let Xn;vn>nn?Xn=1:dn===nn?Xn=0:Xn=(dn-vn)/(dn-nn),Un=An-(An-fn)*Xn,zn=Xt-(Xt-hn)*Xn,Kn=Yt-(Yt-un)*Xn,Zn=tn-(tn-pn)*Xn}let Rn;vn<cn?Rn=0:vn>nn?Rn=1:Rn=(cn-vn)/(cn-nn),Qn=Sn-(Sn-fn)*Rn,In=gn-(gn-hn)*Rn,On=Cn-(Cn-un)*Rn,sn=rn-(rn-pn)*Rn;const Nn=Math.round(Math.min(Un,Qn)),Wn=Math.round(Math.max(Un,Qn));let Jn=en*vn+Nn*4;for(let Xn=Nn;Xn<=Wn;Xn++)Rn=(Un-Xn)/(Un-Qn),Rn<0?Rn=0:Rn>1&&(Rn=1),Gt[Jn++]=zn-(zn-In)*Rn|0,Gt[Jn++]=Kn-(Kn-On)*Rn|0,Gt[Jn++]=Zn-(Zn-sn)*Rn|0,Gt[Jn++]=255}}function xt(Lt,Dt,Ot){const Bt=Dt.coords,Nt=Dt.colors;let Ht,Vt;switch(Dt.type){case"lattice":const jt=Dt.verticesPerRow,qt=Math.floor(Bt.length/jt)-1,Jt=jt-1;for(Ht=0;Ht<qt;Ht++){let Gt=Ht*jt;for(let en=0;en<Jt;en++,Gt++)Ct(Lt,Ot,Bt[Gt],Bt[Gt+1],Bt[Gt+jt],Nt[Gt],Nt[Gt+1],Nt[Gt+jt]),Ct(Lt,Ot,Bt[Gt+jt+1],Bt[Gt+1],Bt[Gt+jt],Nt[Gt+jt+1],Nt[Gt+1],Nt[Gt+jt])}break;case"triangles":for(Ht=0,Vt=Bt.length;Ht<Vt;Ht+=3)Ct(Lt,Ot,Bt[Ht],Bt[Ht+1],Bt[Ht+2],Nt[Ht],Nt[Ht+1],Nt[Ht+2]);break;default:throw new Error("illegal figure")}}class Pt extends Et{constructor(Dt){super(),this._coords=Dt[2],this._colors=Dt[3],this._figures=Dt[4],this._bounds=Dt[5],this._bbox=Dt[7],this._background=Dt[8],this.matrix=null}_createMeshCanvas(Dt,Ot,Bt){const jt=Math.floor(this._bounds[0]),qt=Math.floor(this._bounds[1]),Jt=Math.ceil(this._bounds[2])-jt,Gt=Math.ceil(this._bounds[3])-qt,en=Math.min(Math.ceil(Math.abs(Jt*Dt[0]*1.1)),3e3),an=Math.min(Math.ceil(Math.abs(Gt*Dt[1]*1.1)),3e3),Sn=Jt/en,cn=Gt/an,An={coords:this._coords,colors:this._colors,offsetX:-jt,offsetY:-qt,scaleX:1/Sn,scaleY:1/cn},dn=en+2*2,fn=an+2*2,nn=Bt.getCanvas("mesh",dn,fn,!1),gn=nn.context,Cn=gn.createImageData(en,an);if(Ot){const Xt=Cn.data;for(let Yt=0,tn=Xt.length;Yt<tn;Yt+=4)Xt[Yt]=Ot[0],Xt[Yt+1]=Ot[1],Xt[Yt+2]=Ot[2],Xt[Yt+3]=255}for(const Xt of this._figures)xt(Cn,Xt,An);return gn.putImageData(Cn,2,2),{canvas:nn.canvas,offsetX:jt-2*Sn,offsetY:qt-2*cn,scaleX:Sn,scaleY:cn}}getPattern(Dt,Ot,Bt,Nt){At(Dt,this._bbox);let Ht;if(Nt===wt.SHADING)Ht=vt.Util.singularValueDecompose2dScale((0,bt.getCurrentTransform)(Dt));else if(Ht=vt.Util.singularValueDecompose2dScale(Ot.baseTransform),this.matrix){const jt=vt.Util.singularValueDecompose2dScale(this.matrix);Ht=[Ht[0]*jt[0],Ht[1]*jt[1]]}const Vt=this._createMeshCanvas(Ht,Nt===wt.SHADING?null:this._background,Ot.cachedCanvases);return Nt!==wt.SHADING&&(Dt.setTransform(...Ot.baseTransform),this.matrix&&Dt.transform(...this.matrix)),Dt.translate(Vt.offsetX,Vt.offsetY),Dt.scale(Vt.scaleX,Vt.scaleY),Dt.createPattern(Vt.canvas,"no-repeat")}}class kt extends Et{getPattern(){return"hotpink"}}function Rt(Lt){switch(Lt[0]){case"RadialAxial":return new St(Lt);case"Mesh":return new Pt(Lt);case"Dummy":return new kt}throw new Error(`Unknown IR type: ${Lt[0]}`)}const Mt={COLORED:1,UNCOLORED:2},$t=class $t{constructor(Dt,Ot,Bt,Nt,Ht){this.operatorList=Dt[2],this.matrix=Dt[3]||[1,0,0,1,0,0],this.bbox=Dt[4],this.xstep=Dt[5],this.ystep=Dt[6],this.paintType=Dt[7],this.tilingType=Dt[8],this.color=Ot,this.ctx=Bt,this.canvasGraphicsFactory=Nt,this.baseTransform=Ht}createPatternCanvas(Dt){const Ot=this.operatorList,Bt=this.bbox,Nt=this.xstep,Ht=this.ystep,Vt=this.paintType,jt=this.tilingType,qt=this.color,Jt=this.canvasGraphicsFactory;(0,vt.info)("TilingType: "+jt);const Gt=Bt[0],en=Bt[1],an=Bt[2],Sn=Bt[3],cn=vt.Util.singularValueDecompose2dScale(this.matrix),An=vt.Util.singularValueDecompose2dScale(this.baseTransform),dn=[cn[0]*An[0],cn[1]*An[1]],fn=this.getSizeAndScale(Nt,this.ctx.canvas.width,dn[0]),nn=this.getSizeAndScale(Ht,this.ctx.canvas.height,dn[1]),gn=Dt.cachedCanvases.getCanvas("pattern",fn.size,nn.size,!0),Cn=gn.context,rn=Jt.createCanvasGraphics(Cn);rn.groupLevel=Dt.groupLevel,this.setFillAndStrokeStyleToContext(rn,Vt,qt);let Xt=Gt,Yt=en,tn=an,hn=Sn;return Gt<0&&(Xt=0,tn+=Math.abs(Gt)),en<0&&(Yt=0,hn+=Math.abs(en)),Cn.translate(-(fn.scale*Xt),-(nn.scale*Yt)),rn.transform(fn.scale,0,0,nn.scale,0,0),Cn.save(),this.clipBbox(rn,Xt,Yt,tn,hn),rn.baseTransform=(0,bt.getCurrentTransform)(rn.ctx),rn.executeOperatorList(Ot),rn.endDrawing(),{canvas:gn.canvas,scaleX:fn.scale,scaleY:nn.scale,offsetX:Xt,offsetY:Yt}}getSizeAndScale(Dt,Ot,Bt){Dt=Math.abs(Dt);const Nt=Math.max($t.MAX_PATTERN_SIZE,Ot);let Ht=Math.ceil(Dt*Bt);return Ht>=Nt?Ht=Nt:Bt=Ht/Dt,{scale:Bt,size:Ht}}clipBbox(Dt,Ot,Bt,Nt,Ht){const Vt=Nt-Ot,jt=Ht-Bt;Dt.ctx.rect(Ot,Bt,Vt,jt),Dt.current.updateRectMinMax((0,bt.getCurrentTransform)(Dt.ctx),[Ot,Bt,Nt,Ht]),Dt.clip(),Dt.endPath()}setFillAndStrokeStyleToContext(Dt,Ot,Bt){const Nt=Dt.ctx,Ht=Dt.current;switch(Ot){case Mt.COLORED:const Vt=this.ctx;Nt.fillStyle=Vt.fillStyle,Nt.strokeStyle=Vt.strokeStyle,Ht.fillColor=Vt.fillStyle,Ht.strokeColor=Vt.strokeStyle;break;case Mt.UNCOLORED:const jt=vt.Util.makeHexColor(Bt[0],Bt[1],Bt[2]);Nt.fillStyle=jt,Nt.strokeStyle=jt,Ht.fillColor=jt,Ht.strokeColor=jt;break;default:throw new vt.FormatError(`Unsupported paint type: ${Ot}`)}}getPattern(Dt,Ot,Bt,Nt){let Ht=Bt;Nt!==wt.SHADING&&(Ht=vt.Util.transform(Ht,Ot.baseTransform),this.matrix&&(Ht=vt.Util.transform(Ht,this.matrix)));const Vt=this.createPatternCanvas(Ot);let jt=new DOMMatrix(Ht);jt=jt.translate(Vt.offsetX,Vt.offsetY),jt=jt.scale(1/Vt.scaleX,1/Vt.scaleY);const qt=Dt.createPattern(Vt.canvas,"repeat");return qt.setTransform(jt),qt}};xr($t,"MAX_PATTERN_SIZE",3e3);let Ft=$t;$.TilingPattern=Ft},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.convertBlackAndWhiteToRGBA=wt,$.convertToRGBA=bt,$.grayToRGBA=Et;var vt=ht(1);function bt(St){switch(St.kind){case vt.ImageKind.GRAYSCALE_1BPP:return wt(St);case vt.ImageKind.RGB_24BPP:return At(St)}return null}function wt({src:St,srcPos:Ct=0,dest:xt,width:Pt,height:kt,nonBlackColor:Rt=4294967295,inverseDecode:Mt=!1}){const Ft=vt.FeatureTest.isLittleEndian?4278190080:255,[$t,Lt]=Mt?[Rt,Ft]:[Ft,Rt],Dt=Pt>>3,Ot=Pt&7,Bt=St.length;xt=new Uint32Array(xt.buffer);let Nt=0;for(let Ht=0;Ht<kt;Ht++){for(const jt=Ct+Dt;Ct<jt;Ct++){const qt=Ct<Bt?St[Ct]:255;xt[Nt++]=qt&128?Lt:$t,xt[Nt++]=qt&64?Lt:$t,xt[Nt++]=qt&32?Lt:$t,xt[Nt++]=qt&16?Lt:$t,xt[Nt++]=qt&8?Lt:$t,xt[Nt++]=qt&4?Lt:$t,xt[Nt++]=qt&2?Lt:$t,xt[Nt++]=qt&1?Lt:$t}if(Ot===0)continue;const Vt=Ct<Bt?St[Ct++]:255;for(let jt=0;jt<Ot;jt++)xt[Nt++]=Vt&1<<7-jt?Lt:$t}return{srcPos:Ct,destPos:Nt}}function At({src:St,srcPos:Ct=0,dest:xt,destPos:Pt=0,width:kt,height:Rt}){let Mt=0;const Ft=St.length>>2,$t=new Uint32Array(St.buffer,Ct,Ft);if(vt.FeatureTest.isLittleEndian){for(;Mt<Ft-2;Mt+=3,Pt+=4){const Lt=$t[Mt],Dt=$t[Mt+1],Ot=$t[Mt+2];xt[Pt]=Lt|4278190080,xt[Pt+1]=Lt>>>24|Dt<<8|4278190080,xt[Pt+2]=Dt>>>16|Ot<<16|4278190080,xt[Pt+3]=Ot>>>8|4278190080}for(let Lt=Mt*4,Dt=St.length;Lt<Dt;Lt+=3)xt[Pt++]=St[Lt]|St[Lt+1]<<8|St[Lt+2]<<16|4278190080}else{for(;Mt<Ft-2;Mt+=3,Pt+=4){const Lt=$t[Mt],Dt=$t[Mt+1],Ot=$t[Mt+2];xt[Pt]=Lt|255,xt[Pt+1]=Lt<<24|Dt>>>8|255,xt[Pt+2]=Dt<<16|Ot>>>16|255,xt[Pt+3]=Ot<<8|255}for(let Lt=Mt*4,Dt=St.length;Lt<Dt;Lt+=3)xt[Pt++]=St[Lt]<<24|St[Lt+1]<<16|St[Lt+2]<<8|255}return{srcPos:Ct,destPos:Pt}}function Et(St,Ct){if(vt.FeatureTest.isLittleEndian)for(let xt=0,Pt=St.length;xt<Pt;xt++)Ct[xt]=St[xt]*65793|4278190080;else for(let xt=0,Pt=St.length;xt<Pt;xt++)Ct[xt]=St[xt]*16843008|255}},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const ht=Object.create(null);$.GlobalWorkerOptions=ht,ht.workerPort=null,ht.workerSrc=""},(_e,$,ht)=>{var St,t_,n_,V0;Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var vt=ht(1);const bt={UNKNOWN:0,DATA:1,ERROR:2},wt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function At(kt){switch(kt instanceof Error||typeof kt=="object"&&kt!==null||(0,vt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),kt.name){case"AbortException":return new vt.AbortException(kt.message);case"MissingPDFException":return new vt.MissingPDFException(kt.message);case"PasswordException":return new vt.PasswordException(kt.message,kt.code);case"UnexpectedResponseException":return new vt.UnexpectedResponseException(kt.message,kt.status);case"UnknownErrorException":return new vt.UnknownErrorException(kt.message,kt.details);default:return new vt.UnknownErrorException(kt.message,kt.toString())}}class Et{constructor(Rt,Mt,Ft){Kt(this,St);this.sourceName=Rt,this.targetName=Mt,this.comObj=Ft,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=$t=>{const Lt=$t.data;if(Lt.targetName!==this.sourceName)return;if(Lt.stream){Ut(this,St,n_).call(this,Lt);return}if(Lt.callback){const Ot=Lt.callbackId,Bt=this.callbackCapabilities[Ot];if(!Bt)throw new Error(`Cannot resolve callback ${Ot}`);if(delete this.callbackCapabilities[Ot],Lt.callback===bt.DATA)Bt.resolve(Lt.data);else if(Lt.callback===bt.ERROR)Bt.reject(At(Lt.reason));else throw new Error("Unexpected callback case");return}const Dt=this.actionHandler[Lt.action];if(!Dt)throw new Error(`Unknown action from worker: ${Lt.action}`);if(Lt.callbackId){const Ot=this.sourceName,Bt=Lt.sourceName;new Promise(function(Nt){Nt(Dt(Lt.data))}).then(function(Nt){Ft.postMessage({sourceName:Ot,targetName:Bt,callback:bt.DATA,callbackId:Lt.callbackId,data:Nt})},function(Nt){Ft.postMessage({sourceName:Ot,targetName:Bt,callback:bt.ERROR,callbackId:Lt.callbackId,reason:At(Nt)})});return}if(Lt.streamId){Ut(this,St,t_).call(this,Lt);return}Dt(Lt.data)},Ft.addEventListener("message",this._onComObjOnMessage)}on(Rt,Mt){const Ft=this.actionHandler;if(Ft[Rt])throw new Error(`There is already an actionName called "${Rt}"`);Ft[Rt]=Mt}send(Rt,Mt,Ft){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Rt,data:Mt},Ft)}sendWithPromise(Rt,Mt,Ft){const $t=this.callbackId++,Lt=new vt.PromiseCapability;this.callbackCapabilities[$t]=Lt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:Rt,callbackId:$t,data:Mt},Ft)}catch(Dt){Lt.reject(Dt)}return Lt.promise}sendWithStream(Rt,Mt,Ft,$t){const Lt=this.streamId++,Dt=this.sourceName,Ot=this.targetName,Bt=this.comObj;return new ReadableStream({start:Nt=>{const Ht=new vt.PromiseCapability;return this.streamControllers[Lt]={controller:Nt,startCall:Ht,pullCall:null,cancelCall:null,isClosed:!1},Bt.postMessage({sourceName:Dt,targetName:Ot,action:Rt,streamId:Lt,data:Mt,desiredSize:Nt.desiredSize},$t),Ht.promise},pull:Nt=>{const Ht=new vt.PromiseCapability;return this.streamControllers[Lt].pullCall=Ht,Bt.postMessage({sourceName:Dt,targetName:Ot,stream:wt.PULL,streamId:Lt,desiredSize:Nt.desiredSize}),Ht.promise},cancel:Nt=>{(0,vt.assert)(Nt instanceof Error,"cancel must have a valid reason");const Ht=new vt.PromiseCapability;return this.streamControllers[Lt].cancelCall=Ht,this.streamControllers[Lt].isClosed=!0,Bt.postMessage({sourceName:Dt,targetName:Ot,stream:wt.CANCEL,streamId:Lt,reason:At(Nt)}),Ht.promise}},Ft)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}St=new WeakSet,t_=function(Rt){const Mt=Rt.streamId,Ft=this.sourceName,$t=Rt.sourceName,Lt=this.comObj,Dt=this,Ot=this.actionHandler[Rt.action],Bt={enqueue(Nt,Ht=1,Vt){if(this.isCancelled)return;const jt=this.desiredSize;this.desiredSize-=Ht,jt>0&&this.desiredSize<=0&&(this.sinkCapability=new vt.PromiseCapability,this.ready=this.sinkCapability.promise),Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.ENQUEUE,streamId:Mt,chunk:Nt},Vt)},close(){this.isCancelled||(this.isCancelled=!0,Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.CLOSE,streamId:Mt}),delete Dt.streamSinks[Mt])},error(Nt){(0,vt.assert)(Nt instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.ERROR,streamId:Mt,reason:At(Nt)}))},sinkCapability:new vt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:Rt.desiredSize,ready:null};Bt.sinkCapability.resolve(),Bt.ready=Bt.sinkCapability.promise,this.streamSinks[Mt]=Bt,new Promise(function(Nt){Nt(Ot(Rt.data,Bt))}).then(function(){Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.START_COMPLETE,streamId:Mt,success:!0})},function(Nt){Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.START_COMPLETE,streamId:Mt,reason:At(Nt)})})},n_=function(Rt){const Mt=Rt.streamId,Ft=this.sourceName,$t=Rt.sourceName,Lt=this.comObj,Dt=this.streamControllers[Mt],Ot=this.streamSinks[Mt];switch(Rt.stream){case wt.START_COMPLETE:Rt.success?Dt.startCall.resolve():Dt.startCall.reject(At(Rt.reason));break;case wt.PULL_COMPLETE:Rt.success?Dt.pullCall.resolve():Dt.pullCall.reject(At(Rt.reason));break;case wt.PULL:if(!Ot){Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.PULL_COMPLETE,streamId:Mt,success:!0});break}Ot.desiredSize<=0&&Rt.desiredSize>0&&Ot.sinkCapability.resolve(),Ot.desiredSize=Rt.desiredSize,new Promise(function(Bt){var Nt;Bt((Nt=Ot.onPull)==null?void 0:Nt.call(Ot))}).then(function(){Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.PULL_COMPLETE,streamId:Mt,success:!0})},function(Bt){Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.PULL_COMPLETE,streamId:Mt,reason:At(Bt)})});break;case wt.ENQUEUE:if((0,vt.assert)(Dt,"enqueue should have stream controller"),Dt.isClosed)break;Dt.controller.enqueue(Rt.chunk);break;case wt.CLOSE:if((0,vt.assert)(Dt,"close should have stream controller"),Dt.isClosed)break;Dt.isClosed=!0,Dt.controller.close(),Ut(this,St,V0).call(this,Dt,Mt);break;case wt.ERROR:(0,vt.assert)(Dt,"error should have stream controller"),Dt.controller.error(At(Rt.reason)),Ut(this,St,V0).call(this,Dt,Mt);break;case wt.CANCEL_COMPLETE:Rt.success?Dt.cancelCall.resolve():Dt.cancelCall.reject(At(Rt.reason)),Ut(this,St,V0).call(this,Dt,Mt);break;case wt.CANCEL:if(!Ot)break;new Promise(function(Bt){var Nt;Bt((Nt=Ot.onCancel)==null?void 0:Nt.call(Ot,At(Rt.reason)))}).then(function(){Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.CANCEL_COMPLETE,streamId:Mt,success:!0})},function(Bt){Lt.postMessage({sourceName:Ft,targetName:$t,stream:wt.CANCEL_COMPLETE,streamId:Mt,reason:At(Bt)})}),Ot.sinkCapability.reject(At(Rt.reason)),Ot.isCancelled=!0,delete this.streamSinks[Mt];break;default:throw new Error("Unexpected stream case")}},V0=async function(Rt,Mt){var Ft,$t,Lt;await Promise.allSettled([(Ft=Rt.startCall)==null?void 0:Ft.promise,($t=Rt.pullCall)==null?void 0:$t.promise,(Lt=Rt.cancelCall)==null?void 0:Lt.promise]),delete this.streamControllers[Mt]},$.MessageHandler=Et},(_e,$,ht)=>{var wt,At;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var vt=ht(1);class bt{constructor({parsedData:St,rawData:Ct}){Kt(this,wt);Kt(this,At);zt(this,wt,St),zt(this,At,Ct)}getRaw(){return _t(this,At)}get(St){return _t(this,wt).get(St)??null}getAll(){return(0,vt.objectFromMap)(_t(this,wt))}has(St){return _t(this,wt).has(St)}}wt=new WeakMap,At=new WeakMap,$.Metadata=bt},(_e,$,ht)=>{var St,Ct,xt,Pt,kt,Rt,VA;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var vt=ht(1),bt=ht(8);const wt=Symbol("INTERNAL");class At{constructor($t,Lt){Kt(this,St,!0);this.name=$t,this.intent=Lt}get visible(){return _t(this,St)}_setVisible($t,Lt){$t!==wt&&(0,vt.unreachable)("Internal method `_setVisible` called."),zt(this,St,Lt)}}St=new WeakMap;class Et{constructor($t){Kt(this,Rt);Kt(this,Ct,null);Kt(this,xt,new Map);Kt(this,Pt,null);Kt(this,kt,null);if(this.name=null,this.creator=null,$t!==null){this.name=$t.name,this.creator=$t.creator,zt(this,kt,$t.order);for(const Lt of $t.groups)_t(this,xt).set(Lt.id,new At(Lt.name,Lt.intent));if($t.baseState==="OFF")for(const Lt of _t(this,xt).values())Lt._setVisible(wt,!1);for(const Lt of $t.on)_t(this,xt).get(Lt)._setVisible(wt,!0);for(const Lt of $t.off)_t(this,xt).get(Lt)._setVisible(wt,!1);zt(this,Pt,this.getHash())}}isVisible($t){if(_t(this,xt).size===0)return!0;if(!$t)return(0,vt.warn)("Optional content group not defined."),!0;if($t.type==="OCG")return _t(this,xt).has($t.id)?_t(this,xt).get($t.id).visible:((0,vt.warn)(`Optional content group not found: ${$t.id}`),!0);if($t.type==="OCMD"){if($t.expression)return Ut(this,Rt,VA).call(this,$t.expression);if(!$t.policy||$t.policy==="AnyOn"){for(const Lt of $t.ids){if(!_t(this,xt).has(Lt))return(0,vt.warn)(`Optional content group not found: ${Lt}`),!0;if(_t(this,xt).get(Lt).visible)return!0}return!1}else if($t.policy==="AllOn"){for(const Lt of $t.ids){if(!_t(this,xt).has(Lt))return(0,vt.warn)(`Optional content group not found: ${Lt}`),!0;if(!_t(this,xt).get(Lt).visible)return!1}return!0}else if($t.policy==="AnyOff"){for(const Lt of $t.ids){if(!_t(this,xt).has(Lt))return(0,vt.warn)(`Optional content group not found: ${Lt}`),!0;if(!_t(this,xt).get(Lt).visible)return!0}return!1}else if($t.policy==="AllOff"){for(const Lt of $t.ids){if(!_t(this,xt).has(Lt))return(0,vt.warn)(`Optional content group not found: ${Lt}`),!0;if(_t(this,xt).get(Lt).visible)return!1}return!0}return(0,vt.warn)(`Unknown optional content policy ${$t.policy}.`),!0}return(0,vt.warn)(`Unknown group type ${$t.type}.`),!0}setVisibility($t,Lt=!0){if(!_t(this,xt).has($t)){(0,vt.warn)(`Optional content group not found: ${$t}`);return}_t(this,xt).get($t)._setVisible(wt,!!Lt),zt(this,Ct,null)}get hasInitialVisibility(){return _t(this,Pt)===null||this.getHash()===_t(this,Pt)}getOrder(){return _t(this,xt).size?_t(this,kt)?_t(this,kt).slice():[..._t(this,xt).keys()]:null}getGroups(){return _t(this,xt).size>0?(0,vt.objectFromMap)(_t(this,xt)):null}getGroup($t){return _t(this,xt).get($t)||null}getHash(){if(_t(this,Ct)!==null)return _t(this,Ct);const $t=new bt.MurmurHash3_64;for(const[Lt,Dt]of _t(this,xt))$t.update(`${Lt}:${Dt.visible}`);return zt(this,Ct,$t.hexdigest())}}Ct=new WeakMap,xt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Rt=new WeakSet,VA=function($t){const Lt=$t.length;if(Lt<2)return!0;const Dt=$t[0];for(let Ot=1;Ot<Lt;Ot++){const Bt=$t[Ot];let Nt;if(Array.isArray(Bt))Nt=Ut(this,Rt,VA).call(this,Bt);else if(_t(this,xt).has(Bt))Nt=_t(this,xt).get(Bt).visible;else return(0,vt.warn)(`Optional content group not found: ${Bt}`),!0;switch(Dt){case"And":if(!Nt)return!1;break;case"Or":if(Nt)return!0;break;case"Not":return!Nt;default:return!0}}return Dt==="And"},$.OptionalContentConfig=Et},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var vt=ht(1),bt=ht(6);class wt{constructor({length:Ct,initialData:xt,progressiveDone:Pt=!1,contentDispositionFilename:kt=null,disableRange:Rt=!1,disableStream:Mt=!1},Ft){if((0,vt.assert)(Ft,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=Pt,this._contentDispositionFilename=kt,(xt==null?void 0:xt.length)>0){const $t=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;this._queuedChunks.push($t)}this._pdfDataRangeTransport=Ft,this._isStreamingSupported=!Mt,this._isRangeSupported=!Rt,this._contentLength=Ct,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(($t,Lt)=>{this._onReceiveData({begin:$t,chunk:Lt})}),this._pdfDataRangeTransport.addProgressListener(($t,Lt)=>{this._onProgress({loaded:$t,total:Lt})}),this._pdfDataRangeTransport.addProgressiveReadListener($t=>{this._onReceiveData({chunk:$t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:Ct,chunk:xt}){const Pt=xt instanceof Uint8Array&&xt.byteLength===xt.buffer.byteLength?xt.buffer:new Uint8Array(xt).buffer;if(Ct===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Pt):this._queuedChunks.push(Pt);else{const kt=this._rangeReaders.some(function(Rt){return Rt._begin!==Ct?!1:(Rt._enqueue(Pt),!0)});(0,vt.assert)(kt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var Ct;return((Ct=this._fullRequestReader)==null?void 0:Ct._loaded)??0}_onProgress(Ct){var xt,Pt,kt,Rt;Ct.total===void 0?(Pt=(xt=this._rangeReaders[0])==null?void 0:xt.onProgress)==null||Pt.call(xt,{loaded:Ct.loaded}):(Rt=(kt=this._fullRequestReader)==null?void 0:kt.onProgress)==null||Rt.call(kt,{loaded:Ct.loaded,total:Ct.total})}_onProgressiveDone(){var Ct;(Ct=this._fullRequestReader)==null||Ct.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(Ct){const xt=this._rangeReaders.indexOf(Ct);xt>=0&&this._rangeReaders.splice(xt,1)}getFullReader(){(0,vt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const Ct=this._queuedChunks;return this._queuedChunks=null,new At(this,Ct,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(Ct,xt){if(xt<=this._progressiveDataLength)return null;const Pt=new Et(this,Ct,xt);return this._pdfDataRangeTransport.requestDataRange(Ct,xt),this._rangeReaders.push(Pt),Pt}cancelAllRequests(Ct){var xt;(xt=this._fullRequestReader)==null||xt.cancel(Ct);for(const Pt of this._rangeReaders.slice(0))Pt.cancel(Ct);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=wt;class At{constructor(Ct,xt,Pt=!1,kt=null){this._stream=Ct,this._done=Pt||!1,this._filename=(0,bt.isPdfFile)(kt)?kt:null,this._queuedChunks=xt||[],this._loaded=0;for(const Rt of this._queuedChunks)this._loaded+=Rt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),Ct._fullRequestReader=this,this.onProgress=null}_enqueue(Ct){this._done||(this._requests.length>0?this._requests.shift().resolve({value:Ct,done:!1}):this._queuedChunks.push(Ct),this._loaded+=Ct.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Et{constructor(Ct,xt,Pt){this._stream=Ct,this._begin=xt,this._end=Pt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(Ct){if(!this._done){if(this._requests.length===0)this._queuedChunk=Ct;else{this._requests.shift().resolve({value:Ct,done:!1});for(const Pt of this._requests)Pt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const xt=this._queuedChunk;return this._queuedChunk=null,{value:xt,done:!1}}if(this._done)return{value:void 0,done:!0};const Ct=new vt.PromiseCapability;return this._requests.push(Ct),Ct.promise}cancel(Ct){this._done=!0;for(const xt of this._requests)xt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var vt=ht(1),bt=ht(20);function wt(Pt,kt,Rt){return{method:"GET",headers:Pt,signal:Rt.signal,mode:"cors",credentials:kt?"include":"same-origin",redirect:"follow"}}function At(Pt){const kt=new Headers;for(const Rt in Pt){const Mt=Pt[Rt];Mt!==void 0&&kt.append(Rt,Mt)}return kt}function Et(Pt){return Pt instanceof Uint8Array?Pt.buffer:Pt instanceof ArrayBuffer?Pt:((0,vt.warn)(`getArrayBuffer - unexpected data format: ${Pt}`),new Uint8Array(Pt).buffer)}class St{constructor(kt){this.source=kt,this.isHttp=/^https?:/i.test(kt.url),this.httpHeaders=this.isHttp&&kt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var kt;return((kt=this._fullRequestReader)==null?void 0:kt._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Ct(this),this._fullRequestReader}getRangeReader(kt,Rt){if(Rt<=this._progressiveDataLength)return null;const Mt=new xt(this,kt,Rt);return this._rangeRequestReaders.push(Mt),Mt}cancelAllRequests(kt){var Rt;(Rt=this._fullRequestReader)==null||Rt.cancel(kt);for(const Mt of this._rangeRequestReaders.slice(0))Mt.cancel(kt)}}$.PDFFetchStream=St;class Ct{constructor(kt){this._stream=kt,this._reader=null,this._loaded=0,this._filename=null;const Rt=kt.source;this._withCredentials=Rt.withCredentials||!1,this._contentLength=Rt.length,this._headersCapability=new vt.PromiseCapability,this._disableRange=Rt.disableRange||!1,this._rangeChunkSize=Rt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Rt.disableStream,this._isRangeSupported=!Rt.disableRange,this._headers=At(this._stream.httpHeaders);const Mt=Rt.url;fetch(Mt,wt(this._headers,this._withCredentials,this._abortController)).then(Ft=>{if(!(0,bt.validateResponseStatus)(Ft.status))throw(0,bt.createResponseStatusError)(Ft.status,Mt);this._reader=Ft.body.getReader(),this._headersCapability.resolve();const $t=Ot=>Ft.headers.get(Ot),{allowRangeRequests:Lt,suggestedLength:Dt}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:$t,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Lt,this._contentLength=Dt||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)($t),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new vt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._headersCapability.promise;const{value:kt,done:Rt}=await this._reader.read();return Rt?{value:kt,done:Rt}:(this._loaded+=kt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Et(kt),done:!1})}cancel(kt){var Rt;(Rt=this._reader)==null||Rt.cancel(kt),this._abortController.abort()}}class xt{constructor(kt,Rt,Mt){this._stream=kt,this._reader=null,this._loaded=0;const Ft=kt.source;this._withCredentials=Ft.withCredentials||!1,this._readCapability=new vt.PromiseCapability,this._isStreamingSupported=!Ft.disableStream,this._abortController=new AbortController,this._headers=At(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Rt}-${Mt-1}`);const $t=Ft.url;fetch($t,wt(this._headers,this._withCredentials,this._abortController)).then(Lt=>{if(!(0,bt.validateResponseStatus)(Lt.status))throw(0,bt.createResponseStatusError)(Lt.status,$t);this._readCapability.resolve(),this._reader=Lt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Mt;await this._readCapability.promise;const{value:kt,done:Rt}=await this._reader.read();return Rt?{value:kt,done:Rt}:(this._loaded+=kt.byteLength,(Mt=this.onProgress)==null||Mt.call(this,{loaded:this._loaded}),{value:Et(kt),done:!1})}cancel(kt){var Rt;(Rt=this._reader)==null||Rt.cancel(kt),this._abortController.abort()}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=St,$.extractFilenameFromHeader=Et,$.validateRangeRequestCapabilities=At,$.validateResponseStatus=Ct;var vt=ht(1),bt=ht(21),wt=ht(6);function At({getResponseHeader:xt,isHttp:Pt,rangeChunkSize:kt,disableRange:Rt}){const Mt={allowRangeRequests:!1,suggestedLength:void 0},Ft=parseInt(xt("Content-Length"),10);return!Number.isInteger(Ft)||(Mt.suggestedLength=Ft,Ft<=2*kt)||Rt||!Pt||xt("Accept-Ranges")!=="bytes"||(xt("Content-Encoding")||"identity")!=="identity"||(Mt.allowRangeRequests=!0),Mt}function Et(xt){const Pt=xt("Content-Disposition");if(Pt){let kt=(0,bt.getFilenameFromContentDispositionHeader)(Pt);if(kt.includes("%"))try{kt=decodeURIComponent(kt)}catch{}if((0,wt.isPdfFile)(kt))return kt}return null}function St(xt,Pt){return xt===404||xt===0&&Pt.startsWith("file:")?new vt.MissingPDFException('Missing PDF "'+Pt+'".'):new vt.UnexpectedResponseException(`Unexpected server response (${xt}) while retrieving PDF "${Pt}".`,xt)}function Ct(xt){return xt===200||xt===206}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=bt;var vt=ht(1);function bt(wt){let At=!0,Et=St("filename\\*","i").exec(wt);if(Et){Et=Et[1];let Ft=kt(Et);return Ft=unescape(Ft),Ft=Rt(Ft),Ft=Mt(Ft),xt(Ft)}if(Et=Pt(wt),Et){const Ft=Mt(Et);return xt(Ft)}if(Et=St("filename","i").exec(wt),Et){Et=Et[1];let Ft=kt(Et);return Ft=Mt(Ft),xt(Ft)}function St(Ft,$t){return new RegExp("(?:^|;)\\s*"+Ft+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',$t)}function Ct(Ft,$t){if(Ft){if(!/^[\x00-\xFF]+$/.test($t))return $t;try{const Lt=new TextDecoder(Ft,{fatal:!0}),Dt=(0,vt.stringToBytes)($t);$t=Lt.decode(Dt),At=!1}catch{}}return $t}function xt(Ft){return At&&/[\x80-\xff]/.test(Ft)&&(Ft=Ct("utf-8",Ft),At&&(Ft=Ct("iso-8859-1",Ft))),Ft}function Pt(Ft){const $t=[];let Lt;const Dt=St("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Lt=Dt.exec(Ft))!==null;){let[,Bt,Nt,Ht]=Lt;if(Bt=parseInt(Bt,10),Bt in $t){if(Bt===0)break;continue}$t[Bt]=[Nt,Ht]}const Ot=[];for(let Bt=0;Bt<$t.length&&Bt in $t;++Bt){let[Nt,Ht]=$t[Bt];Ht=kt(Ht),Nt&&(Ht=unescape(Ht),Bt===0&&(Ht=Rt(Ht))),Ot.push(Ht)}return Ot.join("")}function kt(Ft){if(Ft.startsWith('"')){const $t=Ft.slice(1).split('\\"');for(let Lt=0;Lt<$t.length;++Lt){const Dt=$t[Lt].indexOf('"');Dt!==-1&&($t[Lt]=$t[Lt].slice(0,Dt),$t.length=Lt+1),$t[Lt]=$t[Lt].replaceAll(/\\(.)/g,"$1")}Ft=$t.join('"')}return Ft}function Rt(Ft){const $t=Ft.indexOf("'");if($t===-1)return Ft;const Lt=Ft.slice(0,$t),Ot=Ft.slice($t+1).replace(/^[^']*'/,"");return Ct(Lt,Ot)}function Mt(Ft){return!Ft.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ft)?Ft:Ft.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function($t,Lt,Dt,Ot){if(Dt==="q"||Dt==="Q")return Ot=Ot.replaceAll("_"," "),Ot=Ot.replaceAll(/=([0-9a-fA-F]{2})/g,function(Bt,Nt){return String.fromCharCode(parseInt(Nt,16))}),Ct(Lt,Ot);try{Ot=atob(Ot)}catch{}return Ct(Lt,Ot)})}return""}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var vt=ht(1),bt=ht(20);const wt=200,At=206;function Et(kt){const Rt=kt.response;return typeof Rt!="string"?Rt:(0,vt.stringToBytes)(Rt).buffer}class St{constructor(Rt,Mt={}){this.url=Rt,this.isHttp=/^https?:/i.test(Rt),this.httpHeaders=this.isHttp&&Mt.httpHeaders||Object.create(null),this.withCredentials=Mt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Rt,Mt,Ft){const $t={begin:Rt,end:Mt};for(const Lt in Ft)$t[Lt]=Ft[Lt];return this.request($t)}requestFull(Rt){return this.request(Rt)}request(Rt){const Mt=new XMLHttpRequest,Ft=this.currXhrId++,$t=this.pendingRequests[Ft]={xhr:Mt};Mt.open("GET",this.url),Mt.withCredentials=this.withCredentials;for(const Lt in this.httpHeaders){const Dt=this.httpHeaders[Lt];Dt!==void 0&&Mt.setRequestHeader(Lt,Dt)}return this.isHttp&&"begin"in Rt&&"end"in Rt?(Mt.setRequestHeader("Range",`bytes=${Rt.begin}-${Rt.end-1}`),$t.expectedStatus=At):$t.expectedStatus=wt,Mt.responseType="arraybuffer",Rt.onError&&(Mt.onerror=function(Lt){Rt.onError(Mt.status)}),Mt.onreadystatechange=this.onStateChange.bind(this,Ft),Mt.onprogress=this.onProgress.bind(this,Ft),$t.onHeadersReceived=Rt.onHeadersReceived,$t.onDone=Rt.onDone,$t.onError=Rt.onError,$t.onProgress=Rt.onProgress,Mt.send(null),Ft}onProgress(Rt,Mt){var $t;const Ft=this.pendingRequests[Rt];Ft&&(($t=Ft.onProgress)==null||$t.call(Ft,Mt))}onStateChange(Rt,Mt){var Bt,Nt,Ht;const Ft=this.pendingRequests[Rt];if(!Ft)return;const $t=Ft.xhr;if($t.readyState>=2&&Ft.onHeadersReceived&&(Ft.onHeadersReceived(),delete Ft.onHeadersReceived),$t.readyState!==4||!(Rt in this.pendingRequests))return;if(delete this.pendingRequests[Rt],$t.status===0&&this.isHttp){(Bt=Ft.onError)==null||Bt.call(Ft,$t.status);return}const Lt=$t.status||wt;if(!(Lt===wt&&Ft.expectedStatus===At)&&Lt!==Ft.expectedStatus){(Nt=Ft.onError)==null||Nt.call(Ft,$t.status);return}const Ot=Et($t);if(Lt===At){const Vt=$t.getResponseHeader("Content-Range"),jt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Vt);Ft.onDone({begin:parseInt(jt[1],10),chunk:Ot})}else Ot?Ft.onDone({begin:0,chunk:Ot}):(Ht=Ft.onError)==null||Ht.call(Ft,$t.status)}getRequestXhr(Rt){return this.pendingRequests[Rt].xhr}isPendingRequest(Rt){return Rt in this.pendingRequests}abortRequest(Rt){const Mt=this.pendingRequests[Rt].xhr;delete this.pendingRequests[Rt],Mt.abort()}}class Ct{constructor(Rt){this._source=Rt,this._manager=new St(Rt.url,{httpHeaders:Rt.httpHeaders,withCredentials:Rt.withCredentials}),this._rangeChunkSize=Rt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Rt){const Mt=this._rangeRequestReaders.indexOf(Rt);Mt>=0&&this._rangeRequestReaders.splice(Mt,1)}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xt(this._manager,this._source),this._fullRequestReader}getRangeReader(Rt,Mt){const Ft=new Pt(this._manager,Rt,Mt);return Ft.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ft),Ft}cancelAllRequests(Rt){var Mt;(Mt=this._fullRequestReader)==null||Mt.cancel(Rt);for(const Ft of this._rangeRequestReaders.slice(0))Ft.cancel(Rt)}}$.PDFNetworkStream=Ct;class xt{constructor(Rt,Mt){this._manager=Rt;const Ft={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Mt.url,this._fullRequestId=Rt.requestFull(Ft),this._headersReceivedCapability=new vt.PromiseCapability,this._disableRange=Mt.disableRange||!1,this._contentLength=Mt.length,this._rangeChunkSize=Mt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Rt=this._fullRequestId,Mt=this._manager.getRequestXhr(Rt),Ft=Dt=>Mt.getResponseHeader(Dt),{allowRangeRequests:$t,suggestedLength:Lt}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:Ft,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});$t&&(this._isRangeSupported=!0),this._contentLength=Lt||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)(Ft),this._isRangeSupported&&this._manager.abortRequest(Rt),this._headersReceivedCapability.resolve()}_onDone(Rt){if(Rt&&(this._requests.length>0?this._requests.shift().resolve({value:Rt.chunk,done:!1}):this._cachedChunks.push(Rt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Rt){this._storedError=(0,bt.createResponseStatusError)(Rt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Rt){var Mt;(Mt=this.onProgress)==null||Mt.call(this,{loaded:Rt.loaded,total:Rt.lengthComputable?Rt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Rt=new vt.PromiseCapability;return this._requests.push(Rt),Rt.promise}cancel(Rt){this._done=!0,this._headersReceivedCapability.reject(Rt);for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Pt{constructor(Rt,Mt,Ft){this._manager=Rt;const $t={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Rt.url,this._requestId=Rt.requestRange(Mt,Ft,$t),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var Rt;(Rt=this.onClosed)==null||Rt.call(this,this)}_onDone(Rt){const Mt=Rt.chunk;this._requests.length>0?this._requests.shift().resolve({value:Mt,done:!1}):this._queuedChunk=Mt,this._done=!0;for(const Ft of this._requests)Ft.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Rt){this._storedError=(0,bt.createResponseStatusError)(Rt,this._url);for(const Mt of this._requests)Mt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Rt){var Mt;this.isStreamingSupported||(Mt=this.onProgress)==null||Mt.call(this,{loaded:Rt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Mt=this._queuedChunk;return this._queuedChunk=null,{value:Mt,done:!1}}if(this._done)return{value:void 0,done:!0};const Rt=new vt.PromiseCapability;return this._requests.push(Rt),Rt.promise}cancel(Rt){this._done=!0;for(const Mt of this._requests)Mt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var vt=ht(1),bt=ht(20);const wt=/^file:\/\/\/[a-zA-Z]:\//;function At(Ft){const $t=require$$5,Lt=$t.parse(Ft);return Lt.protocol==="file:"||Lt.host?Lt:/^[a-z]:[/\\]/i.test(Ft)?$t.parse(`file:///${Ft}`):(Lt.host||(Lt.protocol="file:"),Lt)}class Et{constructor($t){this.source=$t,this.url=At($t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&$t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var $t;return(($t=this._fullRequestReader)==null?void 0:$t._loaded)??0}getFullReader(){return(0,vt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Rt(this):new Pt(this),this._fullRequestReader}getRangeReader($t,Lt){if(Lt<=this._progressiveDataLength)return null;const Dt=this.isFsUrl?new Mt(this,$t,Lt):new kt(this,$t,Lt);return this._rangeRequestReaders.push(Dt),Dt}cancelAllRequests($t){var Lt;(Lt=this._fullRequestReader)==null||Lt.cancel($t);for(const Dt of this._rangeRequestReaders.slice(0))Dt.cancel($t)}}$.PDFNodeStream=Et;class St{constructor($t){this._url=$t.url,this._done=!1,this._storedError=null,this.onProgress=null;const Lt=$t.source;this._contentLength=Lt.length,this._loaded=0,this._filename=null,this._disableRange=Lt.disableRange||!1,this._rangeChunkSize=Lt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Lt.disableStream,this._isRangeSupported=!Lt.disableRange,this._readableStream=null,this._readCapability=new vt.PromiseCapability,this._headersCapability=new vt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $t=this._readableStream.read();return $t===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=$t.length,(Dt=this.onProgress)==null||Dt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array($t).buffer,done:!1})}cancel($t){if(!this._readableStream){this._error($t);return}this._readableStream.destroy($t)}_error($t){this._storedError=$t,this._readCapability.resolve()}_setReadableStream($t){this._readableStream=$t,$t.on("readable",()=>{this._readCapability.resolve()}),$t.on("end",()=>{$t.destroy(),this._done=!0,this._readCapability.resolve()}),$t.on("error",Lt=>{this._error(Lt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new vt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Ct{constructor($t){this._url=$t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new vt.PromiseCapability;const Lt=$t.source;this._isStreamingSupported=!Lt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Dt;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const $t=this._readableStream.read();return $t===null?(this._readCapability=new vt.PromiseCapability,this.read()):(this._loaded+=$t.length,(Dt=this.onProgress)==null||Dt.call(this,{loaded:this._loaded}),{value:new Uint8Array($t).buffer,done:!1})}cancel($t){if(!this._readableStream){this._error($t);return}this._readableStream.destroy($t)}_error($t){this._storedError=$t,this._readCapability.resolve()}_setReadableStream($t){this._readableStream=$t,$t.on("readable",()=>{this._readCapability.resolve()}),$t.on("end",()=>{$t.destroy(),this._done=!0,this._readCapability.resolve()}),$t.on("error",Lt=>{this._error(Lt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function xt(Ft,$t){return{protocol:Ft.protocol,auth:Ft.auth,host:Ft.hostname,port:Ft.port,path:Ft.path,method:"GET",headers:$t}}class Pt extends St{constructor($t){super($t);const Lt=Dt=>{if(Dt.statusCode===404){const Ht=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ht,this._headersCapability.reject(Ht);return}this._headersCapability.resolve(),this._setReadableStream(Dt);const Ot=Ht=>this._readableStream.headers[Ht.toLowerCase()],{allowRangeRequests:Bt,suggestedLength:Nt}=(0,bt.validateRangeRequestCapabilities)({getResponseHeader:Ot,isHttp:$t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Bt,this._contentLength=Nt||this._contentLength,this._filename=(0,bt.extractFilenameFromHeader)(Ot)};if(this._request=null,this._url.protocol==="http:"){const Dt=require$$5;this._request=Dt.request(xt(this._url,$t.httpHeaders),Lt)}else{const Dt=require$$5;this._request=Dt.request(xt(this._url,$t.httpHeaders),Lt)}this._request.on("error",Dt=>{this._storedError=Dt,this._headersCapability.reject(Dt)}),this._request.end()}}class kt extends Ct{constructor($t,Lt,Dt){super($t),this._httpHeaders={};for(const Bt in $t.httpHeaders){const Nt=$t.httpHeaders[Bt];Nt!==void 0&&(this._httpHeaders[Bt]=Nt)}this._httpHeaders.Range=`bytes=${Lt}-${Dt-1}`;const Ot=Bt=>{if(Bt.statusCode===404){const Nt=new vt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Nt;return}this._setReadableStream(Bt)};if(this._request=null,this._url.protocol==="http:"){const Bt=require$$5;this._request=Bt.request(xt(this._url,this._httpHeaders),Ot)}else{const Bt=require$$5;this._request=Bt.request(xt(this._url,this._httpHeaders),Ot)}this._request.on("error",Bt=>{this._storedError=Bt}),this._request.end()}}class Rt extends St{constructor($t){super($t);let Lt=decodeURIComponent(this._url.path);wt.test(this._url.href)&&(Lt=Lt.replace(/^\//,""));const Dt=require$$5;Dt.lstat(Lt,(Ot,Bt)=>{if(Ot){Ot.code==="ENOENT"&&(Ot=new vt.MissingPDFException(`Missing PDF "${Lt}".`)),this._storedError=Ot,this._headersCapability.reject(Ot);return}this._contentLength=Bt.size,this._setReadableStream(Dt.createReadStream(Lt)),this._headersCapability.resolve()})}}class Mt extends Ct{constructor($t,Lt,Dt){super($t);let Ot=decodeURIComponent(this._url.path);wt.test(this._url.href)&&(Ot=Ot.replace(/^\//,""));const Bt=require$$5;this._setReadableStream(Bt.createReadStream(Ot,{start:Lt,end:Dt-1}))}}},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var vt=ht(6),bt=ht(1);const wt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},At="http://www.w3.org/XML/1998/namespace",Et="http://www.w3.org/1999/xlink",St=["butt","round","square"],Ct=["miter","round","bevel"],xt=function(Bt,Nt="",Ht=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ht)return URL.createObjectURL(new Blob([Bt],{type:Nt}));const Vt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let jt=`data:${Nt};base64,`;for(let qt=0,Jt=Bt.length;qt<Jt;qt+=3){const Gt=Bt[qt]&255,en=Bt[qt+1]&255,an=Bt[qt+2]&255,Sn=Gt>>2,cn=(Gt&3)<<4|en>>4,An=qt+1<Jt?(en&15)<<2|an>>6:64,dn=qt+2<Jt?an&63:64;jt+=Vt[Sn]+Vt[cn]+Vt[An]+Vt[dn]}return jt},Pt=function(){const Bt=new Uint8Array([137,80,78,71,13,10,26,10]),Nt=12,Ht=new Int32Array(256);for(let an=0;an<256;an++){let Sn=an;for(let cn=0;cn<8;cn++)Sn=Sn&1?3988292384^Sn>>1&2147483647:Sn>>1&2147483647;Ht[an]=Sn}function Vt(an,Sn,cn){let An=-1;for(let dn=Sn;dn<cn;dn++){const fn=(An^an[dn])&255,nn=Ht[fn];An=An>>>8^nn}return An^-1}function jt(an,Sn,cn,An){let dn=An;const fn=Sn.length;cn[dn]=fn>>24&255,cn[dn+1]=fn>>16&255,cn[dn+2]=fn>>8&255,cn[dn+3]=fn&255,dn+=4,cn[dn]=an.charCodeAt(0)&255,cn[dn+1]=an.charCodeAt(1)&255,cn[dn+2]=an.charCodeAt(2)&255,cn[dn+3]=an.charCodeAt(3)&255,dn+=4,cn.set(Sn,dn),dn+=Sn.length;const nn=Vt(cn,An+4,dn);cn[dn]=nn>>24&255,cn[dn+1]=nn>>16&255,cn[dn+2]=nn>>8&255,cn[dn+3]=nn&255}function qt(an,Sn,cn){let An=1,dn=0;for(let fn=Sn;fn<cn;++fn)An=(An+(an[fn]&255))%65521,dn=(dn+An)%65521;return dn<<16|An}function Jt(an){if(!bt.isNodeJS)return Gt(an);try{const Sn=parseInt(process.versions.node)>=8?an:Buffer.from(an),cn=require$$5.deflateSync(Sn,{level:9});return cn instanceof Uint8Array?cn:new Uint8Array(cn)}catch(Sn){(0,bt.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Sn)}return Gt(an)}function Gt(an){let Sn=an.length;const cn=65535,An=Math.ceil(Sn/cn),dn=new Uint8Array(2+Sn+An*5+4);let fn=0;dn[fn++]=120,dn[fn++]=156;let nn=0;for(;Sn>cn;)dn[fn++]=0,dn[fn++]=255,dn[fn++]=255,dn[fn++]=0,dn[fn++]=0,dn.set(an.subarray(nn,nn+cn),fn),fn+=cn,nn+=cn,Sn-=cn;dn[fn++]=1,dn[fn++]=Sn&255,dn[fn++]=Sn>>8&255,dn[fn++]=~Sn&65535&255,dn[fn++]=(~Sn&65535)>>8&255,dn.set(an.subarray(nn),fn),fn+=an.length-nn;const gn=qt(an,0,an.length);return dn[fn++]=gn>>24&255,dn[fn++]=gn>>16&255,dn[fn++]=gn>>8&255,dn[fn++]=gn&255,dn}function en(an,Sn,cn,An){const dn=an.width,fn=an.height;let nn,gn,Cn;const rn=an.data;switch(Sn){case bt.ImageKind.GRAYSCALE_1BPP:gn=0,nn=1,Cn=dn+7>>3;break;case bt.ImageKind.RGB_24BPP:gn=2,nn=8,Cn=dn*3;break;case bt.ImageKind.RGBA_32BPP:gn=6,nn=8,Cn=dn*4;break;default:throw new Error("invalid format")}const Xt=new Uint8Array((1+Cn)*fn);let Yt=0,tn=0;for(let Un=0;Un<fn;++Un)Xt[Yt++]=0,Xt.set(rn.subarray(tn,tn+Cn),Yt),tn+=Cn,Yt+=Cn;if(Sn===bt.ImageKind.GRAYSCALE_1BPP&&An){Yt=0;for(let Un=0;Un<fn;Un++){Yt++;for(let zn=0;zn<Cn;zn++)Xt[Yt++]^=255}}const hn=new Uint8Array([dn>>24&255,dn>>16&255,dn>>8&255,dn&255,fn>>24&255,fn>>16&255,fn>>8&255,fn&255,nn,gn,0,0,0]),un=Jt(Xt),pn=Bt.length+Nt*3+hn.length+un.length,Pn=new Uint8Array(pn);let Vn=0;return Pn.set(Bt,Vn),Vn+=Bt.length,jt("IHDR",hn,Pn,Vn),Vn+=Nt+hn.length,jt("IDATA",un,Pn,Vn),Vn+=Nt+un.length,jt("IEND",new Uint8Array(0),Pn,Vn),xt(Pn,"image/png",cn)}return function(Sn,cn,An){const dn=Sn.kind===void 0?bt.ImageKind.GRAYSCALE_1BPP:Sn.kind;return en(Sn,dn,cn,An)}}();class kt{constructor(){this.fontSizeScale=1,this.fontWeight=wt.fontWeight,this.fontSize=0,this.textMatrix=bt.IDENTITY_MATRIX,this.fontMatrix=bt.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=bt.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=wt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(Nt,Ht){this.x=Nt,this.y=Ht}}function Rt(Bt){let Nt=[];const Ht=[];for(const Vt of Bt){if(Vt.fn==="save"){Nt.push({fnId:92,fn:"group",items:[]}),Ht.push(Nt),Nt=Nt.at(-1).items;continue}Vt.fn==="restore"?Nt=Ht.pop():Nt.push(Vt)}return Nt}function Mt(Bt){if(Number.isInteger(Bt))return Bt.toString();const Nt=Bt.toFixed(10);let Ht=Nt.length-1;if(Nt[Ht]!=="0")return Nt;do Ht--;while(Nt[Ht]==="0");return Nt.substring(0,Nt[Ht]==="."?Ht:Ht+1)}function Ft(Bt){if(Bt[4]===0&&Bt[5]===0){if(Bt[1]===0&&Bt[2]===0)return Bt[0]===1&&Bt[3]===1?"":`scale(${Mt(Bt[0])} ${Mt(Bt[3])})`;if(Bt[0]===Bt[3]&&Bt[1]===-Bt[2]){const Nt=Math.acos(Bt[0])*180/Math.PI;return`rotate(${Mt(Nt)})`}}else if(Bt[0]===1&&Bt[1]===0&&Bt[2]===0&&Bt[3]===1)return`translate(${Mt(Bt[4])} ${Mt(Bt[5])})`;return`matrix(${Mt(Bt[0])} ${Mt(Bt[1])} ${Mt(Bt[2])} ${Mt(Bt[3])} ${Mt(Bt[4])} ${Mt(Bt[5])})`}let $t=0,Lt=0,Dt=0;class Ot{constructor(Nt,Ht,Vt=!1){(0,vt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new vt.DOMSVGFactory,this.current=new kt,this.transformMatrix=bt.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=Nt,this.objs=Ht,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Vt,this._operatorIdMapping=[];for(const jt in bt.OPS)this._operatorIdMapping[bt.OPS[jt]]=jt}getObject(Nt,Ht=null){return typeof Nt=="string"?Nt.startsWith("g_")?this.commonObjs.get(Nt):this.objs.get(Nt):Ht}save(){this.transformStack.push(this.transformMatrix);const Nt=this.current;this.extraStack.push(Nt),this.current=Nt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(Nt){this.save(),this.executeOpTree(Nt),this.restore()}loadDependencies(Nt){const Ht=Nt.fnArray,Vt=Nt.argsArray;for(let jt=0,qt=Ht.length;jt<qt;jt++)if(Ht[jt]===bt.OPS.dependency)for(const Jt of Vt[jt]){const Gt=Jt.startsWith("g_")?this.commonObjs:this.objs,en=new Promise(an=>{Gt.get(Jt,an)});this.current.dependencies.push(en)}return Promise.all(this.current.dependencies)}transform(Nt,Ht,Vt,jt,qt,Jt){const Gt=[Nt,Ht,Vt,jt,qt,Jt];this.transformMatrix=bt.Util.transform(this.transformMatrix,Gt),this.tgrp=null}getSVG(Nt,Ht){this.viewport=Ht;const Vt=this._initialize(Ht);return this.loadDependencies(Nt).then(()=>(this.transformMatrix=bt.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(Nt)),Vt))}convertOpList(Nt){const Ht=this._operatorIdMapping,Vt=Nt.argsArray,jt=Nt.fnArray,qt=[];for(let Jt=0,Gt=jt.length;Jt<Gt;Jt++){const en=jt[Jt];qt.push({fnId:en,fn:Ht[en],args:Vt[Jt]})}return Rt(qt)}executeOpTree(Nt){for(const Ht of Nt){const Vt=Ht.fn,jt=Ht.fnId,qt=Ht.args;switch(jt|0){case bt.OPS.beginText:this.beginText();break;case bt.OPS.dependency:break;case bt.OPS.setLeading:this.setLeading(qt);break;case bt.OPS.setLeadingMoveText:this.setLeadingMoveText(qt[0],qt[1]);break;case bt.OPS.setFont:this.setFont(qt);break;case bt.OPS.showText:this.showText(qt[0]);break;case bt.OPS.showSpacedText:this.showText(qt[0]);break;case bt.OPS.endText:this.endText();break;case bt.OPS.moveText:this.moveText(qt[0],qt[1]);break;case bt.OPS.setCharSpacing:this.setCharSpacing(qt[0]);break;case bt.OPS.setWordSpacing:this.setWordSpacing(qt[0]);break;case bt.OPS.setHScale:this.setHScale(qt[0]);break;case bt.OPS.setTextMatrix:this.setTextMatrix(qt[0],qt[1],qt[2],qt[3],qt[4],qt[5]);break;case bt.OPS.setTextRise:this.setTextRise(qt[0]);break;case bt.OPS.setTextRenderingMode:this.setTextRenderingMode(qt[0]);break;case bt.OPS.setLineWidth:this.setLineWidth(qt[0]);break;case bt.OPS.setLineJoin:this.setLineJoin(qt[0]);break;case bt.OPS.setLineCap:this.setLineCap(qt[0]);break;case bt.OPS.setMiterLimit:this.setMiterLimit(qt[0]);break;case bt.OPS.setFillRGBColor:this.setFillRGBColor(qt[0],qt[1],qt[2]);break;case bt.OPS.setStrokeRGBColor:this.setStrokeRGBColor(qt[0],qt[1],qt[2]);break;case bt.OPS.setStrokeColorN:this.setStrokeColorN(qt);break;case bt.OPS.setFillColorN:this.setFillColorN(qt);break;case bt.OPS.shadingFill:this.shadingFill(qt[0]);break;case bt.OPS.setDash:this.setDash(qt[0],qt[1]);break;case bt.OPS.setRenderingIntent:this.setRenderingIntent(qt[0]);break;case bt.OPS.setFlatness:this.setFlatness(qt[0]);break;case bt.OPS.setGState:this.setGState(qt[0]);break;case bt.OPS.fill:this.fill();break;case bt.OPS.eoFill:this.eoFill();break;case bt.OPS.stroke:this.stroke();break;case bt.OPS.fillStroke:this.fillStroke();break;case bt.OPS.eoFillStroke:this.eoFillStroke();break;case bt.OPS.clip:this.clip("nonzero");break;case bt.OPS.eoClip:this.clip("evenodd");break;case bt.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case bt.OPS.paintImageXObject:this.paintImageXObject(qt[0]);break;case bt.OPS.paintInlineImageXObject:this.paintInlineImageXObject(qt[0]);break;case bt.OPS.paintImageMaskXObject:this.paintImageMaskXObject(qt[0]);break;case bt.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(qt[0],qt[1]);break;case bt.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case bt.OPS.closePath:this.closePath();break;case bt.OPS.closeStroke:this.closeStroke();break;case bt.OPS.closeFillStroke:this.closeFillStroke();break;case bt.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case bt.OPS.nextLine:this.nextLine();break;case bt.OPS.transform:this.transform(qt[0],qt[1],qt[2],qt[3],qt[4],qt[5]);break;case bt.OPS.constructPath:this.constructPath(qt[0],qt[1]);break;case bt.OPS.endPath:this.endPath();break;case 92:this.group(Ht.items);break;default:(0,bt.warn)(`Unimplemented operator ${Vt}`);break}}}setWordSpacing(Nt){this.current.wordSpacing=Nt}setCharSpacing(Nt){this.current.charSpacing=Nt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(Nt,Ht,Vt,jt,qt,Jt){const Gt=this.current;Gt.textMatrix=Gt.lineMatrix=[Nt,Ht,Vt,jt,qt,Jt],Gt.textMatrixScale=Math.hypot(Nt,Ht),Gt.x=Gt.lineX=0,Gt.y=Gt.lineY=0,Gt.xcoords=[],Gt.ycoords=[],Gt.tspan=this.svgFactory.createElement("svg:tspan"),Gt.tspan.setAttributeNS(null,"font-family",Gt.fontFamily),Gt.tspan.setAttributeNS(null,"font-size",`${Mt(Gt.fontSize)}px`),Gt.tspan.setAttributeNS(null,"y",Mt(-Gt.y)),Gt.txtElement=this.svgFactory.createElement("svg:text"),Gt.txtElement.append(Gt.tspan)}beginText(){const Nt=this.current;Nt.x=Nt.lineX=0,Nt.y=Nt.lineY=0,Nt.textMatrix=bt.IDENTITY_MATRIX,Nt.lineMatrix=bt.IDENTITY_MATRIX,Nt.textMatrixScale=1,Nt.tspan=this.svgFactory.createElement("svg:tspan"),Nt.txtElement=this.svgFactory.createElement("svg:text"),Nt.txtgrp=this.svgFactory.createElement("svg:g"),Nt.xcoords=[],Nt.ycoords=[]}moveText(Nt,Ht){const Vt=this.current;Vt.x=Vt.lineX+=Nt,Vt.y=Vt.lineY+=Ht,Vt.xcoords=[],Vt.ycoords=[],Vt.tspan=this.svgFactory.createElement("svg:tspan"),Vt.tspan.setAttributeNS(null,"font-family",Vt.fontFamily),Vt.tspan.setAttributeNS(null,"font-size",`${Mt(Vt.fontSize)}px`),Vt.tspan.setAttributeNS(null,"y",Mt(-Vt.y))}showText(Nt){const Ht=this.current,Vt=Ht.font,jt=Ht.fontSize;if(jt===0)return;const qt=Ht.fontSizeScale,Jt=Ht.charSpacing,Gt=Ht.wordSpacing,en=Ht.fontDirection,an=Ht.textHScale*en,Sn=Vt.vertical,cn=Sn?1:-1,An=Vt.defaultVMetrics,dn=jt*Ht.fontMatrix[0];let fn=0;for(const Cn of Nt){if(Cn===null){fn+=en*Gt;continue}else if(typeof Cn=="number"){fn+=cn*Cn*jt/1e3;continue}const rn=(Cn.isSpace?Gt:0)+Jt,Xt=Cn.fontChar;let Yt,tn,hn=Cn.width;if(Sn){let pn;const Pn=Cn.vmetric||An;pn=Cn.vmetric?Pn[1]:hn*.5,pn=-pn*dn;const Vn=Pn[2]*dn;hn=Pn?-Pn[0]:hn,Yt=pn/qt,tn=(fn+Vn)/qt}else Yt=fn/qt,tn=0;(Cn.isInFont||Vt.missingFile)&&(Ht.xcoords.push(Ht.x+Yt),Sn&&Ht.ycoords.push(-Ht.y+tn),Ht.tspan.textContent+=Xt);const un=Sn?hn*dn-rn*en:hn*dn+rn*en;fn+=un}Ht.tspan.setAttributeNS(null,"x",Ht.xcoords.map(Mt).join(" ")),Sn?Ht.tspan.setAttributeNS(null,"y",Ht.ycoords.map(Mt).join(" ")):Ht.tspan.setAttributeNS(null,"y",Mt(-Ht.y)),Sn?Ht.y-=fn:Ht.x+=fn*an,Ht.tspan.setAttributeNS(null,"font-family",Ht.fontFamily),Ht.tspan.setAttributeNS(null,"font-size",`${Mt(Ht.fontSize)}px`),Ht.fontStyle!==wt.fontStyle&&Ht.tspan.setAttributeNS(null,"font-style",Ht.fontStyle),Ht.fontWeight!==wt.fontWeight&&Ht.tspan.setAttributeNS(null,"font-weight",Ht.fontWeight);const nn=Ht.textRenderingMode&bt.TextRenderingMode.FILL_STROKE_MASK;if(nn===bt.TextRenderingMode.FILL||nn===bt.TextRenderingMode.FILL_STROKE?(Ht.fillColor!==wt.fillColor&&Ht.tspan.setAttributeNS(null,"fill",Ht.fillColor),Ht.fillAlpha<1&&Ht.tspan.setAttributeNS(null,"fill-opacity",Ht.fillAlpha)):Ht.textRenderingMode===bt.TextRenderingMode.ADD_TO_PATH?Ht.tspan.setAttributeNS(null,"fill","transparent"):Ht.tspan.setAttributeNS(null,"fill","none"),nn===bt.TextRenderingMode.STROKE||nn===bt.TextRenderingMode.FILL_STROKE){const Cn=1/(Ht.textMatrixScale||1);this._setStrokeAttributes(Ht.tspan,Cn)}let gn=Ht.textMatrix;Ht.textRise!==0&&(gn=gn.slice(),gn[5]+=Ht.textRise),Ht.txtElement.setAttributeNS(null,"transform",`${Ft(gn)} scale(${Mt(an)}, -1)`),Ht.txtElement.setAttributeNS(At,"xml:space","preserve"),Ht.txtElement.append(Ht.tspan),Ht.txtgrp.append(Ht.txtElement),this._ensureTransformGroup().append(Ht.txtElement)}setLeadingMoveText(Nt,Ht){this.setLeading(-Ht),this.moveText(Nt,Ht)}addFontStyle(Nt){if(!Nt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ht=xt(Nt.data,Nt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${Nt.loadedName}"; src: url(${Ht}); }
`}setFont(Nt){const Ht=this.current,Vt=this.commonObjs.get(Nt[0]);let jt=Nt[1];Ht.font=Vt,this.embedFonts&&!Vt.missingFile&&!this.embeddedFonts[Vt.loadedName]&&(this.addFontStyle(Vt),this.embeddedFonts[Vt.loadedName]=Vt),Ht.fontMatrix=Vt.fontMatrix||bt.FONT_IDENTITY_MATRIX;let qt="normal";Vt.black?qt="900":Vt.bold&&(qt="bold");const Jt=Vt.italic?"italic":"normal";jt<0?(jt=-jt,Ht.fontDirection=-1):Ht.fontDirection=1,Ht.fontSize=jt,Ht.fontFamily=Vt.loadedName,Ht.fontWeight=qt,Ht.fontStyle=Jt,Ht.tspan=this.svgFactory.createElement("svg:tspan"),Ht.tspan.setAttributeNS(null,"y",Mt(-Ht.y)),Ht.xcoords=[],Ht.ycoords=[]}endText(){var Ht;const Nt=this.current;Nt.textRenderingMode&bt.TextRenderingMode.ADD_TO_PATH_FLAG&&((Ht=Nt.txtElement)!=null&&Ht.hasChildNodes())&&(Nt.element=Nt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(Nt){Nt>0&&(this.current.lineWidth=Nt)}setLineCap(Nt){this.current.lineCap=St[Nt]}setLineJoin(Nt){this.current.lineJoin=Ct[Nt]}setMiterLimit(Nt){this.current.miterLimit=Nt}setStrokeAlpha(Nt){this.current.strokeAlpha=Nt}setStrokeRGBColor(Nt,Ht,Vt){this.current.strokeColor=bt.Util.makeHexColor(Nt,Ht,Vt)}setFillAlpha(Nt){this.current.fillAlpha=Nt}setFillRGBColor(Nt,Ht,Vt){this.current.fillColor=bt.Util.makeHexColor(Nt,Ht,Vt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(Nt){this.current.strokeColor=this._makeColorN_Pattern(Nt)}setFillColorN(Nt){this.current.fillColor=this._makeColorN_Pattern(Nt)}shadingFill(Nt){const{width:Ht,height:Vt}=this.viewport,jt=bt.Util.inverseTransform(this.transformMatrix),[qt,Jt,Gt,en]=bt.Util.getAxialAlignedBoundingBox([0,0,Ht,Vt],jt),an=this.svgFactory.createElement("svg:rect");an.setAttributeNS(null,"x",qt),an.setAttributeNS(null,"y",Jt),an.setAttributeNS(null,"width",Gt-qt),an.setAttributeNS(null,"height",en-Jt),an.setAttributeNS(null,"fill",this._makeShadingPattern(Nt)),this.current.fillAlpha<1&&an.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(an)}_makeColorN_Pattern(Nt){return Nt[0]==="TilingPattern"?this._makeTilingPattern(Nt):this._makeShadingPattern(Nt)}_makeTilingPattern(Nt){const Ht=Nt[1],Vt=Nt[2],jt=Nt[3]||bt.IDENTITY_MATRIX,[qt,Jt,Gt,en]=Nt[4],an=Nt[5],Sn=Nt[6],cn=Nt[7],An=`shading${Dt++}`,[dn,fn,nn,gn]=bt.Util.normalizeRect([...bt.Util.applyTransform([qt,Jt],jt),...bt.Util.applyTransform([Gt,en],jt)]),[Cn,rn]=bt.Util.singularValueDecompose2dScale(jt),Xt=an*Cn,Yt=Sn*rn,tn=this.svgFactory.createElement("svg:pattern");tn.setAttributeNS(null,"id",An),tn.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tn.setAttributeNS(null,"width",Xt),tn.setAttributeNS(null,"height",Yt),tn.setAttributeNS(null,"x",`${dn}`),tn.setAttributeNS(null,"y",`${fn}`);const hn=this.svg,un=this.transformMatrix,pn=this.current.fillColor,Pn=this.current.strokeColor,Vn=this.svgFactory.create(nn-dn,gn-fn);if(this.svg=Vn,this.transformMatrix=jt,cn===2){const Un=bt.Util.makeHexColor(...Ht);this.current.fillColor=Un,this.current.strokeColor=Un}return this.executeOpTree(this.convertOpList(Vt)),this.svg=hn,this.transformMatrix=un,this.current.fillColor=pn,this.current.strokeColor=Pn,tn.append(Vn.childNodes[0]),this.defs.append(tn),`url(#${An})`}_makeShadingPattern(Nt){switch(typeof Nt=="string"&&(Nt=this.objs.get(Nt)),Nt[0]){case"RadialAxial":const Ht=`shading${Dt++}`,Vt=Nt[3];let jt;switch(Nt[1]){case"axial":const qt=Nt[4],Jt=Nt[5];jt=this.svgFactory.createElement("svg:linearGradient"),jt.setAttributeNS(null,"id",Ht),jt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),jt.setAttributeNS(null,"x1",qt[0]),jt.setAttributeNS(null,"y1",qt[1]),jt.setAttributeNS(null,"x2",Jt[0]),jt.setAttributeNS(null,"y2",Jt[1]);break;case"radial":const Gt=Nt[4],en=Nt[5],an=Nt[6],Sn=Nt[7];jt=this.svgFactory.createElement("svg:radialGradient"),jt.setAttributeNS(null,"id",Ht),jt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),jt.setAttributeNS(null,"cx",en[0]),jt.setAttributeNS(null,"cy",en[1]),jt.setAttributeNS(null,"r",Sn),jt.setAttributeNS(null,"fx",Gt[0]),jt.setAttributeNS(null,"fy",Gt[1]),jt.setAttributeNS(null,"fr",an);break;default:throw new Error(`Unknown RadialAxial type: ${Nt[1]}`)}for(const qt of Vt){const Jt=this.svgFactory.createElement("svg:stop");Jt.setAttributeNS(null,"offset",qt[0]),Jt.setAttributeNS(null,"stop-color",qt[1]),jt.append(Jt)}return this.defs.append(jt),`url(#${Ht})`;case"Mesh":return(0,bt.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${Nt[0]}`)}}setDash(Nt,Ht){this.current.dashArray=Nt,this.current.dashPhase=Ht}constructPath(Nt,Ht){const Vt=this.current;let jt=Vt.x,qt=Vt.y,Jt=[],Gt=0;for(const en of Nt)switch(en|0){case bt.OPS.rectangle:jt=Ht[Gt++],qt=Ht[Gt++];const an=Ht[Gt++],Sn=Ht[Gt++],cn=jt+an,An=qt+Sn;Jt.push("M",Mt(jt),Mt(qt),"L",Mt(cn),Mt(qt),"L",Mt(cn),Mt(An),"L",Mt(jt),Mt(An),"Z");break;case bt.OPS.moveTo:jt=Ht[Gt++],qt=Ht[Gt++],Jt.push("M",Mt(jt),Mt(qt));break;case bt.OPS.lineTo:jt=Ht[Gt++],qt=Ht[Gt++],Jt.push("L",Mt(jt),Mt(qt));break;case bt.OPS.curveTo:jt=Ht[Gt+4],qt=Ht[Gt+5],Jt.push("C",Mt(Ht[Gt]),Mt(Ht[Gt+1]),Mt(Ht[Gt+2]),Mt(Ht[Gt+3]),Mt(jt),Mt(qt)),Gt+=6;break;case bt.OPS.curveTo2:Jt.push("C",Mt(jt),Mt(qt),Mt(Ht[Gt]),Mt(Ht[Gt+1]),Mt(Ht[Gt+2]),Mt(Ht[Gt+3])),jt=Ht[Gt+2],qt=Ht[Gt+3],Gt+=4;break;case bt.OPS.curveTo3:jt=Ht[Gt+2],qt=Ht[Gt+3],Jt.push("C",Mt(Ht[Gt]),Mt(Ht[Gt+1]),Mt(jt),Mt(qt),Mt(jt),Mt(qt)),Gt+=4;break;case bt.OPS.closePath:Jt.push("Z");break}Jt=Jt.join(" "),Vt.path&&Nt.length>0&&Nt[0]!==bt.OPS.rectangle&&Nt[0]!==bt.OPS.moveTo?Jt=Vt.path.getAttributeNS(null,"d")+Jt:(Vt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Vt.path)),Vt.path.setAttributeNS(null,"d",Jt),Vt.path.setAttributeNS(null,"fill","none"),Vt.element=Vt.path,Vt.setCurrentPoint(jt,qt)}endPath(){const Nt=this.current;if(Nt.path=null,!this.pendingClip)return;if(!Nt.element){this.pendingClip=null;return}const Ht=`clippath${$t++}`,Vt=this.svgFactory.createElement("svg:clipPath");Vt.setAttributeNS(null,"id",Ht),Vt.setAttributeNS(null,"transform",Ft(this.transformMatrix));const jt=Nt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?jt.setAttributeNS(null,"clip-rule","evenodd"):jt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Vt.append(jt),this.defs.append(Vt),Nt.activeClipUrl){Nt.clipGroup=null;for(const qt of this.extraStack)qt.clipGroup=null;Vt.setAttributeNS(null,"clip-path",Nt.activeClipUrl)}Nt.activeClipUrl=`url(#${Ht})`,this.tgrp=null}clip(Nt){this.pendingClip=Nt}closePath(){const Nt=this.current;if(Nt.path){const Ht=`${Nt.path.getAttributeNS(null,"d")}Z`;Nt.path.setAttributeNS(null,"d",Ht)}}setLeading(Nt){this.current.leading=-Nt}setTextRise(Nt){this.current.textRise=Nt}setTextRenderingMode(Nt){this.current.textRenderingMode=Nt}setHScale(Nt){this.current.textHScale=Nt/100}setRenderingIntent(Nt){}setFlatness(Nt){}setGState(Nt){for(const[Ht,Vt]of Nt)switch(Ht){case"LW":this.setLineWidth(Vt);break;case"LC":this.setLineCap(Vt);break;case"LJ":this.setLineJoin(Vt);break;case"ML":this.setMiterLimit(Vt);break;case"D":this.setDash(Vt[0],Vt[1]);break;case"RI":this.setRenderingIntent(Vt);break;case"FL":this.setFlatness(Vt);break;case"Font":this.setFont(Vt);break;case"CA":this.setStrokeAlpha(Vt);break;case"ca":this.setFillAlpha(Vt);break;default:(0,bt.warn)(`Unimplemented graphic state operator ${Ht}`);break}}fill(){const Nt=this.current;Nt.element&&(Nt.element.setAttributeNS(null,"fill",Nt.fillColor),Nt.element.setAttributeNS(null,"fill-opacity",Nt.fillAlpha),this.endPath())}stroke(){const Nt=this.current;Nt.element&&(this._setStrokeAttributes(Nt.element),Nt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(Nt,Ht=1){const Vt=this.current;let jt=Vt.dashArray;Ht!==1&&jt.length>0&&(jt=jt.map(function(qt){return Ht*qt})),Nt.setAttributeNS(null,"stroke",Vt.strokeColor),Nt.setAttributeNS(null,"stroke-opacity",Vt.strokeAlpha),Nt.setAttributeNS(null,"stroke-miterlimit",Mt(Vt.miterLimit)),Nt.setAttributeNS(null,"stroke-linecap",Vt.lineCap),Nt.setAttributeNS(null,"stroke-linejoin",Vt.lineJoin),Nt.setAttributeNS(null,"stroke-width",Mt(Ht*Vt.lineWidth)+"px"),Nt.setAttributeNS(null,"stroke-dasharray",jt.map(Mt).join(" ")),Nt.setAttributeNS(null,"stroke-dashoffset",Mt(Ht*Vt.dashPhase)+"px")}eoFill(){var Nt;(Nt=this.current.element)==null||Nt.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var Nt;(Nt=this.current.element)==null||Nt.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const Nt=this.svgFactory.createElement("svg:rect");Nt.setAttributeNS(null,"x","0"),Nt.setAttributeNS(null,"y","0"),Nt.setAttributeNS(null,"width","1px"),Nt.setAttributeNS(null,"height","1px"),Nt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(Nt)}paintImageXObject(Nt){const Ht=this.getObject(Nt);if(!Ht){(0,bt.warn)(`Dependent image with object ID ${Nt} is not ready yet`);return}this.paintInlineImageXObject(Ht)}paintInlineImageXObject(Nt,Ht){const Vt=Nt.width,jt=Nt.height,qt=Pt(Nt,this.forceDataSchema,!!Ht),Jt=this.svgFactory.createElement("svg:rect");Jt.setAttributeNS(null,"x","0"),Jt.setAttributeNS(null,"y","0"),Jt.setAttributeNS(null,"width",Mt(Vt)),Jt.setAttributeNS(null,"height",Mt(jt)),this.current.element=Jt,this.clip("nonzero");const Gt=this.svgFactory.createElement("svg:image");Gt.setAttributeNS(Et,"xlink:href",qt),Gt.setAttributeNS(null,"x","0"),Gt.setAttributeNS(null,"y",Mt(-jt)),Gt.setAttributeNS(null,"width",Mt(Vt)+"px"),Gt.setAttributeNS(null,"height",Mt(jt)+"px"),Gt.setAttributeNS(null,"transform",`scale(${Mt(1/Vt)} ${Mt(-1/jt)})`),Ht?Ht.append(Gt):this._ensureTransformGroup().append(Gt)}paintImageMaskXObject(Nt){const Ht=this.getObject(Nt.data,Nt);if(Ht.bitmap){(0,bt.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Vt=this.current,jt=Ht.width,qt=Ht.height,Jt=Vt.fillColor;Vt.maskId=`mask${Lt++}`;const Gt=this.svgFactory.createElement("svg:mask");Gt.setAttributeNS(null,"id",Vt.maskId);const en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y","0"),en.setAttributeNS(null,"width",Mt(jt)),en.setAttributeNS(null,"height",Mt(qt)),en.setAttributeNS(null,"fill",Jt),en.setAttributeNS(null,"mask",`url(#${Vt.maskId})`),this.defs.append(Gt),this._ensureTransformGroup().append(en),this.paintInlineImageXObject(Ht,Gt)}paintFormXObjectBegin(Nt,Ht){if(Array.isArray(Nt)&&Nt.length===6&&this.transform(Nt[0],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5]),Ht){const Vt=Ht[2]-Ht[0],jt=Ht[3]-Ht[1],qt=this.svgFactory.createElement("svg:rect");qt.setAttributeNS(null,"x",Ht[0]),qt.setAttributeNS(null,"y",Ht[1]),qt.setAttributeNS(null,"width",Mt(Vt)),qt.setAttributeNS(null,"height",Mt(jt)),this.current.element=qt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(Nt){const Ht=this.svgFactory.create(Nt.width,Nt.height),Vt=this.svgFactory.createElement("svg:defs");Ht.append(Vt),this.defs=Vt;const jt=this.svgFactory.createElement("svg:g");return jt.setAttributeNS(null,"transform",Ft(Nt.transform)),Ht.append(jt),this.svg=jt,Ht}_ensureClipGroup(){if(!this.current.clipGroup){const Nt=this.svgFactory.createElement("svg:g");Nt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(Nt),this.current.clipGroup=Nt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Ft(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}$.SVGGraphics=Ot},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class ht{static textContent(bt){const wt=[],At={items:wt,styles:Object.create(null)};function Et(St){var Pt;if(!St)return;let Ct=null;const xt=St.name;if(xt==="#text")Ct=St.value;else if(ht.shouldBuildText(xt))(Pt=St==null?void 0:St.attributes)!=null&&Pt.textContent?Ct=St.attributes.textContent:St.value&&(Ct=St.value);else return;if(Ct!==null&&wt.push({str:Ct}),!!St.children)for(const kt of St.children)Et(kt)}return Et(bt),At}static shouldBuildText(bt){return!(bt==="textarea"||bt==="input"||bt==="option"||bt==="select")}}$.XfaText=ht},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=Ft,$.updateTextLayer=$t;var vt=ht(1),bt=ht(6);const wt=1e5,At=30,Et=.8,St=new Map;function Ct(Lt,Dt){let Ot;if(Dt&&vt.FeatureTest.isOffscreenCanvasSupported)Ot=new OffscreenCanvas(Lt,Lt).getContext("2d",{alpha:!1});else{const Bt=document.createElement("canvas");Bt.width=Bt.height=Lt,Ot=Bt.getContext("2d",{alpha:!1})}return Ot}function xt(Lt,Dt){const Ot=St.get(Lt);if(Ot)return Ot;const Bt=Ct(At,Dt);Bt.font=`${At}px ${Lt}`;const Nt=Bt.measureText("");let Ht=Nt.fontBoundingBoxAscent,Vt=Math.abs(Nt.fontBoundingBoxDescent);if(Ht){const qt=Ht/(Ht+Vt);return St.set(Lt,qt),Bt.canvas.width=Bt.canvas.height=0,qt}Bt.strokeStyle="red",Bt.clearRect(0,0,At,At),Bt.strokeText("g",0,0);let jt=Bt.getImageData(0,0,At,At).data;Vt=0;for(let qt=jt.length-1-3;qt>=0;qt-=4)if(jt[qt]>0){Vt=Math.ceil(qt/4/At);break}Bt.clearRect(0,0,At,At),Bt.strokeText("A",0,At),jt=Bt.getImageData(0,0,At,At).data,Ht=0;for(let qt=0,Jt=jt.length;qt<Jt;qt+=4)if(jt[qt]>0){Ht=At-Math.floor(qt/4/At);break}if(Bt.canvas.width=Bt.canvas.height=0,Ht){const qt=Ht/(Ht+Vt);return St.set(Lt,qt),qt}return St.set(Lt,Et),Et}function Pt(Lt,Dt,Ot){const Bt=document.createElement("span"),Nt={angle:0,canvasWidth:0,hasText:Dt.str!=="",hasEOL:Dt.hasEOL,fontSize:0};Lt._textDivs.push(Bt);const Ht=vt.Util.transform(Lt._transform,Dt.transform);let Vt=Math.atan2(Ht[1],Ht[0]);const jt=Ot[Dt.fontName];jt.vertical&&(Vt+=Math.PI/2);const qt=Math.hypot(Ht[2],Ht[3]),Jt=qt*xt(jt.fontFamily,Lt._isOffscreenCanvasSupported);let Gt,en;Vt===0?(Gt=Ht[4],en=Ht[5]-Jt):(Gt=Ht[4]+Jt*Math.sin(Vt),en=Ht[5]-Jt*Math.cos(Vt));const an="calc(var(--scale-factor)*",Sn=Bt.style;Lt._container===Lt._rootContainer?(Sn.left=`${(100*Gt/Lt._pageWidth).toFixed(2)}%`,Sn.top=`${(100*en/Lt._pageHeight).toFixed(2)}%`):(Sn.left=`${an}${Gt.toFixed(2)}px)`,Sn.top=`${an}${en.toFixed(2)}px)`),Sn.fontSize=`${an}${qt.toFixed(2)}px)`,Sn.fontFamily=jt.fontFamily,Nt.fontSize=qt,Bt.setAttribute("role","presentation"),Bt.textContent=Dt.str,Bt.dir=Dt.dir,Lt._fontInspectorEnabled&&(Bt.dataset.fontName=Dt.fontName),Vt!==0&&(Nt.angle=Vt*(180/Math.PI));let cn=!1;if(Dt.str.length>1)cn=!0;else if(Dt.str!==" "&&Dt.transform[0]!==Dt.transform[3]){const An=Math.abs(Dt.transform[0]),dn=Math.abs(Dt.transform[3]);An!==dn&&Math.max(An,dn)/Math.min(An,dn)>1.5&&(cn=!0)}cn&&(Nt.canvasWidth=jt.vertical?Dt.height:Dt.width),Lt._textDivProperties.set(Bt,Nt),Lt._isReadableStream&&Lt._layoutText(Bt)}function kt(Lt){const{div:Dt,scale:Ot,properties:Bt,ctx:Nt,prevFontSize:Ht,prevFontFamily:Vt}=Lt,{style:jt}=Dt;let qt="";if(Bt.canvasWidth!==0&&Bt.hasText){const{fontFamily:Jt}=jt,{canvasWidth:Gt,fontSize:en}=Bt;(Ht!==en||Vt!==Jt)&&(Nt.font=`${en*Ot}px ${Jt}`,Lt.prevFontSize=en,Lt.prevFontFamily=Jt);const{width:an}=Nt.measureText(Dt.textContent);an>0&&(qt=`scaleX(${Gt*Ot/an})`)}Bt.angle!==0&&(qt=`rotate(${Bt.angle}deg) ${qt}`),qt.length>0&&(jt.transform=qt)}function Rt(Lt){if(Lt._canceled)return;const Dt=Lt._textDivs,Ot=Lt._capability;if(Dt.length>wt){Ot.resolve();return}if(!Lt._isReadableStream)for(const Nt of Dt)Lt._layoutText(Nt);Ot.resolve()}class Mt{constructor({textContentSource:Dt,container:Ot,viewport:Bt,textDivs:Nt,textDivProperties:Ht,textContentItemsStr:Vt,isOffscreenCanvasSupported:jt}){var an;this._textContentSource=Dt,this._isReadableStream=Dt instanceof ReadableStream,this._container=this._rootContainer=Ot,this._textDivs=Nt||[],this._textContentItemsStr=Vt||[],this._isOffscreenCanvasSupported=jt,this._fontInspectorEnabled=!!((an=globalThis.FontInspector)!=null&&an.enabled),this._reader=null,this._textDivProperties=Ht||new WeakMap,this._canceled=!1,this._capability=new vt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Bt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ct(0,jt)};const{pageWidth:qt,pageHeight:Jt,pageX:Gt,pageY:en}=Bt.rawDims;this._transform=[1,0,0,-1,-Gt,en+Jt],this._pageWidth=qt,this._pageHeight=Jt,(0,bt.setLayerDimensions)(Ot,Bt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new vt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new vt.AbortException("TextLayer task cancelled."))}_processItems(Dt,Ot){for(const Bt of Dt){if(Bt.str===void 0){if(Bt.type==="beginMarkedContentProps"||Bt.type==="beginMarkedContent"){const Nt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Bt.id!==null&&this._container.setAttribute("id",`${Bt.id}`),Nt.append(this._container)}else Bt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Bt.str),Pt(this,Bt,Ot)}}_layoutText(Dt){const Ot=this._layoutTextParams.properties=this._textDivProperties.get(Dt);if(this._layoutTextParams.div=Dt,kt(this._layoutTextParams),Ot.hasText&&this._container.append(Dt),Ot.hasEOL){const Bt=document.createElement("br");Bt.setAttribute("role","presentation"),this._container.append(Bt)}}_render(){const Dt=new vt.PromiseCapability;let Ot=Object.create(null);if(this._isReadableStream){const Bt=()=>{this._reader.read().then(({value:Nt,done:Ht})=>{if(Ht){Dt.resolve();return}Object.assign(Ot,Nt.styles),this._processItems(Nt.items,Ot),Bt()},Dt.reject)};this._reader=this._textContentSource.getReader(),Bt()}else if(this._textContentSource){const{items:Bt,styles:Nt}=this._textContentSource;this._processItems(Bt,Nt),Dt.resolve()}else throw new Error('No "textContentSource" parameter specified.');Dt.promise.then(()=>{Ot=null,Rt(this)},this._capability.reject)}}$.TextLayerRenderTask=Mt;function Ft(Lt){!Lt.textContentSource&&(Lt.textContent||Lt.textContentStream)&&((0,bt.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),Lt.textContentSource=Lt.textContent||Lt.textContentStream);const{container:Dt,viewport:Ot}=Lt,Bt=getComputedStyle(Dt),Nt=Bt.getPropertyValue("visibility"),Ht=parseFloat(Bt.getPropertyValue("--scale-factor"));Nt==="visible"&&(!Ht||Math.abs(Ht-Ot.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Vt=new Mt(Lt);return Vt._render(),Vt}function $t({container:Lt,viewport:Dt,textDivs:Ot,textDivProperties:Bt,isOffscreenCanvasSupported:Nt,mustRotate:Ht=!0,mustRescale:Vt=!0}){if(Ht&&(0,bt.setLayerDimensions)(Lt,{rotation:Dt.rotation}),Vt){const jt=Ct(0,Nt),Jt={prevFontSize:null,prevFontFamily:null,div:null,scale:Dt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:jt};for(const Gt of Ot)Jt.properties=Bt.get(Gt),Jt.div=Gt,kt(Jt)}}},(_e,$,ht)=>{var xt,Pt,kt,Rt,Mt,Ft,$t,Lt,Dt,Ot,Bt,HA,H0,jA,UA;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var vt=ht(1),bt=ht(4),wt=ht(28),At=ht(33),Et=ht(6),St=ht(34);const qt=class qt{constructor({uiManager:Gt,pageIndex:en,div:an,accessibilityManager:Sn,annotationLayer:cn,viewport:An,l10n:dn}){Kt(this,Bt);Kt(this,xt);Kt(this,Pt,!1);Kt(this,kt,null);Kt(this,Rt,this.pointerup.bind(this));Kt(this,Mt,this.pointerdown.bind(this));Kt(this,Ft,new Map);Kt(this,$t,!1);Kt(this,Lt,!1);Kt(this,Dt,!1);Kt(this,Ot);const fn=[wt.FreeTextEditor,At.InkEditor,St.StampEditor];if(!qt._initialized){qt._initialized=!0;for(const nn of fn)nn.initialize(dn)}Gt.registerEditorTypes(fn),zt(this,Ot,Gt),this.pageIndex=en,this.div=an,zt(this,xt,Sn),zt(this,kt,cn),this.viewport=An,_t(this,Ot).addLayer(this)}get isEmpty(){return _t(this,Ft).size===0}updateToolbar(Gt){_t(this,Ot).updateToolbar(Gt)}updateMode(Gt=_t(this,Ot).getMode()){Ut(this,Bt,UA).call(this),Gt===vt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Gt!==vt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Gt===vt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Gt===vt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Gt===vt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Gt){if(!Gt&&_t(this,Ot).getMode()!==vt.AnnotationEditorType.INK)return;if(!Gt){for(const an of _t(this,Ft).values())if(an.isEmpty()){an.setInBackground();return}}Ut(this,Bt,H0).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Gt){_t(this,Ot).setEditingState(Gt)}addCommands(Gt){_t(this,Ot).addCommands(Gt)}enable(){this.div.style.pointerEvents="auto";const Gt=new Set;for(const an of _t(this,Ft).values())an.enableEditing(),an.annotationElementId&&Gt.add(an.annotationElementId);if(!_t(this,kt))return;const en=_t(this,kt).getEditableAnnotations();for(const an of en){if(an.hide(),_t(this,Ot).isDeletedAnnotationElement(an.data.id)||Gt.has(an.data.id))continue;const Sn=this.deserialize(an);Sn&&(this.addOrRebuild(Sn),Sn.enableEditing())}}disable(){var en;zt(this,Dt,!0),this.div.style.pointerEvents="none";const Gt=new Set;for(const an of _t(this,Ft).values()){if(an.disableEditing(),!an.annotationElementId||an.serialize()!==null){Gt.add(an.annotationElementId);continue}(en=this.getEditableAnnotation(an.annotationElementId))==null||en.show(),an.remove()}if(_t(this,kt)){const an=_t(this,kt).getEditableAnnotations();for(const Sn of an){const{id:cn}=Sn.data;Gt.has(cn)||_t(this,Ot).isDeletedAnnotationElement(cn)||Sn.show()}}Ut(this,Bt,UA).call(this),this.isEmpty&&(this.div.hidden=!0),zt(this,Dt,!1)}getEditableAnnotation(Gt){var en;return((en=_t(this,kt))==null?void 0:en.getEditableAnnotation(Gt))||null}setActiveEditor(Gt){_t(this,Ot).getActive()!==Gt&&_t(this,Ot).setActiveEditor(Gt)}enableClick(){this.div.addEventListener("pointerdown",_t(this,Mt)),this.div.addEventListener("pointerup",_t(this,Rt))}disableClick(){this.div.removeEventListener("pointerdown",_t(this,Mt)),this.div.removeEventListener("pointerup",_t(this,Rt))}attach(Gt){_t(this,Ft).set(Gt.id,Gt);const{annotationElementId:en}=Gt;en&&_t(this,Ot).isDeletedAnnotationElement(en)&&_t(this,Ot).removeDeletedAnnotationElement(Gt)}detach(Gt){var en;_t(this,Ft).delete(Gt.id),(en=_t(this,xt))==null||en.removePointerInTextLayer(Gt.contentDiv),!_t(this,Dt)&&Gt.annotationElementId&&_t(this,Ot).addDeletedAnnotationElement(Gt)}remove(Gt){this.detach(Gt),_t(this,Ot).removeEditor(Gt),Gt.div.contains(document.activeElement)&&setTimeout(()=>{_t(this,Ot).focusMainContainer()},0),Gt.div.remove(),Gt.isAttachedToDOM=!1,_t(this,Lt)||this.addInkEditorIfNeeded(!1)}changeParent(Gt){var en;Gt.parent!==this&&(Gt.annotationElementId&&(_t(this,Ot).addDeletedAnnotationElement(Gt.annotationElementId),bt.AnnotationEditor.deleteAnnotationElement(Gt),Gt.annotationElementId=null),this.attach(Gt),(en=Gt.parent)==null||en.detach(Gt),Gt.setParent(this),Gt.div&&Gt.isAttachedToDOM&&(Gt.div.remove(),this.div.append(Gt.div)))}add(Gt){if(this.changeParent(Gt),_t(this,Ot).addEditor(Gt),this.attach(Gt),!Gt.isAttachedToDOM){const en=Gt.render();this.div.append(en),Gt.isAttachedToDOM=!0}Gt.fixAndSetPosition(),Gt.onceAdded(),_t(this,Ot).addToAnnotationStorage(Gt)}moveEditorInDOM(Gt){var an;if(!Gt.isAttachedToDOM)return;const{activeElement:en}=document;Gt.div.contains(en)&&(Gt._focusEventsAllowed=!1,setTimeout(()=>{Gt.div.contains(document.activeElement)?Gt._focusEventsAllowed=!0:(Gt.div.addEventListener("focusin",()=>{Gt._focusEventsAllowed=!0},{once:!0}),en.focus())},0)),Gt._structTreeParentId=(an=_t(this,xt))==null?void 0:an.moveElementInDOM(this.div,Gt.div,Gt.contentDiv,!0)}addOrRebuild(Gt){Gt.needsToBeRebuilt()?Gt.rebuild():this.add(Gt)}addUndoableEditor(Gt){const en=()=>Gt._uiManager.rebuild(Gt),an=()=>{Gt.remove()};this.addCommands({cmd:en,undo:an,mustExec:!1})}getNextId(){return _t(this,Ot).getId()}pasteEditor(Gt,en){_t(this,Ot).updateToolbar(Gt),_t(this,Ot).updateMode(Gt);const{offsetX:an,offsetY:Sn}=Ut(this,Bt,jA).call(this),cn=this.getNextId(),An=Ut(this,Bt,HA).call(this,{parent:this,id:cn,x:an,y:Sn,uiManager:_t(this,Ot),isCentered:!0,...en});An&&this.add(An)}deserialize(Gt){switch(Gt.annotationType??Gt.annotationEditorType){case vt.AnnotationEditorType.FREETEXT:return wt.FreeTextEditor.deserialize(Gt,this,_t(this,Ot));case vt.AnnotationEditorType.INK:return At.InkEditor.deserialize(Gt,this,_t(this,Ot));case vt.AnnotationEditorType.STAMP:return St.StampEditor.deserialize(Gt,this,_t(this,Ot))}return null}addNewEditor(){Ut(this,Bt,H0).call(this,Ut(this,Bt,jA).call(this),!0)}setSelected(Gt){_t(this,Ot).setSelected(Gt)}toggleSelected(Gt){_t(this,Ot).toggleSelected(Gt)}isSelected(Gt){return _t(this,Ot).isSelected(Gt)}unselect(Gt){_t(this,Ot).unselect(Gt)}pointerup(Gt){const{isMac:en}=vt.FeatureTest.platform;if(!(Gt.button!==0||Gt.ctrlKey&&en)&&Gt.target===this.div&&_t(this,$t)){if(zt(this,$t,!1),!_t(this,Pt)){zt(this,Pt,!0);return}if(_t(this,Ot).getMode()===vt.AnnotationEditorType.STAMP){_t(this,Ot).unselectAll();return}Ut(this,Bt,H0).call(this,Gt,!1)}}pointerdown(Gt){if(_t(this,$t)){zt(this,$t,!1);return}const{isMac:en}=vt.FeatureTest.platform;if(Gt.button!==0||Gt.ctrlKey&&en||Gt.target!==this.div)return;zt(this,$t,!0);const an=_t(this,Ot).getActive();zt(this,Pt,!an||an.isEmpty())}findNewParent(Gt,en,an){const Sn=_t(this,Ot).findParent(en,an);return Sn===null||Sn===this?!1:(Sn.changeParent(Gt),!0)}destroy(){var Gt,en;((Gt=_t(this,Ot).getActive())==null?void 0:Gt.parent)===this&&(_t(this,Ot).commitOrRemove(),_t(this,Ot).setActiveEditor(null));for(const an of _t(this,Ft).values())(en=_t(this,xt))==null||en.removePointerInTextLayer(an.contentDiv),an.setParent(null),an.isAttachedToDOM=!1,an.div.remove();this.div=null,_t(this,Ft).clear(),_t(this,Ot).removeLayer(this)}render({viewport:Gt}){this.viewport=Gt,(0,Et.setLayerDimensions)(this.div,Gt);for(const en of _t(this,Ot).getEditors(this.pageIndex))this.add(en);this.updateMode()}update({viewport:Gt}){_t(this,Ot).commitOrRemove(),this.viewport=Gt,(0,Et.setLayerDimensions)(this.div,{rotation:Gt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Gt,pageHeight:en}=this.viewport.rawDims;return[Gt,en]}};xt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,$t=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Bt=new WeakSet,HA=function(Gt){switch(_t(this,Ot).getMode()){case vt.AnnotationEditorType.FREETEXT:return new wt.FreeTextEditor(Gt);case vt.AnnotationEditorType.INK:return new At.InkEditor(Gt);case vt.AnnotationEditorType.STAMP:return new St.StampEditor(Gt)}return null},H0=function(Gt,en){const an=this.getNextId(),Sn=Ut(this,Bt,HA).call(this,{parent:this,id:an,x:Gt.offsetX,y:Gt.offsetY,uiManager:_t(this,Ot),isCentered:en});return Sn&&this.add(Sn),Sn},jA=function(){const{x:Gt,y:en,width:an,height:Sn}=this.div.getBoundingClientRect(),cn=Math.max(0,Gt),An=Math.max(0,en),dn=Math.min(window.innerWidth,Gt+an),fn=Math.min(window.innerHeight,en+Sn),nn=(cn+dn)/2-Gt,gn=(An+fn)/2-en,[Cn,rn]=this.viewport.rotation%180===0?[nn,gn]:[gn,nn];return{offsetX:Cn,offsetY:rn}},UA=function(){zt(this,Lt,!0);for(const Gt of _t(this,Ft).values())Gt.isEmpty()&&Gt.remove();zt(this,Lt,!1)},xr(qt,"_initialized",!1);let Ct=qt;$.AnnotationEditorLayer=Ct},(_e,$,ht)=>{var St,Ct,xt,Pt,kt,Rt,Mt,Ft,$t,Lt,i_,r_,s_,wv,zA,o_,WA;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var vt=ht(1),bt=ht(5),wt=ht(4),At=ht(29);const qt=class qt extends wt.AnnotationEditor{constructor(en){super({...en,name:"freeTextEditor"});Kt(this,Lt);Kt(this,St,this.editorDivBlur.bind(this));Kt(this,Ct,this.editorDivFocus.bind(this));Kt(this,xt,this.editorDivInput.bind(this));Kt(this,Pt,this.editorDivKeydown.bind(this));Kt(this,kt);Kt(this,Rt,"");Kt(this,Mt,`${this.id}-editor`);Kt(this,Ft);Kt(this,$t,null);zt(this,kt,en.color||qt._defaultColor||wt.AnnotationEditor._defaultLineColor),zt(this,Ft,en.fontSize||qt._defaultFontSize)}static get _keyboardManager(){const en=qt.prototype,an=An=>An.isEmpty(),Sn=bt.AnnotationEditorUIManager.TRANSLATE_SMALL,cn=bt.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,vt.shadow)(this,"_keyboardManager",new bt.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],en.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],en.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],en._translateEmpty,{args:[-Sn,0],checker:an}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],en._translateEmpty,{args:[-cn,0],checker:an}],[["ArrowRight","mac+ArrowRight"],en._translateEmpty,{args:[Sn,0],checker:an}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],en._translateEmpty,{args:[cn,0],checker:an}],[["ArrowUp","mac+ArrowUp"],en._translateEmpty,{args:[0,-Sn],checker:an}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],en._translateEmpty,{args:[0,-cn],checker:an}],[["ArrowDown","mac+ArrowDown"],en._translateEmpty,{args:[0,Sn],checker:an}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],en._translateEmpty,{args:[0,cn],checker:an}]]))}static initialize(en){wt.AnnotationEditor.initialize(en,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const an=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(an.getPropertyValue("--freetext-padding"))}static updateDefaultParams(en,an){switch(en){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:qt._defaultFontSize=an;break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:qt._defaultColor=an;break}}updateParams(en,an){switch(en){case vt.AnnotationEditorParamsType.FREETEXT_SIZE:Ut(this,Lt,i_).call(this,an);break;case vt.AnnotationEditorParamsType.FREETEXT_COLOR:Ut(this,Lt,r_).call(this,an);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,qt._defaultFontSize],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,qt._defaultColor||wt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.FREETEXT_SIZE,_t(this,Ft)],[vt.AnnotationEditorParamsType.FREETEXT_COLOR,_t(this,kt)]]}_translateEmpty(en,an){this._uiManager.translateSelectedEditors(en,an,!0)}getInitialTranslation(){const en=this.parentScale;return[-qt._internalPadding*en,-(qt._internalPadding+_t(this,Ft))*en]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(vt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",_t(this,Pt)),this.editorDiv.addEventListener("focus",_t(this,Ct)),this.editorDiv.addEventListener("blur",_t(this,St)),this.editorDiv.addEventListener("input",_t(this,xt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",_t(this,Mt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",_t(this,Pt)),this.editorDiv.removeEventListener("focus",_t(this,Ct)),this.editorDiv.removeEventListener("blur",_t(this,St)),this.editorDiv.removeEventListener("input",_t(this,xt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(en){this._focusEventsAllowed&&(super.focusin(en),en.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var en;if(this.width){Ut(this,Lt,WA).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(en=this._initialOptions)!=null&&en.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const en=_t(this,Rt),an=zt(this,Rt,Ut(this,Lt,s_).call(this).trimEnd());if(en===an)return;const Sn=cn=>{if(zt(this,Rt,cn),!cn){this.remove();return}Ut(this,Lt,zA).call(this),this._uiManager.rebuild(this),Ut(this,Lt,wv).call(this)};this.addCommands({cmd:()=>{Sn(an)},undo:()=>{Sn(en)},mustExec:!1}),Ut(this,Lt,wv).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(en){this.enterInEditMode()}keydown(en){en.target===this.div&&en.key==="Enter"&&(this.enterInEditMode(),en.preventDefault())}editorDivKeydown(en){qt._keyboardManager.exec(this,en)}editorDivFocus(en){this.isEditing=!0}editorDivBlur(en){this.isEditing=!1}editorDivInput(en){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let en,an;this.width&&(en=this.x,an=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",_t(this,Mt)),this.enableEditing(),wt.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(cn=>{var An;return(An=this.editorDiv)==null?void 0:An.setAttribute("aria-label",cn)}),wt.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(cn=>{var An;return(An=this.editorDiv)==null?void 0:An.setAttribute("default-content",cn)}),this.editorDiv.contentEditable=!0;const{style:Sn}=this.editorDiv;if(Sn.fontSize=`calc(${_t(this,Ft)}px * var(--scale-factor))`,Sn.color=_t(this,kt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,bt.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[cn,An]=this.parentDimensions;if(this.annotationElementId){const{position:dn}=_t(this,$t);let[fn,nn]=this.getInitialTranslation();[fn,nn]=this.pageTranslationToScreen(fn,nn);const[gn,Cn]=this.pageDimensions,[rn,Xt]=this.pageTranslation;let Yt,tn;switch(this.rotation){case 0:Yt=en+(dn[0]-rn)/gn,tn=an+this.height-(dn[1]-Xt)/Cn;break;case 90:Yt=en+(dn[0]-rn)/gn,tn=an-(dn[1]-Xt)/Cn,[fn,nn]=[nn,-fn];break;case 180:Yt=en-this.width+(dn[0]-rn)/gn,tn=an-(dn[1]-Xt)/Cn,[fn,nn]=[-fn,-nn];break;case 270:Yt=en+(dn[0]-rn-this.height*Cn)/gn,tn=an+(dn[1]-Xt-this.width*gn)/Cn,[fn,nn]=[-nn,fn];break}this.setAt(Yt*cn,tn*An,fn,nn)}else this.setAt(en*cn,an*An,this.width*cn,this.height*An);Ut(this,Lt,zA).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(en,an,Sn){let cn=null;if(en instanceof At.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:dn,fontColor:fn},rect:nn,rotation:gn,id:Cn},textContent:rn,textPosition:Xt,parent:{page:{pageNumber:Yt}}}=en;if(!rn||rn.length===0)return null;cn=en={annotationType:vt.AnnotationEditorType.FREETEXT,color:Array.from(fn),fontSize:dn,value:rn.join(`
`),position:Xt,pageIndex:Yt-1,rect:nn,rotation:gn,id:Cn,deleted:!1}}const An=super.deserialize(en,an,Sn);return zt(An,Ft,en.fontSize),zt(An,kt,vt.Util.makeHexColor(...en.color)),zt(An,Rt,en.value),An.annotationElementId=en.id||null,zt(An,$t,cn),An}serialize(en=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const an=qt._internalPadding*this.parentScale,Sn=this.getRect(an,an),cn=wt.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:_t(this,kt)),An={annotationType:vt.AnnotationEditorType.FREETEXT,color:cn,fontSize:_t(this,Ft),value:_t(this,Rt),pageIndex:this.pageIndex,rect:Sn,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return en?An:this.annotationElementId&&!Ut(this,Lt,o_).call(this,An)?null:(An.id=this.annotationElementId,An)}};St=new WeakMap,Ct=new WeakMap,xt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,$t=new WeakMap,Lt=new WeakSet,i_=function(en){const an=cn=>{this.editorDiv.style.fontSize=`calc(${cn}px * var(--scale-factor))`,this.translate(0,-(cn-_t(this,Ft))*this.parentScale),zt(this,Ft,cn),Ut(this,Lt,wv).call(this)},Sn=_t(this,Ft);this.addCommands({cmd:()=>{an(en)},undo:()=>{an(Sn)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},r_=function(en){const an=_t(this,kt);this.addCommands({cmd:()=>{zt(this,kt,this.editorDiv.style.color=en)},undo:()=>{zt(this,kt,this.editorDiv.style.color=an)},mustExec:!0,type:vt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},s_=function(){const en=this.editorDiv.getElementsByTagName("div");if(en.length===0)return this.editorDiv.innerText;const an=[];for(const Sn of en)an.push(Sn.innerText.replace(/\r\n?|\n/,""));return an.join(`
`)},wv=function(){const[en,an]=this.parentDimensions;let Sn;if(this.isAttachedToDOM)Sn=this.div.getBoundingClientRect();else{const{currentLayer:cn,div:An}=this,dn=An.style.display;An.style.display="hidden",cn.div.append(this.div),Sn=An.getBoundingClientRect(),An.remove(),An.style.display=dn}this.rotation%180===this.parentRotation%180?(this.width=Sn.width/en,this.height=Sn.height/an):(this.width=Sn.height/en,this.height=Sn.width/an),this.fixAndSetPosition()},zA=function(){if(this.editorDiv.replaceChildren(),!!_t(this,Rt))for(const en of _t(this,Rt).split(`
`)){const an=document.createElement("div");an.append(en?document.createTextNode(en):document.createElement("br")),this.editorDiv.append(an)}},o_=function(en){const{value:an,fontSize:Sn,color:cn,rect:An,pageIndex:dn}=_t(this,$t);return en.value!==an||en.fontSize!==Sn||en.rect.some((fn,nn)=>Math.abs(fn-An[nn])>=1)||en.color.some((fn,nn)=>fn!==cn[nn])||en.pageIndex!==dn},WA=function(en=!1){if(!this.annotationElementId)return;if(Ut(this,Lt,wv).call(this),!en&&(this.width===0||this.height===0)){setTimeout(()=>Ut(this,Lt,WA).call(this,!0),0);return}const an=qt._internalPadding*this.parentScale;_t(this,$t).rect=this.getRect(an,an)},xr(qt,"_freeTextDefaultContent",""),xr(qt,"_internalPadding",0),xr(qt,"_defaultColor",null),xr(qt,"_defaultFontSize",10),xr(qt,"_type","freetext");let Et=qt;$.FreeTextEditor=Et},(_e,$,ht)=>{var tn,un,Zu,a_,Vn,Un,zn,Kn,Zn,Qn,In,On,sn,vn,Rn,Nn,Wn,Jn,Xn,kn,ar,ir,l_,j0,GA,KA,_r,Ur,rs,qn,Mn,Fn,hr,qA,kr,yn,Gn,or,c_,XA;Object.defineProperty($,"__esModule",{value:!0}),$.StampAnnotationElement=$.InkAnnotationElement=$.FreeTextAnnotationElement=$.AnnotationLayer=void 0;var vt=ht(1),bt=ht(6),wt=ht(3),At=ht(30),Et=ht(31),St=ht(32);const Ct=1e3,xt=9,Pt=new WeakSet;function kt(dr){return{width:dr[2]-dr[0],height:dr[3]-dr[1]}}class Rt{static create(mn){switch(mn.data.annotationType){case vt.AnnotationType.LINK:return new Ft(mn);case vt.AnnotationType.TEXT:return new $t(mn);case vt.AnnotationType.WIDGET:switch(mn.data.fieldType){case"Tx":return new Dt(mn);case"Btn":return mn.data.radioButton?new Nt(mn):mn.data.checkBox?new Bt(mn):new Ht(mn);case"Ch":return new Vt(mn);case"Sig":return new Ot(mn)}return new Lt(mn);case vt.AnnotationType.POPUP:return new jt(mn);case vt.AnnotationType.FREETEXT:return new Jt(mn);case vt.AnnotationType.LINE:return new Gt(mn);case vt.AnnotationType.SQUARE:return new en(mn);case vt.AnnotationType.CIRCLE:return new an(mn);case vt.AnnotationType.POLYLINE:return new Sn(mn);case vt.AnnotationType.CARET:return new An(mn);case vt.AnnotationType.INK:return new dn(mn);case vt.AnnotationType.POLYGON:return new cn(mn);case vt.AnnotationType.HIGHLIGHT:return new fn(mn);case vt.AnnotationType.UNDERLINE:return new nn(mn);case vt.AnnotationType.SQUIGGLY:return new gn(mn);case vt.AnnotationType.STRIKEOUT:return new Cn(mn);case vt.AnnotationType.STAMP:return new rn(mn);case vt.AnnotationType.FILEATTACHMENT:return new Xt(mn);default:return new Mt(mn)}}}const hn=class hn{constructor(mn,{isRenderable:ln=!1,ignoreBorder:xn=!1,createQuadrilaterals:Hn=!1}={}){Kt(this,tn,!1);this.isRenderable=ln,this.data=mn.data,this.layer=mn.layer,this.linkService=mn.linkService,this.downloadManager=mn.downloadManager,this.imageResourcesPath=mn.imageResourcesPath,this.renderForms=mn.renderForms,this.svgFactory=mn.svgFactory,this.annotationStorage=mn.annotationStorage,this.enableScripting=mn.enableScripting,this.hasJSActions=mn.hasJSActions,this._fieldObjects=mn.fieldObjects,this.parent=mn.parent,ln&&(this.container=this._createContainer(xn)),Hn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:mn,contentsObj:ln,richText:xn}){return!!(mn!=null&&mn.str||ln!=null&&ln.str||xn!=null&&xn.str)}get hasPopupData(){return hn._hasPopupData(this.data)}_createContainer(mn){const{data:ln,parent:{page:xn,viewport:Hn}}=this,jn=document.createElement("section");jn.setAttribute("data-annotation-id",ln.id),this instanceof Lt||(jn.tabIndex=Ct),jn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&jn.setAttribute("aria-haspopup","dialog"),ln.noRotate&&jn.classList.add("norotate");const{pageWidth:Yn,pageHeight:nr,pageX:yr,pageY:pr}=Hn.rawDims;if(!ln.rect||this instanceof jt){const{rotation:Ir}=ln;return!ln.hasOwnCanvas&&Ir!==0&&this.setRotation(Ir,jn),jn}const{width:cr,height:Hr}=kt(ln.rect),mr=vt.Util.normalizeRect([ln.rect[0],xn.view[3]-ln.rect[1]+xn.view[1],ln.rect[2],xn.view[3]-ln.rect[3]+xn.view[1]]);if(!mn&&ln.borderStyle.width>0){jn.style.borderWidth=`${ln.borderStyle.width}px`;const Ir=ln.borderStyle.horizontalCornerRadius,Gr=ln.borderStyle.verticalCornerRadius;if(Ir>0||Gr>0){const fs=`calc(${Ir}px * var(--scale-factor)) / calc(${Gr}px * var(--scale-factor))`;jn.style.borderRadius=fs}else if(this instanceof Nt){const fs=`calc(${cr}px * var(--scale-factor)) / calc(${Hr}px * var(--scale-factor))`;jn.style.borderRadius=fs}switch(ln.borderStyle.style){case vt.AnnotationBorderStyleType.SOLID:jn.style.borderStyle="solid";break;case vt.AnnotationBorderStyleType.DASHED:jn.style.borderStyle="dashed";break;case vt.AnnotationBorderStyleType.BEVELED:(0,vt.warn)("Unimplemented border style: beveled");break;case vt.AnnotationBorderStyleType.INSET:(0,vt.warn)("Unimplemented border style: inset");break;case vt.AnnotationBorderStyleType.UNDERLINE:jn.style.borderBottomStyle="solid";break}const ts=ln.borderColor||null;ts?(zt(this,tn,!0),jn.style.borderColor=vt.Util.makeHexColor(ts[0]|0,ts[1]|0,ts[2]|0)):jn.style.borderWidth=0}jn.style.left=`${100*(mr[0]-yr)/Yn}%`,jn.style.top=`${100*(mr[1]-pr)/nr}%`;const{rotation:Ar}=ln;return ln.hasOwnCanvas||Ar===0?(jn.style.width=`${100*cr/Yn}%`,jn.style.height=`${100*Hr/nr}%`):this.setRotation(Ar,jn),jn}setRotation(mn,ln=this.container){if(!this.data.rect)return;const{pageWidth:xn,pageHeight:Hn}=this.parent.viewport.rawDims,{width:jn,height:Yn}=kt(this.data.rect);let nr,yr;mn%180===0?(nr=100*jn/xn,yr=100*Yn/Hn):(nr=100*Yn/xn,yr=100*jn/Hn),ln.style.width=`${nr}%`,ln.style.height=`${yr}%`,ln.setAttribute("data-main-rotation",(360-mn)%360)}get _commonActions(){const mn=(ln,xn,Hn)=>{const jn=Hn.detail[ln],Yn=jn[0],nr=jn.slice(1);Hn.target.style[xn]=At.ColorConverters[`${Yn}_HTML`](nr),this.annotationStorage.setValue(this.data.id,{[xn]:At.ColorConverters[`${Yn}_rgb`](nr)})};return(0,vt.shadow)(this,"_commonActions",{display:ln=>{const{display:xn}=ln.detail,Hn=xn%2===1;this.container.style.visibility=Hn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Hn,noPrint:xn===1||xn===2})},print:ln=>{this.annotationStorage.setValue(this.data.id,{noPrint:!ln.detail.print})},hidden:ln=>{const{hidden:xn}=ln.detail;this.container.style.visibility=xn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:xn,noView:xn})},focus:ln=>{setTimeout(()=>ln.target.focus({preventScroll:!1}),0)},userName:ln=>{ln.target.title=ln.detail.userName},readonly:ln=>{ln.target.disabled=ln.detail.readonly},required:ln=>{this._setRequired(ln.target,ln.detail.required)},bgColor:ln=>{mn("bgColor","backgroundColor",ln)},fillColor:ln=>{mn("fillColor","backgroundColor",ln)},fgColor:ln=>{mn("fgColor","color",ln)},textColor:ln=>{mn("textColor","color",ln)},borderColor:ln=>{mn("borderColor","borderColor",ln)},strokeColor:ln=>{mn("strokeColor","borderColor",ln)},rotation:ln=>{const xn=ln.detail.rotation;this.setRotation(xn),this.annotationStorage.setValue(this.data.id,{rotation:xn})}})}_dispatchEventFromSandbox(mn,ln){const xn=this._commonActions;for(const Hn of Object.keys(ln.detail)){const jn=mn[Hn]||xn[Hn];jn==null||jn(ln)}}_setDefaultPropertiesFromJS(mn){if(!this.enableScripting)return;const ln=this.annotationStorage.getRawValue(this.data.id);if(!ln)return;const xn=this._commonActions;for(const[Hn,jn]of Object.entries(ln)){const Yn=xn[Hn];if(Yn){const nr={detail:{[Hn]:jn},target:mn};Yn(nr),delete ln[Hn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:mn}=this.data;if(!mn)return;const[ln,xn,Hn,jn]=this.data.rect;if(mn.length===1){const[,{x:Gr,y:ts},{x:fs,y:Hs}]=mn[0];if(Hn===Gr&&jn===ts&&ln===fs&&xn===Hs)return}const{style:Yn}=this.container;let nr;if(_t(this,tn)){const{borderColor:Gr,borderWidth:ts}=Yn;Yn.borderWidth=0,nr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Gr}" stroke-width="${ts}">`],this.container.classList.add("hasBorder")}const yr=Hn-ln,pr=jn-xn,{svgFactory:cr}=this,Hr=cr.createElement("svg");Hr.classList.add("quadrilateralsContainer"),Hr.setAttribute("width",0),Hr.setAttribute("height",0);const mr=cr.createElement("defs");Hr.append(mr);const Ar=cr.createElement("clipPath"),Ir=`clippath_${this.data.id}`;Ar.setAttribute("id",Ir),Ar.setAttribute("clipPathUnits","objectBoundingBox"),mr.append(Ar);for(const[,{x:Gr,y:ts},{x:fs,y:Hs}]of mn){const Ms=cr.createElement("rect"),Vo=(fs-ln)/yr,ga=(jn-ts)/pr,ba=(Gr-fs)/yr,i0=(ts-Hs)/pr;Ms.setAttribute("x",Vo),Ms.setAttribute("y",ga),Ms.setAttribute("width",ba),Ms.setAttribute("height",i0),Ar.append(Ms),nr==null||nr.push(`<rect vector-effect="non-scaling-stroke" x="${Vo}" y="${ga}" width="${ba}" height="${i0}"/>`)}_t(this,tn)&&(nr.push("</g></svg>')"),Yn.backgroundImage=nr.join("")),this.container.append(Hr),this.container.style.clipPath=`url(#${Ir})`}_createPopup(){const{container:mn,data:ln}=this;mn.setAttribute("aria-haspopup","dialog");const xn=new jt({data:{color:ln.color,titleObj:ln.titleObj,modificationDate:ln.modificationDate,contentsObj:ln.contentsObj,richText:ln.richText,parentRect:ln.rect,borderStyle:0,id:`popup_${ln.id}`,rotation:ln.rotation},parent:this.parent,elements:[this]});this.parent.div.append(xn.render())}render(){(0,vt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(mn,ln=null){const xn=[];if(this._fieldObjects){const Hn=this._fieldObjects[mn];if(Hn)for(const{page:jn,id:Yn,exportValues:nr}of Hn){if(jn===-1||Yn===ln)continue;const yr=typeof nr=="string"?nr:null,pr=document.querySelector(`[data-element-id="${Yn}"]`);if(pr&&!Pt.has(pr)){(0,vt.warn)(`_getElementsByName - element not allowed: ${Yn}`);continue}xn.push({id:Yn,exportValue:yr,domElement:pr})}return xn}for(const Hn of document.getElementsByName(mn)){const{exportValue:jn}=Hn,Yn=Hn.getAttribute("data-element-id");Yn!==ln&&Pt.has(Hn)&&xn.push({id:Yn,exportValue:jn,domElement:Hn})}return xn}show(){var mn;this.container&&(this.container.hidden=!1),(mn=this.popup)==null||mn.maybeShow()}hide(){var mn;this.container&&(this.container.hidden=!0),(mn=this.popup)==null||mn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const mn=this.getElementsToTriggerPopup();if(Array.isArray(mn))for(const ln of mn)ln.classList.add("highlightArea");else mn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:mn,data:{id:ln}}=this;this.container.addEventListener("dblclick",()=>{var xn;(xn=this.linkService.eventBus)==null||xn.dispatch("switchannotationeditormode",{source:this,mode:mn,editId:ln})})}};tn=new WeakMap;let Mt=hn;class Ft extends Mt{constructor(ln,xn=null){super(ln,{isRenderable:!0,ignoreBorder:!!(xn!=null&&xn.ignoreBorder),createQuadrilaterals:!0});Kt(this,un);this.isTooltipOnly=ln.data.isTooltipOnly}render(){const{data:ln,linkService:xn}=this,Hn=document.createElement("a");Hn.setAttribute("data-element-id",ln.id);let jn=!1;return ln.url?(xn.addLinkAttributes(Hn,ln.url,ln.newWindow),jn=!0):ln.action?(this._bindNamedAction(Hn,ln.action),jn=!0):ln.attachment?(this._bindAttachment(Hn,ln.attachment),jn=!0):ln.setOCGState?(Ut(this,un,a_).call(this,Hn,ln.setOCGState),jn=!0):ln.dest?(this._bindLink(Hn,ln.dest),jn=!0):(ln.actions&&(ln.actions.Action||ln.actions["Mouse Up"]||ln.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Hn,ln),jn=!0),ln.resetForm?(this._bindResetFormAction(Hn,ln.resetForm),jn=!0):this.isTooltipOnly&&!jn&&(this._bindLink(Hn,""),jn=!0)),this.container.classList.add("linkAnnotation"),jn&&this.container.append(Hn),this.container}_bindLink(ln,xn){ln.href=this.linkService.getDestinationHash(xn),ln.onclick=()=>(xn&&this.linkService.goToDestination(xn),!1),(xn||xn==="")&&Ut(this,un,Zu).call(this)}_bindNamedAction(ln,xn){ln.href=this.linkService.getAnchorUrl(""),ln.onclick=()=>(this.linkService.executeNamedAction(xn),!1),Ut(this,un,Zu).call(this)}_bindAttachment(ln,xn){ln.href=this.linkService.getAnchorUrl(""),ln.onclick=()=>{var Hn;return(Hn=this.downloadManager)==null||Hn.openOrDownloadData(this.container,xn.content,xn.filename),!1},Ut(this,un,Zu).call(this)}_bindJSAction(ln,xn){ln.href=this.linkService.getAnchorUrl("");const Hn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const jn of Object.keys(xn.actions)){const Yn=Hn.get(jn);Yn&&(ln[Yn]=()=>{var nr;return(nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:xn.id,name:jn}}),!1})}ln.onclick||(ln.onclick=()=>!1),Ut(this,un,Zu).call(this)}_bindResetFormAction(ln,xn){const Hn=ln.onclick;if(Hn||(ln.href=this.linkService.getAnchorUrl("")),Ut(this,un,Zu).call(this),!this._fieldObjects){(0,vt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Hn||(ln.onclick=()=>!1);return}ln.onclick=()=>{var Hr;Hn==null||Hn();const{fields:jn,refs:Yn,include:nr}=xn,yr=[];if(jn.length!==0||Yn.length!==0){const mr=new Set(Yn);for(const Ar of jn){const Ir=this._fieldObjects[Ar]||[];for(const{id:Gr}of Ir)mr.add(Gr)}for(const Ar of Object.values(this._fieldObjects))for(const Ir of Ar)mr.has(Ir.id)===nr&&yr.push(Ir)}else for(const mr of Object.values(this._fieldObjects))yr.push(...mr);const pr=this.annotationStorage,cr=[];for(const mr of yr){const{id:Ar}=mr;switch(cr.push(Ar),mr.type){case"text":{const Gr=mr.defaultValue||"";pr.setValue(Ar,{value:Gr});break}case"checkbox":case"radiobutton":{const Gr=mr.defaultValue===mr.exportValues;pr.setValue(Ar,{value:Gr});break}case"combobox":case"listbox":{const Gr=mr.defaultValue||"";pr.setValue(Ar,{value:Gr});break}default:continue}const Ir=document.querySelector(`[data-element-id="${Ar}"]`);if(Ir){if(!Pt.has(Ir)){(0,vt.warn)(`_bindResetFormAction - element not allowed: ${Ar}`);continue}}else continue;Ir.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Hr=this.linkService.eventBus)==null||Hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:cr,name:"ResetForm"}})),!1}}}un=new WeakSet,Zu=function(){this.container.setAttribute("data-internal-link","")},a_=function(ln,xn){ln.href=this.linkService.getAnchorUrl(""),ln.onclick=()=>(this.linkService.executeSetOCGState(xn),!1),Ut(this,un,Zu).call(this)};class $t extends Mt{constructor(mn){super(mn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const mn=document.createElement("img");return mn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",mn.alt="[{{type}} Annotation]",mn.dataset.l10nId="text_annotation_type",mn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(mn),this.container}}class Lt extends Mt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(mn){var ln;this.data.hasOwnCanvas&&(((ln=mn.previousSibling)==null?void 0:ln.nodeName)==="CANVAS"&&(mn.previousSibling.hidden=!0),mn.hidden=!1)}_getKeyModifier(mn){const{isWin:ln,isMac:xn}=vt.FeatureTest.platform;return ln&&mn.ctrlKey||xn&&mn.metaKey}_setEventListener(mn,ln,xn,Hn,jn){xn.includes("mouse")?mn.addEventListener(xn,Yn=>{var nr;(nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:jn(Yn),shift:Yn.shiftKey,modifier:this._getKeyModifier(Yn)}})}):mn.addEventListener(xn,Yn=>{var nr;if(xn==="blur"){if(!ln.focused||!Yn.relatedTarget)return;ln.focused=!1}else if(xn==="focus"){if(ln.focused)return;ln.focused=!0}jn&&((nr=this.linkService.eventBus)==null||nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:jn(Yn)}}))})}_setEventListeners(mn,ln,xn,Hn){var jn,Yn,nr;for(const[yr,pr]of xn)(pr==="Action"||(jn=this.data.actions)!=null&&jn[pr])&&((pr==="Focus"||pr==="Blur")&&(ln||(ln={focused:!1})),this._setEventListener(mn,ln,yr,pr,Hn),pr==="Focus"&&!((Yn=this.data.actions)!=null&&Yn.Blur)?this._setEventListener(mn,ln,"blur","Blur",null):pr==="Blur"&&!((nr=this.data.actions)!=null&&nr.Focus)&&this._setEventListener(mn,ln,"focus","Focus",null))}_setBackgroundColor(mn){const ln=this.data.backgroundColor||null;mn.style.backgroundColor=ln===null?"transparent":vt.Util.makeHexColor(ln[0],ln[1],ln[2])}_setTextStyle(mn){const ln=["left","center","right"],{fontColor:xn}=this.data.defaultAppearanceData,Hn=this.data.defaultAppearanceData.fontSize||xt,jn=mn.style;let Yn;const nr=2,yr=pr=>Math.round(10*pr)/10;if(this.data.multiLine){const pr=Math.abs(this.data.rect[3]-this.data.rect[1]-nr),cr=Math.round(pr/(vt.LINE_FACTOR*Hn))||1,Hr=pr/cr;Yn=Math.min(Hn,yr(Hr/vt.LINE_FACTOR))}else{const pr=Math.abs(this.data.rect[3]-this.data.rect[1]-nr);Yn=Math.min(Hn,yr(pr/vt.LINE_FACTOR))}jn.fontSize=`calc(${Yn}px * var(--scale-factor))`,jn.color=vt.Util.makeHexColor(xn[0],xn[1],xn[2]),this.data.textAlignment!==null&&(jn.textAlign=ln[this.data.textAlignment])}_setRequired(mn,ln){ln?mn.setAttribute("required",!0):mn.removeAttribute("required"),mn.setAttribute("aria-required",ln)}}class Dt extends Lt{constructor(mn){const ln=mn.renderForms||!mn.data.hasAppearance&&!!mn.data.fieldValue;super(mn,{isRenderable:ln})}setPropertyOnSiblings(mn,ln,xn,Hn){const jn=this.annotationStorage;for(const Yn of this._getElementsByName(mn.name,mn.id))Yn.domElement&&(Yn.domElement[ln]=xn),jn.setValue(Yn.id,{[Hn]:xn})}render(){var Hn,jn;const mn=this.annotationStorage,ln=this.data.id;this.container.classList.add("textWidgetAnnotation");let xn=null;if(this.renderForms){const Yn=mn.getValue(ln,{value:this.data.fieldValue});let nr=Yn.value||"";const yr=mn.getValue(ln,{charLimit:this.data.maxLen}).charLimit;yr&&nr.length>yr&&(nr=nr.slice(0,yr));let pr=Yn.formattedValue||((Hn=this.data.textContent)==null?void 0:Hn.join(`
`))||null;pr&&this.data.comb&&(pr=pr.replaceAll(/\s+/g,""));const cr={userValue:nr,formattedValue:pr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(xn=document.createElement("textarea"),xn.textContent=pr??nr,this.data.doNotScroll&&(xn.style.overflowY="hidden")):(xn=document.createElement("input"),xn.type="text",xn.setAttribute("value",pr??nr),this.data.doNotScroll&&(xn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(xn.hidden=!0),Pt.add(xn),xn.setAttribute("data-element-id",ln),xn.disabled=this.data.readOnly,xn.name=this.data.fieldName,xn.tabIndex=Ct,this._setRequired(xn,this.data.required),yr&&(xn.maxLength=yr),xn.addEventListener("input",mr=>{mn.setValue(ln,{value:mr.target.value}),this.setPropertyOnSiblings(xn,"value",mr.target.value,"value"),cr.formattedValue=null}),xn.addEventListener("resetform",mr=>{const Ar=this.data.defaultFieldValue??"";xn.value=cr.userValue=Ar,cr.formattedValue=null});let Hr=mr=>{const{formattedValue:Ar}=cr;Ar!=null&&(mr.target.value=Ar),mr.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){xn.addEventListener("focus",Ar=>{if(cr.focused)return;const{target:Ir}=Ar;cr.userValue&&(Ir.value=cr.userValue),cr.lastCommittedValue=Ir.value,cr.commitKey=1,cr.focused=!0}),xn.addEventListener("updatefromsandbox",Ar=>{this.showElementAndHideCanvas(Ar.target);const Ir={value(Gr){cr.userValue=Gr.detail.value??"",mn.setValue(ln,{value:cr.userValue.toString()}),Gr.target.value=cr.userValue},formattedValue(Gr){const{formattedValue:ts}=Gr.detail;cr.formattedValue=ts,ts!=null&&Gr.target!==document.activeElement&&(Gr.target.value=ts),mn.setValue(ln,{formattedValue:ts})},selRange(Gr){Gr.target.setSelectionRange(...Gr.detail.selRange)},charLimit:Gr=>{var Ms;const{charLimit:ts}=Gr.detail,{target:fs}=Gr;if(ts===0){fs.removeAttribute("maxLength");return}fs.setAttribute("maxLength",ts);let Hs=cr.userValue;!Hs||Hs.length<=ts||(Hs=Hs.slice(0,ts),fs.value=cr.userValue=Hs,mn.setValue(ln,{value:Hs}),(Ms=this.linkService.eventBus)==null||Ms.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:Hs,willCommit:!0,commitKey:1,selStart:fs.selectionStart,selEnd:fs.selectionEnd}}))}};this._dispatchEventFromSandbox(Ir,Ar)}),xn.addEventListener("keydown",Ar=>{var ts;cr.commitKey=1;let Ir=-1;if(Ar.key==="Escape"?Ir=0:Ar.key==="Enter"&&!this.data.multiLine?Ir=2:Ar.key==="Tab"&&(cr.commitKey=3),Ir===-1)return;const{value:Gr}=Ar.target;cr.lastCommittedValue!==Gr&&(cr.lastCommittedValue=Gr,cr.userValue=Gr,(ts=this.linkService.eventBus)==null||ts.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:Gr,willCommit:!0,commitKey:Ir,selStart:Ar.target.selectionStart,selEnd:Ar.target.selectionEnd}}))});const mr=Hr;Hr=null,xn.addEventListener("blur",Ar=>{var Gr;if(!cr.focused||!Ar.relatedTarget)return;cr.focused=!1;const{value:Ir}=Ar.target;cr.userValue=Ir,cr.lastCommittedValue!==Ir&&((Gr=this.linkService.eventBus)==null||Gr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:Ir,willCommit:!0,commitKey:cr.commitKey,selStart:Ar.target.selectionStart,selEnd:Ar.target.selectionEnd}})),mr(Ar)}),(jn=this.data.actions)!=null&&jn.Keystroke&&xn.addEventListener("beforeinput",Ar=>{var ga;cr.lastCommittedValue=null;const{data:Ir,target:Gr}=Ar,{value:ts,selectionStart:fs,selectionEnd:Hs}=Gr;let Ms=fs,Vo=Hs;switch(Ar.inputType){case"deleteWordBackward":{const ba=ts.substring(0,fs).match(/\w*[^\w]*$/);ba&&(Ms-=ba[0].length);break}case"deleteWordForward":{const ba=ts.substring(fs).match(/^[^\w]*\w*/);ba&&(Vo+=ba[0].length);break}case"deleteContentBackward":fs===Hs&&(Ms-=1);break;case"deleteContentForward":fs===Hs&&(Vo+=1);break}Ar.preventDefault(),(ga=this.linkService.eventBus)==null||ga.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:ts,change:Ir||"",willCommit:!1,selStart:Ms,selEnd:Vo}})}),this._setEventListeners(xn,cr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ar=>Ar.target.value)}if(Hr&&xn.addEventListener("blur",Hr),this.data.comb){const Ar=(this.data.rect[2]-this.data.rect[0])/yr;xn.classList.add("comb"),xn.style.letterSpacing=`calc(${Ar}px * var(--scale-factor) - 1ch)`}}else xn=document.createElement("div"),xn.textContent=this.data.fieldValue,xn.style.verticalAlign="middle",xn.style.display="table-cell";return this._setTextStyle(xn),this._setBackgroundColor(xn),this._setDefaultPropertiesFromJS(xn),this.container.append(xn),this.container}}class Ot extends Lt{constructor(mn){super(mn,{isRenderable:!!mn.data.hasOwnCanvas})}}class Bt extends Lt{constructor(mn){super(mn,{isRenderable:mn.renderForms})}render(){const mn=this.annotationStorage,ln=this.data,xn=ln.id;let Hn=mn.getValue(xn,{value:ln.exportValue===ln.fieldValue}).value;typeof Hn=="string"&&(Hn=Hn!=="Off",mn.setValue(xn,{value:Hn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const jn=document.createElement("input");return Pt.add(jn),jn.setAttribute("data-element-id",xn),jn.disabled=ln.readOnly,this._setRequired(jn,this.data.required),jn.type="checkbox",jn.name=ln.fieldName,Hn&&jn.setAttribute("checked",!0),jn.setAttribute("exportValue",ln.exportValue),jn.tabIndex=Ct,jn.addEventListener("change",Yn=>{const{name:nr,checked:yr}=Yn.target;for(const pr of this._getElementsByName(nr,xn)){const cr=yr&&pr.exportValue===ln.exportValue;pr.domElement&&(pr.domElement.checked=cr),mn.setValue(pr.id,{value:cr})}mn.setValue(xn,{value:yr})}),jn.addEventListener("resetform",Yn=>{const nr=ln.defaultFieldValue||"Off";Yn.target.checked=nr===ln.exportValue}),this.enableScripting&&this.hasJSActions&&(jn.addEventListener("updatefromsandbox",Yn=>{const nr={value(yr){yr.target.checked=yr.detail.value!=="Off",mn.setValue(xn,{value:yr.target.checked})}};this._dispatchEventFromSandbox(nr,Yn)}),this._setEventListeners(jn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Yn=>Yn.target.checked)),this._setBackgroundColor(jn),this._setDefaultPropertiesFromJS(jn),this.container.append(jn),this.container}}class Nt extends Lt{constructor(mn){super(mn,{isRenderable:mn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const mn=this.annotationStorage,ln=this.data,xn=ln.id;let Hn=mn.getValue(xn,{value:ln.fieldValue===ln.buttonValue}).value;typeof Hn=="string"&&(Hn=Hn!==ln.buttonValue,mn.setValue(xn,{value:Hn}));const jn=document.createElement("input");if(Pt.add(jn),jn.setAttribute("data-element-id",xn),jn.disabled=ln.readOnly,this._setRequired(jn,this.data.required),jn.type="radio",jn.name=ln.fieldName,Hn&&jn.setAttribute("checked",!0),jn.tabIndex=Ct,jn.addEventListener("change",Yn=>{const{name:nr,checked:yr}=Yn.target;for(const pr of this._getElementsByName(nr,xn))mn.setValue(pr.id,{value:!1});mn.setValue(xn,{value:yr})}),jn.addEventListener("resetform",Yn=>{const nr=ln.defaultFieldValue;Yn.target.checked=nr!=null&&nr===ln.buttonValue}),this.enableScripting&&this.hasJSActions){const Yn=ln.buttonValue;jn.addEventListener("updatefromsandbox",nr=>{const yr={value:pr=>{const cr=Yn===pr.detail.value;for(const Hr of this._getElementsByName(pr.target.name)){const mr=cr&&Hr.id===xn;Hr.domElement&&(Hr.domElement.checked=mr),mn.setValue(Hr.id,{value:mr})}}};this._dispatchEventFromSandbox(yr,nr)}),this._setEventListeners(jn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],nr=>nr.target.checked)}return this._setBackgroundColor(jn),this._setDefaultPropertiesFromJS(jn),this.container.append(jn),this.container}}class Ht extends Ft{constructor(mn){super(mn,{ignoreBorder:mn.data.hasAppearance})}render(){const mn=super.render();mn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(mn.title=this.data.alternativeText);const ln=mn.lastChild;return this.enableScripting&&this.hasJSActions&&ln&&(this._setDefaultPropertiesFromJS(ln),ln.addEventListener("updatefromsandbox",xn=>{this._dispatchEventFromSandbox({},xn)})),mn}}class Vt extends Lt{constructor(mn){super(mn,{isRenderable:mn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const mn=this.annotationStorage,ln=this.data.id,xn=mn.getValue(ln,{value:this.data.fieldValue}),Hn=document.createElement("select");Pt.add(Hn),Hn.setAttribute("data-element-id",ln),Hn.disabled=this.data.readOnly,this._setRequired(Hn,this.data.required),Hn.name=this.data.fieldName,Hn.tabIndex=Ct;let jn=this.data.combo&&this.data.options.length>0;this.data.combo||(Hn.size=this.data.options.length,this.data.multiSelect&&(Hn.multiple=!0)),Hn.addEventListener("resetform",cr=>{const Hr=this.data.defaultFieldValue;for(const mr of Hn.options)mr.selected=mr.value===Hr});for(const cr of this.data.options){const Hr=document.createElement("option");Hr.textContent=cr.displayValue,Hr.value=cr.exportValue,xn.value.includes(cr.exportValue)&&(Hr.setAttribute("selected",!0),jn=!1),Hn.append(Hr)}let Yn=null;if(jn){const cr=document.createElement("option");cr.value=" ",cr.setAttribute("hidden",!0),cr.setAttribute("selected",!0),Hn.prepend(cr),Yn=()=>{cr.remove(),Hn.removeEventListener("input",Yn),Yn=null},Hn.addEventListener("input",Yn)}const nr=cr=>{const Hr=cr?"value":"textContent",{options:mr,multiple:Ar}=Hn;return Ar?Array.prototype.filter.call(mr,Ir=>Ir.selected).map(Ir=>Ir[Hr]):mr.selectedIndex===-1?null:mr[mr.selectedIndex][Hr]};let yr=nr(!1);const pr=cr=>{const Hr=cr.target.options;return Array.prototype.map.call(Hr,mr=>({displayValue:mr.textContent,exportValue:mr.value}))};return this.enableScripting&&this.hasJSActions?(Hn.addEventListener("updatefromsandbox",cr=>{const Hr={value(mr){Yn==null||Yn();const Ar=mr.detail.value,Ir=new Set(Array.isArray(Ar)?Ar:[Ar]);for(const Gr of Hn.options)Gr.selected=Ir.has(Gr.value);mn.setValue(ln,{value:nr(!0)}),yr=nr(!1)},multipleSelection(mr){Hn.multiple=!0},remove(mr){const Ar=Hn.options,Ir=mr.detail.remove;Ar[Ir].selected=!1,Hn.remove(Ir),Ar.length>0&&Array.prototype.findIndex.call(Ar,ts=>ts.selected)===-1&&(Ar[0].selected=!0),mn.setValue(ln,{value:nr(!0),items:pr(mr)}),yr=nr(!1)},clear(mr){for(;Hn.length!==0;)Hn.remove(0);mn.setValue(ln,{value:null,items:[]}),yr=nr(!1)},insert(mr){const{index:Ar,displayValue:Ir,exportValue:Gr}=mr.detail.insert,ts=Hn.children[Ar],fs=document.createElement("option");fs.textContent=Ir,fs.value=Gr,ts?ts.before(fs):Hn.append(fs),mn.setValue(ln,{value:nr(!0),items:pr(mr)}),yr=nr(!1)},items(mr){const{items:Ar}=mr.detail;for(;Hn.length!==0;)Hn.remove(0);for(const Ir of Ar){const{displayValue:Gr,exportValue:ts}=Ir,fs=document.createElement("option");fs.textContent=Gr,fs.value=ts,Hn.append(fs)}Hn.options.length>0&&(Hn.options[0].selected=!0),mn.setValue(ln,{value:nr(!0),items:pr(mr)}),yr=nr(!1)},indices(mr){const Ar=new Set(mr.detail.indices);for(const Ir of mr.target.options)Ir.selected=Ar.has(Ir.index);mn.setValue(ln,{value:nr(!0)}),yr=nr(!1)},editable(mr){mr.target.disabled=!mr.detail.editable}};this._dispatchEventFromSandbox(Hr,cr)}),Hn.addEventListener("input",cr=>{var mr;const Hr=nr(!0);mn.setValue(ln,{value:Hr}),cr.preventDefault(),(mr=this.linkService.eventBus)==null||mr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ln,name:"Keystroke",value:yr,changeEx:Hr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Hn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],cr=>cr.target.value)):Hn.addEventListener("input",function(cr){mn.setValue(ln,{value:nr(!0)})}),this.data.combo&&this._setTextStyle(Hn),this._setBackgroundColor(Hn),this._setDefaultPropertiesFromJS(Hn),this.container.append(Hn),this.container}}class jt extends Mt{constructor(mn){const{data:ln,elements:xn}=mn;super(mn,{isRenderable:Mt._hasPopupData(ln)}),this.elements=xn}render(){this.container.classList.add("popupAnnotation");const mn=new qt({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),ln=[];for(const xn of this.elements)xn.popup=mn,ln.push(xn.data.id),xn.addHighlightArea();return this.container.setAttribute("aria-controls",ln.map(xn=>`${vt.AnnotationPrefix}${xn}`).join(",")),this.container}}class qt{constructor({container:mn,color:ln,elements:xn,titleObj:Hn,modificationDate:jn,contentsObj:Yn,richText:nr,parent:yr,rect:pr,parentRect:cr,open:Hr}){Kt(this,ir);Kt(this,Vn,null);Kt(this,Un,Ut(this,ir,l_).bind(this));Kt(this,zn,Ut(this,ir,KA).bind(this));Kt(this,Kn,Ut(this,ir,GA).bind(this));Kt(this,Zn,Ut(this,ir,j0).bind(this));Kt(this,Qn,null);Kt(this,In,null);Kt(this,On,null);Kt(this,sn,null);Kt(this,vn,null);Kt(this,Rn,null);Kt(this,Nn,!1);Kt(this,Wn,null);Kt(this,Jn,null);Kt(this,Xn,null);Kt(this,kn,null);Kt(this,ar,!1);var Ar;zt(this,In,mn),zt(this,kn,Hn),zt(this,On,Yn),zt(this,Xn,nr),zt(this,vn,yr),zt(this,Qn,ln),zt(this,Jn,pr),zt(this,Rn,cr),zt(this,sn,xn);const mr=bt.PDFDateString.toDateObject(jn);mr&&zt(this,Vn,yr.l10n.get("annotation_date_string",{date:mr.toLocaleDateString(),time:mr.toLocaleTimeString()})),this.trigger=xn.flatMap(Ir=>Ir.getElementsToTriggerPopup());for(const Ir of this.trigger)Ir.addEventListener("click",_t(this,Zn)),Ir.addEventListener("mouseenter",_t(this,Kn)),Ir.addEventListener("mouseleave",_t(this,zn)),Ir.classList.add("popupTriggerArea");for(const Ir of xn)(Ar=Ir.container)==null||Ar.addEventListener("keydown",_t(this,Un));_t(this,In).hidden=!0,Hr&&Ut(this,ir,j0).call(this)}render(){if(_t(this,Wn))return;const{page:{view:mn},viewport:{rawDims:{pageWidth:ln,pageHeight:xn,pageX:Hn,pageY:jn}}}=_t(this,vn),Yn=zt(this,Wn,document.createElement("div"));if(Yn.className="popup",_t(this,Qn)){const Ms=Yn.style.outlineColor=vt.Util.makeHexColor(..._t(this,Qn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?Yn.style.backgroundColor=`color-mix(in srgb, ${Ms} 30%, white)`:Yn.style.backgroundColor=vt.Util.makeHexColor(..._t(this,Qn).map(ga=>Math.floor(.7*(255-ga)+ga)))}const nr=document.createElement("span");nr.className="header";const yr=document.createElement("h1");if(nr.append(yr),{dir:yr.dir,str:yr.textContent}=_t(this,kn),Yn.append(nr),_t(this,Vn)){const Ms=document.createElement("span");Ms.classList.add("popupDate"),_t(this,Vn).then(Vo=>{Ms.textContent=Vo}),nr.append(Ms)}const pr=_t(this,On),cr=_t(this,Xn);if(cr!=null&&cr.str&&(!(pr!=null&&pr.str)||pr.str===cr.str))St.XfaLayer.render({xfaHtml:cr.html,intent:"richText",div:Yn}),Yn.lastChild.classList.add("richText","popupContent");else{const Ms=this._formatContents(pr);Yn.append(Ms)}let Hr=!!_t(this,Rn),mr=Hr?_t(this,Rn):_t(this,Jn);for(const Ms of _t(this,sn))if(!mr||vt.Util.intersect(Ms.data.rect,mr)!==null){mr=Ms.data.rect,Hr=!0;break}const Ar=vt.Util.normalizeRect([mr[0],mn[3]-mr[1]+mn[1],mr[2],mn[3]-mr[3]+mn[1]]),Gr=Hr?mr[2]-mr[0]+5:0,ts=Ar[0]+Gr,fs=Ar[1],{style:Hs}=_t(this,In);Hs.left=`${100*(ts-Hn)/ln}%`,Hs.top=`${100*(fs-jn)/xn}%`,_t(this,In).append(Yn)}_formatContents({str:mn,dir:ln}){const xn=document.createElement("p");xn.classList.add("popupContent"),xn.dir=ln;const Hn=mn.split(/(?:\r\n?|\n)/);for(let jn=0,Yn=Hn.length;jn<Yn;++jn){const nr=Hn[jn];xn.append(document.createTextNode(nr)),jn<Yn-1&&xn.append(document.createElement("br"))}return xn}forceHide(){zt(this,ar,this.isVisible),_t(this,ar)&&(_t(this,In).hidden=!0)}maybeShow(){_t(this,ar)&&(zt(this,ar,!1),_t(this,In).hidden=!1)}get isVisible(){return _t(this,In).hidden===!1}}Vn=new WeakMap,Un=new WeakMap,zn=new WeakMap,Kn=new WeakMap,Zn=new WeakMap,Qn=new WeakMap,In=new WeakMap,On=new WeakMap,sn=new WeakMap,vn=new WeakMap,Rn=new WeakMap,Nn=new WeakMap,Wn=new WeakMap,Jn=new WeakMap,Xn=new WeakMap,kn=new WeakMap,ar=new WeakMap,ir=new WeakSet,l_=function(mn){mn.altKey||mn.shiftKey||mn.ctrlKey||mn.metaKey||(mn.key==="Enter"||mn.key==="Escape"&&_t(this,Nn))&&Ut(this,ir,j0).call(this)},j0=function(){zt(this,Nn,!_t(this,Nn)),_t(this,Nn)?(Ut(this,ir,GA).call(this),_t(this,In).addEventListener("click",_t(this,Zn)),_t(this,In).addEventListener("keydown",_t(this,Un))):(Ut(this,ir,KA).call(this),_t(this,In).removeEventListener("click",_t(this,Zn)),_t(this,In).removeEventListener("keydown",_t(this,Un)))},GA=function(){_t(this,Wn)||this.render(),this.isVisible?_t(this,Nn)&&_t(this,In).classList.add("focused"):(_t(this,In).hidden=!1,_t(this,In).style.zIndex=parseInt(_t(this,In).style.zIndex)+1e3)},KA=function(){_t(this,In).classList.remove("focused"),!(_t(this,Nn)||!this.isVisible)&&(_t(this,In).hidden=!0,_t(this,In).style.zIndex=parseInt(_t(this,In).style.zIndex)-1e3)};class Jt extends Mt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=mn.data.textContent,this.textPosition=mn.data.textPosition,this.annotationEditorType=vt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const mn=document.createElement("div");mn.classList.add("annotationTextContent"),mn.setAttribute("role","comment");for(const ln of this.textContent){const xn=document.createElement("span");xn.textContent=ln,mn.append(xn)}this.container.append(mn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}$.FreeTextAnnotationElement=Jt;class Gt extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Kt(this,_r,null)}render(){this.container.classList.add("lineAnnotation");const ln=this.data,{width:xn,height:Hn}=kt(ln.rect),jn=this.svgFactory.create(xn,Hn,!0),Yn=zt(this,_r,this.svgFactory.createElement("svg:line"));return Yn.setAttribute("x1",ln.rect[2]-ln.lineCoordinates[0]),Yn.setAttribute("y1",ln.rect[3]-ln.lineCoordinates[1]),Yn.setAttribute("x2",ln.rect[2]-ln.lineCoordinates[2]),Yn.setAttribute("y2",ln.rect[3]-ln.lineCoordinates[3]),Yn.setAttribute("stroke-width",ln.borderStyle.width||1),Yn.setAttribute("stroke","transparent"),Yn.setAttribute("fill","transparent"),jn.append(Yn),this.container.append(jn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,_r)}addHighlightArea(){this.container.classList.add("highlightArea")}}_r=new WeakMap;class en extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Kt(this,Ur,null)}render(){this.container.classList.add("squareAnnotation");const ln=this.data,{width:xn,height:Hn}=kt(ln.rect),jn=this.svgFactory.create(xn,Hn,!0),Yn=ln.borderStyle.width,nr=zt(this,Ur,this.svgFactory.createElement("svg:rect"));return nr.setAttribute("x",Yn/2),nr.setAttribute("y",Yn/2),nr.setAttribute("width",xn-Yn),nr.setAttribute("height",Hn-Yn),nr.setAttribute("stroke-width",Yn||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),jn.append(nr),this.container.append(jn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,Ur)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ur=new WeakMap;class an extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Kt(this,rs,null)}render(){this.container.classList.add("circleAnnotation");const ln=this.data,{width:xn,height:Hn}=kt(ln.rect),jn=this.svgFactory.create(xn,Hn,!0),Yn=ln.borderStyle.width,nr=zt(this,rs,this.svgFactory.createElement("svg:ellipse"));return nr.setAttribute("cx",xn/2),nr.setAttribute("cy",Hn/2),nr.setAttribute("rx",xn/2-Yn/2),nr.setAttribute("ry",Hn/2-Yn/2),nr.setAttribute("stroke-width",Yn||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),jn.append(nr),this.container.append(jn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,rs)}addHighlightArea(){this.container.classList.add("highlightArea")}}rs=new WeakMap;class Sn extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Kt(this,qn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const ln=this.data,{width:xn,height:Hn}=kt(ln.rect),jn=this.svgFactory.create(xn,Hn,!0);let Yn=[];for(const yr of ln.vertices){const pr=yr.x-ln.rect[0],cr=ln.rect[3]-yr.y;Yn.push(pr+","+cr)}Yn=Yn.join(" ");const nr=zt(this,qn,this.svgFactory.createElement(this.svgElementName));return nr.setAttribute("points",Yn),nr.setAttribute("stroke-width",ln.borderStyle.width||1),nr.setAttribute("stroke","transparent"),nr.setAttribute("fill","transparent"),jn.append(nr),this.container.append(jn),!ln.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return _t(this,qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}qn=new WeakMap;class cn extends Sn{constructor(mn){super(mn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class An extends Mt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class dn extends Mt{constructor(ln){super(ln,{isRenderable:!0,ignoreBorder:!0});Kt(this,Mn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=vt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const ln=this.data,{width:xn,height:Hn}=kt(ln.rect),jn=this.svgFactory.create(xn,Hn,!0);for(const Yn of ln.inkLists){let nr=[];for(const pr of Yn){const cr=pr.x-ln.rect[0],Hr=ln.rect[3]-pr.y;nr.push(`${cr},${Hr}`)}nr=nr.join(" ");const yr=this.svgFactory.createElement(this.svgElementName);_t(this,Mn).push(yr),yr.setAttribute("points",nr),yr.setAttribute("stroke-width",ln.borderStyle.width||1),yr.setAttribute("stroke","transparent"),yr.setAttribute("fill","transparent"),!ln.popupRef&&this.hasPopupData&&this._createPopup(),jn.append(yr)}return this.container.append(jn),this.container}getElementsToTriggerPopup(){return _t(this,Mn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mn=new WeakMap,$.InkAnnotationElement=dn;class fn extends Mt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class nn extends Mt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class gn extends Mt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Cn extends Mt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends Mt{constructor(mn){super(mn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}$.StampAnnotationElement=rn;class Xt extends Mt{constructor(ln){var jn;super(ln,{isRenderable:!0});Kt(this,hr);Kt(this,Fn,null);const{filename:xn,content:Hn}=this.data.file;this.filename=(0,bt.getFilenameFromUrl)(xn,!0),this.content=Hn,(jn=this.linkService.eventBus)==null||jn.dispatch("fileattachmentannotation",{source:this,filename:xn,content:Hn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:ln,data:xn}=this;let Hn;xn.hasAppearance||xn.fillAlpha===0?Hn=document.createElement("div"):(Hn=document.createElement("img"),Hn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(xn.name)?"paperclip":"pushpin"}.svg`,xn.fillAlpha&&xn.fillAlpha<1&&(Hn.style=`filter: opacity(${Math.round(xn.fillAlpha*100)}%);`)),Hn.addEventListener("dblclick",Ut(this,hr,qA).bind(this)),zt(this,Fn,Hn);const{isMac:jn}=vt.FeatureTest.platform;return ln.addEventListener("keydown",Yn=>{Yn.key==="Enter"&&(jn?Yn.metaKey:Yn.ctrlKey)&&Ut(this,hr,qA).call(this)}),!xn.popupRef&&this.hasPopupData?this._createPopup():Hn.classList.add("popupTriggerArea"),ln.append(Hn),ln}getElementsToTriggerPopup(){return _t(this,Fn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fn=new WeakMap,hr=new WeakSet,qA=function(){var ln;(ln=this.downloadManager)==null||ln.openOrDownloadData(this.container,this.content,this.filename)};class Yt{constructor({div:mn,accessibilityManager:ln,annotationCanvasMap:xn,l10n:Hn,page:jn,viewport:Yn}){Kt(this,or);Kt(this,kr,null);Kt(this,yn,null);Kt(this,Gn,new Map);this.div=mn,zt(this,kr,ln),zt(this,yn,xn),this.l10n=Hn,this.page=jn,this.viewport=Yn,this.zIndex=0,this.l10n||(this.l10n=Et.NullL10n)}async render(mn){const{annotations:ln}=mn,xn=this.div;(0,bt.setLayerDimensions)(xn,this.viewport);const Hn=new Map,jn={data:null,layer:xn,linkService:mn.linkService,downloadManager:mn.downloadManager,imageResourcesPath:mn.imageResourcesPath||"",renderForms:mn.renderForms!==!1,svgFactory:new bt.DOMSVGFactory,annotationStorage:mn.annotationStorage||new wt.AnnotationStorage,enableScripting:mn.enableScripting===!0,hasJSActions:mn.hasJSActions,fieldObjects:mn.fieldObjects,parent:this,elements:null};for(const Yn of ln){if(Yn.noHTML)continue;const nr=Yn.annotationType===vt.AnnotationType.POPUP;if(nr){const cr=Hn.get(Yn.id);if(!cr)continue;jn.elements=cr}else{const{width:cr,height:Hr}=kt(Yn.rect);if(cr<=0||Hr<=0)continue}jn.data=Yn;const yr=Rt.create(jn);if(!yr.isRenderable)continue;if(!nr&&Yn.popupRef){const cr=Hn.get(Yn.popupRef);cr?cr.push(yr):Hn.set(Yn.popupRef,[yr])}yr.annotationEditorType>0&&_t(this,Gn).set(yr.data.id,yr);const pr=yr.render();Yn.hidden&&(pr.style.visibility="hidden"),Ut(this,or,c_).call(this,pr,Yn.id)}Ut(this,or,XA).call(this),await this.l10n.translate(xn)}update({viewport:mn}){const ln=this.div;this.viewport=mn,(0,bt.setLayerDimensions)(ln,{rotation:mn.rotation}),Ut(this,or,XA).call(this),ln.hidden=!1}getEditableAnnotations(){return Array.from(_t(this,Gn).values())}getEditableAnnotation(mn){return _t(this,Gn).get(mn)}}kr=new WeakMap,yn=new WeakMap,Gn=new WeakMap,or=new WeakSet,c_=function(mn,ln){var Hn;const xn=mn.firstChild||mn;xn.id=`${vt.AnnotationPrefix}${ln}`,this.div.append(mn),(Hn=_t(this,kr))==null||Hn.moveElementInDOM(this.div,mn,xn,!1)},XA=function(){if(!_t(this,yn))return;const mn=this.div;for(const[ln,xn]of _t(this,yn)){const Hn=mn.querySelector(`[data-annotation-id="${ln}"]`);if(!Hn)continue;const{firstChild:jn}=Hn;jn?jn.nodeName==="CANVAS"?jn.replaceWith(xn):jn.before(xn):Hn.append(xn)}_t(this,yn).clear()},$.AnnotationLayer=Yt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function ht(wt){return Math.floor(Math.max(0,Math.min(1,wt))*255).toString(16).padStart(2,"0")}function vt(wt){return Math.max(0,Math.min(255,255*wt))}class bt{static CMYK_G([At,Et,St,Ct]){return["G",1-Math.min(1,.3*At+.59*St+.11*Et+Ct)]}static G_CMYK([At]){return["CMYK",0,0,0,1-At]}static G_RGB([At]){return["RGB",At,At,At]}static G_rgb([At]){return At=vt(At),[At,At,At]}static G_HTML([At]){const Et=ht(At);return`#${Et}${Et}${Et}`}static RGB_G([At,Et,St]){return["G",.3*At+.59*Et+.11*St]}static RGB_rgb(At){return At.map(vt)}static RGB_HTML(At){return`#${At.map(ht).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([At,Et,St,Ct]){return["RGB",1-Math.min(1,At+Ct),1-Math.min(1,St+Ct),1-Math.min(1,Et+Ct)]}static CMYK_rgb([At,Et,St,Ct]){return[vt(1-Math.min(1,At+Ct)),vt(1-Math.min(1,St+Ct)),vt(1-Math.min(1,Et+Ct))]}static CMYK_HTML(At){const Et=this.CMYK_RGB(At).slice(1);return this.RGB_HTML(Et)}static RGB_CMYK([At,Et,St]){const Ct=1-At,xt=1-Et,Pt=1-St,kt=Math.min(Ct,xt,Pt);return["CMYK",Ct,xt,Pt,kt]}}$.ColorConverters=bt},(_e,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.getL10nFallback=vt;const ht={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};ht.print_progress_percent="{{progress}}%";function vt(At,Et){switch(At){case"find_match_count":At=`find_match_count[${Et.total===1?"one":"other"}]`;break;case"find_match_count_limit":At=`find_match_count_limit[${Et.limit===1?"one":"other"}]`;break}return ht[At]||""}function bt(At,Et){return Et?At.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(St,Ct)=>Ct in Et?Et[Ct]:"{{"+Ct+"}}"):At}const wt={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(At,Et=null,St=vt(At,Et)){return bt(St,Et)},async translate(At){}};$.NullL10n=wt},(_e,$,ht)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var vt=ht(25);class bt{static setupStorage(At,Et,St,Ct,xt){const Pt=Ct.getValue(Et,{value:null});switch(St.name){case"textarea":if(Pt.value!==null&&(At.textContent=Pt.value),xt==="print")break;At.addEventListener("input",kt=>{Ct.setValue(Et,{value:kt.target.value})});break;case"input":if(St.attributes.type==="radio"||St.attributes.type==="checkbox"){if(Pt.value===St.attributes.xfaOn?At.setAttribute("checked",!0):Pt.value===St.attributes.xfaOff&&At.removeAttribute("checked"),xt==="print")break;At.addEventListener("change",kt=>{Ct.setValue(Et,{value:kt.target.checked?kt.target.getAttribute("xfaOn"):kt.target.getAttribute("xfaOff")})})}else{if(Pt.value!==null&&At.setAttribute("value",Pt.value),xt==="print")break;At.addEventListener("input",kt=>{Ct.setValue(Et,{value:kt.target.value})})}break;case"select":if(Pt.value!==null){At.setAttribute("value",Pt.value);for(const kt of St.children)kt.attributes.value===Pt.value?kt.attributes.selected=!0:kt.attributes.hasOwnProperty("selected")&&delete kt.attributes.selected}At.addEventListener("input",kt=>{const Rt=kt.target.options,Mt=Rt.selectedIndex===-1?"":Rt[Rt.selectedIndex].value;Ct.setValue(Et,{value:Mt})});break}}static setAttributes({html:At,element:Et,storage:St=null,intent:Ct,linkService:xt}){const{attributes:Pt}=Et,kt=At instanceof HTMLAnchorElement;Pt.type==="radio"&&(Pt.name=`${Pt.name}-${Ct}`);for(const[Rt,Mt]of Object.entries(Pt))if(Mt!=null)switch(Rt){case"class":Mt.length&&At.setAttribute(Rt,Mt.join(" "));break;case"dataId":break;case"id":At.setAttribute("data-element-id",Mt);break;case"style":Object.assign(At.style,Mt);break;case"textContent":At.textContent=Mt;break;default:(!kt||Rt!=="href"&&Rt!=="newWindow")&&At.setAttribute(Rt,Mt)}kt&&xt.addLinkAttributes(At,Pt.href,Pt.newWindow),St&&Pt.dataId&&this.setupStorage(At,Pt.dataId,Et,St)}static render(At){var Ft;const Et=At.annotationStorage,St=At.linkService,Ct=At.xfaHtml,xt=At.intent||"display",Pt=document.createElement(Ct.name);Ct.attributes&&this.setAttributes({html:Pt,element:Ct,intent:xt,linkService:St});const kt=[[Ct,-1,Pt]],Rt=At.div;if(Rt.append(Pt),At.viewport){const $t=`matrix(${At.viewport.transform.join(",")})`;Rt.style.transform=$t}xt!=="richText"&&Rt.setAttribute("class","xfaLayer xfaFont");const Mt=[];for(;kt.length>0;){const[$t,Lt,Dt]=kt.at(-1);if(Lt+1===$t.children.length){kt.pop();continue}const Ot=$t.children[++kt.at(-1)[1]];if(Ot===null)continue;const{name:Bt}=Ot;if(Bt==="#text"){const Ht=document.createTextNode(Ot.value);Mt.push(Ht),Dt.append(Ht);continue}const Nt=(Ft=Ot==null?void 0:Ot.attributes)!=null&&Ft.xmlns?document.createElementNS(Ot.attributes.xmlns,Bt):document.createElement(Bt);if(Dt.append(Nt),Ot.attributes&&this.setAttributes({html:Nt,element:Ot,storage:Et,intent:xt,linkService:St}),Ot.children&&Ot.children.length>0)kt.push([Ot,-1,Nt]);else if(Ot.value){const Ht=document.createTextNode(Ot.value);vt.XfaText.shouldBuildText(Bt)&&Mt.push(Ht),Nt.append(Ht)}}for(const $t of Rt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$t.setAttribute("readOnly",!0);return{textDivs:Mt}}static update(At){const Et=`matrix(${At.viewport.transform.join(",")})`;At.div.style.transform=Et,At.div.hidden=!1}}$.XfaLayer=bt},(_e,$,ht)=>{var Ct,xt,Pt,kt,Rt,Mt,Ft,$t,Lt,Dt,Ot,Bt,Nt,Ht,Vt,u_,d_,h_,f_,YA,p_,ZA,m_,g_,v_,y_,b_,Ol,QA,U0,z0,om,JA,W0,un,w_,eE,A_,E_,tE,G0,am;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0;var vt=ht(1),bt=ht(4),wt=ht(29),At=ht(6),Et=ht(5);const Qn=class Qn extends bt.AnnotationEditor{constructor(sn){super({...sn,name:"inkEditor"});Kt(this,Vt);Kt(this,Ct,0);Kt(this,xt,0);Kt(this,Pt,this.canvasPointermove.bind(this));Kt(this,kt,this.canvasPointerleave.bind(this));Kt(this,Rt,this.canvasPointerup.bind(this));Kt(this,Mt,this.canvasPointerdown.bind(this));Kt(this,Ft,new Path2D);Kt(this,$t,!1);Kt(this,Lt,!1);Kt(this,Dt,!1);Kt(this,Ot,null);Kt(this,Bt,0);Kt(this,Nt,0);Kt(this,Ht,null);this.color=sn.color||null,this.thickness=sn.thickness||null,this.opacity=sn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(sn){bt.AnnotationEditor.initialize(sn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(sn,vn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Qn._defaultThickness=vn;break;case vt.AnnotationEditorParamsType.INK_COLOR:Qn._defaultColor=vn;break;case vt.AnnotationEditorParamsType.INK_OPACITY:Qn._defaultOpacity=vn/100;break}}updateParams(sn,vn){switch(sn){case vt.AnnotationEditorParamsType.INK_THICKNESS:Ut(this,Vt,u_).call(this,vn);break;case vt.AnnotationEditorParamsType.INK_COLOR:Ut(this,Vt,d_).call(this,vn);break;case vt.AnnotationEditorParamsType.INK_OPACITY:Ut(this,Vt,h_).call(this,vn);break}}static get defaultPropertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,Qn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,Qn._defaultColor||bt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Qn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[vt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Qn._defaultThickness],[vt.AnnotationEditorParamsType.INK_COLOR,this.color||Qn._defaultColor||bt.AnnotationEditor._defaultLineColor],[vt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Qn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(Ut(this,Vt,U0).call(this),Ut(this,Vt,z0).call(this)),this.isAttachedToDOM||(this.parent.add(this),Ut(this,Vt,om).call(this)),Ut(this,Vt,am).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,_t(this,Ot).disconnect(),zt(this,Ot,null),super.remove())}setParent(sn){!this.parent&&sn?this._uiManager.removeShouldRescale(this):this.parent&&sn===null&&this._uiManager.addShouldRescale(this),super.setParent(sn)}onScaleChanging(){const[sn,vn]=this.parentDimensions,Rn=this.width*sn,Nn=this.height*vn;this.setDimensions(Rn,Nn)}enableEditMode(){_t(this,$t)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",_t(this,Mt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",_t(this,Mt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){_t(this,$t)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),zt(this,$t,!0),this.div.classList.add("disabled"),Ut(this,Vt,am).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(sn){this._focusEventsAllowed&&(super.focusin(sn),this.enableEditMode())}canvasPointerdown(sn){sn.button!==0||!this.isInEditMode()||_t(this,$t)||(this.setInForeground(),sn.preventDefault(),sn.type!=="mouse"&&this.div.focus(),Ut(this,Vt,p_).call(this,sn.offsetX,sn.offsetY))}canvasPointermove(sn){sn.preventDefault(),Ut(this,Vt,ZA).call(this,sn.offsetX,sn.offsetY)}canvasPointerup(sn){sn.preventDefault(),Ut(this,Vt,QA).call(this,sn)}canvasPointerleave(sn){Ut(this,Vt,QA).call(this,sn)}get isResizable(){return!this.isEmpty()&&_t(this,$t)}render(){if(this.div)return this.div;let sn,vn;this.width&&(sn=this.x,vn=this.y),super.render(),bt.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Xn=>{var kn;return(kn=this.div)==null?void 0:kn.setAttribute("aria-label",Xn)});const[Rn,Nn,Wn,Jn]=Ut(this,Vt,f_).call(this);if(this.setAt(Rn,Nn,0,0),this.setDims(Wn,Jn),Ut(this,Vt,U0).call(this),this.width){const[Xn,kn]=this.parentDimensions;this.setAspectRatio(this.width*Xn,this.height*kn),this.setAt(sn*Xn,vn*kn,this.width*Xn,this.height*kn),zt(this,Dt,!0),Ut(this,Vt,om).call(this),this.setDims(this.width*Xn,this.height*kn),Ut(this,Vt,Ol).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Ut(this,Vt,z0).call(this),this.div}setDimensions(sn,vn){const Rn=Math.round(sn),Nn=Math.round(vn);if(_t(this,Bt)===Rn&&_t(this,Nt)===Nn)return;zt(this,Bt,Rn),zt(this,Nt,Nn),this.canvas.style.visibility="hidden";const[Wn,Jn]=this.parentDimensions;this.width=sn/Wn,this.height=vn/Jn,this.fixAndSetPosition(),_t(this,$t)&&Ut(this,Vt,JA).call(this,sn,vn),Ut(this,Vt,om).call(this),Ut(this,Vt,Ol).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(sn,vn,Rn){var _r,Ur,rs;if(sn instanceof wt.InkAnnotationElement)return null;const Nn=super.deserialize(sn,vn,Rn);Nn.thickness=sn.thickness,Nn.color=vt.Util.makeHexColor(...sn.color),Nn.opacity=sn.opacity;const[Wn,Jn]=Nn.pageDimensions,Xn=Nn.width*Wn,kn=Nn.height*Jn,ar=Nn.parentScale,ir=sn.thickness/2;zt(Nn,$t,!0),zt(Nn,Bt,Math.round(Xn)),zt(Nn,Nt,Math.round(kn));const{paths:Nr,rect:Rr,rotation:Yr}=sn;for(let{bezier:qn}of Nr){qn=Ut(_r=Qn,un,A_).call(_r,qn,Rr,Yr);const Mn=[];Nn.paths.push(Mn);let Fn=ar*(qn[0]-ir),hr=ar*(qn[1]-ir);for(let kr=2,yn=qn.length;kr<yn;kr+=6){const Gn=ar*(qn[kr]-ir),or=ar*(qn[kr+1]-ir),vr=ar*(qn[kr+2]-ir),wr=ar*(qn[kr+3]-ir),dr=ar*(qn[kr+4]-ir),mn=ar*(qn[kr+5]-ir);Mn.push([[Fn,hr],[Gn,or],[vr,wr],[dr,mn]]),Fn=dr,hr=mn}const gr=Ut(this,un,w_).call(this,Mn);Nn.bezierPath2D.push(gr)}const fr=Ut(Ur=Nn,Vt,tE).call(Ur);return zt(Nn,xt,Math.max(bt.AnnotationEditor.MIN_SIZE,fr[2]-fr[0])),zt(Nn,Ct,Math.max(bt.AnnotationEditor.MIN_SIZE,fr[3]-fr[1])),Ut(rs=Nn,Vt,JA).call(rs,Xn,kn),Nn}serialize(){if(this.isEmpty())return null;const sn=this.getRect(0,0),vn=bt.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:vt.AnnotationEditorType.INK,color:vn,thickness:this.thickness,opacity:this.opacity,paths:Ut(this,Vt,E_).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,sn),pageIndex:this.pageIndex,rect:sn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ct=new WeakMap,xt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,$t=new WeakMap,Lt=new WeakMap,Dt=new WeakMap,Ot=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,Ht=new WeakMap,Vt=new WeakSet,u_=function(sn){const vn=this.thickness;this.addCommands({cmd:()=>{this.thickness=sn,Ut(this,Vt,am).call(this)},undo:()=>{this.thickness=vn,Ut(this,Vt,am).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},d_=function(sn){const vn=this.color;this.addCommands({cmd:()=>{this.color=sn,Ut(this,Vt,Ol).call(this)},undo:()=>{this.color=vn,Ut(this,Vt,Ol).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},h_=function(sn){sn/=100;const vn=this.opacity;this.addCommands({cmd:()=>{this.opacity=sn,Ut(this,Vt,Ol).call(this)},undo:()=>{this.opacity=vn,Ut(this,Vt,Ol).call(this)},mustExec:!0,type:vt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},f_=function(){const{parentRotation:sn,parentDimensions:[vn,Rn]}=this;switch(sn){case 90:return[0,Rn,Rn,vn];case 180:return[vn,Rn,vn,Rn];case 270:return[vn,0,Rn,vn];default:return[0,0,vn,Rn]}},YA=function(){const{ctx:sn,color:vn,opacity:Rn,thickness:Nn,parentScale:Wn,scaleFactor:Jn}=this;sn.lineWidth=Nn*Wn/Jn,sn.lineCap="round",sn.lineJoin="round",sn.miterLimit=10,sn.strokeStyle=`${vn}${(0,Et.opacityToHex)(Rn)}`},p_=function(sn,vn){this.canvas.addEventListener("contextmenu",At.noContextMenu),this.canvas.addEventListener("pointerleave",_t(this,kt)),this.canvas.addEventListener("pointermove",_t(this,Pt)),this.canvas.addEventListener("pointerup",_t(this,Rt)),this.canvas.removeEventListener("pointerdown",_t(this,Mt)),this.isEditing=!0,_t(this,Dt)||(zt(this,Dt,!0),Ut(this,Vt,om).call(this),this.thickness||(this.thickness=Qn._defaultThickness),this.color||(this.color=Qn._defaultColor||bt.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Qn._defaultOpacity)),this.currentPath.push([sn,vn]),zt(this,Lt,!1),Ut(this,Vt,YA).call(this),zt(this,Ht,()=>{Ut(this,Vt,v_).call(this),_t(this,Ht)&&window.requestAnimationFrame(_t(this,Ht))}),window.requestAnimationFrame(_t(this,Ht))},ZA=function(sn,vn){const[Rn,Nn]=this.currentPath.at(-1);if(this.currentPath.length>1&&sn===Rn&&vn===Nn)return;const Wn=this.currentPath;let Jn=_t(this,Ft);if(Wn.push([sn,vn]),zt(this,Lt,!0),Wn.length<=2){Jn.moveTo(...Wn[0]),Jn.lineTo(sn,vn);return}Wn.length===3&&(zt(this,Ft,Jn=new Path2D),Jn.moveTo(...Wn[0])),Ut(this,Vt,y_).call(this,Jn,...Wn.at(-3),...Wn.at(-2),sn,vn)},m_=function(){if(this.currentPath.length===0)return;const sn=this.currentPath.at(-1);_t(this,Ft).lineTo(...sn)},g_=function(sn,vn){zt(this,Ht,null),sn=Math.min(Math.max(sn,0),this.canvas.width),vn=Math.min(Math.max(vn,0),this.canvas.height),Ut(this,Vt,ZA).call(this,sn,vn),Ut(this,Vt,m_).call(this);let Rn;if(this.currentPath.length!==1)Rn=Ut(this,Vt,b_).call(this);else{const kn=[sn,vn];Rn=[[kn,kn.slice(),kn.slice(),kn]]}const Nn=_t(this,Ft),Wn=this.currentPath;this.currentPath=[],zt(this,Ft,new Path2D);const Jn=()=>{this.allRawPaths.push(Wn),this.paths.push(Rn),this.bezierPath2D.push(Nn),this.rebuild()},Xn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Ut(this,Vt,U0).call(this),Ut(this,Vt,z0).call(this)),Ut(this,Vt,am).call(this))};this.addCommands({cmd:Jn,undo:Xn,mustExec:!0})},v_=function(){if(!_t(this,Lt))return;zt(this,Lt,!1);const sn=Math.ceil(this.thickness*this.parentScale),vn=this.currentPath.slice(-3),Rn=vn.map(Jn=>Jn[0]),Nn=vn.map(Jn=>Jn[1]);Math.min(...Rn)-sn,Math.max(...Rn)+sn,Math.min(...Nn)-sn,Math.max(...Nn)+sn;const{ctx:Wn}=this;Wn.save(),Wn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Jn of this.bezierPath2D)Wn.stroke(Jn);Wn.stroke(_t(this,Ft)),Wn.restore()},y_=function(sn,vn,Rn,Nn,Wn,Jn,Xn){const kn=(vn+Nn)/2,ar=(Rn+Wn)/2,ir=(Nn+Jn)/2,Nr=(Wn+Xn)/2;sn.bezierCurveTo(kn+2*(Nn-kn)/3,ar+2*(Wn-ar)/3,ir+2*(Nn-ir)/3,Nr+2*(Wn-Nr)/3,ir,Nr)},b_=function(){const sn=this.currentPath;if(sn.length<=2)return[[sn[0],sn[0],sn.at(-1),sn.at(-1)]];const vn=[];let Rn,[Nn,Wn]=sn[0];for(Rn=1;Rn<sn.length-2;Rn++){const[Rr,Yr]=sn[Rn],[fr,_r]=sn[Rn+1],Ur=(Rr+fr)/2,rs=(Yr+_r)/2,qn=[Nn+2*(Rr-Nn)/3,Wn+2*(Yr-Wn)/3],Mn=[Ur+2*(Rr-Ur)/3,rs+2*(Yr-rs)/3];vn.push([[Nn,Wn],qn,Mn,[Ur,rs]]),[Nn,Wn]=[Ur,rs]}const[Jn,Xn]=sn[Rn],[kn,ar]=sn[Rn+1],ir=[Nn+2*(Jn-Nn)/3,Wn+2*(Xn-Wn)/3],Nr=[kn+2*(Jn-kn)/3,ar+2*(Xn-ar)/3];return vn.push([[Nn,Wn],ir,Nr,[kn,ar]]),vn},Ol=function(){if(this.isEmpty()){Ut(this,Vt,W0).call(this);return}Ut(this,Vt,YA).call(this);const{canvas:sn,ctx:vn}=this;vn.setTransform(1,0,0,1,0,0),vn.clearRect(0,0,sn.width,sn.height),Ut(this,Vt,W0).call(this);for(const Rn of this.bezierPath2D)vn.stroke(Rn)},QA=function(sn){this.canvas.removeEventListener("pointerleave",_t(this,kt)),this.canvas.removeEventListener("pointermove",_t(this,Pt)),this.canvas.removeEventListener("pointerup",_t(this,Rt)),this.canvas.addEventListener("pointerdown",_t(this,Mt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",At.noContextMenu)},10),Ut(this,Vt,g_).call(this,sn.offsetX,sn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},U0=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",bt.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(sn=>{var vn;return(vn=this.canvas)==null?void 0:vn.setAttribute("aria-label",sn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},z0=function(){zt(this,Ot,new ResizeObserver(sn=>{const vn=sn[0].contentRect;vn.width&&vn.height&&this.setDimensions(vn.width,vn.height)})),_t(this,Ot).observe(this.div)},om=function(){if(!_t(this,Dt))return;const[sn,vn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*sn),this.canvas.height=Math.ceil(this.height*vn),Ut(this,Vt,W0).call(this)},JA=function(sn,vn){const Rn=Ut(this,Vt,G0).call(this),Nn=(sn-Rn)/_t(this,xt),Wn=(vn-Rn)/_t(this,Ct);this.scaleFactor=Math.min(Nn,Wn)},W0=function(){const sn=Ut(this,Vt,G0).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+sn,this.translationY*this.scaleFactor+sn)},un=new WeakSet,w_=function(sn){const vn=new Path2D;for(let Rn=0,Nn=sn.length;Rn<Nn;Rn++){const[Wn,Jn,Xn,kn]=sn[Rn];Rn===0&&vn.moveTo(...Wn),vn.bezierCurveTo(Jn[0],Jn[1],Xn[0],Xn[1],kn[0],kn[1])}return vn},eE=function(sn,vn,Rn){const[Nn,Wn,Jn,Xn]=vn;switch(Rn){case 0:for(let kn=0,ar=sn.length;kn<ar;kn+=2)sn[kn]+=Nn,sn[kn+1]=Xn-sn[kn+1];break;case 90:for(let kn=0,ar=sn.length;kn<ar;kn+=2){const ir=sn[kn];sn[kn]=sn[kn+1]+Nn,sn[kn+1]=ir+Wn}break;case 180:for(let kn=0,ar=sn.length;kn<ar;kn+=2)sn[kn]=Jn-sn[kn],sn[kn+1]+=Wn;break;case 270:for(let kn=0,ar=sn.length;kn<ar;kn+=2){const ir=sn[kn];sn[kn]=Jn-sn[kn+1],sn[kn+1]=Xn-ir}break;default:throw new Error("Invalid rotation")}return sn},A_=function(sn,vn,Rn){const[Nn,Wn,Jn,Xn]=vn;switch(Rn){case 0:for(let kn=0,ar=sn.length;kn<ar;kn+=2)sn[kn]-=Nn,sn[kn+1]=Xn-sn[kn+1];break;case 90:for(let kn=0,ar=sn.length;kn<ar;kn+=2){const ir=sn[kn];sn[kn]=sn[kn+1]-Wn,sn[kn+1]=ir-Nn}break;case 180:for(let kn=0,ar=sn.length;kn<ar;kn+=2)sn[kn]=Jn-sn[kn],sn[kn+1]-=Wn;break;case 270:for(let kn=0,ar=sn.length;kn<ar;kn+=2){const ir=sn[kn];sn[kn]=Xn-sn[kn+1],sn[kn+1]=Jn-ir}break;default:throw new Error("Invalid rotation")}return sn},E_=function(sn,vn,Rn,Nn){var ar,ir;const Wn=[],Jn=this.thickness/2,Xn=sn*vn+Jn,kn=sn*Rn+Jn;for(const Nr of this.paths){const Rr=[],Yr=[];for(let fr=0,_r=Nr.length;fr<_r;fr++){const[Ur,rs,qn,Mn]=Nr[fr],Fn=sn*Ur[0]+Xn,hr=sn*Ur[1]+kn,gr=sn*rs[0]+Xn,kr=sn*rs[1]+kn,yn=sn*qn[0]+Xn,Gn=sn*qn[1]+kn,or=sn*Mn[0]+Xn,vr=sn*Mn[1]+kn;fr===0&&(Rr.push(Fn,hr),Yr.push(Fn,hr)),Rr.push(gr,kr,yn,Gn,or,vr),Yr.push(gr,kr),fr===_r-1&&Yr.push(or,vr)}Wn.push({bezier:Ut(ar=Qn,un,eE).call(ar,Rr,Nn,this.rotation),points:Ut(ir=Qn,un,eE).call(ir,Yr,Nn,this.rotation)})}return Wn},tE=function(){let sn=1/0,vn=-1/0,Rn=1/0,Nn=-1/0;for(const Wn of this.paths)for(const[Jn,Xn,kn,ar]of Wn){const ir=vt.Util.bezierBoundingBox(...Jn,...Xn,...kn,...ar);sn=Math.min(sn,ir[0]),Rn=Math.min(Rn,ir[1]),vn=Math.max(vn,ir[2]),Nn=Math.max(Nn,ir[3])}return[sn,Rn,vn,Nn]},G0=function(){return _t(this,$t)?Math.ceil(this.thickness*this.parentScale):0},am=function(sn=!1){if(this.isEmpty())return;if(!_t(this,$t)){Ut(this,Vt,Ol).call(this);return}const vn=Ut(this,Vt,tE).call(this),Rn=Ut(this,Vt,G0).call(this);zt(this,xt,Math.max(bt.AnnotationEditor.MIN_SIZE,vn[2]-vn[0])),zt(this,Ct,Math.max(bt.AnnotationEditor.MIN_SIZE,vn[3]-vn[1]));const Nn=Math.ceil(Rn+_t(this,xt)*this.scaleFactor),Wn=Math.ceil(Rn+_t(this,Ct)*this.scaleFactor),[Jn,Xn]=this.parentDimensions;this.width=Nn/Jn,this.height=Wn/Xn,this.setAspectRatio(Nn,Wn);const kn=this.translationX,ar=this.translationY;this.translationX=-vn[0],this.translationY=-vn[1],Ut(this,Vt,om).call(this),Ut(this,Vt,Ol).call(this),zt(this,Bt,Nn),zt(this,Nt,Wn),this.setDims(Nn,Wn);const ir=sn?Rn/this.scaleFactor/2:0;this.translate(kn-this.translationX-ir,ar-this.translationY-ir)},Kt(Qn,un),xr(Qn,"_defaultColor",null),xr(Qn,"_defaultOpacity",1),xr(Qn,"_defaultThickness",1),xr(Qn,"_type","ink");let St=Qn;$.InkEditor=St},(_e,$,ht)=>{var St,Ct,xt,Pt,kt,Rt,Mt,Ft,$t,Lt,Dt,Av,Ev,K0,nE,S_,__,iE,q0,x_;Object.defineProperty($,"__esModule",{value:!0}),$.StampEditor=void 0;var vt=ht(1),bt=ht(4),wt=ht(6),At=ht(29);const en=class en extends bt.AnnotationEditor{constructor(cn){super({...cn,name:"stampEditor"});Kt(this,Dt);Kt(this,St,null);Kt(this,Ct,null);Kt(this,xt,null);Kt(this,Pt,null);Kt(this,kt,null);Kt(this,Rt,null);Kt(this,Mt,null);Kt(this,Ft,null);Kt(this,$t,!1);Kt(this,Lt,!1);zt(this,Pt,cn.bitmapUrl),zt(this,kt,cn.bitmapFile)}static initialize(cn){bt.AnnotationEditor.initialize(cn)}static get supportedTypes(){const cn=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,vt.shadow)(this,"supportedTypes",cn.map(An=>`image/${An}`))}static get supportedTypesStr(){return(0,vt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(cn){return this.supportedTypes.includes(cn)}static paste(cn,An){An.pasteEditor(vt.AnnotationEditorType.STAMP,{bitmapFile:cn.getAsFile()})}remove(){var cn,An;_t(this,Ct)&&(zt(this,St,null),this._uiManager.imageManager.deleteId(_t(this,Ct)),(cn=_t(this,Rt))==null||cn.remove(),zt(this,Rt,null),(An=_t(this,Mt))==null||An.disconnect(),zt(this,Mt,null)),super.remove()}rebuild(){if(!this.parent){_t(this,Ct)&&Ut(this,Dt,K0).call(this);return}super.rebuild(),this.div!==null&&(_t(this,Ct)&&Ut(this,Dt,K0).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(_t(this,xt)||_t(this,St)||_t(this,Pt)||_t(this,kt))}get isResizable(){return!0}render(){if(this.div)return this.div;let cn,An;if(this.width&&(cn=this.x,An=this.y),super.render(),this.div.hidden=!0,_t(this,St)?Ut(this,Dt,nE).call(this):Ut(this,Dt,K0).call(this),this.width){const[dn,fn]=this.parentDimensions;this.setAt(cn*dn,An*fn,this.width*dn,this.height*fn)}return this.div}static deserialize(cn,An,dn){if(cn instanceof At.StampAnnotationElement)return null;const fn=super.deserialize(cn,An,dn),{rect:nn,bitmapUrl:gn,bitmapId:Cn,isSvg:rn,accessibilityData:Xt}=cn;Cn&&dn.imageManager.isValidId(Cn)?zt(fn,Ct,Cn):zt(fn,Pt,gn),zt(fn,$t,rn);const[Yt,tn]=fn.pageDimensions;return fn.width=(nn[2]-nn[0])/Yt,fn.height=(nn[3]-nn[1])/tn,Xt&&(fn.altTextData=Xt),fn}serialize(cn=!1,An=null){if(this.isEmpty())return null;const dn={annotationType:vt.AnnotationEditorType.STAMP,bitmapId:_t(this,Ct),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:_t(this,$t),structTreeParentId:this._structTreeParentId};if(cn)return dn.bitmapUrl=Ut(this,Dt,q0).call(this,!0),dn.accessibilityData=this.altTextData,dn;const{decorative:fn,altText:nn}=this.altTextData;if(!fn&&nn&&(dn.accessibilityData={type:"Figure",alt:nn}),An===null)return dn;An.stamps||(An.stamps=new Map);const gn=_t(this,$t)?(dn.rect[2]-dn.rect[0])*(dn.rect[3]-dn.rect[1]):null;if(!An.stamps.has(_t(this,Ct)))An.stamps.set(_t(this,Ct),{area:gn,serialized:dn}),dn.bitmap=Ut(this,Dt,q0).call(this,!1);else if(_t(this,$t)){const Cn=An.stamps.get(_t(this,Ct));gn>Cn.area&&(Cn.area=gn,Cn.serialized.bitmap.close(),Cn.serialized.bitmap=Ut(this,Dt,q0).call(this,!1))}return dn}};St=new WeakMap,Ct=new WeakMap,xt=new WeakMap,Pt=new WeakMap,kt=new WeakMap,Rt=new WeakMap,Mt=new WeakMap,Ft=new WeakMap,$t=new WeakMap,Lt=new WeakMap,Dt=new WeakSet,Av=function(cn,An=!1){if(!cn){this.remove();return}zt(this,St,cn.bitmap),An||(zt(this,Ct,cn.id),zt(this,$t,cn.isSvg)),Ut(this,Dt,nE).call(this)},Ev=function(){zt(this,xt,null),this._uiManager.enableWaiting(!1),_t(this,Rt)&&this.div.focus()},K0=function(){if(_t(this,Ct)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(_t(this,Ct)).then(An=>Ut(this,Dt,Av).call(this,An,!0)).finally(()=>Ut(this,Dt,Ev).call(this));return}if(_t(this,Pt)){const An=_t(this,Pt);zt(this,Pt,null),this._uiManager.enableWaiting(!0),zt(this,xt,this._uiManager.imageManager.getFromUrl(An).then(dn=>Ut(this,Dt,Av).call(this,dn)).finally(()=>Ut(this,Dt,Ev).call(this)));return}if(_t(this,kt)){const An=_t(this,kt);zt(this,kt,null),this._uiManager.enableWaiting(!0),zt(this,xt,this._uiManager.imageManager.getFromFile(An).then(dn=>Ut(this,Dt,Av).call(this,dn)).finally(()=>Ut(this,Dt,Ev).call(this)));return}const cn=document.createElement("input");cn.type="file",cn.accept=en.supportedTypesStr,zt(this,xt,new Promise(An=>{cn.addEventListener("change",async()=>{if(!cn.files||cn.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const dn=await this._uiManager.imageManager.getFromFile(cn.files[0]);Ut(this,Dt,Av).call(this,dn)}An()}),cn.addEventListener("cancel",()=>{this.remove(),An()})}).finally(()=>Ut(this,Dt,Ev).call(this))),cn.click()},nE=function(){const{div:cn}=this;let{width:An,height:dn}=_t(this,St);const[fn,nn]=this.pageDimensions,gn=.75;if(this.width)An=this.width*fn,dn=this.height*nn;else if(An>gn*fn||dn>gn*nn){const Yt=Math.min(gn*fn/An,gn*nn/dn);An*=Yt,dn*=Yt}const[Cn,rn]=this.parentDimensions;this.setDims(An*Cn/fn,dn*rn/nn),this._uiManager.enableWaiting(!1);const Xt=zt(this,Rt,document.createElement("canvas"));cn.append(Xt),cn.hidden=!1,Ut(this,Dt,iE).call(this,An,dn),Ut(this,Dt,x_).call(this),_t(this,Lt)||(this.parent.addUndoableEditor(this),zt(this,Lt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},S_=function(cn,An){var gn;const[dn,fn]=this.parentDimensions;this.width=cn/dn,this.height=An/fn,this.setDims(cn,An),(gn=this._initialOptions)!=null&&gn.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,_t(this,Ft)!==null&&clearTimeout(_t(this,Ft)),zt(this,Ft,setTimeout(()=>{zt(this,Ft,null),Ut(this,Dt,iE).call(this,cn,An)},200))},__=function(cn,An){const{width:dn,height:fn}=_t(this,St);let nn=dn,gn=fn,Cn=_t(this,St);for(;nn>2*cn||gn>2*An;){const rn=nn,Xt=gn;nn>2*cn&&(nn=nn>=16384?Math.floor(nn/2)-1:Math.ceil(nn/2)),gn>2*An&&(gn=gn>=16384?Math.floor(gn/2)-1:Math.ceil(gn/2));const Yt=new OffscreenCanvas(nn,gn);Yt.getContext("2d").drawImage(Cn,0,0,rn,Xt,0,0,nn,gn),Cn=Yt.transferToImageBitmap()}return Cn},iE=function(cn,An){cn=Math.ceil(cn),An=Math.ceil(An);const dn=_t(this,Rt);if(!dn||dn.width===cn&&dn.height===An)return;dn.width=cn,dn.height=An;const fn=_t(this,$t)?_t(this,St):Ut(this,Dt,__).call(this,cn,An),nn=dn.getContext("2d");nn.filter=this._uiManager.hcmFilter,nn.drawImage(fn,0,0,fn.width,fn.height,0,0,cn,An)},q0=function(cn){if(cn){if(_t(this,$t)){const fn=this._uiManager.imageManager.getSvgUrl(_t(this,Ct));if(fn)return fn}const An=document.createElement("canvas");return{width:An.width,height:An.height}=_t(this,St),An.getContext("2d").drawImage(_t(this,St),0,0),An.toDataURL()}if(_t(this,$t)){const[An,dn]=this.pageDimensions,fn=Math.round(this.width*An*wt.PixelsPerInch.PDF_TO_CSS_UNITS),nn=Math.round(this.height*dn*wt.PixelsPerInch.PDF_TO_CSS_UNITS),gn=new OffscreenCanvas(fn,nn);return gn.getContext("2d").drawImage(_t(this,St),0,0,_t(this,St).width,_t(this,St).height,0,0,fn,nn),gn.transferToImageBitmap()}return structuredClone(_t(this,St))},x_=function(){zt(this,Mt,new ResizeObserver(cn=>{const An=cn[0].contentRect;An.width&&An.height&&Ut(this,Dt,S_).call(this,An.width,An.height)})),_t(this,Mt).observe(this.div)},xr(en,"_type","stamp");let Et=en;$.StampEditor=Et}],__webpack_module_cache__={};function __w_pdfjs_require__(_e){var $=__webpack_module_cache__[_e];if($!==void 0)return $.exports;var ht=__webpack_module_cache__[_e]={exports:{}};return __webpack_modules__[_e](ht,ht.exports,__w_pdfjs_require__),ht.exports}var __webpack_exports__={};return(()=>{var _e=__webpack_exports__;Object.defineProperty(_e,"__esModule",{value:!0}),Object.defineProperty(_e,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(_e,"AnnotationEditorLayer",{enumerable:!0,get:function(){return wt.AnnotationEditorLayer}}),Object.defineProperty(_e,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(_e,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(_e,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return At.AnnotationEditorUIManager}}),Object.defineProperty(_e,"AnnotationLayer",{enumerable:!0,get:function(){return Et.AnnotationLayer}}),Object.defineProperty(_e,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(_e,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(_e,"DOMSVGFactory",{enumerable:!0,get:function(){return vt.DOMSVGFactory}}),Object.defineProperty(_e,"FeatureTest",{enumerable:!0,get:function(){return $.FeatureTest}}),Object.defineProperty(_e,"GlobalWorkerOptions",{enumerable:!0,get:function(){return St.GlobalWorkerOptions}}),Object.defineProperty(_e,"ImageKind",{enumerable:!0,get:function(){return $.ImageKind}}),Object.defineProperty(_e,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(_e,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(_e,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(_e,"PDFDataRangeTransport",{enumerable:!0,get:function(){return ht.PDFDataRangeTransport}}),Object.defineProperty(_e,"PDFDateString",{enumerable:!0,get:function(){return vt.PDFDateString}}),Object.defineProperty(_e,"PDFWorker",{enumerable:!0,get:function(){return ht.PDFWorker}}),Object.defineProperty(_e,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(_e,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(_e,"PixelsPerInch",{enumerable:!0,get:function(){return vt.PixelsPerInch}}),Object.defineProperty(_e,"PromiseCapability",{enumerable:!0,get:function(){return $.PromiseCapability}}),Object.defineProperty(_e,"RenderingCancelledException",{enumerable:!0,get:function(){return vt.RenderingCancelledException}}),Object.defineProperty(_e,"SVGGraphics",{enumerable:!0,get:function(){return ht.SVGGraphics}}),Object.defineProperty(_e,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(_e,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(_e,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(_e,"XfaLayer",{enumerable:!0,get:function(){return Ct.XfaLayer}}),Object.defineProperty(_e,"build",{enumerable:!0,get:function(){return ht.build}}),Object.defineProperty(_e,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(_e,"getDocument",{enumerable:!0,get:function(){return ht.getDocument}}),Object.defineProperty(_e,"getFilenameFromUrl",{enumerable:!0,get:function(){return vt.getFilenameFromUrl}}),Object.defineProperty(_e,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return vt.getPdfFilenameFromUrl}}),Object.defineProperty(_e,"getXfaPageViewport",{enumerable:!0,get:function(){return vt.getXfaPageViewport}}),Object.defineProperty(_e,"isDataScheme",{enumerable:!0,get:function(){return vt.isDataScheme}}),Object.defineProperty(_e,"isPdfFile",{enumerable:!0,get:function(){return vt.isPdfFile}}),Object.defineProperty(_e,"loadScript",{enumerable:!0,get:function(){return vt.loadScript}}),Object.defineProperty(_e,"noContextMenu",{enumerable:!0,get:function(){return vt.noContextMenu}}),Object.defineProperty(_e,"normalizeUnicode",{enumerable:!0,get:function(){return $.normalizeUnicode}}),Object.defineProperty(_e,"renderTextLayer",{enumerable:!0,get:function(){return bt.renderTextLayer}}),Object.defineProperty(_e,"setLayerDimensions",{enumerable:!0,get:function(){return vt.setLayerDimensions}}),Object.defineProperty(_e,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(_e,"updateTextLayer",{enumerable:!0,get:function(){return bt.updateTextLayer}}),Object.defineProperty(_e,"version",{enumerable:!0,get:function(){return ht.version}});var $=__w_pdfjs_require__(1),ht=__w_pdfjs_require__(2),vt=__w_pdfjs_require__(6),bt=__w_pdfjs_require__(26),wt=__w_pdfjs_require__(27),At=__w_pdfjs_require__(5),Et=__w_pdfjs_require__(29),St=__w_pdfjs_require__(14),Ct=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;const pdfjs=getDefaultExportFromCjs(pdfExports);var core_min={};(function(_e){var $=reactExports,ht=pdfExports;function vt(Wt){var Qt=Object.create(null);return Wt&&Object.keys(Wt).forEach(function(bn){if(bn!=="default"){var wn=Object.getOwnPropertyDescriptor(Wt,bn);Object.defineProperty(Qt,bn,wn.get?wn:{enumerable:!0,get:function(){return Wt[bn]}})}}),Qt.default=Wt,Object.freeze(Qt)}var bt,wt=vt($),At=vt(ht);_e.AnnotationType=void 0,(bt=_e.AnnotationType||(_e.AnnotationType={}))[bt.Text=1]="Text",bt[bt.Link=2]="Link",bt[bt.FreeText=3]="FreeText",bt[bt.Line=4]="Line",bt[bt.Square=5]="Square",bt[bt.Circle=6]="Circle",bt[bt.Polygon=7]="Polygon",bt[bt.Polyline=8]="Polyline",bt[bt.Highlight=9]="Highlight",bt[bt.Underline=10]="Underline",bt[bt.Squiggly=11]="Squiggly",bt[bt.StrikeOut=12]="StrikeOut",bt[bt.Stamp=13]="Stamp",bt[bt.Caret=14]="Caret",bt[bt.Ink=15]="Ink",bt[bt.Popup=16]="Popup",bt[bt.FileAttachment=17]="FileAttachment";var Et=function(Wt,Qt){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bn,wn){bn.__proto__=wn}||function(bn,wn){for(var _n in wn)Object.prototype.hasOwnProperty.call(wn,_n)&&(bn[_n]=wn[_n])},Et(Wt,Qt)};function St(Wt,Qt){if(typeof Qt!="function"&&Qt!==null)throw new TypeError("Class extends value "+String(Qt)+" is not a constructor or null");function bn(){this.constructor=Wt}Et(Wt,Qt),Wt.prototype=Qt===null?Object.create(Qt):(bn.prototype=Qt.prototype,new bn)}var Ct,xt=function(){return xt=Object.assign||function(Wt){for(var Qt,bn=1,wn=arguments.length;bn<wn;bn++)for(var _n in Qt=arguments[bn])Object.prototype.hasOwnProperty.call(Qt,_n)&&(Wt[_n]=Qt[_n]);return Wt},xt.apply(this,arguments)};_e.TextDirection=void 0,(Ct=_e.TextDirection||(_e.TextDirection={})).RightToLeft="RTL",Ct.LeftToRight="LTR";var Pt,kt=wt.createContext({currentTheme:"light",direction:_e.TextDirection.LeftToRight,setCurrentTheme:function(){}}),Rt=function(Wt){var Qt=[];return Object.keys(Wt).forEach(function(bn){bn&&Wt[bn]&&Qt.push(bn)}),Qt.join(" ")},Mt=typeof window<"u"?wt.useLayoutEffect:wt.useEffect,Ft=function(Wt){var Qt=wt.useRef(null),bn=Wt.once,wn=Wt.threshold,_n=Wt.onVisibilityChanged;return Mt(function(){var Tn=Qt.current;if(Tn){var Bn=new IntersectionObserver(function(Ln){Ln.forEach(function(En){var $n=En.isIntersecting,Dn=En.intersectionRatio;_n({isVisible:$n,ratio:Dn}),$n&&bn&&(Bn.unobserve(Tn),Bn.disconnect())})},{threshold:wn||0});return Bn.observe(Tn),function(){Bn.unobserve(Tn),Bn.disconnect()}}},[]),Qt},$t=function(Wt){var Qt=Wt.children,bn=Wt.ignoreDirection,wn=bn!==void 0&&bn,_n=Wt.size,Tn=_n===void 0?24:_n,Bn=wt.useContext(kt).direction,Ln=!wn&&Bn===_e.TextDirection.RightToLeft,En="".concat(Tn||24,"px");return wt.createElement("svg",{"aria-hidden":"true",className:Rt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Ln}),focusable:"false",height:En,viewBox:"0 0 24 24",width:En},Qt)},Lt=function(){return wt.createElement($t,{size:16},wt.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},Dt=function(Wt){var Qt=Wt.children,bn=Wt.testId,wn=Wt.onClick,_n=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,Tn=bn?{"data-testid":bn}:{};return wt.createElement("button",xt({className:Rt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":_n}),type:"button",onClick:wn},Tn),Qt)},Ot=function(Wt){var Qt=Wt.size,bn=Qt===void 0?"4rem":Qt,wn=Wt.testId,_n=wt.useState(!1),Tn=_n[0],Bn=_n[1],Ln=wn?{"data-testid":wn}:{},En=Ft({onVisibilityChanged:function($n){Bn($n.isVisible)}});return wt.createElement("div",xt({},Ln,{className:Rt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Tn}),ref:En,style:{height:bn,width:bn}}))},Bt=function(Wt){var Qt=Wt.ariaLabel,bn=Qt===void 0?"":Qt,wn=Wt.autoFocus,_n=wn!==void 0&&wn,Tn=Wt.placeholder,Bn=Tn===void 0?"":Tn,Ln=Wt.testId,En=Wt.type,$n=En===void 0?"text":En,Dn=Wt.value,tr=Dn===void 0?"":Dn,er=Wt.onChange,_i=Wt.onKeyDown,ur=_i===void 0?function(){}:_i,lr=wt.useContext(kt).direction,sr=wt.useRef(),Jr=lr===_e.TextDirection.RightToLeft,Dr={ref:sr,"data-testid":"","aria-label":bn,className:Rt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Jr}),placeholder:Bn,value:tr,onChange:function($r){return er($r.target.value)},onKeyDown:ur};return Ln&&(Dr["data-testid"]=Ln),Mt(function(){if(_n){var $r=sr.current;if($r){var jr=window.scrollX,Cr=window.scrollY;$r.focus(),window.scrollTo(jr,Cr)}}},[]),$n==="text"?wt.createElement("input",xt({type:"text"},Dr)):wt.createElement("input",xt({type:"password"},Dr))};(function(Wt){Wt[Wt.ExitFullScreen=0]="ExitFullScreen",Wt[Wt.FullScreenChange=1]="FullScreenChange",Wt[Wt.FullScreenElement=2]="FullScreenElement",Wt[Wt.FullScreenEnabled=3]="FullScreenEnabled",Wt[Wt.RequestFullScreen=4]="RequestFullScreen"})(Pt||(Pt={}));var Nt,Ht={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Vt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},jt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},qt=typeof window<"u",Jt=qt&&(Pt.FullScreenEnabled in document&&Ht||Vt.FullScreenEnabled in document&&Vt||jt.FullScreenEnabled in document&&jt)||Ht,Gt=function(){return qt&&Jt.FullScreenEnabled in document&&document[Jt.FullScreenEnabled]===!0},en=function(Wt){return qt?Wt[Jt.ExitFullScreen]():Promise.resolve({})},an=function(){return qt?document[Jt.FullScreenElement]:null},Sn=function(Wt,Qt){var bn=wt.useRef(),wn=function(){bn.current&&clearTimeout(bn.current)};return wt.useEffect(function(){return function(){return wn()}},[]),wt.useCallback(function(){for(var _n=[],Tn=0;Tn<arguments.length;Tn++)_n[Tn]=arguments[Tn];wn(),bn.current=setTimeout(function(){Wt.apply(void 0,_n)},Qt)},[Wt,Qt])},cn=function(){var Wt=wt.useRef(!1);return wt.useEffect(function(){return Wt.current=!0,function(){Wt.current=!1}},[]),Wt},An=function(Wt){var Qt=wt.useRef(Wt);return wt.useEffect(function(){Qt.current=Wt},[Wt]),Qt.current};(function(Wt){Wt.NotRenderedYet="NotRenderedYet",Wt.Rendering="Rendering",Wt.Rendered="Rendered"})(Nt||(Nt={}));var dn,fn=-9999,nn=function(Wt){var Qt=Wt.doc,bn=Qt.numPages,wn=Qt.loadingTask.docId,_n=wt.useMemo(function(){return Array(bn).fill(null).map(function(Ln,En){return{pageIndex:En,renderStatus:Nt.NotRenderedYet,visibility:fn}})},[wn]),Tn=wt.useRef({currentRenderingPage:-1,startRange:0,endRange:bn-1,visibilities:_n}),Bn=function(Ln,En){Tn.current.visibilities[Ln].visibility=En};return{getHighestPriorityPage:function(){var Ln=Tn.current.visibilities.slice(Tn.current.startRange,Tn.current.endRange+1).filter(function(er){return er.visibility>fn});if(!Ln.length)return-1;for(var En=Ln[0].pageIndex,$n=Ln[Ln.length-1].pageIndex,Dn=Ln.length,tr=0;tr<Dn;tr++){if(Ln[tr].renderStatus===Nt.Rendering)return-1;if(Ln[tr].renderStatus===Nt.NotRenderedYet)return Ln[tr].pageIndex}return $n+1<bn&&Tn.current.visibilities[$n+1].renderStatus!==Nt.Rendered?$n+1:En-1>=0&&Tn.current.visibilities[En-1].renderStatus!==Nt.Rendered?En-1:-1},isInRange:function(Ln){return Ln>=Tn.current.startRange&&Ln<=Tn.current.endRange},markNotRendered:function(){for(var Ln=0;Ln<bn;Ln++)Tn.current.visibilities[Ln].renderStatus=Nt.NotRenderedYet},markRendered:function(Ln){Tn.current.visibilities[Ln].renderStatus=Nt.Rendered},markRendering:function(Ln){Tn.current.currentRenderingPage!==-1&&Tn.current.currentRenderingPage!==Ln&&Tn.current.visibilities[Tn.current.currentRenderingPage].renderStatus===Nt.Rendering&&(Tn.current.visibilities[Tn.current.currentRenderingPage].renderStatus=Nt.NotRenderedYet),Tn.current.visibilities[Ln].renderStatus=Nt.Rendering,Tn.current.currentRenderingPage=Ln},setOutOfRange:function(Ln){Bn(Ln,fn)},setRange:function(Ln,En){Tn.current.startRange=Ln,Tn.current.endRange=En;for(var $n=0;$n<bn;$n++)($n<Ln||$n>En)&&(Tn.current.visibilities[$n].visibility=fn,Tn.current.visibilities[$n].renderStatus=Nt.NotRenderedYet)},setVisibility:Bn}},gn={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},Cn=wt.createContext({l10n:gn,setL10n:function(){}}),rn=0,Xt=function(){return rn++},Yt=function(Wt,Qt,bn){var wn=function(_n){var Tn=Qt.current;if(Tn){var Bn=_n.target;if(Bn instanceof Element&&Bn.shadowRoot){var Ln=_n.composedPath();Ln.length>0&&!Tn.contains(Ln[0])&&bn()}else Tn.contains(Bn)||bn()}};wt.useEffect(function(){if(Wt){var _n={capture:!0};return document.addEventListener("click",wn,_n),function(){document.removeEventListener("click",wn,_n)}}},[])},tn=function(Wt){var Qt=function(bn){bn.key==="Escape"&&Wt()};wt.useEffect(function(){return document.addEventListener("keyup",Qt),function(){document.removeEventListener("keyup",Qt)}},[])},hn=function(Wt){var Qt=Wt.ariaControlsSuffix,bn=Wt.children,wn=Wt.closeOnClickOutside,_n=Wt.closeOnEscape,Tn=Wt.onToggle,Bn=wt.useRef(),Ln=wt.useContext(kt).direction===_e.TextDirection.RightToLeft;return wt.useEffect(function(){var En=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=En}},[]),tn(function(){Bn.current&&_n&&Tn()}),Yt(wn,Bn,Tn),Mt(function(){var En=Bn.current;if(En){var $n=.75*document.body.clientHeight;En.getBoundingClientRect().height>=$n&&(En.style.overflow="auto",En.style.maxHeight="".concat($n,"px"))}},[]),wt.createElement("div",{"aria-modal":"true",className:Rt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Ln}),id:"rpv-core__modal-body-".concat(Qt),ref:Bn,role:"dialog",tabIndex:-1},bn)},un=function(Wt){var Qt=Wt.children;return wt.createElement("div",{className:"rpv-core__modal-overlay"},Qt)};_e.ToggleStatus=void 0,(dn=_e.ToggleStatus||(_e.ToggleStatus={})).Close="Close",dn.Open="Open",dn.Toggle="Toggle";var pn,Pn=function(Wt){var Qt=wt.useState(Wt),bn=Qt[0],wn=Qt[1];return{opened:bn,toggle:function(_n){switch(_n){case _e.ToggleStatus.Close:wn(!1);break;case _e.ToggleStatus.Open:wn(!0);break;case _e.ToggleStatus.Toggle:default:wn(function(Tn){return!Tn})}}}},Vn=function(Wt){var Qt=Wt.content,bn=Wt.isOpened,wn=bn!==void 0&&bn,_n=Wt.target,Tn=Pn(wn),Bn=Tn.opened,Ln=Tn.toggle;return wt.createElement(wt.Fragment,null,_n&&_n(Ln,Bn),Bn&&Qt(Ln))};_e.Position=void 0,(pn=_e.Position||(_e.Position={})).TopLeft="TOP_LEFT",pn.TopCenter="TOP_CENTER",pn.TopRight="TOP_RIGHT",pn.RightTop="RIGHT_TOP",pn.RightCenter="RIGHT_CENTER",pn.RightBottom="RIGHT_BOTTOM",pn.BottomLeft="BOTTOM_LEFT",pn.BottomCenter="BOTTOM_CENTER",pn.BottomRight="BOTTOM_RIGHT",pn.LeftTop="LEFT_TOP",pn.LeftCenter="LEFT_CENTER",pn.LeftBottom="LEFT_BOTTOM";var Un,zn,Kn,Zn,Qn,In,On,sn,vn=function(Wt,Qt,bn,wn,_n){Mt(function(){var Tn=Qt.current,Bn=Wt.current,Ln=bn.current;if(Bn&&Tn&&Ln){var En=Ln.getBoundingClientRect(),$n=function(er,_i,ur,lr){var sr=_i.getBoundingClientRect(),Jr=er.getBoundingClientRect(),Dr=Jr.height,$r=Jr.width,jr=0,Cr=0;switch(ur){case _e.Position.TopLeft:jr=sr.top-Dr,Cr=sr.left;break;case _e.Position.TopCenter:jr=sr.top-Dr,Cr=sr.left+sr.width/2-$r/2;break;case _e.Position.TopRight:jr=sr.top-Dr,Cr=sr.left+sr.width-$r;break;case _e.Position.RightTop:jr=sr.top,Cr=sr.left+sr.width;break;case _e.Position.RightCenter:jr=sr.top+sr.height/2-Dr/2,Cr=sr.left+sr.width;break;case _e.Position.RightBottom:jr=sr.top+sr.height-Dr,Cr=sr.left+sr.width;break;case _e.Position.BottomLeft:jr=sr.top+sr.height,Cr=sr.left;break;case _e.Position.BottomCenter:jr=sr.top+sr.height,Cr=sr.left+sr.width/2-$r/2;break;case _e.Position.BottomRight:jr=sr.top+sr.height,Cr=sr.left+sr.width-$r;break;case _e.Position.LeftTop:jr=sr.top,Cr=sr.left-$r;break;case _e.Position.LeftCenter:jr=sr.top+sr.height/2-Dr/2,Cr=sr.left-$r;break;case _e.Position.LeftBottom:jr=sr.top+sr.height-Dr,Cr=sr.left-$r}return{left:Cr+(lr.left||0),top:jr+(lr.top||0)}}(Bn,Tn,wn,_n),Dn=$n.top,tr=$n.left;Bn.style.top="".concat(Dn-En.top,"px"),Bn.style.left="".concat(tr-En.left,"px")}},[])},Rn=function(Wt){var Qt,bn=Wt.customClassName,wn=Wt.position;return wt.createElement("div",{className:Rt((Qt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":wn===_e.Position.TopLeft,"rpv-core__arrow--tc":wn===_e.Position.TopCenter,"rpv-core__arrow--tr":wn===_e.Position.TopRight,"rpv-core__arrow--rt":wn===_e.Position.RightTop,"rpv-core__arrow--rc":wn===_e.Position.RightCenter,"rpv-core__arrow--rb":wn===_e.Position.RightBottom,"rpv-core__arrow--bl":wn===_e.Position.BottomLeft,"rpv-core__arrow--bc":wn===_e.Position.BottomCenter,"rpv-core__arrow--br":wn===_e.Position.BottomRight,"rpv-core__arrow--lt":wn===_e.Position.LeftTop,"rpv-core__arrow--lc":wn===_e.Position.LeftCenter,"rpv-core__arrow--lb":wn===_e.Position.LeftBottom},Qt["".concat(bn)]=bn!=="",Qt))})},Nn=function(Wt){var Qt=Wt.ariaControlsSuffix,bn=Wt.children,wn=Wt.closeOnClickOutside,_n=Wt.offset,Tn=Wt.position,Bn=Wt.targetRef,Ln=Wt.onClose,En=wt.useRef(),$n=wt.useRef(),Dn=wt.useRef(),tr=wt.useContext(kt).direction===_e.TextDirection.RightToLeft;Yt(wn,En,Ln),vn(En,Bn,Dn,Tn,_n),Mt(function(){var _i=$n.current;if(_i){var ur=.75*document.body.clientHeight;_i.getBoundingClientRect().height>=ur&&(_i.style.overflow="auto",_i.style.maxHeight="".concat(ur,"px"))}},[]);var er="rpv-core__popover-body-inner-".concat(Qt);return wt.createElement(wt.Fragment,null,wt.createElement("div",{ref:Dn,style:{left:0,position:"absolute",top:0}}),wt.createElement("div",{"aria-describedby":er,className:Rt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":tr}),id:"rpv-core__popover-body-".concat(Qt),ref:En,role:"dialog",tabIndex:-1},wt.createElement(Rn,{customClassName:"rpv-core__popover-body-arrow",position:Tn}),wt.createElement("div",{id:er,ref:$n},bn)))},Wn=function(Wt){var Qt=Wt.closeOnEscape,bn=Wt.onClose,wn=wt.useRef();return tn(function(){wn.current&&Qt&&bn()}),wt.createElement("div",{className:"rpv-core__popover-overlay",ref:wn})},Jn=function(Wt){var Qt=Wt.ariaControlsSuffix,bn=Wt.children,wn=Wt.contentRef,_n=Wt.offset,Tn=Wt.position,Bn=Wt.targetRef,Ln=wt.useRef(),En=wt.useContext(kt).direction===_e.TextDirection.RightToLeft;return vn(wn,Bn,Ln,Tn,_n),wt.createElement(wt.Fragment,null,wt.createElement("div",{ref:Ln,style:{left:0,position:"absolute",top:0}}),wt.createElement("div",{className:Rt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":En}),id:"rpv-core__tooltip-body-".concat(Qt),ref:wn,role:"tooltip"},wt.createElement(Rn,{customClassName:"rpv-core__tooltip-body-arrow",position:Tn}),wt.createElement("div",{className:"rpv-core__tooltip-body-content"},bn)))};_e.FullScreenMode=void 0,(Un=_e.FullScreenMode||(_e.FullScreenMode={})).Normal="Normal",Un.Entering="Entering",Un.Entered="Entered",Un.EnteredCompletely="EnteredCompletely",Un.Exitting="Exitting",Un.Exited="Exited",_e.LayerRenderStatus=void 0,(zn=_e.LayerRenderStatus||(_e.LayerRenderStatus={}))[zn.PreRender=0]="PreRender",zn[zn.DidRender=1]="DidRender",_e.PageMode=void 0,(Kn=_e.PageMode||(_e.PageMode={})).Attachments="UseAttachments",Kn.Bookmarks="UseOutlines",Kn.ContentGroup="UseOC",Kn.Default="UserNone",Kn.FullScreen="FullScreen",Kn.Thumbnails="UseThumbs",_e.PasswordStatus=void 0,(Zn=_e.PasswordStatus||(_e.PasswordStatus={})).RequiredPassword="RequiredPassword",Zn.WrongPassword="WrongPassword",_e.RotateDirection=void 0,(Qn=_e.RotateDirection||(_e.RotateDirection={})).Backward="Backward",Qn.Forward="Forward",_e.ScrollMode=void 0,(In=_e.ScrollMode||(_e.ScrollMode={})).Page="Page",In.Horizontal="Horizontal",In.Vertical="Vertical",In.Wrapped="Wrapped",_e.SpecialZoomLevel=void 0,(On=_e.SpecialZoomLevel||(_e.SpecialZoomLevel={})).ActualSize="ActualSize",On.PageFit="PageFit",On.PageWidth="PageWidth",_e.ViewMode=void 0,(sn=_e.ViewMode||(_e.ViewMode={})).DualPage="DualPage",sn.DualPageWithCover="DualPageWithCover",sn.SinglePage="SinglePage";var Xn,kn=function(Wt,Qt){return Wt.reduce(function(bn,wn,_n){return _n%Qt?bn[bn.length-1].push(wn):bn.push([wn]),bn},[])},ar=function(Wt,Qt){switch(Qt[1].name){case"XYZ":return{bottomOffset:function(bn,wn){return Qt[3]===null?wn:Qt[3]},leftOffset:function(bn,wn){return Qt[2]===null?0:Qt[2]},pageIndex:Wt,scaleTo:Qt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Wt,scaleTo:_e.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:Qt[2],leftOffset:0,pageIndex:Wt,scaleTo:_e.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Wt,scaleTo:1}}},ir=new Map,Nr=new Map,Rr=function(Wt,Qt){return"".concat(Wt.loadingTask.docId,"___").concat(Qt.num,"R").concat(Qt.gen===0?"":Qt.gen)},Yr=function(Wt,Qt,bn){ir.set(Rr(Wt,Qt),bn)},fr=function(Wt,Qt){if(!Wt)return Promise.reject("The document is not loaded yet");var bn="".concat(Wt.loadingTask.docId,"___").concat(Qt),wn=Nr.get(bn);return wn?Promise.resolve(wn):new Promise(function(_n,Tn){Wt.getPage(Qt+1).then(function(Bn){Nr.set(bn,Bn),Bn.ref&&Yr(Wt,Bn.ref,Qt),_n(Bn)})})},_r=function(Wt,Qt){return new Promise(function(bn){new Promise(function(wn){typeof Qt=="string"?Wt.getDestination(Qt).then(function(_n){wn(_n)}):wn(Qt)}).then(function(wn){if(typeof wn[0]=="object"&&wn[0]!==null){var _n=wn[0],Tn=function(Ln,En){var $n=Rr(Ln,En);return ir.has($n)?ir.get($n):null}(Wt,_n);Tn===null?Wt.getPageIndex(_n).then(function(Ln){Yr(Wt,_n,Ln),_r(Wt,Qt).then(function(En){return bn(En)})}):bn(ar(Tn,wn))}else{var Bn=ar(wn[0],wn);bn(Bn)}})})};(function(Wt){Wt[Wt.Solid=1]="Solid",Wt[Wt.Dashed=2]="Dashed",Wt[Wt.Beveled=3]="Beveled",Wt[Wt.Inset=4]="Inset",Wt[Wt.Underline=5]="Underline"})(Xn||(Xn={}));var Ur,rs=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),qn=function(Wt,Qt,bn,wn){var _n=parseInt(Wt,10);return _n>=Qt&&_n<=bn?_n:wn},Mn=function(Wt){return Wt.contentsObj?Wt.contentsObj.str:Wt.contents||""},Fn=function(Wt){return Wt.titleObj?Wt.titleObj.str:Wt.title||""},hr=function(Wt){var Qt=Wt.annotation,bn=wt.useContext(kt).direction,wn=Fn(Qt),_n=Mn(Qt),Tn=bn===_e.TextDirection.RightToLeft,Bn=wt.useRef(),Ln="";if(Qt.modificationDate){var En=function($n){var Dn=rs.exec($n);if(!Dn)return null;var tr=parseInt(Dn[1],10),er=qn(Dn[2],1,12,1)-1,_i=qn(Dn[3],1,31,1),ur=qn(Dn[4],0,23,0),lr=qn(Dn[5],0,59,0),sr=qn(Dn[6],0,59,0),Jr=Dn[7]||"Z",Dr=qn(Dn[8],0,23,0),$r=qn(Dn[9],0,59,0);switch(Jr){case"-":ur+=Dr,lr+=$r;break;case"+":ur-=Dr,lr-=$r}return new Date(Date.UTC(tr,er,_i,ur,lr,sr))}(Qt.modificationDate);Ln=En?"".concat(En.toLocaleDateString(),", ").concat(En.toLocaleTimeString()):""}return wt.useLayoutEffect(function(){if(Bn.current){var $n=document.querySelector('[data-annotation-id="'.concat(Qt.id,'"]'));if($n){var Dn=$n;return Dn.style.zIndex+=1,function(){Dn.style.zIndex="".concat(parseInt(Dn.style.zIndex,10)-1)}}}},[]),wt.createElement("div",{ref:Bn,className:Rt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Tn}),style:{top:Qt.annotationType===_e.AnnotationType.Popup?"":"100%"}},wn&&wt.createElement(wt.Fragment,null,wt.createElement("div",{className:Rt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Tn,"rpv-core__annotation-popup-title--rtl":Tn})},wn),wt.createElement("div",{className:"rpv-core__annotation-popup-date"},Ln)),_n&&wt.createElement("div",{className:"rpv-core__annotation-popup-content"},_n.split(`
`).map(function($n,Dn){return wt.createElement(wt.Fragment,{key:Dn},$n,wt.createElement("br",null))})))};(function(Wt){Wt.Click="Click",Wt.Hover="Hover"})(Ur||(Ur={}));var gr,kr=function(Wt){var Qt,bn=Wt.annotation,wn=Wt.children,_n=Wt.ignoreBorder,Tn=Wt.hasPopup,Bn=Wt.isRenderable,Ln=Wt.page,En=Wt.viewport,$n=bn.rect,Dn=function(){var Br=Pn(!1),ls=Br.opened,ss=Br.toggle,cs=wt.useState(Ur.Hover),ds=cs[0],ps=cs[1];return{opened:ls,closeOnHover:function(){ds===Ur.Hover&&ss(_e.ToggleStatus.Close)},openOnHover:function(){ds===Ur.Hover&&ss(_e.ToggleStatus.Open)},toggleOnClick:function(){switch(ds){case Ur.Click:ls&&ps(Ur.Hover),ss(_e.ToggleStatus.Toggle);break;case Ur.Hover:ps(Ur.Click),ss(_e.ToggleStatus.Open)}}}}(),tr=Dn.closeOnHover,er=Dn.opened,_i=Dn.openOnHover,ur=Dn.toggleOnClick,lr=(Qt=[$n[0],Ln.view[3]+Ln.view[1]-$n[1],$n[2],Ln.view[3]+Ln.view[1]-$n[3]],[Math.min(Qt[0],Qt[2]),Math.min(Qt[1],Qt[3]),Math.max(Qt[0],Qt[2]),Math.max(Qt[1],Qt[3])]),sr=$n[2]-$n[0],Jr=$n[3]-$n[1],Dr={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!_n&&bn.borderStyle.width>0){switch(bn.borderStyle.style){case Xn.Dashed:Dr.borderStyle="dashed";break;case Xn.Solid:Dr.borderStyle="solid";break;case Xn.Underline:Dr=Object.assign({borderBottomStyle:"solid"},Dr);case Xn.Beveled:case Xn.Inset:}var $r=bn.borderStyle.width;Dr.borderWidth="".concat($r,"px"),bn.borderStyle.style!==Xn.Underline&&(sr-=2*$r,Jr-=2*$r);var jr=bn.borderStyle,Cr=jr.horizontalCornerRadius,zr=jr.verticalCornerRadius;(Cr>0||zr>0)&&(Dr.borderRadius="".concat(Cr,"px / ").concat(zr,"px")),bn.color?Dr.borderColor="rgb(".concat(0|bn.color[0],", ").concat(0|bn.color[1],", ").concat(0|bn.color[2],")"):Dr.borderWidth="0"}return wt.createElement(wt.Fragment,null,Bn&&wn({popup:{opened:er,closeOnHover:tr,openOnHover:_i,toggleOnClick:ur},slot:{attrs:{style:Object.assign({height:"".concat(Jr,"px"),left:"".concat(lr[0],"px"),top:"".concat(lr[1],"px"),transform:"matrix(".concat(En.transform.join(","),")"),transformOrigin:"-".concat(lr[0],"px -").concat(lr[1],"px"),width:"".concat(sr,"px")},Dr)},children:wt.createElement(wt.Fragment,null,Tn&&er&&wt.createElement(hr,{annotation:bn}))}}))},yn=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn);return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},Gn=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn),En=Qt.rect,$n=En[2]-En[0],Dn=En[3]-En[1],tr=Qt.borderStyle.width;return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(er){return wt.createElement("div",xt({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":Qt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),wt.createElement("svg",{height:"".concat(Dn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(Dn),width:"".concat($n,"px")},wt.createElement("circle",{cy:Dn/2,fill:"none",rx:$n/2-tr/2,ry:Dn/2-tr/2,stroke:"transparent",strokeWidth:tr||1})),er.slot.children)})},or=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Fn(Qt),Tn=Mn(Qt),Bn=!(Qt.hasPopup!==!1||!_n&&!Tn),Ln=function(){var En,$n,Dn,tr,er=Qt.file;er&&(En=er.filename,$n=er.content,Dn=typeof $n=="string"?"":URL.createObjectURL(new Blob([$n],{type:""})),(tr=document.createElement("a")).style.display="none",tr.href=Dn||En,tr.setAttribute("download",function(_i){var ur=_i.split("/").pop();return ur?ur.split("#")[0].split("?")[0]:_i}(En)),document.body.appendChild(tr),tr.click(),document.body.removeChild(tr),Dn&&URL.revokeObjectURL(Dn))};return wt.createElement(kr,{annotation:Qt,hasPopup:Bn,ignoreBorder:!0,isRenderable:!0,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onDoubleClick:Ln,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},vr=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn);return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},wr=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Fn(Qt),Tn=Mn(Qt),Bn=!(!_n&&!Tn),Ln=!Qt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(Qt.parentType)!==-1;return Mt(function(){if(Qt.parentId){var En=document.querySelector('[data-annotation-id="'.concat(Qt.parentId,'"]')),$n=document.querySelector('[data-annotation-id="'.concat(Qt.id,'"]'));if(En&&$n){var Dn=parseFloat(En.style.left),tr=parseFloat(En.style.top)+parseFloat(En.style.height);$n.style.left="".concat(Dn,"px"),$n.style.top="".concat(tr,"px"),$n.style.transformOrigin="-".concat(Dn,"px -").concat(tr,"px")}}},[]),wt.createElement(kr,{annotation:Qt,hasPopup:Ln,ignoreBorder:!1,isRenderable:Bn,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":Qt.id}),wt.createElement(hr,{annotation:Qt}))})},dr=function(Wt){var Qt=Wt.annotation,bn=Wt.childAnnotation,wn=Wt.page,_n=Wt.viewport,Tn=Qt.hasPopup===!1,Bn=Fn(Qt),Ln=Mn(Qt),En=!!(Qt.hasPopup||Bn||Ln);if(Qt.quadPoints&&Qt.quadPoints.length>0){var $n=Qt.quadPoints.map(function(Dn){return Object.assign({},Qt,{rect:[Dn[2].x,Dn[2].y,Dn[1].x,Dn[1].y],quadPoints:[]})});return wt.createElement(wt.Fragment,null,$n.map(function(Dn,tr){return wt.createElement(dr,{key:tr,annotation:Dn,childAnnotation:bn,page:wn,viewport:_n})}))}return wt.createElement(kr,{annotation:Qt,hasPopup:Tn,ignoreBorder:!0,isRenderable:En,page:wn,viewport:_n},function(Dn){return wt.createElement(wt.Fragment,null,wt.createElement("div",xt({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":Qt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),Dn.slot.children),bn&&bn.annotationType===_e.AnnotationType.Popup&&Dn.popup.opened&&wt.createElement(wr,{annotation:bn,page:wn,viewport:_n}))})},mn=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn),En=Qt.rect,$n=En[2]-En[0],Dn=En[3]-En[1],tr=Qt.borderStyle.width;return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(er){return wt.createElement("div",xt({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":Qt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),Qt.inkLists&&Qt.inkLists.length&&wt.createElement("svg",{height:"".concat(Dn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(Dn),width:"".concat($n,"px")},Qt.inkLists.map(function(_i,ur){return wt.createElement("polyline",{key:ur,fill:"none",stroke:"transparent",strokeWidth:tr||1,points:_i.map(function(lr){return"".concat(lr.x-En[0],",").concat(En[3]-lr.y)}).join(" ")})})),er.slot.children)})},ln=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn),En=Qt.rect,$n=En[2]-En[0],Dn=En[3]-En[1],tr=Qt.borderStyle.width;return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(er){return wt.createElement("div",xt({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":Qt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),wt.createElement("svg",{height:"".concat(Dn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(Dn),width:"".concat($n,"px")},wt.createElement("line",{stroke:"transparent",strokeWidth:tr||1,x1:En[2]-Qt.lineCoordinates[0],x2:En[2]-Qt.lineCoordinates[2],y1:En[3]-Qt.lineCoordinates[1],y2:En[3]-Qt.lineCoordinates[3]})),er.slot.children)})},xn=/^([^\w]*)(javascript|data|vbscript)/im,Hn=/&#(\w+)(^\w|;)?/g,jn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Yn=/^([^:]+):/gm,nr=function(Wt,Qt){var bn,wn=(bn=Wt||"",bn.replace(Hn,function(Ln,En){return String.fromCharCode(En)})).replace(jn,"").trim();if(!wn)return Qt;var _n=wn[0];if(_n==="."||_n==="/")return wn;var Tn=wn.match(Yn);if(!Tn)return wn;var Bn=Tn[0];return xn.test(Bn)?Qt:wn},yr=function(Wt){var Qt,bn=Wt.annotation,wn=Wt.annotationContainerRef,_n=Wt.doc,Tn=Wt.outlines,Bn=Wt.page,Ln=Wt.pageIndex,En=Wt.scale,$n=Wt.viewport,Dn=Wt.onExecuteNamedAction,tr=Wt.onJumpFromLinkAnnotation,er=Wt.onJumpToDest,_i=wt.useRef(),ur=Tn&&Tn.length&&bn.dest&&typeof bn.dest=="string"?(Qt=Tn.find(function(Dr){return Dr.dest===bn.dest}))===null||Qt===void 0?void 0:Qt.title:"",lr=!!(bn.url||bn.dest||bn.action||bn.unsafeUrl),sr={};if(bn.url||bn.unsafeUrl){var Jr=nr(bn.url||bn.unsafeUrl,"");Jr?sr={"data-target":"external",href:Jr,rel:"noopener noreferrer nofollow",target:bn.newWindow?"_blank":"",title:Jr}:lr=!1}else sr={href:"","data-annotation-link":bn.id,onClick:function(Dr){Dr.preventDefault(),bn.action?Dn(bn.action):_r(_n,bn.dest).then(function($r){var jr=_i.current,Cr=wn.current;if(jr&&Cr){var zr=jr.getBoundingClientRect();Cr.style.setProperty("height","100%"),Cr.style.setProperty("width","100%");var Br=Cr.getBoundingClientRect();Cr.style.removeProperty("height"),Cr.style.removeProperty("width");var ls=(zr.left-Br.left)/En,ss=(Br.bottom-zr.bottom+zr.height)/En;tr({bottomOffset:ss,label:ur,leftOffset:ls,pageIndex:Ln})}er($r)})}};return ur&&(sr=Object.assign({},sr,{title:ur,"aria-label":ur})),wt.createElement(kr,{annotation:bn,hasPopup:!1,ignoreBorder:!1,isRenderable:lr,page:Bn,viewport:$n},function(Dr){return wt.createElement("div",xt({},Dr.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":bn.id,"data-testid":"core__annotation--link-".concat(bn.id)}),wt.createElement("a",xt({ref:_i},sr)))})},pr=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn),En=Qt.rect,$n=En[2]-En[0],Dn=En[3]-En[1],tr=Qt.borderStyle.width;return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(er){return wt.createElement("div",xt({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":Qt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),Qt.vertices&&Qt.vertices.length&&wt.createElement("svg",{height:"".concat(Dn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(Dn),width:"".concat($n,"px")},wt.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:tr||1,points:Qt.vertices.map(function(_i){return"".concat(_i.x-En[0],",").concat(En[3]-_i.y)}).join(" ")})),er.slot.children)})},cr=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn),En=Qt.rect,$n=En[2]-En[0],Dn=En[3]-En[1],tr=Qt.borderStyle.width;return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(er){return wt.createElement("div",xt({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":Qt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),Qt.vertices&&Qt.vertices.length&&wt.createElement("svg",{height:"".concat(Dn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(Dn),width:"".concat($n,"px")},wt.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:tr||1,points:Qt.vertices.map(function(_i){return"".concat(_i.x-En[0],",").concat(En[3]-_i.y)}).join(" ")})),er.slot.children)})},Hr=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn),En=Qt.rect,$n=En[2]-En[0],Dn=En[3]-En[1],tr=Qt.borderStyle.width;return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(er){return wt.createElement("div",xt({},er.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":Qt.id,onClick:er.popup.toggleOnClick,onMouseEnter:er.popup.openOnHover,onMouseLeave:er.popup.closeOnHover}),wt.createElement("svg",{height:"".concat(Dn,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat($n," ").concat(Dn),width:"".concat($n,"px")},wt.createElement("rect",{height:Dn-tr,fill:"none",stroke:"transparent",strokeWidth:tr||1,x:tr/2,y:tr/2,width:$n-tr})),er.slot.children)})},mr=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn);return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},Ar=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn);return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},Ir=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn);return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},Gr=function(){return wt.createElement($t,{size:16},wt.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),wt.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),wt.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),wt.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ts=function(){return wt.createElement($t,{size:16},wt.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),wt.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),wt.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),wt.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),wt.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),wt.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),wt.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),wt.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),wt.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),wt.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},fs=function(){return wt.createElement($t,{size:16},wt.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),wt.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Hs=function(){return wt.createElement($t,{size:16},wt.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),wt.createElement("path",{d:"M6 4.5L6 0.5"}),wt.createElement("path",{d:"M18 4.5L18 0.5"}),wt.createElement("path",{d:"M10 4.5L10 0.5"}),wt.createElement("path",{d:"M14 4.5L14 0.5"}))},Ms=function(){return wt.createElement($t,{size:16},wt.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),wt.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),wt.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Vo=function(){return wt.createElement($t,{size:16},wt.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ga=function(Wt){var Qt=Wt.annotation,bn=Wt.childAnnotation,wn=Wt.page,_n=Wt.viewport,Tn=Qt.hasPopup===!1,Bn=Fn(Qt),Ln=Mn(Qt),En=!!(Qt.hasPopup||Bn||Ln),$n=Qt.name?Qt.name.toLowerCase():"";return wt.createElement(kr,{annotation:Qt,hasPopup:Tn,ignoreBorder:!1,isRenderable:En,page:wn,viewport:_n},function(Dn){return wt.createElement(wt.Fragment,null,wt.createElement("div",xt({},Dn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":Qt.id,onClick:Dn.popup.toggleOnClick,onMouseEnter:Dn.popup.openOnHover,onMouseLeave:Dn.popup.closeOnHover}),$n&&wt.createElement("div",{className:"rpv-core__annotation-text-icon"},$n==="check"&&wt.createElement(Lt,null),$n==="comment"&&wt.createElement(Gr,null),$n==="help"&&wt.createElement(ts,null),$n==="insert"&&wt.createElement(Vo,null),$n==="key"&&wt.createElement(fs,null),$n==="note"&&wt.createElement(Hs,null),($n==="newparagraph"||$n==="paragraph")&&wt.createElement(Ms,null)),Dn.slot.children),bn&&bn.annotationType===_e.AnnotationType.Popup&&Dn.popup.opened&&wt.createElement(wr,{annotation:bn,page:wn,viewport:_n}))})},ba=function(Wt){var Qt=Wt.annotation,bn=Wt.page,wn=Wt.viewport,_n=Qt.hasPopup===!1,Tn=Fn(Qt),Bn=Mn(Qt),Ln=!!(Qt.hasPopup||Tn||Bn);return wt.createElement(kr,{annotation:Qt,hasPopup:_n,ignoreBorder:!0,isRenderable:Ln,page:bn,viewport:wn},function(En){return wt.createElement("div",xt({},En.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":Qt.id,onClick:En.popup.toggleOnClick,onMouseEnter:En.popup.openOnHover,onMouseLeave:En.popup.closeOnHover}),En.slot.children)})},i0=function(Wt){var Qt=Wt.annotations,bn=Wt.doc,wn=Wt.outlines,_n=Wt.page,Tn=Wt.pageIndex,Bn=Wt.plugins,Ln=Wt.rotation,En=Wt.scale,$n=Wt.onExecuteNamedAction,Dn=Wt.onJumpFromLinkAnnotation,tr=Wt.onJumpToDest,er=wt.useRef(),_i=_n.getViewport({rotation:Ln,scale:En}).clone({dontFlip:!0}),ur=Qt.filter(function(lr){return!lr.parentId});return Mt(function(){var lr=er.current;lr&&Bn.forEach(function(sr){sr.onAnnotationLayerRender&&sr.onAnnotationLayerRender({annotations:ur,container:lr,pageIndex:Tn,rotation:Ln,scale:En})})},[]),wt.createElement("div",{ref:er,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Tn)},ur.map(function(lr){var sr=Qt.find(function(Jr){return Jr.parentId===lr.id});switch(lr.annotationType){case _e.AnnotationType.Caret:return wt.createElement(yn,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Circle:return wt.createElement(Gn,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.FileAttachment:return wt.createElement(or,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.FreeText:return wt.createElement(vr,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Highlight:return wt.createElement(dr,{key:lr.id,annotation:lr,childAnnotation:sr,page:_n,viewport:_i});case _e.AnnotationType.Ink:return wt.createElement(mn,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Line:return wt.createElement(ln,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Link:return wt.createElement(yr,{key:lr.id,annotation:lr,annotationContainerRef:er,doc:bn,outlines:wn,page:_n,pageIndex:Tn,scale:En,viewport:_i,onExecuteNamedAction:$n,onJumpFromLinkAnnotation:Dn,onJumpToDest:tr});case _e.AnnotationType.Polygon:return wt.createElement(pr,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Polyline:return wt.createElement(cr,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Popup:return wt.createElement(wr,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Square:return wt.createElement(Hr,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Squiggly:return wt.createElement(mr,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Stamp:return wt.createElement(Ar,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.StrikeOut:return wt.createElement(Ir,{key:lr.id,annotation:lr,page:_n,viewport:_i});case _e.AnnotationType.Text:return wt.createElement(ga,{key:lr.id,annotation:lr,childAnnotation:sr,page:_n,viewport:_i});case _e.AnnotationType.Underline:return wt.createElement(ba,{key:lr.id,annotation:lr,page:_n,viewport:_i});default:return wt.createElement(wt.Fragment,{key:lr.id})}}))},C_=function(Wt){var Qt=Wt.page,bn=Wt.renderAnnotations,wn=cn(),_n=wt.useState({loading:!0,annotations:[]}),Tn=_n[0],Bn=_n[1];return wt.useEffect(function(){Qt.getAnnotations({intent:"display"}).then(function(Ln){wn.current&&Bn({loading:!1,annotations:Ln})})},[]),Tn.loading?wt.createElement(wt.Fragment,null):bn(Tn.annotations)},T_=function(Wt){var Qt=Wt.doc,bn=Wt.outlines,wn=Wt.page,_n=Wt.pageIndex,Tn=Wt.plugins,Bn=Wt.rotation,Ln=Wt.scale,En=Wt.onExecuteNamedAction,$n=Wt.onJumpFromLinkAnnotation,Dn=Wt.onJumpToDest;return wt.createElement(C_,{page:wn,renderAnnotations:function(tr){return wt.createElement(i0,{annotations:tr,doc:Qt,outlines:bn,page:wn,pageIndex:_n,plugins:Tn,rotation:Bn,scale:Ln,onExecuteNamedAction:En,onJumpFromLinkAnnotation:$n,onJumpToDest:Dn})}})},r0=function(Wt,Qt){var bn=Wt%Qt;return bn===0?Wt:Math.floor(Wt-bn)},P_=function(Wt){var Qt=Wt.canvasLayerRef,bn=Wt.height,wn=Wt.page,_n=Wt.pageIndex,Tn=Wt.plugins,Bn=Wt.rotation,Ln=Wt.scale,En=Wt.width,$n=Wt.onRenderCanvasCompleted,Dn=wt.useRef();return Mt(function(){var tr=Dn.current;tr&&tr.cancel();var er=Qt.current;er.removeAttribute("data-testid"),Tn.forEach(function(Br){Br.onCanvasLayerRender&&Br.onCanvasLayerRender({ele:er,pageIndex:_n,rotation:Bn,scale:Ln,status:_e.LayerRenderStatus.PreRender})});var _i=wn.getViewport({rotation:Bn,scale:Ln}),ur=window.devicePixelRatio||1,lr=Math.sqrt(16777216/(_i.width*_i.height)),sr=ur>lr;sr?er.style.transform="scale(1, 1)":er.style.removeProperty("transform");var Jr=Math.min(lr,ur),Dr=function(Br,ls){var ss,cs;if(Math.floor(Br)===Br)return[Br,1];var ds=1/Br;if(ds>ls)return[1,ls];if(Math.floor(ds)===ds)return[1,ds];for(var ps=Br>1?ds:Br,Os=0,Cs=1,Bs=1,Ls=1;;){var Ds=Os+Bs,Is=Cs+Ls;if(Is>ls)break;ps<=Ds/Is?(Bs=(ss=[Ds,Is])[0],Ls=ss[1]):(Os=(cs=[Ds,Is])[0],Cs=cs[1])}return ps<(Os/Cs+Bs/Ls)/2?ps===Br?[Os,Cs]:[Cs,Os]:ps===Br?[Bs,Ls]:[Ls,Bs]}(Jr,8),$r=Dr[0],jr=Dr[1];er.width=r0(_i.width*Jr,$r),er.height=r0(_i.height*Jr,$r),er.style.width="".concat(r0(_i.width,jr),"px"),er.style.height="".concat(r0(_i.height,jr),"px"),er.hidden=!0;var Cr=er.getContext("2d",{alpha:!1}),zr=sr||ur!==1?[Jr,0,0,Jr,0,0]:null;return Dn.current=wn.render({canvasContext:Cr,transform:zr,viewport:_i}),Dn.current.promise.then(function(){er.hidden=!1,er.setAttribute("data-testid","core__canvas-layer-".concat(_n)),Tn.forEach(function(Br){Br.onCanvasLayerRender&&Br.onCanvasLayerRender({ele:er,pageIndex:_n,rotation:Bn,scale:Ln,status:_e.LayerRenderStatus.DidRender})}),$n()},function(){$n()}),function(){er&&(er.width=0,er.height=0)}},[]),wt.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(bn,"px"),width:"".concat(En,"px")}},wt.createElement("canvas",{ref:Qt}))},k_=function(Wt){var Qt=Wt.height,bn=Wt.page,wn=Wt.rotation,_n=Wt.scale,Tn=Wt.width,Bn=wt.useRef();return Mt(function(){var Ln=Bn.current,En=bn.getViewport({rotation:wn,scale:_n});bn.getOperatorList().then(function($n){(function(){var Dn=Bn.current;Dn&&(Dn.innerHTML="")})(),new At.SVGGraphics(bn.commonObjs,bn.objs).getSVG($n,En).then(function(Dn){Dn.style.height="".concat(Qt,"px"),Dn.style.width="".concat(Tn,"px"),Ln.appendChild(Dn)})})},[]),wt.createElement("div",{className:"rpv-core__svg-layer",ref:Bn})},R_=function(Wt){var Qt=Wt.containerRef,bn=Wt.page,wn=Wt.pageIndex,_n=Wt.plugins,Tn=Wt.rotation,Bn=Wt.scale,Ln=Wt.onRenderTextCompleted,En=wt.useRef(),$n=function(){var Dn=Qt.current;Dn&&([].slice.call(Dn.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(tr){return Dn.removeChild(tr)}),[].slice.call(Dn.querySelectorAll('br[role="presentation"]')).forEach(function(tr){return Dn.removeChild(tr)}))};return Mt(function(){var Dn=En.current;Dn&&Dn.cancel();var tr=Qt.current;if(tr){tr.removeAttribute("data-testid");var er=bn.getViewport({rotation:Tn,scale:Bn});return _n.forEach(function(_i){_i.onTextLayerRender&&_i.onTextLayerRender({ele:tr,pageIndex:wn,scale:Bn,status:_e.LayerRenderStatus.PreRender})}),bn.getTextContent().then(function(_i){$n(),En.current=At.renderTextLayer({container:tr,textContent:_i,textContentSource:_i,viewport:er}),En.current.promise.then(function(){tr.setAttribute("data-testid","core__text-layer-".concat(wn)),[].slice.call(tr.children).forEach(function(ur){ur.classList.contains("rpv-core__text-layer-text--not")||ur.classList.add("rpv-core__text-layer-text")}),_n.forEach(function(ur){ur.onTextLayerRender&&ur.onTextLayerRender({ele:tr,pageIndex:wn,scale:Bn,status:_e.LayerRenderStatus.DidRender})}),Ln()},function(){tr.removeAttribute("data-testid"),Ln()})}),function(){var _i;$n(),(_i=En.current)===null||_i===void 0||_i.cancel()}}},[]),wt.createElement("div",{className:"rpv-core__text-layer",ref:Qt})},M_=function(Wt){var Qt=Wt.doc,bn=Wt.measureRef,wn=Wt.outlines,_n=Wt.pageIndex,Tn=Wt.pageRotation,Bn=Wt.pageSize,Ln=Wt.plugins,En=Wt.renderPage,$n=Wt.renderQueueKey,Dn=Wt.rotation,tr=Wt.scale,er=Wt.shouldRender,_i=Wt.viewMode,ur=Wt.onExecuteNamedAction,lr=Wt.onJumpFromLinkAnnotation,sr=Wt.onJumpToDest,Jr=Wt.onRenderCompleted,Dr=Wt.onRotatePage,$r=cn(),jr=wt.useState(null),Cr=jr[0],zr=jr[1],Br=wt.useState(!1),ls=Br[0],ss=Br[1],cs=wt.useState(!1),ds=cs[0],ps=cs[1],Os=wt.useRef(),Cs=wt.useRef(),Bs=Math.abs(Dn+Tn)%180==0,Ls=Bn.pageWidth*tr,Ds=Bn.pageHeight*tr,Is=Bs?Ls:Ds,Fs=Bs?Ds:Ls,eo=(Bn.rotation+Dn+Tn)%360,_a=wt.useRef(0),Ho=En||function(Ws){return wt.createElement(wt.Fragment,null,Ws.canvasLayer.children,Ws.textLayer.children,Ws.annotationLayer.children)};return wt.useEffect(function(){zr(null),ss(!1),ps(!1)},[Tn,Dn,tr]),wt.useEffect(function(){er&&$r.current&&!Cr&&fr(Qt,_n).then(function(Ws){$r.current&&(_a.current=$n,zr(Ws))})},[er,Cr]),wt.useEffect(function(){ls&&ds&&($n!==_a.current?(zr(null),ss(!1),ps(!1)):Jr(_n))},[ls,ds]),wt.createElement("div",{className:Rt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":_i===_e.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":_i===_e.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":_i===_e.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(_n),ref:bn,style:{height:"".concat(Fs,"px"),width:"".concat(Is,"px")}},Cr?wt.createElement(wt.Fragment,null,Ho({annotationLayer:{attrs:{},children:wt.createElement(T_,{doc:Qt,outlines:wn,page:Cr,pageIndex:_n,plugins:Ln,rotation:eo,scale:tr,onExecuteNamedAction:ur,onJumpFromLinkAnnotation:lr,onJumpToDest:sr})},canvasLayer:{attrs:{},children:wt.createElement(P_,{canvasLayerRef:Os,height:Fs,page:Cr,pageIndex:_n,plugins:Ln,rotation:eo,scale:tr,width:Is,onRenderCanvasCompleted:function(){$r.current&&ss(!0)}})},canvasLayerRendered:ls,doc:Qt,height:Fs,pageIndex:_n,rotation:eo,scale:tr,svgLayer:{attrs:{},children:wt.createElement(k_,{height:Fs,page:Cr,rotation:eo,scale:tr,width:Is})},textLayer:{attrs:{},children:wt.createElement(R_,{containerRef:Cs,page:Cr,pageIndex:_n,plugins:Ln,rotation:eo,scale:tr,onRenderTextCompleted:function(){$r.current&&ps(!0)}})},textLayerRendered:ds,width:Is,markRendered:Jr,onRotatePage:function(Ws){return Dr(_n,Ws)}}),Ln.map(function(Ws,bo){return Ws.renderPageLayer?wt.createElement(wt.Fragment,{key:bo},Ws.renderPageLayer({canvasLayerRef:Os,canvasLayerRendered:ls,doc:Qt,height:Fs,pageIndex:_n,rotation:eo,scale:tr,textLayerRef:Cs,textLayerRendered:ds,width:Is})):wt.createElement(wt.Fragment,{key:bo})})):wt.createElement(Ot,{testId:"core__page-layer-loading-".concat(_n)}))},L_=function(Wt,Qt){var bn=Qt.rect;return Wt.height!==bn.height||Wt.width!==bn.width?bn:Wt};(function(Wt){Wt.Horizontal="Horizontal",Wt.Vertical="Vertical",Wt.Both="Both"})(gr||(gr={}));var F_=function(Wt){return 1-Math.pow(1-Wt,4)},s0=1e-4,aE={left:0,top:0},lE={capture:!1,passive:!0},D_=function(Wt){var Qt=Wt.elementRef,bn=Wt.enableSmoothScroll,wn=Wt.isRtl,_n=Wt.scrollDirection,Tn=Wt.onSmoothScroll,Bn=wt.useState(aE),Ln=Bn[0],En=Bn[1],$n=wt.useState(Qt.current),Dn=$n[0],tr=$n[1],er=wn?-1:1,_i=wt.useRef(_n);_i.current=_n;var ur=wt.useRef(aE),lr=wt.useRef(!0),sr=wt.useCallback(function(){lr.current=!0,bn&&En(ur.current),Tn(!1)},[]),Jr=wt.useCallback(function(){if(Dn){switch(_i.current){case gr.Horizontal:ur.current={left:er*Dn.scrollLeft,top:0};break;case gr.Both:ur.current={left:er*Dn.scrollLeft,top:Dn.scrollTop};break;case gr.Vertical:default:ur.current={left:0,top:Dn.scrollTop}}bn&&!lr.current||En(ur.current)}},[Dn]);Mt(function(){tr(Qt.current)}),Mt(function(){if(Dn)return Dn.addEventListener("scroll",Jr,lE),function(){Dn.removeEventListener("scroll",Jr,lE)}},[Dn]);var Dr=wt.useCallback(function($r,jr){var Cr=Qt.current;if(!Cr)return Promise.resolve();var zr={left:0,top:0};switch(_i.current){case gr.Horizontal:zr.left=er*$r.left;break;case gr.Both:zr.left=er*$r.left,zr.top=$r.top;break;case gr.Vertical:default:zr.top=$r.top}return jr?(lr.current=!1,Tn(!0),new Promise(function(Br,ls){(function(ss,cs,ds,ps,Os,Cs){Os===void 0&&(Os=function(bo){return bo}),Cs===void 0&&(Cs=function(){});var Bs=0,Ls=0,Ds=!1;switch(cs){case gr.Horizontal:Ls=ss.scrollLeft,Bs=0;case gr.Both:Ls=ss.scrollLeft,Bs=ss.scrollTop;break;case gr.Vertical:default:Ls=0,Bs=ss.scrollTop}var Is=function(){Ds||(Ds=!0,ss.scrollLeft=ds.left,ss.scrollTop=ds.top,Cs())};if(Math.abs(Bs-ds.top)<=s0&&cs===gr.Vertical)Is();else if(Math.abs(Ls-ds.left)<=s0&&cs===gr.Horizontal)Is();else{var Fs,eo=-1,_a=Ls-ds.left,Ho=Bs-ds.top,Ws=function(bo){eo===-1&&(eo=bo);var $l=bo-eo,Vr=Math.min($l/ps,1),Or=Os(Vr),Tr={left:Ls-_a*Or,top:Bs-Ho*Or};switch(cs){case gr.Horizontal:ss.scrollLeft=Tr.left;break;case gr.Both:ss.scrollLeft=Tr.left,ss.scrollTop=Tr.top;break;case gr.Vertical:default:ss.scrollTop=Tr.top}Math.abs(Tr.top-ds.top)<=s0&&Math.abs(Tr.left-ds.left)<=s0&&!Ds&&(window.cancelAnimationFrame(Fs),Is()),$l<ps?Fs=window.requestAnimationFrame(Ws):window.cancelAnimationFrame(Fs)};Fs=window.requestAnimationFrame(Ws)}})(Cr,_i.current,zr,400,F_,function(){sr(),Br()})})):new Promise(function(Br,ls){switch(_i.current){case gr.Horizontal:Cr.scrollLeft=zr.left;break;case gr.Both:Cr.scrollLeft=zr.left,Cr.scrollTop=zr.top;break;case gr.Vertical:default:Cr.scrollTop=zr.top}Br()})},[Qt]);return{scrollOffset:Ln,scrollTo:Dr}},tv=function(Wt,Qt,bn){return Math.max(Wt,Math.min(bn,Qt))},I_=function(Wt,Qt){if(Qt!==_e.ViewMode.DualPageWithCover)return 0;if(!function(_n){var Tn=_n.length;if(Tn===1)return!1;for(var Bn=1;Bn<Tn;Bn++)if(_n[Bn].height!==_n[0].height||_n[Bn].width!==_n[0].width)return!0;return!1}(Wt))return 2*Wt[0].width;var bn=kn(Wt.slice(1),2).map(function(_n){return _n.length===2?_n[0].width+_n[1].width:_n[0].width}),wn=[Wt[0].width].concat(bn);return Math.max.apply(Math,wn)},$_={left:0,top:0},O_={left:0,top:0},fw={left:0,top:0},N_={left:0,top:0},B_={height:0,width:0},cE={left:0,top:0},uE="data-virtual-index",V_=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],H_=function(Wt){var Qt=Wt.enableSmoothScroll,bn=Wt.isRtl,wn=Wt.numberOfItems,_n=Wt.parentRef,Tn=Wt.setRenderRange,Bn=Wt.sizes,Ln=Wt.scrollMode,En=Wt.viewMode,$n=wt.useState(!1),Dn=$n[0],tr=$n[1],er=wt.useCallback(function(Vr){return tr(Vr)},[]),_i=wt.useRef(Ln);_i.current=Ln;var ur=wt.useRef(En);ur.current=En;var lr=Ln===_e.ScrollMode.Wrapped||En===_e.ViewMode.DualPageWithCover||En===_e.ViewMode.DualPage?gr.Both:Ln===_e.ScrollMode.Horizontal?gr.Horizontal:gr.Vertical,sr=D_({elementRef:_n,enableSmoothScroll:Qt,isRtl:bn,scrollDirection:lr,onSmoothScroll:er}),Jr=sr.scrollOffset,Dr=sr.scrollTo,$r=function(Vr){var Or=Vr.elementRef,Tr=wt.useState(Or.current),Mr=Tr[0],Pr=Tr[1],Wr=wt.useRef(!1),Kr=wt.useReducer(L_,{height:0,width:0}),Lr=Kr[0],br=Kr[1];return Mt(function(){Or.current!==Mr&&Pr(Or.current)}),Mt(function(){if(Mr&&!Wr.current){Wr.current=!0;var Zr=Mr.getBoundingClientRect(),es=Zr.height,Es=Zr.width;br({rect:{height:es,width:Es}})}},[Mr]),wt.useEffect(function(){if(Mr){var Zr=new ResizeObserver(function(es,Es){es.forEach(function(bs){if(bs.target===Mr){var Ys=bs.contentRect,So=Ys.height,Qr=Ys.width;br({rect:{height:So,width:Qr}})}})});return Zr.observe(Mr),function(){Zr.unobserve(Mr)}}},[Mr]),Lr}({elementRef:_n}),jr=wt.useRef({scrollOffset:cE,measurements:[]});jr.current.scrollOffset=Jr;var Cr=wt.useMemo(function(){return Array(wn).fill(-1)},[]),zr=wt.useState(Cr),Br=zr[0],ls=zr[1],ss=wt.useMemo(function(){var Vr=new IntersectionObserver(function(Or){Or.forEach(function(Tr){var Mr=Tr.isIntersecting?Tr.intersectionRatio:-1,Pr=Tr.target.getAttribute(uE);if(Pr){var Wr=parseInt(Pr,10);0<=Wr&&Wr<wn&&ls(function(Kr){return Kr[Wr]=Mr,function(Lr,br,Zr){for(var es,Es=0,bs=br.length;Es<bs;Es++)!es&&Es in br||(es||(es=Array.prototype.slice.call(br,0,Es)),es[Es]=br[Es]);return Lr.concat(es||Array.prototype.slice.call(br))}([],Kr)})}})},{threshold:V_});return Vr},[]),cs=wt.useMemo(function(){return Ln===_e.ScrollMode.Page&&En===_e.ViewMode.SinglePage?function(Vr,Or,Tr){for(var Mr=[],Pr=0;Pr<Vr;Pr++){var Wr={height:Math.max(Or.height,Tr[Pr].height),width:Math.max(Or.width,Tr[Pr].width)},Kr=Pr===0?N_:Mr[Pr-1].end,Lr={left:Kr.left+Wr.width,top:Kr.top+Wr.height};Mr[Pr]={index:Pr,start:Kr,size:Wr,end:Lr,visibility:-1}}return Mr}(wn,$r,Bn):En===_e.ViewMode.DualPageWithCover?function(Vr,Or,Tr,Mr){for(var Pr=[],Wr=0,Kr=0,Lr=fw,br=0;br<Vr;br++){var Zr=br===0?{height:Mr===_e.ScrollMode.Page?Math.max(Or.height,Tr[br].height):Tr[br].height,width:Mr===_e.ScrollMode.Page?Math.max(Or.width,Tr[br].width):Tr[br].width}:{height:Mr===_e.ScrollMode.Page?Math.max(Or.height,Tr[br].height):Tr[br].height,width:Math.max(Or.width/2,Tr[br].width)};Mr===_e.ScrollMode.Page?Lr=br===0?fw:{left:br%2==0?Zr.width:0,top:Math.floor((br-1)/2)*Zr.height+Pr[0].end.top}:br===0?(Lr=fw,Wr=Tr[0].height,Kr=0):br%2==1?(Lr={left:0,top:Wr+=Kr},Kr=br===Vr-1?Tr[br].height:Math.max(Tr[br].height,Tr[br+1].height)):Lr={left:Pr[br-1].end.left,top:Wr};var es={left:Lr.left+Zr.width,top:Lr.top+Zr.height};Pr[br]={index:br,start:Lr,size:Zr,end:es,visibility:-1}}return Pr}(wn,$r,Bn,Ln):En===_e.ViewMode.DualPage?function(Vr,Or,Tr,Mr){for(var Pr=[],Wr=0,Kr=0,Lr=O_,br=0;br<Vr;br++){var Zr={height:Mr===_e.ScrollMode.Page?Math.max(Or.height,Tr[br].height):Tr[br].height,width:Math.max(Or.width/2,Tr[br].width)};Mr===_e.ScrollMode.Page?Lr={left:br%2==0?0:Zr.width,top:Math.floor(br/2)*Zr.height}:br%2==0?(Lr={left:0,top:Wr+=Kr},Kr=br===Vr-1?Tr[br].height:Math.max(Tr[br].height,Tr[br+1].height)):Lr={left:Pr[br-1].end.left,top:Wr};var es={left:Lr.left+Zr.width,top:Lr.top+Zr.height};Pr[br]={index:br,start:Lr,size:Zr,end:es,visibility:-1}}return Pr}(wn,$r,Bn,Ln):function(Vr,Or,Tr,Mr){for(var Pr=[],Wr=0,Kr={left:0,top:0},Lr=0,br=$_,Zr=0;Zr<Vr;Zr++){var es=Tr[Zr];if(Zr===0)Wr=es.width,Kr={left:0,top:0},Lr=es.height;else switch(Mr){case _e.ScrollMode.Wrapped:(Wr+=es.width)<Or.width?(br={left:Pr[Zr-1].end.left,top:Kr.top},Lr=Math.max(Lr,es.height)):(Wr=es.width,Kr={left:(br={left:Kr.left,top:Kr.top+Lr}).left,top:br.top},Lr=es.height);break;case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:br=Pr[Zr-1].end}var Es={left:br.left+es.width,top:br.top+es.height};Pr[Zr]={index:Zr,start:br,size:es,end:Es,visibility:-1}}return Pr}(wn,$r,Bn,Ln)},[Ln,Bn,En,$r]),ds=cs[wn-1]?{height:cs[wn-1].end.top,width:cs[wn-1].end.left}:B_;jr.current.measurements=cs;var ps=wt.useMemo(function(){var Vr=function(Zr,es,Es,bs){var Ys=0;switch(Zr){case gr.Horizontal:Ys=bs.left;break;case gr.Vertical:default:Ys=bs.top}var So=es.length-1,Qr=function(vs,gu,Xp,a0){for(;vs<=gu;){var Gu=(vs+gu)/2|0,nv=a0(Gu);if(nv<Xp)vs=Gu+1;else{if(!(nv>Xp))return Gu;gu=Gu-1}}return vs>0?vs-1:0}(0,So,Ys,function(vs){switch(Zr){case gr.Horizontal:return es[vs].start.left;case gr.Both:case gr.Vertical:default:return es[vs].start.top}});if(Zr===gr.Both)for(var Zs=es[Qr].start.top;Qr-1>=0&&es[Qr-1].start.top===Zs&&es[Qr-1].start.left>=bs.left;)Qr--;for(var Ss=Qr;Ss<=So;){var Ts={top:es[Ss].start.top-bs.top,left:es[Ss].start.left-bs.left},js={height:Es.height-Ts.top,width:Es.width-Ts.left};if(Zr===gr.Horizontal&&js.width<0||Zr===gr.Vertical&&js.height<0||Zr===gr.Both&&(js.width<0||js.height<0))break;Ss++}return{start:Qr,end:Ss}}(lr,cs,$r,Jr),Or=Vr.start,Tr=Vr.end,Mr=Br.slice(tv(0,wn,Or),tv(0,wn,Tr)),Pr=Or+Mr.reduce(function(Zr,es,Es,bs){return es>bs[Zr]?Es:Zr},0),Wr=Pr=tv(0,wn-1,Pr),Kr=Tn({endPage:Tr,numPages:wn,startPage:Or}),Lr=Kr.startPage,br=Kr.endPage;switch(Lr=Math.max(Lr,0),br=Math.min(br,wn-1),En){case _e.ViewMode.DualPageWithCover:Pr>0&&(Wr=Pr%2==1?Pr:Pr-1),Lr=Lr===0?0:Lr%2==1?Lr:Lr-1,wn-(br=br%2==1?br-1:br)<=2&&(br=wn-1);break;case _e.ViewMode.DualPage:Wr=Pr%2==0?Pr:Pr-1,Lr=Lr%2==0?Lr:Lr-1,br=br%2==1?br:br-1;break;case _e.ViewMode.SinglePage:default:Wr=Pr}return{startPage:Lr,endPage:br,maxVisbilityIndex:Wr}},[cs,$r,Jr,En,Br]),Os=ps.startPage,Cs=ps.endPage,Bs=ps.maxVisbilityIndex,Ls=wt.useMemo(function(){for(var Vr=[],Or=function(Mr){var Pr=cs[Mr],Wr=xt(xt({},Pr),{visibility:Br[Mr]!==void 0?Br[Mr]:-1,measureRef:function(Kr){Kr&&(Kr.setAttribute(uE,"".concat(Mr)),ss.observe(Kr))}});Vr.push(Wr)},Tr=Os;Tr<=Cs;Tr++)Or(Tr);return Vr},[Os,Cs,Br,cs]),Ds=wt.useCallback(function(Vr,Or){var Tr=jr.current.measurements[tv(0,wn-1,Vr)],Mr=_i.current===_e.ScrollMode.Page?cE:Or;return Tr?Dr({left:Mr.left+Tr.start.left,top:Mr.top+Tr.start.top},Qt):Promise.resolve()},[Dr,Qt]),Is=wt.useCallback(function(Vr,Or){var Tr=jr.current.measurements,Mr=Tr[Vr].start,Pr=Tr.find(function(Kr){return Kr.start.top-Mr.top>1e-12});if(!Pr)return Promise.resolve();var Wr=Pr.index;switch(ur.current){case _e.ViewMode.DualPage:Wr=Wr%2==0?Wr:Wr+1;break;case _e.ViewMode.DualPageWithCover:Wr=Wr%2==1?Wr:Wr+1}return Ds(Wr,Or)},[]),Fs=wt.useCallback(function(Vr,Or){for(var Tr=jr.current.measurements,Mr=Tr[Vr].start,Pr=Vr,Wr=!1,Kr=wn-1;Kr>=0;Kr--)if(Mr.top-Tr[Kr].start.top>1e-12){Wr=!0,Pr=Tr[Kr].index;break}if(!Wr)return Promise.resolve();switch(ur.current){case _e.ViewMode.DualPage:Pr=Pr%2==0?Pr:Pr-1;break;case _e.ViewMode.DualPageWithCover:Pr=Pr%2==0?Pr-1:Pr}return Pr===Vr&&(Pr=Vr-1),Ds(Pr,Or)},[]),eo=wt.useCallback(function(Vr,Or){if(ur.current===_e.ViewMode.DualPageWithCover||ur.current===_e.ViewMode.DualPage)return Is(Vr,Or);switch(_i.current){case _e.ScrollMode.Wrapped:return Is(Vr,Or);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Ds(Vr+1,Or)}},[]),_a=wt.useCallback(function(Vr,Or){if(ur.current===_e.ViewMode.DualPageWithCover||ur.current===_e.ViewMode.DualPage)return Fs(Vr,Or);switch(_i.current){case _e.ScrollMode.Wrapped:return Fs(Vr,Or);case _e.ScrollMode.Horizontal:case _e.ScrollMode.Vertical:default:return Ds(Vr-1,Or)}},[]),Ho=wt.useCallback(function(){return function(Vr,Or){switch(Or){case _e.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Vr.width,"px")};case _e.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Vr.height,"px"),width:"100%"}}}(ds,_i.current)},[ds]),Ws=wt.useCallback(function(Vr){return function(Or,Tr,Mr){return Mr!==_e.ScrollMode.Page?{}:{height:"".concat(Tr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Or.start.top,"px)")}}(Vr,$r,_i.current)},[$r]),bo=wt.useCallback(function(Vr){return function(Or,Tr,Mr,Pr,Wr){var Kr,Lr,br,Zr,es,Es,bs,Ys=Tr?"right":"left",So=Tr?-1:1,Qr=Mr.length,Zs=Or.start.left*So,Ss=Or.size,Ts=Ss.height,js=Ss.width;if(Pr===_e.ViewMode.DualPageWithCover){var vs=Wr===_e.ScrollMode.Page?0:Or.start.top;return Or.index===0||Qr%2==0&&Or.index===Qr-1?((Kr={height:"".concat(Ts,"px"),minWidth:"".concat(I_(Mr,Pr),"px"),width:"100%"})[Ys]=0,Kr.position="absolute",Kr.top=0,Kr.transform="translate(".concat(Zs,"px, ").concat(vs,"px)"),Kr):((Lr={height:"".concat(Ts,"px"),width:"".concat(js,"px")})[Ys]=0,Lr.position="absolute",Lr.top=0,Lr.transform="translate(".concat(Zs,"px, ").concat(vs,"px)"),Lr)}if(Pr===_e.ViewMode.DualPage)return(br={height:"".concat(Ts,"px"),width:"".concat(js,"px")})[Ys]=0,br.position="absolute",br.top=0,br.transform="translate(".concat(Zs,"px, ").concat(Wr===_e.ScrollMode.Page?0:Or.start.top,"px)"),br;switch(Wr){case _e.ScrollMode.Horizontal:return(Zr={height:"100%",width:"".concat(js,"px")})[Ys]=0,Zr.position="absolute",Zr.top=0,Zr.transform="translateX(".concat(Zs,"px)"),Zr;case _e.ScrollMode.Page:return(es={height:"".concat(Ts,"px"),width:"".concat(js,"px")})[Ys]=0,es.position="absolute",es.top=0,es;case _e.ScrollMode.Wrapped:return(Es={height:"".concat(Ts,"px"),width:"".concat(js,"px")})[Ys]=0,Es.position="absolute",Es.top=0,Es.transform="translate(".concat(Zs,"px, ").concat(Or.start.top,"px)"),Es;case _e.ScrollMode.Vertical:default:return(bs={height:"".concat(Ts,"px"),width:"100%"})[Ys]=0,bs.position="absolute",bs.top=0,bs.transform="translateY(".concat(Or.start.top,"px)"),bs}}(Vr,bn,Bn,ur.current,_i.current)},[bn,Bn]),$l=wt.useCallback(function(Vr,Or){var Tr=jr.current,Mr=Tr.measurements,Pr=Tr.scrollOffset,Wr=Mr[tv(0,wn-1,Or)];if(Wr){var Kr=_i.current===_e.ScrollMode.Page?{left:Wr.start.left,top:Wr.start.top}:{left:Pr.left*Vr,top:Pr.top*Vr};return Dr(Kr,!1)}return Promise.resolve()},[]);return wt.useEffect(function(){return function(){ss.disconnect()}},[]),{boundingClientRect:$r,isSmoothScrolling:Dn,startPage:Os,endPage:Cs,maxVisbilityIndex:Bs,virtualItems:Ls,getContainerStyles:Ho,getItemContainerStyles:Ws,getItemStyles:bo,scrollToItem:Ds,scrollToNextItem:eo,scrollToPreviousItem:_a,zoom:$l}},pw=function(Wt,Qt,bn,wn,_n,Tn){var Bn=bn;switch(!0){case(_n===_e.ViewMode.DualPageWithCover&&Tn>=3):case(_n===_e.ViewMode.DualPage&&Tn>=3):Bn=2*bn;break;default:Bn=bn}switch(wn){case _e.SpecialZoomLevel.ActualSize:return 1;case _e.SpecialZoomLevel.PageFit:return Math.min((Wt.clientWidth-17)/Bn,(Wt.clientHeight-16)/Qt);case _e.SpecialZoomLevel.PageWidth:return(Wt.clientWidth-17)/Bn}},j_=function(Wt){var Qt,bn,wn=Wt.getCurrentPage,_n=(Qt=50,bn=wt.useRef([]),wt.useEffect(function(){return function(){bn.current=[]}},[]),{push:function($n){var Dn=bn.current;Dn.length+1>Qt&&Dn.shift(),Dn.push($n),bn.current=Dn},map:function($n){return bn.current.map(function(Dn){return $n(Dn)})},pop:function(){var $n=bn.current;if($n.length===0)return null;var Dn=$n.pop();return bn.current=$n,Dn}}),Tn=function($n){var Dn=wt.useRef([]);return wt.useEffect(function(){return function(){Dn.current=[]}},[]),{dequeue:function(){var tr=Dn.current;if(tr.length===0)return null;var er=tr.shift();return Dn.current=tr,er||null},enqueue:function(tr){var er=Dn.current;er.length+1>$n&&er.pop(),Dn.current=[tr].concat(er)},map:function(tr){return Dn.current.map(function(er){return tr(er)})}}}(50),Bn=function(){var $n=Tn.dequeue();return $n&&_n.push($n),$n&&$n.pageIndex===wn()?Bn():$n},Ln=function(){var $n=_n.pop();return $n&&Tn.enqueue($n),$n&&$n.pageIndex===wn()?Ln():$n},En=wt.useCallback(function($n){_n.push($n)},[]);return{getNextDestination:Bn,getPreviousDestination:Ln,markVisitedDestination:En}},dE=function(Wt){var Qt=[];return Wt.map(function(bn){Qt=Qt.concat(bn).concat(function(wn){var _n=[];return wn.items&&wn.items.length>0&&(_n=_n.concat(dE(wn.items))),_n}(bn))}),Qt},hE={capture:!1,passive:!0},U_={height:0,width:0},mw={height:0,width:0},z_=function(Wt){var Qt=Wt.getCurrentPage,bn=Wt.getCurrentScrollMode,wn=Wt.jumpToPage,_n=Wt.targetRef,Tn=wt.useState(_e.FullScreenMode.Normal),Bn=Tn[0],Ln=Tn[1],En=function(){var Br=wt.useState(U_),ls=Br[0],ss=Br[1],cs=Sn(function(){ss({height:window.innerHeight,width:window.innerWidth})},100);return Mt(function(){return window.addEventListener("resize",cs,hE),function(){window.removeEventListener("resize",cs,hE)}},[]),ls}(),$n=wt.useState(mw),Dn=$n[0],tr=$n[1],er=wt.useRef(mw),_i=wt.useRef(Qt()),ur=wt.useRef(mw),lr=wt.useState(_n.current),sr=lr[0],Jr=lr[1],Dr=wt.useRef();Mt(function(){_n.current!==sr&&Jr(_n.current)},[]),Mt(function(){if(sr){var Br=new ResizeObserver(function(ls){ls.forEach(function(ss){var cs=ss.target.getBoundingClientRect(),ds=cs.height,ps=cs.width;tr({height:ds,width:ps})})});return Br.observe(sr),function(){Br.unobserve(sr),Br.disconnect()}}},[sr]);var $r=wt.useCallback(function(Br){var ls=an();return ls&&ls!==Br?(Ln(_e.FullScreenMode.Normal),en(ls)):Promise.resolve()},[]),jr=wt.useCallback(function(Br){Br&&Gt()&&(Jr(Br),$r(Br).then(function(){Dr.current=Br,Ln(_e.FullScreenMode.Entering),function(ls){qt&&ls[Jt.RequestFullScreen]()}(Br)}))},[]),Cr=wt.useCallback(function(){an()&&(Ln(_e.FullScreenMode.Exitting),en(document))},[]),zr=wt.useCallback(function(){sr&&an()!==sr&&Ln(_e.FullScreenMode.Exitting)},[sr]);return wt.useEffect(function(){switch(Bn){case _e.FullScreenMode.Entering:Dr.current&&(Dr.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),_i.current=Qt(),er.current={height:window.innerHeight,width:window.innerWidth};break;case _e.FullScreenMode.Entered:bn()===_e.ScrollMode.Page?wn(_i.current).then(function(){Ln(_e.FullScreenMode.EnteredCompletely)}):Ln(_e.FullScreenMode.EnteredCompletely);break;case _e.FullScreenMode.Exitting:Dr.current&&(Dr.current.style.backgroundColor="",Dr.current=null),_i.current=Qt();break;case _e.FullScreenMode.Exited:Ln(_e.FullScreenMode.Normal),bn()===_e.ScrollMode.Page&&wn(_i.current)}},[Bn]),wt.useEffect(function(){if(Bn!==_e.FullScreenMode.Normal)return Bn===_e.FullScreenMode.Entering&&En.height===Dn.height&&En.width===Dn.width&&En.height>0&&En.width>0&&(ur.current.height===0||En.height==ur.current.height)?(ur.current={height:window.innerHeight,width:window.innerWidth},void Ln(_e.FullScreenMode.Entered)):void(Bn===_e.FullScreenMode.Exitting&&er.current.height===En.height&&er.current.width===En.width&&En.height>0&&En.width>0&&Ln(_e.FullScreenMode.Exited))},[Bn,En,Dn]),wt.useEffect(function(){var Br;return Br=zr,qt&&document.addEventListener(Jt.FullScreenChange,Br),function(){(function(ls){qt&&document.removeEventListener(Jt.FullScreenChange,ls)})(zr)}},[sr]),{enterFullScreenMode:jr,exitFullScreenMode:Cr,fullScreenMode:Bn}},W_={buildPageStyles:function(){return{}},transformSize:function(Wt){return Wt.size}},qp={left:0,top:0},G_=function(Wt){var Qt=Wt.currentFile,bn=Wt.defaultScale,wn=Wt.doc,_n=Wt.enableSmoothScroll,Tn=Wt.initialPage,Bn=Wt.initialRotation,Ln=Wt.initialScale,En=Wt.pageLayout,$n=Wt.pageSizes,Dn=Wt.plugins,tr=Wt.renderPage,er=Wt.scrollMode,_i=Wt.setRenderRange,ur=Wt.viewMode,lr=Wt.viewerState,sr=Wt.onDocumentLoad,Jr=Wt.onOpenFile,Dr=Wt.onPageChange,$r=Wt.onRotate,jr=Wt.onRotatePage,Cr=Wt.onZoom,zr=wn.numPages,Br=wn.loadingTask.docId,ls=wt.useContext(Cn).l10n,ss=wt.useContext(kt),cs=ss.direction===_e.TextDirection.RightToLeft,ds=wt.useRef(),ps=wt.useRef(),Os=wt.useState(Tn),Cs=Os[0],Bs=Os[1],Ls=wt.useRef(null),Ds=j_({getCurrentPage:function(){return Qr.current.pageIndex}}),Is=wt.useState(Bn),Fs=Is[0],eo=Is[1],_a=An(Fs),Ho=wt.useState(!1),Ws=Ho[0],bo=Ho[1],$l=wt.useState(new Map),Vr=$l[0],Or=$l[1],Tr=wt.useState(er),Mr=Tr[0],Pr=Tr[1],Wr=An(Mr),Kr=wt.useState(ur),Lr=Kr[0],br=Kr[1],Zr=An(Lr),es=function(rr){var Xr=cn(),ns=wt.useState([]),ms=ns[0],hs=ns[1];return wt.useEffect(function(){rr.getOutline().then(function(is){if(Xr.current&&is!==null){var Us=dE(is);hs(Us)}})},[]),ms}(wn),Es=wt.useState(Ln),bs=Es[0],Ys=Es[1],So=An(bs),Qr=wt.useRef(lr),Zs=wt.useRef(typeof bn=="string"?bn:null),Ss=wt.useRef(-1),Ts=wt.useRef(-1),js=wt.useRef(Tn),vs=z_({getCurrentPage:function(){return Qr.current.pageIndex},getCurrentScrollMode:function(){return Qr.current.scrollMode},jumpToPage:function(rr){return yu(rr)},targetRef:ps}),gu=wt.useState(-1),Xp=gu[0],a0=gu[1],Gu=wt.useState(0),nv=Gu[0],Q_=Gu[1],_o=nn({doc:wn});wt.useEffect(function(){return function(){ir.clear(),Nr.clear()}},[Br]);var gE=wt.useMemo(function(){return Object.assign({},W_,En)},[]),J_=wt.useMemo(function(){return Array(zr).fill(0).map(function(rr,Xr){var ns=[$n[Xr].pageHeight,$n[Xr].pageWidth],ms=Math.abs(Fs)%180==0?{height:ns[0],width:ns[1]}:{height:ns[1],width:ns[0]},hs={height:ms.height*bs,width:ms.width*bs};return gE.transformSize({numPages:zr,pageIndex:Xr,size:hs})})},[Fs,bs]),ws=H_({enableSmoothScroll:_n,isRtl:cs,numberOfItems:zr,parentRef:ps,scrollMode:Mr,setRenderRange:_i,sizes:J_,viewMode:Lr}),e1=Sn(function(){!Zs.current||Qr.current.fullScreenMode!==_e.FullScreenMode.Normal||Tn>0&&js.current===Tn||Ku(Zs.current)},200);(function(rr){var Xr=rr.targetRef,ns=rr.onResize;Mt(function(){var ms=new ResizeObserver(function(is){is.forEach(function(Us){ns(Us.target)})}),hs=Xr.current;if(hs)return ms.observe(hs),function(){ms.unobserve(hs)}},[])})({targetRef:ps,onResize:e1});var vu=function(rr){var Xr=rr;Dn.forEach(function(ns){ns.onViewerStateChange&&(Xr=ns.onViewerStateChange(Xr))}),Qr.current=Xr},t1=function(){return ps.current},n1=function(){return Qr.current},i1=wt.useCallback(function(rr){Ds.markVisitedDestination(rr)},[]),bw=wt.useCallback(function(rr){var Xr=rr.pageIndex,ns=rr.bottomOffset,ms=rr.leftOffset,hs=rr.scaleTo,is=ps.current,Us=Qr.current;return is&&Us?new Promise(function(bu,xw){fr(wn,Xr).then(function(l0){var wu=l0.getViewport({scale:1}),c0=0,_E=(typeof ns=="function"?ns(wu.width,wu.height):ns)||0,u0=(typeof ms=="function"?ms(wu.width,wu.height):ms)||0,Yp=Us.scale;switch(hs){case _e.SpecialZoomLevel.PageFit:c0=0,u0=0,Ku(_e.SpecialZoomLevel.PageFit);break;case _e.SpecialZoomLevel.PageWidth:Yp=pw(is,$n[Xr].pageHeight,$n[Xr].pageWidth,_e.SpecialZoomLevel.PageWidth,ur,zr),c0=(wu.height-_E)*Yp,u0*=Yp,Ku(Yp);break;default:c0=(wu.height-_E)*Yp,u0*=Yp}switch(Us.scrollMode){case _e.ScrollMode.Horizontal:ws.scrollToItem(Xr,{left:u0,top:0}).then(function(){bu()});break;case _e.ScrollMode.Vertical:default:ws.scrollToItem(Xr,{left:0,top:c0}).then(function(){bu()})}})}):Promise.resolve()},[]),vE=wt.useCallback(function(rr){return Ds.markVisitedDestination(rr),bw(rr)},[]),r1=wt.useCallback(function(){var rr=Ds.getNextDestination();return rr?bw(rr):Promise.resolve()},[]),s1=wt.useCallback(function(){var rr=Ds.getPreviousDestination();return rr?bw(rr):Promise.resolve()},[]),o1=wt.useCallback(function(){return ws.scrollToNextItem(Qr.current.pageIndex,qp)},[]),yu=wt.useCallback(function(rr){return 0<=rr&&rr<zr?ws.scrollToItem(rr,qp):Promise.resolve()},[]),a1=wt.useCallback(function(){return ws.scrollToPreviousItem(Qr.current.pageIndex,qp)},[]),yE=wt.useCallback(function(rr){var Xr,ns;(Xr=rr.name,ns=Xr.split(/\./).pop(),ns?ns.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(ms){var hs=new FileReader;hs.readAsArrayBuffer(rr),hs.onload=function(){var is=new Uint8Array(hs.result);ms(is)}}).then(function(ms){Jr(rr.name,ms)})},[Jr]),bE=wt.useCallback(function(rr){var Xr=rr===_e.RotateDirection.Backward?-90:90,ns=Qr.current.rotation,ms=ns===360||ns===-360?Xr:ns+Xr;_o.markNotRendered(),eo(ms),vu(xt(xt({},Qr.current),{rotation:ms})),$r({direction:rr,doc:wn,rotation:ms})},[]),ww=wt.useCallback(function(rr,Xr){var ns=Xr===_e.RotateDirection.Backward?-90:90,ms=Qr.current.pagesRotation,hs=(ms.has(rr)?ms.get(rr):Bn)+ns,is=ms.set(rr,hs);Or(is),bo(function(Us){return!Us}),vu(xt(xt({},Qr.current),{pagesRotation:is,rotatedPage:rr})),jr({direction:Xr,doc:wn,pageIndex:rr,rotation:hs}),_o.markRendering(rr),a0(rr)},[]),wE=wt.useCallback(function(rr){vu(xt(xt({},Qr.current),{scrollMode:rr})),Pr(rr)},[]),AE=wt.useCallback(function(rr){vu(xt(xt({},Qr.current),{viewMode:rr})),br(rr)},[]),Ku=wt.useCallback(function(rr){var Xr=ps.current,ns=Qr.current.pageIndex;if(!(ns<0||ns>=zr)){var ms=$n[ns].pageHeight,hs=$n[ns].pageWidth,is=Xr?typeof rr=="string"?pw(Xr,ms,hs,rr,Qr.current.viewMode,zr):rr:1;Zs.current=typeof rr=="string"?rr:null,is!==Qr.current.scale&&(Q_(function(Us){return Us+1}),_o.markNotRendered(),Ys(is),Cr({doc:wn,scale:is}),vu(xt(xt({},Qr.current),{scale:is})))}},[]),l1=wt.useCallback(function(rr){vs.enterFullScreenMode(rr)},[]),c1=wt.useCallback(function(){vs.exitFullScreenMode()},[]);wt.useEffect(function(){vu(xt(xt({},Qr.current),{fullScreenMode:vs.fullScreenMode}))},[vs.fullScreenMode]),wt.useEffect(function(){var rr={enterFullScreenMode:l1,exitFullScreenMode:c1,getPagesContainer:t1,getViewerState:n1,jumpToDestination:vE,jumpToNextDestination:r1,jumpToPreviousDestination:s1,jumpToNextPage:o1,jumpToPreviousPage:a1,jumpToPage:yu,openFile:yE,rotate:bE,rotatePage:ww,setViewerState:vu,switchScrollMode:wE,switchViewMode:AE,zoom:Ku};return Dn.forEach(function(Xr){Xr.install&&Xr.install(rr)}),function(){Dn.forEach(function(Xr){Xr.uninstall&&Xr.uninstall(rr)})}},[Br]),wt.useEffect(function(){sr({doc:wn,file:Qt}),Dn.forEach(function(rr){rr.onDocumentLoad&&rr.onDocumentLoad({doc:wn,file:Qt})})},[Br]);var Aw,Ew,Sw,EE=ws.boundingClientRect;Aw=function(){Tn&&yu(Tn)},Ew=EE.height>0&&EE.width>0,Sw=wt.useRef(!1),Mt(function(){Ew&&!Sw.current&&(Sw.current=!0,Aw())},[Aw,Ew]),Mt(function(){var rr=Qr.current.pageIndex;rr>-1&&Wr!==Mr&&ws.scrollToItem(rr,qp).then(function(){vs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(_n||_o.markNotRendered(),Ss.current=-1)})},[Mr]),Mt(function(){var rr=Qr.current.pageIndex;rr>-1&&_a!==Fs&&ws.scrollToItem(rr,qp)},[Fs]),Mt(function(){So!=0&&So!=Qr.current.scale&&ws.zoom(Qr.current.scale/So,Qr.current.pageIndex).then(function(){vs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&(Ts.current=-1)})},[bs]),Mt(function(){if(Zr!==Qr.current.viewMode){var rr=ws.startPage,Xr=ws.endPage,ns=ws.virtualItems;_o.markNotRendered(),_o.setRange(rr,Xr);for(var ms=function(is){var Us=ns.find(function(bu){return bu.index===is});Us&&_o.setVisibility(is,Us.visibility)},hs=rr;hs<=Xr;hs++)ms(hs);_w()}},[Lr]),Mt(function(){var rr=Qr.current.pageIndex;rr>-1&&Zr!==Lr&&ws.scrollToItem(rr,qp)},[Lr]),Mt(function(){var rr=Qr.current.pageIndex;rr>0&&rr===Tn&&js.current===Tn&&Zs.current&&(js.current=-1,Ku(Zs.current))},[Cs]),wt.useEffect(function(){ws.isSmoothScrolling||Ls.current!==null&&Ls.current===Cs||(Ls.current=Cs,Dr({currentPage:Cs,doc:wn}))},[Cs,ws.isSmoothScrolling]),wt.useEffect(function(){vs.fullScreenMode===_e.FullScreenMode.Entering&&Qr.current.scrollMode===_e.ScrollMode.Page&&(Ss.current=Qr.current.pageIndex),vs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&Qr.current.scrollMode===_e.ScrollMode.Page&&_n&&(Ss.current=-1),vs.fullScreenMode===_e.FullScreenMode.EnteredCompletely&&Zs.current&&(Ts.current=Qr.current.pageIndex,Ku(Zs.current))},[vs.fullScreenMode]),wt.useEffect(function(){if(vs.fullScreenMode!==_e.FullScreenMode.Entering&&vs.fullScreenMode!==_e.FullScreenMode.Exitting&&!ws.isSmoothScrolling){var rr=ws.startPage,Xr=ws.endPage,ns=ws.maxVisbilityIndex,ms=ws.virtualItems,hs=ns,is=vs.fullScreenMode===_e.FullScreenMode.Entered||vs.fullScreenMode===_e.FullScreenMode.EnteredCompletely;if(!(is&&hs!==Ss.current&&Ss.current>-1||is&&hs!==Ts.current&&Ts.current>-1)){Bs(hs),vu(xt(xt({},Qr.current),{pageIndex:hs})),_o.setRange(rr,Xr);for(var Us=function(xw){var l0=ms.find(function(wu){return wu.index===xw});l0&&_o.setVisibility(xw,l0.visibility)},bu=rr;bu<=Xr;bu++)Us(bu);_w()}}},[ws.startPage,ws.endPage,ws.isSmoothScrolling,ws.maxVisbilityIndex,vs.fullScreenMode,Ws,Fs,bs]);var u1=wt.useCallback(function(rr){_o.markRendered(rr),_w()},[nv]),_w=function(){var rr=_o.getHighestPriorityPage();rr>-1&&_o.isInRange(rr)&&(_o.markRendering(rr),a0(rr))},d1=function(rr){var Xr=Cs-1,ns=Cs+1;switch(rr){case"FirstPage":yu(0);break;case"LastPage":yu(zr-1);break;case"NextPage":ns<zr&&yu(ns);break;case"PrevPage":Xr>=0&&yu(Xr)}},h1=wt.useCallback(function(){var rr=ws.virtualItems,Xr=[];switch(Lr){case _e.ViewMode.DualPage:Xr=kn(rr,2);break;case _e.ViewMode.DualPageWithCover:rr.length&&(Xr=rr[0].index===0?[[rr[0]]].concat(kn(rr.slice(1),2)):kn(rr,2));break;case _e.ViewMode.SinglePage:default:Xr=kn(rr,1)}var ns=ls&&ls.core?ls.core.pageLabel:"Page {{pageIndex}}",ms={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:ds,style:{height:"100%"}},children:wt.createElement(wt.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:Rt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Mr===_e.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":cs,"rpv-core__inner-pages--single":Mr===_e.ScrollMode.Page,"rpv-core__inner-pages--vertical":Mr===_e.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Mr===_e.ScrollMode.Wrapped}),ref:ps,style:{height:"100%",position:"relative"}},children:wt.createElement("div",{"data-testid":"core__inner-current-page-".concat(Cs),style:Object.assign({"--scale-factor":bs},ws.getContainerStyles())},Xr.map(function(hs){return wt.createElement("div",{className:Rt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Mr===_e.ScrollMode.Page}),style:ws.getItemContainerStyles(hs[0]),key:"".concat(hs[0].index,"-").concat(Lr)},hs.map(function(is){var Us=Lr===_e.ViewMode.DualPageWithCover&&(is.index===0||zr%2==0&&is.index===zr-1);return wt.createElement("div",{"aria-label":ns.replace("{{pageIndex}}","".concat(is.index+1)),className:Rt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Lr===_e.ViewMode.DualPage&&is.index%2==0,"rpv-core__inner-page--dual-odd":Lr===_e.ViewMode.DualPage&&is.index%2==1,"rpv-core__inner-page--dual-cover":Us,"rpv-core__inner-page--dual-cover-even":Lr===_e.ViewMode.DualPageWithCover&&!Us&&is.index%2==0,"rpv-core__inner-page--dual-cover-odd":Lr===_e.ViewMode.DualPageWithCover&&!Us&&is.index%2==1,"rpv-core__inner-page--single":Lr===_e.ViewMode.SinglePage&&Mr===_e.ScrollMode.Page}),role:"region",key:"".concat(is.index,"-").concat(Lr),style:Object.assign({},ws.getItemStyles(is),gE.buildPageStyles({numPages:zr,pageIndex:is.index,scrollMode:Mr,viewMode:Lr}))},wt.createElement(M_,{doc:wn,measureRef:is.measureRef,outlines:es,pageIndex:is.index,pageRotation:Vr.has(is.index)?Vr.get(is.index):0,pageSize:$n[is.index],plugins:Dn,renderPage:tr,renderQueueKey:nv,rotation:Fs,scale:bs,shouldRender:Xp===is.index,viewMode:Lr,onExecuteNamedAction:d1,onJumpFromLinkAnnotation:i1,onJumpToDest:vE,onRenderCompleted:u1,onRotatePage:ww}))}))}))}};return Dn.forEach(function(hs){hs.renderViewer&&(ms=hs.renderViewer({containerRef:ds,doc:wn,pagesContainerRef:ps,pagesRotation:Vr,pageSizes:$n,rotation:Fs,slot:ms,themeContext:ss,jumpToPage:yu,openFile:yE,rotate:bE,rotatePage:ww,switchScrollMode:wE,switchViewMode:AE,zoom:Ku}))}),ms},[Dn,ws]),SE=wt.useCallback(function(rr){return wt.createElement("div",xt({},rr.attrs,{style:rr.attrs&&rr.attrs.style?rr.attrs.style:{}}),rr.children,rr.subSlot&&SE(rr.subSlot))},[]);return SE(h1())},fE=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],K_=function(Wt){var Qt=Wt.defaultScale,bn=Wt.doc,wn=Wt.render,_n=Wt.scrollMode,Tn=Wt.viewMode,Bn=wt.useRef(),Ln=wt.useState({pageSizes:[],scale:0}),En=Ln[0],$n=Ln[1];return wt.useLayoutEffect(function(){var Dn=Array(bn.numPages).fill(0).map(function(tr,er){return new Promise(function(_i,ur){fr(bn,er).then(function(lr){var sr=lr.getViewport({scale:1});_i({pageHeight:sr.height,pageWidth:sr.width,rotation:sr.rotation})})})});Promise.all(Dn).then(function(tr){var er=Bn.current;if(er&&tr.length!==0){var _i=tr[0].pageWidth,ur=tr[0].pageHeight,lr=er.parentElement,sr=(lr.clientWidth-45)/_i,Jr=(lr.clientHeight-45)/ur,Dr=sr;switch(_n){case _e.ScrollMode.Horizontal:Dr=Math.min(sr,Jr);break;case _e.ScrollMode.Vertical:default:Dr=sr}var $r,jr,Cr=Qt?typeof Qt=="string"?pw(lr,ur,_i,Qt,Tn,bn.numPages):Qt:($r=Dr,(jr=fE.findIndex(function(zr){return zr>=$r}))===-1||jr===0?$r:fE[jr-1]);$n({pageSizes:tr,scale:Cr})}})},[bn.loadingTask.docId]),En.pageSizes.length===0||En.scale===0?wt.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Bn},wt.createElement(Ot,null)):wn(En.pageSizes,En.scale)},o0=function(){},gw=function(Wt){function Qt(bn,wn){var _n=Wt.call(this)||this;return _n.verifyPassword=bn,_n.passwordStatus=wn,_n}return St(Qt,Wt),Qt}(o0),q_=function(Wt){var Qt=Wt.passwordStatus,bn=Wt.renderProtectedView,wn=Wt.verifyPassword,_n=Wt.onDocumentAskPassword,Tn=wt.useContext(Cn).l10n,Bn=wt.useState(""),Ln=Bn[0],En=Bn[1],$n=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,Dn=function(){return wn(Ln)};return wt.useEffect(function(){_n&&_n({verifyPassword:wn})},[]),bn?bn({passwordStatus:Qt,verifyPassword:wn}):wt.createElement("div",{className:"rpv-core__asking-password-wrapper"},wt.createElement("div",{className:Rt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":$n})},wt.createElement("div",{className:"rpv-core__asking-password-message"},Qt===_e.PasswordStatus.RequiredPassword&&Tn.core.askingPassword.requirePasswordToOpen,Qt===_e.PasswordStatus.WrongPassword&&Tn.core.wrongPassword.tryAgain),wt.createElement("div",{className:"rpv-core__asking-password-body"},wt.createElement("div",{className:Rt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!$n,"rpv-core__asking-password-input--rtl":$n})},wt.createElement(Bt,{testId:"core__asking-password-input",type:"password",value:Ln,onChange:En,onKeyDown:function(tr){tr.key==="Enter"&&Dn()}})),wt.createElement(Dt,{onClick:Dn},Tn.core.askingPassword.submit))))},pE=function(Wt){function Qt(bn){var wn=Wt.call(this)||this;return wn.doc=bn,wn}return St(Qt,Wt),Qt}(o0),mE=function(Wt){function Qt(bn){var wn=Wt.call(this)||this;return wn.error=bn,wn}return St(Qt,Wt),Qt}(o0),yw=function(Wt){function Qt(bn){var wn=Wt.call(this)||this;return wn.percentages=bn,wn}return St(Qt,Wt),Qt}(o0),X_=function(Wt){var Qt=Wt.characterMap,bn=Wt.file,wn=Wt.httpHeaders,_n=Wt.render,Tn=Wt.renderError,Bn=Wt.renderLoader,Ln=Wt.renderProtectedView,En=Wt.transformGetDocumentParams,$n=Wt.withCredentials,Dn=Wt.onDocumentAskPassword,tr=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,er=wt.useState(new yw(0)),_i=er[0],ur=er[1],lr=wt.useRef(""),sr=cn();return wt.useEffect(function(){lr.current="",ur(new yw(0));var Jr=new At.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Dr=Object.assign({httpHeaders:wn,withCredentials:$n,worker:Jr},typeof bn=="string"?{url:bn}:{data:bn},Qt?{cMapUrl:Qt.url,cMapPacked:Qt.isCompressed}:{}),$r=En?En(Dr):Dr,jr=At.getDocument($r);return jr.onPassword=function(Cr,zr){switch(zr){case At.PasswordResponses.NEED_PASSWORD:sr.current&&ur(new gw(Cr,_e.PasswordStatus.RequiredPassword));break;case At.PasswordResponses.INCORRECT_PASSWORD:sr.current&&ur(new gw(Cr,_e.PasswordStatus.WrongPassword))}},jr.onProgress=function(Cr){var zr=Cr.total>0?Math.min(100,100*Cr.loaded/Cr.total):100;sr.current&&lr.current===""&&ur(new yw(zr))},jr.promise.then(function(Cr){lr.current=Cr.loadingTask.docId,sr.current&&ur(new pE(Cr))},function(Cr){return sr.current&&!Jr.destroyed&&ur(new mE({message:Cr.message||"Cannot load document",name:Cr.name}))}),function(){jr.destroy(),Jr.destroy()}},[bn]),_i instanceof gw?wt.createElement(q_,{passwordStatus:_i.passwordStatus,renderProtectedView:Ln,verifyPassword:_i.verifyPassword,onDocumentAskPassword:Dn}):_i instanceof pE?_n(_i.doc):_i instanceof mE?Tn?Tn(_i.error):wt.createElement("div",{className:Rt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":tr})},wt.createElement("div",{className:"rpv-core__doc-error-text"},_i.error.message)):wt.createElement("div",{"data-testid":"core__doc-loading",className:Rt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":tr})},Bn?Bn(_i.percentages):wt.createElement(Ot,null))},Y_=function(Wt,Qt){var bn=wt.useMemo(function(){return Wt==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Wt},[]),wn=wt.useState(bn),_n=wn[0],Tn=wn[1],Bn=An(_n);return wt.useEffect(function(){if(Wt==="auto"){var Ln=window.matchMedia("(prefers-color-scheme: dark)"),En=function($n){Tn($n.matches?"dark":"light")};return Ln.addEventListener("change",En),function(){return Ln.removeEventListener("change",En)}}},[]),wt.useEffect(function(){_n!==Bn&&Qt&&Qt(_n)},[_n]),wt.useEffect(function(){Wt!==_n&&Tn(Wt)},[Wt]),{currentTheme:_n,setCurrentTheme:Tn}},Z_=function(Wt){return{startPage:Wt.startPage-3,endPage:Wt.endPage+3}};_e.Button=function(Wt){var Qt=Wt.children,bn=Wt.testId,wn=Wt.onClick,_n=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,Tn=bn?{"data-testid":bn}:{};return wt.createElement("button",xt({className:Rt({"rpv-core__button":!0,"rpv-core__button--rtl":_n}),type:"button",onClick:wn},Tn),Qt)},_e.Icon=$t,_e.LazyRender=function(Wt){var Qt=Wt.attrs,bn=Wt.children,wn=Wt.testId,_n=wt.useState(!1),Tn=_n[0],Bn=_n[1],Ln=wn?xt(xt({},Qt),{"data-testid":wn}):Qt,En=Ft({once:!0,onVisibilityChanged:function($n){$n.isVisible&&Bn(!0)}});return wt.createElement("div",xt({ref:En},Ln),Tn&&bn)},_e.LocalizationContext=Cn,_e.Menu=function(Wt){var Qt=Wt.children,bn=wt.useRef(),wn=wt.useRef([]),_n=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,Tn=function(Ln){if(bn.current)switch(Ln.key){case"Tab":Ln.preventDefault();break;case"ArrowDown":Ln.preventDefault(),Bn(function(En,$n){return $n+1});break;case"ArrowUp":Ln.preventDefault(),Bn(function(En,$n){return $n-1});break;case"End":Ln.preventDefault(),Bn(function(En,$n){return En.length-1});break;case"Home":Ln.preventDefault(),Bn(function(En,$n){return 0})}},Bn=function(Ln){if(bn.current){var En=wn.current,$n=En.findIndex(function(tr){return tr.getAttribute("tabindex")==="0"}),Dn=Math.min(En.length-1,Math.max(0,Ln(En,$n)));$n>=0&&$n<=En.length-1&&En[$n].setAttribute("tabindex","-1"),En[Dn].setAttribute("tabindex","0"),En[Dn].focus()}};return Mt(function(){var Ln=bn.current;if(Ln){var En=function($n){var Dn=[];return $n.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(tr){if(tr instanceof HTMLElement){var er=tr.parentElement;(er===$n||window.getComputedStyle(er).display!=="none")&&Dn.push(tr)}}),Dn}(Ln);wn.current=En}},[]),Mt(function(){return document.addEventListener("keydown",Tn),function(){document.removeEventListener("keydown",Tn)}},[]),wt.createElement("div",{ref:bn,"aria-orientation":"vertical",className:Rt({"rpv-core__menu":!0,"rpv-core__menu--rtl":_n}),role:"menu",tabIndex:0},Qt)},_e.MenuDivider=function(){return wt.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},_e.MenuItem=function(Wt){var Qt=Wt.checked,bn=Qt!==void 0&&Qt,wn=Wt.children,_n=Wt.icon,Tn=_n===void 0?null:_n,Bn=Wt.isDisabled,Ln=Bn!==void 0&&Bn,En=Wt.testId,$n=Wt.onClick,Dn=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,tr=En?{"data-testid":En}:{};return wt.createElement("button",xt({className:Rt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Ln,"rpv-core__menu-item--ltr":!Dn,"rpv-core__menu-item--rtl":Dn}),role:"menuitem",tabIndex:-1,type:"button",onClick:$n},tr),wt.createElement("div",{className:Rt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Dn,"rpv-core__menu-item-icon--rtl":Dn})},Tn),wt.createElement("div",{className:Rt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Dn,"rpv-core__menu-item-label--rtl":Dn})},wn),wt.createElement("div",{className:Rt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Dn,"rpv-core__menu-item-check--rtl":Dn})},bn&&wt.createElement(Lt,null)))},_e.MinimalButton=function(Wt){var Qt=Wt.ariaLabel,bn=Qt===void 0?"":Qt,wn=Wt.ariaKeyShortcuts,_n=wn===void 0?"":wn,Tn=Wt.children,Bn=Wt.isDisabled,Ln=Bn!==void 0&&Bn,En=Wt.isSelected,$n=En!==void 0&&En,Dn=Wt.testId,tr=Wt.onClick,er=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,_i=Dn?{"data-testid":Dn}:{};return wt.createElement("button",xt({"aria-label":bn},_n&&{"aria-keyshortcuts":_n},Ln&&{"aria-disabled":!0},{className:Rt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Ln,"rpv-core__minimal-button--rtl":er,"rpv-core__minimal-button--selected":$n}),type:"button",onClick:tr},_i),Tn)},_e.Modal=function(Wt){var Qt=Wt.ariaControlsSuffix,bn=Wt.closeOnClickOutside,wn=Wt.closeOnEscape,_n=Wt.content,Tn=Wt.isOpened,Bn=Tn!==void 0&&Tn,Ln=Wt.target,En=Qt||"".concat(Xt());return wt.createElement(Vn,{target:Ln?function($n,Dn){return wt.createElement("div",{"aria-expanded":Dn?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(En)},Ln($n,Dn))}:null,content:function($n){return wt.createElement(un,null,wt.createElement(hn,{ariaControlsSuffix:En,closeOnClickOutside:bn,closeOnEscape:wn,onToggle:$n},_n($n)))},isOpened:Bn})},_e.Popover=function(Wt){var Qt=Wt.ariaHasPopup,bn=Qt===void 0?"dialog":Qt,wn=Wt.ariaControlsSuffix,_n=Wt.closeOnClickOutside,Tn=Wt.closeOnEscape,Bn=Wt.content,Ln=Wt.lockScroll,En=Ln===void 0||Ln,$n=Wt.offset,Dn=Wt.position,tr=Wt.target,er=Pn(!1),_i=er.opened,ur=er.toggle,lr=wt.useRef(),sr=wt.useMemo(function(){return wn||"".concat(Xt())},[]);return wt.createElement("div",{ref:lr,"aria-expanded":_i?"true":"false","aria-haspopup":bn,"aria-controls":"rpv-core__popver-body-".concat(sr)},tr(ur,_i),_i&&wt.createElement(wt.Fragment,null,En&&wt.createElement(Wn,{closeOnEscape:Tn,onClose:ur}),wt.createElement(Nn,{ariaControlsSuffix:sr,closeOnClickOutside:_n,offset:$n,position:Dn,targetRef:lr,onClose:ur},Bn(ur))))},_e.PrimaryButton=Dt,_e.ProgressBar=function(Wt){var Qt=Wt.progress,bn=wt.useContext(kt).direction===_e.TextDirection.RightToLeft;return wt.createElement("div",{className:Rt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":bn})},wt.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(Qt,"%")}},Qt,"%"))},_e.Separator=function(){return wt.createElement("div",{className:"rpv-core__separator"})},_e.Spinner=Ot,_e.Splitter=function(Wt){var Qt=Wt.constrain,bn=wt.useContext(kt).direction===_e.TextDirection.RightToLeft,wn=wt.useRef(),_n=wt.useRef(),Tn=wt.useRef(),Bn=wt.useRef(0),Ln=wt.useRef(0),En=wt.useRef(0),$n=wt.useRef(0),Dn={capture:!0},tr=function(_i){var ur=wn.current,lr=_n.current,sr=Tn.current;if(ur&&lr&&sr){var Jr=$n.current,Dr=_i.clientX-Bn.current,$r=En.current+(bn?-Dr:Dr),jr=ur.parentElement.getBoundingClientRect().width,Cr=100*$r/jr;if(ur.classList.add("rpv-core__splitter--resizing"),Qt){var zr=jr-$r-Jr;if(!Qt({firstHalfPercentage:Cr,firstHalfSize:$r,secondHalfPercentage:100*zr/jr,secondHalfSize:zr}))return}lr.style.width="".concat(Cr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),lr.classList.add("rpv-core__splitter-sibling--resizing"),sr.classList.add("rpv-core__splitter-sibling--resizing")}},er=function(_i){var ur=wn.current,lr=_n.current,sr=Tn.current;ur&&lr&&sr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),ur.classList.remove("rpv-core__splitter--resizing"),lr.classList.remove("rpv-core__splitter-sibling--resizing"),sr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",tr,Dn),document.removeEventListener("mouseup",er,Dn))};return wt.useEffect(function(){var _i=wn.current;_i&&($n.current=_i.getBoundingClientRect().width,_n.current=_i.previousElementSibling,Tn.current=_i.nextElementSibling)},[]),wt.createElement("div",{ref:wn,className:"rpv-core__splitter",onMouseDown:function(_i){var ur=_n.current;ur&&(Bn.current=_i.clientX,Ln.current=_i.clientY,En.current=ur.getBoundingClientRect().width,document.addEventListener("mousemove",tr,Dn),document.addEventListener("mouseup",er,Dn))}})},_e.TextBox=Bt,_e.ThemeContext=kt,_e.Tooltip=function(Wt){var Qt=Wt.ariaControlsSuffix,bn=Wt.content,wn=Wt.offset,_n=Wt.position,Tn=Wt.target,Bn=Pn(!1),Ln=Bn.opened,En=Bn.toggle,$n=wt.useRef(),Dn=wt.useRef(),tr=wt.useMemo(function(){return Qt||"".concat(Xt())},[]);tn(function(){$n.current&&document.activeElement&&$n.current.contains(document.activeElement)&&_i()});var er=function(){En(_e.ToggleStatus.Open)},_i=function(){En(_e.ToggleStatus.Close)};return wt.createElement(wt.Fragment,null,wt.createElement("div",{ref:$n,"aria-describedby":"rpv-core__tooltip-body-".concat(tr),onBlur:function(ur){ur.relatedTarget instanceof HTMLElement&&ur.currentTarget.parentElement&&ur.currentTarget.parentElement.contains(ur.relatedTarget)?Dn.current&&(Dn.current.style.display="none"):_i()},onFocus:er,onMouseEnter:er,onMouseLeave:_i},Tn),Ln&&wt.createElement(Jn,{ariaControlsSuffix:tr,contentRef:Dn,offset:wn,position:_n,targetRef:$n},bn()))},_e.Viewer=function(Wt){var Qt=Wt.characterMap,bn=Wt.defaultScale,wn=Wt.enableSmoothScroll,_n=wn===void 0||wn,Tn=Wt.fileUrl,Bn=Wt.httpHeaders,Ln=Bn===void 0?{}:Bn,En=Wt.initialPage,$n=En===void 0?0:En,Dn=Wt.pageLayout,tr=Wt.initialRotation,er=tr===void 0?0:tr,_i=Wt.localization,ur=Wt.plugins,lr=ur===void 0?[]:ur,sr=Wt.renderError,Jr=Wt.renderLoader,Dr=Wt.renderPage,$r=Wt.renderProtectedView,jr=Wt.scrollMode,Cr=jr===void 0?_e.ScrollMode.Vertical:jr,zr=Wt.setRenderRange,Br=zr===void 0?Z_:zr,ls=Wt.transformGetDocumentParams,ss=Wt.theme,cs=ss===void 0?{direction:_e.TextDirection.LeftToRight,theme:"light"}:ss,ds=Wt.viewMode,ps=ds===void 0?_e.ViewMode.SinglePage:ds,Os=Wt.withCredentials,Cs=Os!==void 0&&Os,Bs=Wt.onDocumentAskPassword,Ls=Wt.onDocumentLoad,Ds=Ls===void 0?function(){}:Ls,Is=Wt.onPageChange,Fs=Is===void 0?function(){}:Is,eo=Wt.onRotate,_a=eo===void 0?function(){}:eo,Ho=Wt.onRotatePage,Ws=Ho===void 0?function(){}:Ho,bo=Wt.onSwitchTheme,$l=bo===void 0?function(){}:bo,Vr=Wt.onZoom,Or=Vr===void 0?function(){}:Vr,Tr=wt.useState({data:Tn,name:typeof Tn=="string"?Tn:"",shouldLoad:!1}),Mr=Tr[0],Pr=Tr[1],Wr=function(Ss,Ts){Pr({data:Ts,name:Ss,shouldLoad:!0})},Kr=wt.useState(!1),Lr=Kr[0],br=Kr[1],Zr=An(Mr);wt.useEffect(function(){var Ss,Ts,js,vs;Ss=Zr.data,vs=typeof(Ts=Tn),(js=typeof Ss)=="string"&&vs==="string"&&Ss===Ts||js==="object"&&vs==="object"&&Ss.length===Ts.length&&Ss.every(function(gu,Xp){return gu===Ts[Xp]})||Pr({data:Tn,name:typeof Tn=="string"?Tn:"",shouldLoad:Lr})},[Tn,Lr]);var es=Ft({onVisibilityChanged:function(Ss){br(Ss.isVisible),Ss.isVisible&&Pr(function(Ts){return Object.assign({},Ts,{shouldLoad:!0})})}}),Es=typeof cs=="string"?{direction:_e.TextDirection.LeftToRight,theme:cs}:cs,bs=wt.useState(_i||gn),Ys=bs[0],So=bs[1],Qr={l10n:Ys,setL10n:So},Zs=Object.assign({},{direction:Es.direction},Y_(Es.theme||"light",$l));return wt.useEffect(function(){_i&&So(_i)},[_i]),wt.createElement(Cn.Provider,{value:Qr},wt.createElement(kt.Provider,{value:Zs},wt.createElement("div",{ref:es,className:"rpv-core__viewer rpv-core__viewer--".concat(Zs.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Mr.shouldLoad&&wt.createElement(X_,{characterMap:Qt,file:Mr.data,httpHeaders:Ln,render:function(Ss){return wt.createElement(K_,{defaultScale:bn,doc:Ss,render:function(Ts,js){return wt.createElement(G_,{currentFile:{data:Mr.data,name:Mr.name},defaultScale:bn,doc:Ss,enableSmoothScroll:_n,initialPage:$n,initialRotation:er,initialScale:js,pageLayout:Dn,pageSizes:Ts,plugins:lr,renderPage:Dr,scrollMode:Cr,setRenderRange:Br,viewMode:ps,viewerState:{file:Mr,fullScreenMode:_e.FullScreenMode.Normal,pageIndex:-1,pageHeight:Ts[0].pageHeight,pageWidth:Ts[0].pageWidth,pagesRotation:new Map,rotation:er,scale:js,scrollMode:Cr,viewMode:ps},onDocumentLoad:Ds,onOpenFile:Wr,onPageChange:Fs,onRotate:_a,onRotatePage:Ws,onZoom:Or})},scrollMode:Cr,viewMode:ps})},renderError:sr,renderLoader:Jr,renderProtectedView:$r,transformGetDocumentParams:ls,withCredentials:Cs,onDocumentAskPassword:Bs}))))},_e.Worker=function(Wt){var Qt=Wt.children,bn=Wt.workerUrl;return At.GlobalWorkerOptions.workerSrc=bn,wt.createElement(wt.Fragment,null,Qt)},_e.chunk=kn,_e.classNames=Rt,_e.createStore=function(Wt){var Qt=Wt||{},bn={},wn=function(Tn,Bn){var Ln;Qt=xt(xt({},Qt),((Ln={})[Tn]=Bn,Ln)),(bn[Tn]||[]).forEach(function(En){return En(Qt[Tn])})},_n=function(Tn){return Qt[Tn]};return{subscribe:function(Tn,Bn){bn[Tn]=(bn[Tn]||[]).concat(Bn)},unsubscribe:function(Tn,Bn){bn[Tn]=(bn[Tn]||[]).filter(function(Ln){return Ln!==Bn})},update:function(Tn,Bn){wn(Tn,Bn)},updateCurrentValue:function(Tn,Bn){var Ln=_n(Tn);Ln!==void 0&&wn(Tn,Bn(Ln))},get:function(Tn){return _n(Tn)}}},_e.getDestination=_r,_e.getPage=fr,_e.isFullScreenEnabled=Gt,_e.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},_e.useDebounceCallback=Sn,_e.useIntersectionObserver=Ft,_e.useIsMounted=cn,_e.useIsomorphicLayoutEffect=Mt,_e.usePrevious=An,_e.useRenderQueue=nn})(core_min);export{AnimatePresence as A,CircleCheckBig as C,ForwardRef as F,HashRouter as H,Loader as L,MessageCircle as M,Routes as R,Swal as S,Tt as T,User as U,X,Zt as Z,__webpack_exports__GlobalWorkerOptions as _,axios as a,Send as b,ct as c,LoaderCircle as d,FileText as e,ft as f,TriangleAlert as g,LineChart as h,CircleX as i,jsxRuntimeExports as j,FaEdit as k,useLocation as l,motion as m,Route as n,client as o,pdfjs as p,React as q,reactExports as r,useNavigate as u};
